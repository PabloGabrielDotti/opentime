(self.webpackChunktimetrex=self.webpackChunktimetrex||[]).push([["post-login-app-dependancies","common-AuthorizationHistoryCommon","common-BaseTreeViewController","common-EmbeddedMessageCommon","wizard-user_generic_data_status-UserGenericStatusWindowController","awesomebox-ALayoutCache","awesomebox-ASearchInput","checkbox-TCheckbox","column_editor-ColumnEditor","datepicker-TDatePicker","datepicker-TRangePicker","error_tip-ErrorTipBox","feedback-TFeedback","inside_editor-InsideEditor","jqgrid-TGridHeader","list-TList","message_box-NoHierarchyBox","message_box-NoResultBox","message_box-SaveAndContinueBox","ribbon-RibbonSubMenuNavWidget","search_panel-SearchPanel","separated_box-SeparatedBox","tag_input-TTagInput","text-TText","textarea-TTextArea","timepicker-TTimePicker","toggle_button-TToggleButton","top_alert-TopNotification"],{4243:(e,t,i)=>{"use strict";i.r(t),i.d(t,{"ALayoutCache":()=>a});var a=function(){};a.layout_dic={},a.default_columns=null,a.getDefaultColumn=function(e){return a.default_columns||(a.default_columns=a.buildDefaultColumns()),Global.isSet(a.default_columns[e])?a.default_columns[e]:[{label:$.i18n._("Name"),value:"name"}]},a.buildDefaultColumns=function(){var e={};return e.global_client_contact=[{label:$.i18n._("First Name"),value:"first_name"},{label:$.i18n._("Last Name"),value:"last_name"},{label:$.i18n._("Status"),value:"status"}],e.global_legal_entity=[{label:$.i18n._("Name"),value:"legal_name"}],e.global_job=[{label:$.i18n._("Name"),value:"name"},{label:$.i18n._("Code"),value:"manual_id"}],e.global_job_item=[{label:$.i18n._("Name"),value:"name"},{label:$.i18n._("Code"),value:"manual_id"}],e.global_client_payment=[{label:$.i18n._("Number"),value:"display_number"},{label:$.i18n._("Type"),value:"type"}],e.global_option_column=[{label:$.i18n._("Name"),value:"label"}],e.global_absence=[{label:$.i18n._("Name"),value:"name"},{label:$.i18n._("Date"),value:"date_stamp"}],e.global_timesheet=[{label:$.i18n._("Time"),value:"punch_time"},{label:$.i18n._("In/Out"),value:"status"},{label:$.i18n._("Punch Type"),value:"type"}],e.global_user=[{label:$.i18n._("First Name"),value:"first_name"},{label:$.i18n._("Last Name"),value:"last_name"},{label:$.i18n._("Status"),value:"status"}],e.global_message_user=[{label:$.i18n._("First Name"),value:"first_name"},{label:$.i18n._("Last Name"),value:"last_name"},{label:$.i18n._("Status"),value:"status"}],e.global_user_contact=[{label:$.i18n._("First Name"),value:"first_name"},{label:$.i18n._("Last Name"),value:"last_name"}],e.global_wage=[{label:$.i18n._("First Name"),value:"first_name"},{label:$.i18n._("Last Name"),value:"last_name"},{label:$.i18n._("Type"),value:"type"},{label:$.i18n._("Wage"),value:"wage"}],e.global_log=[{label:$.i18n._("Date"),value:"date"},{label:$.i18n._("Action"),value:"action"},{label:$.i18n._("Object"),value:"object"}],e.global_bank_account=[{label:$.i18n._("First Name"),value:"first_name"},{label:$.i18n._("Last Name"),value:"last_name"},{label:$.i18n._("Account Name"),value:"account"}],e.global_tree_column=[{label:"",value:"id"},{label:$.i18n._("Name"),value:"name"}],e.global_sort_columns=[{label:$.i18n._("Column Name"),value:"label"},{label:$.i18n._("Sort"),value:"sort"}],e.global_Pay_period=[{label:$.i18n._("Start Date"),value:"start_date"},{label:$.i18n._("End Date"),value:"end_date"},{label:$.i18n._("Pay Period Schedule"),value:"pay_period_schedule"}],e.global_user_skill=[{label:$.i18n._("First Name"),value:"first_name"},{label:$.i18n._("Last Name"),value:"last_name"},{label:$.i18n._("Skill"),value:"qualification"}],e.global_user_education=[{label:$.i18n._("First Name"),value:"first_name"},{label:$.i18n._("Last Name"),value:"last_name"},{label:$.i18n._("Course"),value:"qualification"}],e.global_user_membership=[{label:$.i18n._("First Name"),value:"first_name"},{label:$.i18n._("Last Name"),value:"last_name"},{label:$.i18n._("Membership"),value:"qualification"}],e.global_user_license=[{label:$.i18n._("First Name"),value:"first_name"},{label:$.i18n._("Last Name"),value:"last_name"},{label:$.i18n._("License"),value:"qualification"}],e.global_job_applicant=[{label:$.i18n._("First Name"),value:"first_name"},{label:$.i18n._("Last Name"),value:"last_name"},{label:$.i18n._("Status"),value:"status"}],e.global_job_application=[{label:$.i18n._("Job Vacancy"),value:"job_vacancy"},{label:$.i18n._("Type"),value:"type"},{label:$.i18n._("Status"),value:"status"}],e.global_kpi=[{label:$.i18n._("Name"),value:"name"},{label:$.i18n._("Type"),value:"type"},{label:$.i18n._("Status"),value:"status"}],e.global_payroll_remittance_agency=[{label:$.i18n._("Name"),value:"name"},{label:$.i18n._("Legal Entity Name"),value:"legal_entity_legal_name"}],e.global_kpi_review_control=[{label:$.i18n._("Employee Name"),value:"user"},{label:$.i18n._("Reviewer Name"),value:"reviewer_user"},{label:$.i18n._("Start Date"),value:"start_date"},{label:$.i18n._("End Date"),value:"end_date"}],e.global_invoice=[{label:$.i18n._("Client"),value:"client"},{label:$.i18n._("Status"),value:"status"}],e.global_client=[{label:$.i18n._("Company Name"),value:"company_name"},{label:$.i18n._("Groups"),value:"group"}],e.global_transaction=[{label:$.i18n._("Client"),value:"client"},{label:$.i18n._("Status"),value:"status"}],e.global_PayStubAccount=[{label:$.i18n._("Name"),value:"name"},{label:$.i18n._("Type"),value:"type"}],e.global_simple_name=[{label:"Name",value:"name"}],e}},7040:()=>{!function(e){e.fn.ASearchInput=function(t){var i=e.extend({},e.fn.ADropDown.defaults,t),a=null,n=null,o=this,l=e.i18n._("click to search");return this.setFilter=function(t){var i=a.name;Global.isSet(t[i])&&(e(this).val(t[i]),e(this).addClass("search-input-focus-in"))},this.clearValue=function(){e(this).val(l),e(this).removeClass("search-input-focus-in"),e(this).addClass("search-input-focus-out")},this.each((function(){var t=e.meta?e.extend({},i,e(this).data()):i;t.column_model&&(a=t.column_model),e(this).addClass("search-input-focus-out"),e(this).val(l),e(this).focusin((function(){e(this).val()===l&&(e(this).val(""),e(this).addClass("search-input-focus-in"))})),e(this).focusout((function(){""===e(this).val()&&(e(this).val(l),e(this).removeClass("search-input-focus-in"))})),e(this).bind("input propertychange",(function(e){n&&clearTimeout(n),91===e.keyCode||e.ctrlKey||e.metaKey||17===e.keyCode||(n=setTimeout((function(){var e=o.val()===l?"":o.val();o.trigger("searchEnter",[e,a.name])}),500))}))})),this},e.fn.ASearchInput.defaults={}}(jQuery)},5529:()=>{!function(e){e.fn.TCheckbox=function(t){var i,a,n=e.extend({},e.fn.TCheckbox.defaults,t),o=this,l="",r=null,s=!0;return this.clearErrorStyle=function(){},this.getEnabled=function(){return s},this.setEnabled=function(e){s=e,!1===e||""===e?o.attr("disabled","true"):o.removeAttr("disabled")},this.setCheckBox=function(e){r&&(r.children().eq(0)[0].checked=e)},this.isChecked=function(){return!(!r||!0!==r.children().eq(0)[0].checked)},this.setMassEditMode=function(t){t?((r=e(' <div class="mass-edit-checkbox-wrapper checkbox-mass-edit-checkbox-wrapper"><input type="checkbox" class="mass-edit-checkbox"></input><label for="checkbox-input-1" class="input-helper input-helper--checkbox"></label></div>')).insertBefore(e(this)),r.change((function(){o.trigger("formItemChange",[o])}))):r&&(r.remove(),r=null)},this.setErrorStyle=function(t,i,a){a?e(this).addClass("warning-tip"):e(this).addClass("error-tip"),l=t,i&&this.showErrorTip()},this.showErrorTip=function(t){Global.isSet(t)||(t=2),a||(a=(a=Global.loadWidgetByName(WidgetNamesDic.ERROR_TOOLTIP)).ErrorTipBox()),a.cancelRemove(),e(this).hasClass("warning-tip")?a.show(this,l,t,!0):a.show(this,l,t)},this.hideErrorTip=function(){Global.isSet(a)&&a.remove()},this.clearErrorStyle=function(){e(this).removeClass("error-tip"),e(this).removeClass("warning-tip"),this.hideErrorTip(),l=""},this.getField=function(){return i},this.getValue=function(){return!(!this.prop("checked")&&!0!==this[0].checked)},this.setValue=function(e){!0===e?(this.prop("checked","checked"),this[0].checked=!0):(this.removeAttr("checked"),this[0].checked=!1)},this.each((function(){var t=e.meta?e.extend({},n,e(this).data()):n;i=t.field,e(this).change((function(){r&&o.setCheckBox(!0),o.trigger("formItemChange",[o])}))})),this},e.fn.TCheckbox.defaults={}}(jQuery)},9613:()=>{!function(e){e.fn.ColumnEditor=function(t){var i,a,n=e.extend({},e.fn.ColumnEditor.defaults,t),o=null,l=null,r=this,s=!1,d=null,c=null,u=null,h=[{label:e.i18n._("Default"),value:0},{label:5,value:5},{label:10,value:10},{label:15,value:15},{label:20,value:20},{label:25,value:25},{label:50,value:50},{label:100,value:100},{label:250,value:250},{label:500,value:500},{label:1e3,value:1e3}];return this.getIsMouseOver=function(){return s},this.getParentAwesomeBox=function(){return o},Global.addCss("global/widgets/column_editor/ColumnEditor.css"),this.show=function(){if(LocalCacheData.openAwesomeBoxColumnEditor){if(LocalCacheData.openAwesomeBoxColumnEditor.getParentAwesomeBox().getId()===o.getId())return void LocalCacheData.openAwesomeBoxColumnEditor.onClose();LocalCacheData.openAwesomeBoxColumnEditor.onClose()}var t=o.getLayout(),n=e(this).find(".column-editor-drop-down-div"),h=e(this).find(".rows-per-page-div");l=Global.loadWidget("global/widgets/awesomebox/ADropDown.html"),l=(l=e(l)).ADropDown({display_show_all:!1,id:"column_editor",key:"value",display_close_btn:!1,display_column_settings:!1,static_height:150,resize_grids:!0}),n.append(l),e("body").append(e(this).css("visibility","hidden")),l.setColumns([{name:"label",index:"label",label:e.i18n._("Column Name"),width:100,sortable:!1}]),l.setUnselectedGridData(o.getAllColumns()),a=o.getDisplayColumnsForEditor(),l.setSelectGridData(a),l.setResizeGrids(!0),958+e(o).offset().left+50>Global.bodyWidth()?e(this).css("left",Global.bodyWidth()-958-50):e(this).css("left",e(o).offset().left);var _=this;setTimeout((function(){e(_).height()+e(o).offset().top+50>Global.bodyHeight()?e(_).css("top",Global.bodyHeight()-e(_).height()-25):e(_).css("top",e(o).offset().top+25),e(_).css("visibility","visible")}),100),e(this).mouseenter((function(){s=!0})),e(this).mouseleave((function(e){e.target==this&&(s=!1)})),LocalCacheData.openAwesomeBoxColumnEditor=r,t&&Global.isSet(t.data.type)&&10===t.data.type?(n.css("display","none"),h.css("display","none")):(n.css("display","block"),h.css("display","block"));var f=o.getScriptName();o.getAPI().getOptions("columns",{onResult:function(e){var t=e.getResult();i=Global.buildColumnArray(t)}}),c.getUserGenericData({filter_data:{script:f,deleted:!1}},{onResult:function(i){var a=i.getResult();if(u=a,a&&a.length>0){a.sort((function(e,t){return Global.compare(e,t,"name")})),e(d).empty();var o=[];o.push({label:e.i18n._(Global.customize_item),value:-1});for(var l=a.length,r=0;r<l;r++){var s=a[r];o.push({label:s.name,value:s.id})}if(d.setSourceData(o),t&&Global.isSet(t.data.type)&&10===t.data.type)e(e(d).find("option")).filter((function(){return parseInt(e(this).attr("value"))===t.data.layout_id})).prop("selected",!0).attr("selected",!0),-1===d.getValue()&&(n.css("display","block"),h.css("display","block"))}else(o=[]).push({label:e.i18n._(Global.customize_item),value:-1}),d.setSourceData(o),n.css("display","block"),h.css("display","block")}})},this.onClose=function(){e(r).remove(),LocalCacheData.openAwesomeBoxColumnEditor=null,s=!1},this.onSave=function(){r.onClose();var t=d.getValue();if(u)if(-1!==t)for(var i=u.length,n=0;n<i;n++){var s=u[n];if(s.id===t){s.data.filter_data=Global.convertLayoutFilterToAPIFilter(s),s.data.display_columns=r.buildDisplayColumns(s.data.display_columns),o.onColumnSettingSaveFromLayout(s);break}}else e(r).find("#rows-per-page-selector").find("option:selected").each((function(){var t=e(this).attr("value"),i=l.getSelectItems();0===i.length&&(i=a),o.onColumnSettingSave(i,t,"-1")}))},this.buildDisplayColumns=function(e){for(var t=i.length,a=e.length,n=[],o=0;o<a;o++)for(var l=0;l<t;l++)e[o]===i[l].value&&n.push(i[l]);return n},this.each((function(){var t=e.meta?e.extend({},n,e(this).data()):n,i=e(this).find("#close_btn"),a=e(this).find("#save_btn");c=TTAPI.APIUserGenericData,o=t.parent_awesome_box,i.bind("click",r.onClose),a.bind("click",r.onSave);for(var l=e(this).find("#rows-per-page-selector"),s=h.length,u=0;u<s;u++){var _=h[u];e(l).append('<option value="'+_.value+'">'+_.label+"</option>")}e(e(l).find("option")).filter((function(){return e(this).attr("value")===o.getRowPerPage()})).prop("selected",!0).attr("selected",!0),d=(d=e(this).find("#layout-selector")).TComboBox();var f=e(this).find(".column-editor-drop-down-div"),b=e(this).find(".rows-per-page-div");d.bind("formItemChange",(function(e,t){-1!==t.getValue()?(f.css("display","none"),b.css("display","none")):(f.css("display","block"),b.css("display","block"))}))})),this},e.fn.ColumnEditor.defaults={}}(jQuery)},84:()=>{!function(e){e.fn.TDatePicker=function(t){var i,a,n,o,l,r,s=e.extend({},e.fn.TDatePicker.defaults,t),d=this,c="",u="date",h=null,_=!0,f=!1,b=!1;return this.getEnabled=function(){return _},this.setEnabled=function(e){_=e,!1===e||""===e?(n.addClass("t-date-picker-readonly"),o.css("display","none"),n.attr("readonly","readonly"),h&&h.hide()):(n.removeClass("t-date-picker-readonly"),o.css("display","inline"),n.removeAttr("readonly"),h&&h.show())},this.setCheckBox=function(e){h&&(h.children().eq(0)[0].checked=e)},this.isChecked=function(){return!(!h||!0!==h.children().eq(0)[0].checked)},this.setMassEditMode=function(t){t?((h=e(' <div class="mass-edit-checkbox-wrapper"><input type="checkbox" class="mass-edit-checkbox"></input><label for="checkbox-input-1" class="input-helper input-helper--checkbox"></label></div>')).insertBefore(e(this)),h.change((function(){d.trigger("formItemChange",[d])}))):h&&(h.remove(),h=null)},this.setErrorStyle=function(e,t,i){i?n.addClass("warning-tip"):n.addClass("error-tip"),c=e,t&&this.showErrorTip()},this.showErrorTip=function(e){Global.isSet(e)||(e=2),l||(l=(l=Global.loadWidgetByName(WidgetNamesDic.ERROR_TOOLTIP)).ErrorTipBox()),n.hasClass("warning-tip")?l.show(this,c,e,!0):l.show(this,c,e)},this.hideErrorTip=function(){Global.isSet(l)&&l.remove()},this.clearErrorStyle=function(){n&&(n.removeClass("error-tip"),n.removeClass("warning-tip"),this.hideErrorTip(),c="")},this.getField=function(){return i},this.getValidationField=function(){return a},this.getDefaultFormatValue=function(){var e=n?n.val():null;return e=Global.strToDate(e)&&Global.strToDate(e).format("YYYY-MM-DD")},this.setPlaceHolder=function(e){n.attr("placeholder",e)},this.getValue=function(){return r?[n.val()]:n.val()},this.setValue=function(e){n&&(e||(e=""),n.val(e),this.autoResize())},this.setDefaultWidgetValue=function(){e(this).attr("widget-value")&&this.setValue(e(this).attr("widget-value"))},this.autoResize=function(){var e,t,i;i=LocalCacheData.getLoginUserPreference()?LocalCacheData.getLoginUserPreference().date_format_display:"dd-mmm-yy",b||("date"===u?t=Global.calculateTextWidth(i):"date_time"===u&&(t=Global.calculateTextWidth(i+" "+LocalCacheData.getLoginUserPreference().time_format_display)),e=Global.calculateTextWidth(n.val(),{min_width:t,max_width:t+100,padding:28}),d.width(e+"px"))},this.each((function(){var t=e.meta?e.extend({},s,e(this).data()):s;i=t.field,t.validation_field&&(a=t.validation_field),r=t.multiple,Global.isSet(t.mode)&&(u=t.mode),o=e(this).find(".t-date-picker-icon"),n=e(this).find(".t-date-picker"),o.attr("src",Global.getRealImagePath("images/cal.png")),o.bind("mousedown",(function(e){e.stopPropagation()})),o.bind("mouseup",(function(){_&&(f?(n.datepicker("hide"),f=!1):(n.datepicker("show"),f=!0))}));var l="h:mm TT",g="dd-M-y";LocalCacheData.getLoginUserPreference()&&(g=LocalCacheData.getLoginUserPreference().date_format_1,l=LocalCacheData.getLoginUserPreference().time_format_1);var m=[e.i18n._("Sun"),e.i18n._("Mon"),e.i18n._("Tue"),e.i18n._("Wed"),e.i18n._("Thu"),e.i18n._("Fri"),e.i18n._("Sat")],p=[e.i18n._("Jan"),e.i18n._("Feb"),e.i18n._("Mar"),e.i18n._("Apr"),e.i18n._("May"),e.i18n._("Jun"),e.i18n._("Jul"),e.i18n._("Aug"),e.i18n._("Sep"),e.i18n._("Oct"),e.i18n._("Nov"),e.i18n._("Dec")],v=e.i18n._("Today"),y=e.i18n._("Close");e.datepicker._gotoToday=function(t){e(t).datepicker("setDate",new Date).datepicker("hide").change()},"date"===u?(n=n.datepicker({showOtherMonths:!0,selectOtherMonths:!0,showTime:!1,dateFormat:g,showHour:!1,showMinute:!1,changeMonth:!0,changeYear:!0,showButtonPanel:!0,duration:"",showAnim:"",yearRange:"-100:+10",showOn:"",dayNamesMin:m,currentText:v,monthNamesShort:p,closeText:y,beforeShow:function(){t.beforeShow&&t.beforeShow()},onClose:function(){f=!1,d.autoResize(),t.onClose&&t.onClose()}}),LocalCacheData.getLoginUserPreference()?d.setPlaceHolder(LocalCacheData.getLoginUserPreference().date_format_display):d.setPlaceHolder("dd-mmm-yy")):"date_time"===u&&(n=n.datetimepicker({showOtherMonths:!0,selectOtherMonths:!0,dateFormat:g,timeFormat:l,showTime:!0,showHour:!0,showMinute:!0,changeMonth:!0,changeYear:!0,showButtonPanel:!0,duration:"",showAnim:"",showOn:"",yearRange:"-100:+10",closeText:y,dayNamesMin:m,monthNamesShort:p,currentText:v,onClose:function(){f=!1,d.autoResize(),t.onClose&&t.onClose()}}),d.setPlaceHolder(LocalCacheData.loginUserPreference.date_format_display+" "+LocalCacheData.loginUserPreference.time_format_display)),n.change((function(){h&&d.setCheckBox(!0),d.trigger("formItemChange",[d]),d.autoResize()})),n.mouseover((function(){_&&c&&c.length>0&&d.showErrorTip(20)})),n.mouseout((function(){e(d).is(":focus")||d.hideErrorTip()})),n.focusin((function(e){_?c&&c.length>0&&d.showErrorTip(20):h||(LocalCacheData.current_open_sub_controller&&LocalCacheData.current_open_sub_controller.edit_view&&LocalCacheData.current_open_sub_controller.is_viewing||LocalCacheData.current_open_primary_controller&&LocalCacheData.current_open_primary_controller.edit_view&&LocalCacheData.current_open_primary_controller.is_viewing)&&(c=Global.view_mode_message,d.showErrorTip(10))})),n.focusout((function(){d.hideErrorTip()})),t.width>0?(d.width(t.width),b=!0):(d.autoResize(),b=!1),d.setDefaultWidgetValue()})),this},e.fn.TDatePicker.defaults={}}(jQuery)},9300:()=>{!function(e){e.fn.TRangePicker=function(t){var i,a,n,o,l,r,s,d,c,u,h,_,f=e.extend({},e.fn.TRangePicker.defaults,t),b=this,g="",m=null,p=!0,v=!1,y=!1,w=!1;this.getEnabled=function(){return p},this.setEnabled=function(e){p=e,!1===e||""===e?(b.attr("disabled","true"),n.addClass("t-date-picker-readonly"),o.css("display","none")):(b.removeAttr("disabled"),n.removeClass("t-date-picker-readonly"),o.css("display","inline"))},this.setCheckBox=function(e){m&&(m.children().eq(0)[0].checked=e)},this.isChecked=function(){return!(!m||!0!==m.children().eq(0)[0].checked)},this.setMassEditMode=function(t){t?((m=e(' <div class="mass-edit-checkbox-wrapper"><input type="checkbox" class="mass-edit-checkbox"></input><label for="checkbox-input-1" class="input-helper input-helper--checkbox"></label></div>')).insertBefore(e(this)),m.change((function(){b.trigger("formItemChange",[b])}))):m&&(m.remove(),m=null)},this.setErrorStyle=function(e,t,i){i?n.addClass("warning-tip"):n.addClass("error-tip"),g=e,t&&this.showErrorTip()},this.showErrorTip=function(e){Global.isSet(e)||(e=2),l||(l=(l=Global.loadWidgetByName(WidgetNamesDic.ERROR_TOOLTIP)).ErrorTipBox()),n.hasClass("warning-tip")?l.show(this,g,e,!0):l.show(this,g,e)},this.hideErrorTip=function(){Global.isSet(l)&&l.remove()},this.clearErrorStyle=function(){n.removeClass("error-tip"),n.removeClass("warning-tip"),this.hideErrorTip(),g=""},this.getField=function(){return i},this.getValidationField=function(){return a},this.getDefaultFormatValue=function(){var e=n.val();return e=Global.strToDate(e).format("YYYY-MM-DD")},this.getValue=function(){return c},this.setValue=function(t){t||(t=""),"array"!==e.type(t)?(c=[t],n.val(t),n.removeAttr("readonly")):(c=t,1==t.length?(n.val(t[0]),n.removeAttr("readonly")):(n.val(t.length+" "+e.i18n._("dates selected")),n.attr("readonly","readonly"))),this.autoResize()},this.autoResize=function(){var e,t;t=Global.calculateTextWidth(LocalCacheData.getLoginUserPreference().date_format_display),e=Global.calculateTextWidth(n.val(),{min_width:t,max_width:2*t+100,padding:28}),_.width(e+"px")},this.close=function(){if(!w){var t=h.tabs("option","active");r.remove(),v=!1,LocalCacheData.openRangerPicker=null,y=!1,0==t?(c=s.val()+" - "+d.val(),n.val(c),n.attr("readonly","readonly")):(c=u.getValue()).length>1?(n.val(c.length+" "+e.i18n._("dates selected")),n.attr("readonly","readonly")):(n.val(c[0]),n.removeAttr("readonly")),this.autoResize(),setTimeout((function(){b.trigger("formItemChange",[b])}),100)}},this.getIsMouseOver=function(){return y};var C=function(e){var t=e?e.length:0;if(this.removeAllRows(),t>0){for(var i=0;i<e.length;i++)if(Global.isSet(e[i])){var a=e[i];this.addRow(a)}}else this.addRow("")},k=function(e){var t=e[0].rowIndex-1;e.remove(),this.rows_widgets_array.splice(t,1),this.removeLastRowLine()},T=function(t){if(t||(t=""),this.rows_widgets_array.length>0&&!t){var i=this.rows_widgets_array[this.rows_widgets_array.length-1].start_date_stamp.getValue();i=i?Global.strToDate(i):new Date,t=(i=new Date(new Date(i.getTime()).setDate(i.getDate()+1))).format()}else 0!==this.rows_widgets_array.length||t||(t=(new Date).format());var a=this.getRowRender(),n=this.getRender(),o={},l=Global.loadWidgetByName(FormItemType.DATE_PICKER);l.TDatePicker({field:"start_date_stamp",beforeShow:function(){w=!0},onClose:function(){w=!1}}),e(".ranger-picker-dates-width-tr").width(l.width()+80),l.setValue(t),o[l.getField()]=l,a.children().eq(0).append(l),e(n).append(a),this.rows_widgets_array.push(o),this.addIconsEvent(a),this.removeLastRowLine()},x=function(e){for(var t=this.rows_widgets_array.length,i=[],a=0;a<t;a++){var n=this.rows_widgets_array[a];n.start_date_stamp.getValue()&&i.push(n.start_date_stamp.getValue())}return i};return this.setPlaceHolder=function(e){n.attr("placeholder",e)},this.each((function(){var t=e.meta?e.extend({},f,e(this).data()):f;_=e(this),i=t.field,t.validation_field&&(a=t.validation_field),o=e(this).find(".t-date-picker-icon"),n=e(this).find(".t-date-picker"),o.attr("src",Global.getRealImagePath("images/cal.png")),b.setPlaceHolder(LocalCacheData.loginUserPreference.date_format_display),n.change((function(){return m&&b.setCheckBox(!0),c=[n.val()],b.trigger("formItemChange",[b]),b.autoResize(),!0})),o.bind("mouseup",(function(){p&&(v?(b.close(),v=!1):(!function(){var t=(r=e(Global.loadWidget("global/widgets/datepicker/TRangePicker.html"))).find("a[ref=tab_range]"),i=r.find("a[ref=tab_date]");t.text(e.i18n._("Range")),i.text(e.i18n._("Dates")),s=r.find("#tab_range_content_div").find(".start-picker"),d=r.find("#tab_range_content_div").find(".end-picker");var a=r.find("#tab_range_content_div").find(".start-picker-label"),n=r.find("#tab_range_content_div").find(".end-picker-label");a.text(e.i18n._("Start")+":"),n.text(e.i18n._("End")+":");var o=LocalCacheData.getLoginUserPreference().date_format_1;e.datepicker._gotoToday=function(t){var i=e(t),a=this._getInst(i[0]);if(this._get(a,"gotoCurrent")&&a.currentDay)a.selectedDay=a.currentDay,a.drawMonth=a.selectedMonth=a.currentMonth,a.drawYear=a.selectedYear=a.currentYear;else{var n=new Date;a.selectedDay=n.getDate(),a.drawMonth=a.selectedMonth=n.getMonth(),a.drawYear=a.selectedYear=n.getFullYear(),this._setDateDatepicker(i,n),this._selectDate(t,this._getDateDatepicker(i)),e(i).datepicker("setDate",n)}this._notifyChange(a),this._adjustDate(i)},s.datepicker({showOtherMonths:!0,selectOtherMonths:!0,showTime:!1,dateFormat:o,showHour:!1,showMinute:!1,changeMonth:!0,changeYear:!0,showButtonPanel:!0,duration:"",showAnim:"",yearRange:"-100:+10",showOn:"",dayNamesMin:[e.i18n._("Sun"),e.i18n._("Mon"),e.i18n._("Tue"),e.i18n._("Wed"),e.i18n._("Thu"),e.i18n._("Fri"),e.i18n._("Sat")],currentText:e.i18n._("Today"),monthNamesShort:[e.i18n._("Jan"),e.i18n._("Feb"),e.i18n._("Mar"),e.i18n._("Apr"),e.i18n._("May"),e.i18n._("Jun"),e.i18n._("Jul"),e.i18n._("Aug"),e.i18n._("Sep"),e.i18n._("Oct"),e.i18n._("Nov"),e.i18n._("Dec")]}),d.datepicker({showOtherMonths:!0,selectOtherMonths:!0,showTime:!1,dateFormat:o,showHour:!1,showMinute:!1,changeMonth:!0,changeYear:!0,showButtonPanel:!0,duration:"",showAnim:"",yearRange:"-100:+10",showOn:"",dayNamesMin:[e.i18n._("Sun"),e.i18n._("Mon"),e.i18n._("Tue"),e.i18n._("Wed"),e.i18n._("Thu"),e.i18n._("Fri"),e.i18n._("Sat")],currentText:e.i18n._("Today"),monthNamesShort:[e.i18n._("Jan"),e.i18n._("Feb"),e.i18n._("Mar"),e.i18n._("Apr"),e.i18n._("May"),e.i18n._("Jun"),e.i18n._("Jul"),e.i18n._("Aug"),e.i18n._("Sep"),e.i18n._("Oct"),e.i18n._("Nov"),e.i18n._("Dec")]}),r.find(".close-icon").click((function(){b.close()}));var l=r.find("#tab_date").find(".inside-editor-div"),_={start_date_stamp:e.i18n._("Date")};u=(u=Global.loadWidgetByName(FormItemType.INSIDE_EDITOR)).InsideEditor({title:"",addRow:T,getValue:x,setValue:C,removeRow:k,parent_controller:this,render:"global/widgets/datepicker/TRangeInsideEditorRender.html",render_args:_,api:null,row_render:"global/widgets/datepicker/TRangeInsideEditorRow.html"}),l.append(u),u.setValue(),e("body").append(r),h=(h=e(r.find(".edit-view-tab-bar"))).tabs({activate:function(e,t){h&&h.is(":visible")}}),r.mouseenter((function(){y=!0})),r.mouseleave((function(){y=!1}));var f=r.width();if(f+e(b).offset().left+50>Global.bodyWidth()?r.css("left",Global.bodyWidth()-f-50):r.css("left",e(b).offset().left),e(b).offset().top+25+300<Global.bodyHeight()?r.css("top",e(b).offset().top+25):r.css("top",Global.bodyHeight()-300),LocalCacheData.openRangerPicker=b,c&&"string"==typeof c){var g=c.split(" - ");s.datepicker("setDate",g[0]),d.datepicker("setDate",g[1])}else c&&"array"===e.type(c)&&(h.tabs("option","active",1),u.setValue(c))}(),v=!0))})),n.mouseover((function(){p&&g&&g.length>0&&b.showErrorTip(20)})),n.mouseout((function(){e(b).is(":focus")||b.hideErrorTip()})),b.autoResize()})),this},e.fn.TRangePicker.defaults={}}(jQuery)},9876:()=>{!function(e){e.fn.ErrorTipBox=function(t){var i,a,n=e.extend({},e.fn.ErrorTipBox.defaults,t),o=this;return Global.addCss("global/widgets/error_tip/ErrorTipBox.css"),this.cancelRemove=function(){Global.isSet(a)&&clearTimeout(a)},this.show=function(t,n,l,r){i=t,r?e(this).addClass("warningtip-box"):e(this).removeClass("warningtip-box"),"array"===e.type(n)&&(n=n.join("<br>")),e(this).find(".errortip-label").html(n),e(this).css("left",i.offset().left+i.width()+5),i.hasClass("a-combobox"),e(this).css("top",i.offset().top),e("body").append(this),l>0&&(a=setTimeout((function(){o.remove()}),1e3*l))},this.remove=function(){e(this).remove()},this.each((function(){e.meta&&e.extend({},n,e(this).data())})),this},e.fn.ErrorTipBox.defaults={}}(jQuery)},8218:()=>{!function(e){e.fn.TFeedback=function(t){var i,a=e.extend({source:"",force_source:!1,delay:0,manual_trigger:!1,prompt_for_feedback:!1,review_link:"https://www.timetrex.com/r?id=review&product_edition_id="+Global.getProductEdition()},t),n=Global.loadWidgetByName(FormItemType.FEEDBACK_BOX),o=n.find(".top-bar-title"),l=n.find(".feedback-page"),r=n.find(".feedback-page.default"),s=n.find(".feedback-page.positive"),d=n.find(".feedback-page.negative"),c=TTAPI.APIUser,u="postitive",h="neutral",_="negative";function f(){return a.manual_trigger?"click":"popup"}function b(){0==e(".feedback-container").length?e("body").append(n):Debug.Text("ERROR: Feedback container already exists, halting to prevent duplicate popups.","TFeedback.js","TFeedback","initDefaultPage",1)}function g(){Global.isSet(n)&&n.remove()}function m(){var t=_,i=function(){var e,t,i=TTAPI.APIAuthentication.getCurrentUser({async:!1});0!=(i=i.getResult()).work_email&&""!=i.work_email?e=i.work_email:0!=i.home_email&&(e=i.home_email);0!=i.work_phone&&""!=i.work_phone?t=i.work_phone:0!=i.home_phone&&(t=i.home_phone);return{user_email:e,user_phone:t}}(),n=d.find(".feedback-messagebox"),l=d.find(".feedback-email"),r=d.find(".feedback-phone");o.html(e.i18n._("Feedback")),d.find(".page-text").html(e.i18n._("We're all ears!<br>What improvements do you think we should make?")),d.find(".contact-notice-text").html(e.i18n._("What is the best way to contact you?")),d.find(".email-label-text").html(e.i18n._("Email")),d.find(".phone-label-text").html(e.i18n._("Phone")),l.val(i.user_email),r.val(i.user_phone),d.find(".sendButton").html(e.i18n._("Send")).click((function(){var e="";n.val().length>0&&(e=n.val()+"\nEmail: "+l.val()+"\nPhone: "+r.val());Debug.Text("Feedback Analytics: Category: feedback, Action: submit, Label: submit:feedback:"+a.source+":"+t,"TFeedback.js","TFeedback","initNegativePage._sendForm",10),Global.sendAnalyticsEvent("feedback","submit","submit:feedback:"+a.source+":"+t),v(t,e,!0)})),d.find(".cancel-button").html(e.i18n._("Back")).click((function(){p("default"),Debug.Text("Feedback: Category: feedback, Action: cancel, Label: cancel:feedback:"+a.source+":"+t,"TFeedback.js","TFeedback","cancelButtonClick",10),Global.sendAnalyticsEvent("feedback","cancel","cancel:feedback:"+a.source+":"+t)}))}function p(t){switch(t){case"positive":i=u,o.html(e.i18n._("Feedback")),s.find(".page-text.block1").text(e.i18n._("It thrills us to hear you think TimeTrex is great!")),s.find(".page-text.block2").text(e.i18n._("Share your experience and WIN a tasty lunch for your team!")),s.find(".page-text.block3").text(e.i18n._("We'll select one winner each month.")),s.find(".openReviewPageButton").html(e.i18n._("Share experience")).bind("click",(function(){Debug.Text("Feedback Analytics: Category: feedback, Action: "+f()+"-Link, Label: submit:feedback:"+a.source+":"+i,"TFeedback.js","TFeedback","initPositivePage",10),Global.sendAnalyticsEvent("feedback",f()+"-link","submit:"+f()+":feedback:"+a.source+":"+i),v(i,"",!1),y(1,!0),window.open(a.review_link,"_blank","review_link")})),s.find(".cancel-button").html(e.i18n._("I'm not hungry")).click((function(){y(0,!0),Debug.Text("Feedback: Category: feedback, Action: cancel, Label: cancel:feedback:"+a.source+":"+i,"TFeedback.js","TFeedback","cancelButtonClick",10),Global.sendAnalyticsEvent("feedback","cancel","cancel:feedback:"+a.source+":"+i)})),l.hide(),s.show();break;case"negative":m(),l.hide(),d.show();break;default:!function(){if(o.html(e.i18n._("Feedback")),r.find(".page-text").text(e.i18n._("Tell us what you think about TimeTrex?")),r.find(".positive-button").html(e.i18n._("It's great!")).bind("click",(function(){p("positive"),Debug.Text("Feedback Analytics: Category: feedback, Action: "+f()+", Label: "+f()+":feedback:"+a.source+":"+u,"TFeedback.js","TFeedback","initDefaultPage",10),Global.sendAnalyticsEvent("feedback",f(),f()+":feedback:"+a.source+":"+u),v(u,"")})),r.find(".negative-button").html(e.i18n._("Not so great")).bind("click",(function(){p("negative"),Debug.Text("Feedback Analytics: Category: feedback, Action: "+f()+", Label: "+f()+":feedback:"+a.source+":"+_,"TFeedback.js","TFeedback","initDefaultPage",10),Global.sendAnalyticsEvent("feedback",f(),f()+":feedback:"+a.source+":"+_),v(_,"")})),a.manual_trigger)t=e.i18n._("Close");else var t=e.i18n._("Ask me later");r.find(".cancel-button").html(t).click((function(){g(),Debug.Text("Feedback Analytics: Category: feedback, Action: "+f()+", Label: "+f()+":feedback:"+a.source+":"+h,"TFeedback.js","TFeedback","initDefaultPage",10),Global.sendAnalyticsEvent("feedback",f(),f()+":feedback:"+a.source+":"+h),v(h,"")})),Debug.Text("Feedback Analytics: Category: feedback, Action: "+f()+", Label: "+f()+":feedback:"+a.source,"TFeedback.js","TFeedback","initDefaultPage",10),Global.sendAnalyticsEvent("feedback",f(),f()+":feedback:"+a.source)}(),l.hide(),r.show()}var i}function v(e,t,i){a.source&&(t+="\n\nFeedback source: "+a.source),c.setUserFeedbackRating(e,t,{onResult:function(e){e.isValid()&&i&&g()}})}function y(e,t){c.setUserFeedbackReview(e,{onResult:function(e){e.isValid()&&t&&g()}})}return LocalCacheData.getLoginUser()&&1==LocalCacheData.getLoginUser().prompt_for_feedback&&(a.prompt_for_feedback=!0,LocalCacheData.getLoginUser().prompt_for_feedback=!1),a.prompt_for_feedback&&(a.force_source||(a.source=LocalCacheData.current_open_view_id+"@"+a.source),p("default"),a.delay&&a.delay>0?(i=(i=a.delay)||0,Debug.Text("Setting feedback display delay to "+i,"TFeedback.js","TFeedback","initDefaultPage",10),setTimeout((function(){Debug.Text("Triggering delayed feedback display","TFeedback.js","TFeedback","initDefaultPage",10),b()}),i)):b()),this}}(jQuery)},1745:()=>{!function(e){e.fn.InsideEditor=function(t){Global.addCss("global/widgets/inside_editor/InsideEditor.css");var i,a,n=e.extend({},e.fn.InsideEditor.defaults,t),o=this;return this.rows_widgets_array=null,this.delete_ids=null,this.addRow=null,this.setValue=null,this.getValue=null,this.removeRow=null,this.updateAllRows=null,this.editor_data=null,this.onFormItemChange=null,this.parent_controller=null,this.api=null,this.setValue=function(e){e&&e.length>0?this.setValue(e):this.addRow()},this.getRender=function(){return a},this.getRowRender=function(){return i.clone()},this.clearErrorStyle=function(){},this.getField=function(){},this.setTitle=function(e){o.children().eq(0).text(e)},this.removeLastRowLine=function(){var e=this.find(".inside-editor-render"),t=e.find("tr");e.find("td").removeClass("no-line"),t.eq(t.length-1).find("td").addClass("no-line")},this.removeAllRows=function(t){var i=this.find(".inside-editor-render");i.find("tr");t?i.find("tr").each((function(){e(this).remove()})):i.find("tr.inside-editor-row").remove(),this.rows_widgets_array=[]},this.setWidgetEnableBaseOnParentController=function(e){this.parent_controller.is_viewing?e.setEnabled(!1):e.setEnabled(!0)},this.addIconsEvent=function(t){var i=t.find(".plus-icon"),n=t.find(".minus-icon");i.click((function(){o.addRow(null,e(this).parents("tr").index(),t)})),n.click((function(){o.removeRow(t),1===a.find("tr").length&&o.addRow()}))},this.getDefaultData=function(e){Global.isSet(this.api)&&this.api["get"+this.api.key_name+"DefaultData"]({onResult:function(t){var i=t.getResult();i.id=!1,i||(i=[]),o.addRow(i,e)}})},this.each((function(){var t=e.meta?e.extend({},n,e(this).data()):n;t.title&&o.setTitle(t.title),t.onFormItemChange&&(o.onFormItemChange=t.onFormItemChange),o.rows_widgets_array=[],o.delete_ids=[],o.addRow=t.addRow,o.removeRow=t.removeRow,o.getValue=t.getValue,o.setValue=t.setValue,o.parent_controller=t.parent_controller,o.api=t.api,o.updateAllRows=t.updateAllRows,a=Global.loadWidget(t.render),i=e(Global.loadWidget(t.row_render));var l=t.render_args,r=_.template(a),s=o.children().eq(1);s.append(r(l)),a=e(s.find(".inside-editor-render"))})),o.bind("formItemChange",(function(e,t){"function"==typeof o.parent_controller.setIsChanged&&o.parent_controller.setIsChanged(t)})),this},e.fn.InsideEditor.defaults={}}(jQuery)},754:()=>{!function(e){e.fn.TGridHeader=function(t){var i=e.extend({},e.fn.TGridHeader.defaults,t),a=null,n=this;return Global.addCss("global/widgets/jqgrid/TGridHeader.css"),this.getColumnModel=function(){return a},this.setSortStyle=function(t,i){var a=e("<img class='t-grid-header-sort-icon'></img>");if("asc"===t?a.attr("src",Global.getRealImagePath("images/sort_up.png")):a.attr("src",Global.getRealImagePath("images/sort_down.png")),this.append(a),i>0){var n=e("<span class='t-grid-header-sort-number'>"+i+"</span>");this.append(n)}},this.getWidth=function(){return e(this).parent().width()},this.cleanSortStyle=function(){var t=this.find("img"),i=this.find("span[class=t-grid-header-sort-number]");t.length>0&&e(t).remove(),i.length>0&&e(i).remove()},this.each((function(){var t=e.meta?e.extend({},i,e(this).data()):i;t.column_model&&(a=t.column_model),e(this).click((function(t){e(n).trigger("headerClick",[t,a])}))})),this},e.fn.TGridHeader.defaults={}}(jQuery)},802:()=>{!function(e){e.fn.TList=function(t){var i,a,n=e.extend({},e.fn.TList.defaults,t),o=this,l=null,r=null,s=!1,d=!1,c=!1,u="",h=null,_=!0;return this.getEnabled=function(){return _},this.setEnabled=function(e){_=e,!1===e||""===e?(o.attr("disabled","true"),o.addClass("t-select-readonly")):(o.removeAttr("disabled"),o.removeClass("t-select-readonly"))},this.setCheckBox=function(e){h&&(h.children().eq(0)[0].checked=e)},this.isChecked=function(){return!(!h||!0!==h.children().eq(0)[0].checked)},this.setMassEditMode=function(t){t?((h=e(' <div class="mass-edit-checkbox-wrapper"><input type="checkbox" class="mass-edit-checkbox"></input><label for="checkbox-input-1" class="input-helper input-helper--checkbox"></label></div>')).insertBefore(e(this)),h.change((function(){o.trigger("formItemChange",[o])}))):h&&(h.remove(),h=null)},this.setErrorStyle=function(t,i,a){a?e(this).addClass("warning-tip"):e(this).addClass("error-tip"),u=t,i&&this.showErrorTip()},this.showErrorTip=function(t){Global.isSet(t)||(t=2),a||(a=(a=Global.loadWidgetByName(WidgetNamesDic.ERROR_TOOLTIP)).ErrorTipBox()),e(this).hasClass("warning-tip")?a.show(this,u,t,!0):a.show(this,u,t)},this.hideErrorTip=function(){Global.isSet(a)&&a.remove()},this.clearErrorStyle=function(){e(this).removeClass("error-tip"),e(this).removeClass("warning-tip"),this.hideErrorTip(),u=""},this.getField=function(){return i},this.getValue=function(){var t=[],i=e(this).children("option:selected"),a=i.length;if(a>0)for(var n=0;n<a;n++){var o=i.eq(n);t.push(o.attr("value"))}return t},this.setValue=function(t){r=t,!l||s&&1===l.length||d&&1===l.length?c=!0:(t||(s?t="0":d&&(t="-1")),e(e(this).find("option")).removeAttr("selected"),e(e(this).find("option")).filter((function(){if(null==t)return!1;var i=!1;if("array"===e.type(t))for(var a=0;a<t.length;a++){if(t[a].toString()===e(this).attr("value")){i=!0;break}}else i=e(this).attr("value")===t.toString();return i})).prop("selected",!0).attr("selected",!0))},this.setSourceData=function(t){e(this).empty(),!Global.isSet(t)||t.length<1?s?t=Global.addFirstItemToArray(t,"empty"):d&&(t=Global.addFirstItemToArray(t,"any")):s?"0"!==t[0].value&&(t=Global.addFirstItemToArray(t,"empty")):d&&"-1"!==t[0].value&&(t=Global.addFirstItemToArray(t,"any")),l=t;for(var i=t.length,a=0;a<i;a++){var n=t[a];e(this).append('<option value="'+n.value+'">'+n.label+"</option>")}c&&this.setValue(r)},this.each((function(){var t=e.meta?e.extend({},n,e(this).data()):n;t.set_empty&&(s=t.set_empty),t.set_any&&(d=t.set_any),t.mass_edit_mode&&t.mass_edit_mode,i=t.field,e(this).change((function(){_&&(h&&o.setCheckBox(!0),o.trigger("formItemChange",[o]))})),e(this).click((function(){_||h||(LocalCacheData.current_open_sub_controller&&LocalCacheData.current_open_sub_controller.edit_view&&LocalCacheData.current_open_sub_controller.is_viewing||LocalCacheData.current_open_primary_controller&&LocalCacheData.current_open_primary_controller.edit_view&&LocalCacheData.current_open_primary_controller.is_viewing)&&(u=Global.view_mode_message,o.showErrorTip(10))})),e(this).mouseover((function(){_&&u&&u.length>0&&o.showErrorTip(20)})),e(this).mouseout((function(){o.hideErrorTip()}))})),this},e.fn.TList.defaults={}}(jQuery)},9110:()=>{!function(e){e.fn.NoHierarchyBox=function(t){var i,a=e.extend({},e.fn.NoHierarchyBox.defaults,t);return this.each((function(){var t=e.meta?e.extend({},a,e(this).data()):a;t.related_view_controller&&(i=t.related_view_controller);var n=e(this).find(".label"),o=e(this).find(".icon"),l=e(this).find(".message"),r=e(this).find(".ribbon-button");l.text(Global.no_hierarchy_message),o.attr("src",Global.getRealImagePath("css/global/widgets/ribbon/icons/"+Icons.hierarchy)),n.html(e.i18n._("Hierarchy"));i.context_menu_array.length;PermissionManager.checkTopLevelPermission("HierarchyControl")||r.addClass("disable-image"),r.bind("click",(function(){r.hasClass("disable-image")||TopMenuManager.goToView("HierarchyControl")}))})),this},e.fn.NoHierarchyBox.defaults={}}(jQuery)},4938:()=>{!function(e){e.fn.NoResultBox=function(t){Global.addCss("global/widgets/message_box/NoResultBox.css");var i,a=e.extend({},e.fn.NoResultBox.defaults,t),n=Global.no_result_message,o="";return this.each((function(){var t=e.meta?e.extend({},a,e(this).data()):a;t.related_view_controller&&(i=t.related_view_controller),t.message&&(n=t.message),o=t.iconLabel?t.iconLabel:e.i18n._("New");var l=e(this).find(".ribbon-button"),r=e(this).find(".add-div"),s=e(this).find(".label"),d=e(this).find(".icon"),c=e(this).find(".message");r.css("display","block"),t.is_new?(d.attr("src",Global.getRealImagePath("css/global/widgets/ribbon/icons/"+Icons.new_add)),s.text(o),l.bind("click",(function(){i.onAddClick()}))):t.is_edit?(d.attr("src",Global.getRealImagePath("css/global/widgets/ribbon/icons/"+Icons.edit)),s.text(e.i18n._("Edit")),l.bind("click",(function(){i.onEditClick()}))):r.css("display","none"),c.text(n)})),this},e.fn.NoResultBox.defaults={}}(jQuery)},350:()=>{!function(e){e.fn.SaveAndContinueBox=function(t){var i,a=e.extend({},e.fn.SaveAndContinueBox.defaults,t);return this.each((function(){var t=e.meta?e.extend({},a,e(this).data()):a;t.related_view_controller&&(i=t.related_view_controller);var n=e(this).find(".label"),o=e(this).find(".icon"),l=e(this).find(".message"),r=e(this).find(".ribbon-button");l.text(Global.save_and_continue_message),o.attr("src",Global.getRealImagePath("css/global/widgets/ribbon/icons/"+Icons.save_and_continue)),n.html(e.i18n._("Save<br>& Continue"));for(var s=i.context_menu_array.length,d=0;d<s;d++){var c=e(i.context_menu_array[d]);e(c.find(".ribbon-sub-menu-icon")).attr("id")===ContextMenuIconName.save_and_continue&&(c.hasClass("invisible-image")||c.hasClass("disable-image"))&&r.addClass("disable-image")}r.bind("click",(function(){r.hasClass("disable-image")||i.onSaveAndContinue()}))})),this},e.fn.SaveAndContinueBox.defaults={}}(jQuery)},3055:()=>{!function(e){e.fn.RibbonSubMenuNavWidget=function(t){var i=e.extend({},e.fn.RibbonSubMenuNavWidget.defaults,t),a=!1;return this.close=function(){this.remove(),LocalCacheData.openRibbonNaviMenu=null},this.getIsMouseOver=function(){return a},this.each((function(){e.meta&&e.extend({},i,e(this).data());e(this).mouseenter((function(){a=!0})),e(this).mouseleave((function(){a=!1}))})),this},e.fn.RibbonSubMenuNavWidget.defaults={}}(jQuery)},4057:()=>{!function(e){e.fn.SearchPanel=function(t){var i,a=e.extend({},e.fn.SearchPanel.defaults,t),n=!0,o=null,l=null,r=this,s=0,d=null,c=0,u=null,h=!0,_=!1;function f(){l.grid&&(l.setGridSize(),l.setGridColumnsWidth(),l.column_selector&&l.column_selector.setGridColumnsWidths())}return this.isAdvTabVisible=function(){return!_},this.isCollapsed=function(){return n},this.hideAdvSearchPanel=function(){e(i).find("li[aria-controls=adv_search]").remove(),_=!0},this.setSearchFlag=function(t){var i=this.find("a[href='#basic_search']"),a=this.find("a[href='#adv_search']");i.removeClass("active-label"),a.removeClass("active-label");var n=!1;for(var o in t)"country"===o&&t[o].value==TTUUID.not_exist_id||-1!==e.inArray(o,["private","template","is_attachment"])&&0==t[o].value||("hierarchy_level"!==o||1!=t[o].value&&1!=t[o].value.value)&&(n=!0);n?(e(this).find(".search-flag").remove(),0===s||_?(i.addClass("active-label"),i.html(e.i18n._("BASIC SEARCH")+"<img title='"+e.i18n._("Search is currently active")+"' src='"+Global.getRealImagePath("css/global/widgets/ribbon/icons/alert-16x16.png")+"' class='search-flag'> </img>")):(a.addClass("active-label"),a.html(e.i18n._("ADVANCED SEARCH")+"<img title='"+e.i18n._("Search is currently active")+"' src='"+Global.getRealImagePath("css/global/widgets/ribbon/icons/alert-16x16.png")+"' class='search-flag'> </img>"))):e(this).find(".search-flag").remove()},this.setSelectTabIndex=function(t,a){s!==t&&(h=!Global.isSet(a)||a,e(i).tabs("option","active",t))},this.getLastSelectTabIndex=function(){return c},this.getLastSelectTabId=function(){return u?e(u.tab).attr("ref"):"basic_search"},this.getSelectTabIndex=function(){return s},this.getLayoutsArray=function(){return o},this.setLayoutsArray=function(t){o=t;var i=e(this).find("#layout_selector"),a=e(this).find(".layout-selector-div");if(e(i).empty(),o&&o.length>0){for(var n=o.length,r=0;r<n;r++){var s=o[r];e(i).append(e('<option value="'+s.id+'"></option>').text(s.name))}e(e(i).find("option")).filter((function(){return e(this).attr("value")==l.select_layout.id})).prop("selected",!0).attr("selected",!0),e(a).css("display","block")}else e(a).css("display","none")},this.setReleatedViewController=function(e){l=e},this.each((function(){var t=e.meta?e.extend({},a,e(this).data()):a,_=e(this).find("a[href='#basic_search']"),b=e(this).find("a[href='#adv_search']"),g=e(this).find("a[href='#saved_layout']"),m=e(this).find(".current-view-label");_.html(e.i18n._("BASIC SEARCH")),b.html(e.i18n._("ADVANCED SEARCH")),g.html(e.i18n._("SAVED SEARCH & LAYOUT")),m.html(e.i18n._("Current View")+":"),i=e(this).find(".search-panel-tab-bar");var p=e(this).find("#collapseBtn"),v=e(this).find(".search-panel-tab-outside"),y=e(this).find(".search-panel-tab"),w=e(this).find("#layout_selector"),C=(Global.loadWidget("global/widgets/awesomebox/ADropDown.html"),e(this).find(".search-btn-div")),k=e(this).find("#refreshBtn");k.bind("click",(function(){k.addClass("button-rotate"),l.search(),Global.triggerAnalyticsNavigationOther("click:refresh_data","click",l.viewId)})),e(C).css("display","none");var T=e(C).find("#searchBtn"),x=e(C).find("#clearSearchBtn");function D(){n?(n=!1,e(p).removeClass("expend-btn"),e(v).removeClass("search-panel-tab-outside-collapse"),e(y).removeClass("search-panel-tab-collapse"),e(C).css("display","block")):(n=!0,e(p).addClass("expend-btn"),e(v).addClass("search-panel-tab-outside-collapse"),e(y).addClass("search-panel-tab-collapse"),e(C).css("display","none")),f()}T.text(e.i18n._("Search")),x.text(e.i18n._("Clear Search")),T.click((function(){setTimeout((function(){l.onSearch()}),100)})),x.click((function(){l.onClearSearch()})),l=t.viewController,e(w).on("change",(function(){l.layout_changed=!0;for(var t=e(w).find("option:selected").attr("value"),i=o.length,a=0;a<i;a++){var n=o[a];if(n.id==t){l.select_layout=n,l.setSelectLayout(),l.search();break}}Global.triggerAnalyticsNavigationOther("searchpanel:layout_change","click",l.viewId)})),e(i).tabs({"activate":function(e,t){c=s,u=d,s=t.newTab.index(),d=t,h?r.trigger("searchTabSelect",[e,t.newPanel]):h=!0;n&&D();f(),Global.triggerAnalyticsTabs(e,t)}}),e(i).find("li").click((function(e){n&&D()})),e(p).click(D)})),this},e.fn.SearchPanel.defaults={}}(jQuery)},7316:()=>{!function(e){e.fn.SeparatedBox=function(t){var i,a=e.extend({},e.fn.SeparatedBox.defaults,t),n="";return this.getField=function(){return i},this.setValue=function(){},this.getValue=function(){},this.setErrorStyle=function(e,t){},this.showErrorTip=function(e){},this.hideErrorTip=function(){},this.clearErrorStyle=function(){},this.each((function(){var t=e.meta?e.extend({},a,e(this).data()):a;i=t.field;var o=e(this).find(".label");n=t.label,o.text(n)})),this},e.fn.SeparatedBox.defaults={}}(jQuery)},4466:()=>{!function(e){e.fn.TTagInput=function(t){var i,a,n,o=e.extend({},e.fn.TTagInput.defaults,t),l=this,r=null,s=[],d=null,c=!0,u="",h=-1;return this.showErrorTip=function(t){Global.isSet(t)||(t=2),a||(a=(a=Global.loadWidgetByName(WidgetNamesDic.ERROR_TOOLTIP)).ErrorTipBox()),e(this).hasClass("warning-tip")?a.show(this,u,t,!0):a.show(this,u,t)},this.hideErrorTip=function(){Global.isSet(a)&&a.remove()},this.getEnabled=function(){return c},this.setEnabled=function(e){c=e,!1===e||""===e?(l.addClass("t-tag-input-readonly"),r.addClass("add-tag-input-readonly"),r.attr("disabled",!0)):(l.removeClass("t-tag-input-readonly"),r.removeClass("add-tag-input-readonly"),r.removeAttr("disabled"))},this.setCheckBox=function(e){d&&(d.children().eq(0)[0].checked=e)},this.isChecked=function(){return!(!d||!0!==d.children().eq(0)[0].checked)},this.setMassEditMode=function(t){t?((d=e(' <div class="mass-edit-checkbox-wrapper tag-mass-edit-checkbox-wrapper"><input type="checkbox" class="mass-edit-checkbox"></input><label for="checkbox-input-1" class="input-helper input-helper--checkbox"></label></div>')).insertBefore(e(this)),d.change((function(){l.trigger("formItemChange",[l])}))):d&&(d.remove(),d=null)},this.clearErrorStyle=function(){},this.getField=function(){return i},Global.addCss("global/widgets/tag_input/TTagInput.css"),this.getValue=function(){var e="";for(var t in s)s[t]&&(e=e+s[t].find(".tag-span").text()+",");return e=e.substring(0,e.length-1)},this.setValue=function(e){l.buildTagSpan(e)},this.buildTagSpan=function(t){for(var i in t||(t=""),s)s[i]&&s[i].remove();s={};var a=t.split(",");a&&1===a.length&&""===a[0]||e.each(a,(function(t,i){var a=!1;(i.indexOf("[search-deleted]")>0||0===i.indexOf("-"))&&(i=i.split("[search-deleted]")[0],a=!0);var n=e("<div class='tag-span-div'></div>"),o=e("<span  class='close-btn'>X</span>"),r=e("<span class='tag-span'></span>");a&&n.addClass("removed"),o.attr("data-value",i),r.text(i);var u=!1;o.dblclick((function(t){if(u=!0,c){var i=e(this).attr("data-value");Global.isSet(s[i])&&s[i].remove(),delete s[i],d&&l.setCheckBox(!0),l.trigger("formItemChange",[l]),setTimeout((function(){u=!1}),200)}})),o.click((function(t){setTimeout((function(){u||function(){if(!c)return;var t=e(i).attr("data-value"),a=s[t],n="";if(!a)return;0===t.indexOf("-")?(n=t.substr(1),a.removeClass("removed")):(n="-"+t,a.addClass("removed"));s[t].find(".tag-span").text(n),delete s[t],e(i).attr("data-value",n),s[n]=a,d&&l.setCheckBox(!0);l.trigger("formItemChange",[l])}()}),200);var i=this})),n.append(r),n.append(o),e(l).prepend(n),s[i]=n}))},this.createTag=function(t){var i=e("<div class='tag-span-div new'></div>"),a=e("<span class='close-btn'>X</span>"),n=e("<span class='tag-span'></span>");a.attr("data-value",t),n.text(t);var o=!1;a.dblclick((function(t){if(o=!0,c){var i=e(this).attr("data-value");Global.isSet(s[i])&&s[i].remove(),delete s[i],d&&l.setCheckBox(!0),l.trigger("formItemChange",[l]),setTimeout((function(){o=!1}),200)}})),a.click((function(t){setTimeout((function(){o||function(){if(!c)return;var t=e(i).attr("data-value"),a=s[t],n="";0===t.indexOf("-")?(n=t.substr(1),a.removeClass("removed")):(n="-"+t,a.addClass("removed"));s[t].find(".tag-span").text(n),delete s[t],e(i).attr("data-value",n),s[n]=a,l.trigger("formItemChange",[l])}()}),200);var i=this})),Global.isSet(s[a.attr("data-value")])||(i.append(n),i.append(a),i.insertBefore(r),s[t]=i)},this.each((function(){var t=e.meta?e.extend({},o,e(this).data()):o;i=t.field,t.object_type_id&&(h=t.object_type_id),r=e("<input class='add-tag-input' autocomplete='On'></input>"),n=TTAPI.APICompanyGenericTag,r.autocomplete({source:[],select:function(e,t){l.createTag(t.item.value),d&&l.setCheckBox(!0),r.autocomplete("option",{source:[]}),l.trigger("formItemChange",[l]),l.isSelectedItem=!0},close:function(e,t){l.isSelectedItem&&r.val("")}}),e(this).append(r),e(this).click((function(){r.focus(),c||d||(LocalCacheData.current_open_sub_controller&&LocalCacheData.current_open_sub_controller.edit_view&&LocalCacheData.current_open_sub_controller.is_viewing||LocalCacheData.current_open_primary_controller&&LocalCacheData.current_open_primary_controller.edit_view&&LocalCacheData.current_open_primary_controller.is_viewing)&&(u=Global.view_mode_message,l.showErrorTip(10))})),e(this).contextmenu((function(e){e.preventDefault(),e.stopImmediatePropagation()})),e(this).mouseout((function(){l.hideErrorTip()})),r.bind("focusout",(function(t){if("ui-active-menuitem"!==e(t.relatedTarget).attr("id")&&r.val().length>0){if(!c)return;l.createTag(r.val()),r.val(""),d&&l.setCheckBox(!0),l.trigger("formItemChange",[l])}})),r.bind("keyup",(function(e){if(40===e.which||38===e.which)return e.preventDefault(),!1;e.preventDefault();var t={filter_data:{}};return t.filter_data.object_type_id=[h],t.filter_data.name=r.val(),n.getCompanyGenericTag(t,{onResult:function(e){for(var t=e.getResult(),i=[],a=0;a<t.length;a++)i.push(t[a].name);r.autocomplete("option",{source:i})}}),!1})),r.bind("keydown",(function(e){return 40===e.which||38===e.which?(e.preventDefault(),!1):(13===e.which||44===e.which||32===e.which||9===e.which||188===e.which)&&r.val().length>0?(e.preventDefault(),!!c&&(l.createTag(r.val()),r.val(""),d&&l.setCheckBox(!0),l.trigger("formItemChange",[l]),!1)):void 0}))})),this},e.fn.TTagInput.defaults={}}(jQuery)},7011:()=>{!function(e){e.fn.TText=function(t){var i,a=e.extend({},e.fn.TText.defaults,t),n=this;return this.clearErrorStyle=function(){},this.setClassStyle=function(e){e&&this.css(e)},this.getField=function(){return i},this.getValue=function(){return n.text()},this.setValue=function(t){t||0===t||(t=e.i18n._("N/A")),t=Global.decodeCellValue(t),n.html(t),this.setResizeEvent()},this.setResizeEvent=function(){if(n.height("auto"),0===n.height()){var t=n.clone();e("body").append(t),n.height(t.height()),t.remove()}n.trigger("setSize")},this.each((function(){var t=e.meta?e.extend({},a,e(this).data()):a;i=t.field,t.selected_able&&e(this).addClass("t-text-selected-able")})),this},e.fn.TText.defaults={}}(jQuery)},8917:()=>{!function(e){e.fn.TTextArea=function(t){var i,a,n,o=e.extend({},e.fn.TTextArea.defaults,t),l=this,r="",s=null,d=!0,c=!1;return this.getEnabled=function(){return d},this.setEnabled=function(e){d=e,!1===e||""===e?(l.attr("readonly","true"),l.children().attr("disabled","true"),l.addClass("t-text-area-readonly")):(l.removeAttr("readonly"),l.children().removeAttr("disabled"),l.removeClass("t-text-area-readonly"))},this.setCheckBox=function(e){s&&(s.children().eq(0)[0].checked=e)},this.isChecked=function(){return!(!s||!0!==s.children().eq(0)[0].checked)},this.setMassEditMode=function(t){t?((s=e(' <div class="mass-edit-checkbox-wrapper textarea--mass-edit-checkbox-wrapper"><input type="checkbox" class="mass-edit-checkbox"></input><label for="checkbox-input-1" class="input-helper input-helper--checkbox"></label></div>')).insertBefore(e(this)),s.change((function(){l.trigger("formItemChange",[l])})),c&&n.toString().indexOf("%")>0&&l.css("width","calc("+n+" - 25px)")):s&&(s.remove(),s=null)},this.setValue=function(e){e||(e=""),l.val(e)},this.setErrorStyle=function(t,i,a){a?e(this).addClass("warning-tip"):e(this).addClass("error-tip"),r=t,i&&this.showErrorTip()},this.showErrorTip=function(t){Global.isSet(t)||(t=2),a||(a=(a=Global.loadWidgetByName(WidgetNamesDic.ERROR_TOOLTIP)).ErrorTipBox()),e(this).hasClass("warning-tip")?a.show(this,r,t,!0):a.show(this,r,t)},this.hideErrorTip=function(){Global.isSet(a)&&a.remove()},this.clearErrorStyle=function(){e(this).removeClass("error-tip"),e(this).removeClass("warning-tip"),this.hideErrorTip(),r=""},this.setField=function(e){i=e},this.getField=function(){return i},this.getValue=function(){return l.val()},this.setValue=function(e){e||(e=""),l.val(e)},this.each((function(){var t=e.meta?e.extend({},o,e(this).data()):o;i=t.field,t.width&&(t.width>0||t.width.indexOf("%")>0)&&(l.width(t.width),n=t.width,c=!0),t.height&&(t.height>0||t.height.indexOf("%")>0)&&l.height(t.height),t.rows>0?l.attr("rows",t.rows):l.attr("rows",3),t.style&&l.css(t.style),e(this).change((function(){s&&l.setCheckBox(!0),l.trigger("formItemChange",[l])})),e(this).mouseover((function(){d&&r&&r.length>0&&l.showErrorTip(20)})),e(this).mouseout((function(){e(l).is(":focus")||l.hideErrorTip()})),e(this).focusin((function(){d?r&&r.length>0&&l.showErrorTip(20):s||(LocalCacheData.current_open_sub_controller&&LocalCacheData.current_open_sub_controller.edit_view&&LocalCacheData.current_open_sub_controller.is_viewing||LocalCacheData.current_open_primary_controller&&LocalCacheData.current_open_primary_controller.edit_view&&LocalCacheData.current_open_primary_controller.is_viewing)&&(r=Global.view_mode_message,l.showErrorTip(10))})),e(this).focusout((function(){l.hideErrorTip()}))})),this},e.fn.TTextArea.defaults={}}(jQuery)},9680:()=>{!function(e){e.fn.TTimePicker=function(t){var i,a,n,o,l,r,s=e.extend({},e.fn.TTimePicker.defaults,t),d=this,c="",u=null,h=!0,_=!1,f=!1,b=15;return this.getEnabled=function(){return h},this.setEnabled=function(e){h=e,!1===e||""===e?(n.addClass("t-time-picker-readonly"),o.css("display","none"),n.attr("readonly","readonly")):(n.removeClass("t-time-picker-readonly"),o.css("display","inline"),n.removeAttr("readonly"))},this.setCheckBox=function(e){u.children().eq(0)[0].checked=e},this.isChecked=function(){return!(!u||!0!==u.children().eq(0)[0].checked)},this.setMassEditMode=function(t){t?((u=e(' <div class="mass-edit-checkbox-wrapper"><input type="checkbox" class="mass-edit-checkbox"></input><label for="checkbox-input-1" class="input-helper input-helper--checkbox"></label></div>')).insertBefore(e(this)),u.change((function(){d.trigger("formItemChange",[d])}))):u&&(u.remove(),u=null)},this.setErrorStyle=function(e,t,i){i?n.addClass("warning-tip"):n.addClass("error-tip"),c=e,t&&this.showErrorTip()},this.showErrorTip=function(e){Global.isSet(e)||(e=2),l||(l=(l=Global.loadWidgetByName(WidgetNamesDic.ERROR_TOOLTIP)).ErrorTipBox()),n.hasClass("warning-tip")?l.show(this,c,e,!0):l.show(this,c,e)},this.hideErrorTip=function(){Global.isSet(l)&&l.remove()},this.clearErrorStyle=function(){n&&(n.removeClass("error-tip"),n.removeClass("warning-tip"),this.hideErrorTip(),c="")},this.getField=function(){return i},this.getValidationField=function(){return a},this.getDefaultFormatValue=function(){var e=n.val();return e=Global.strToDate(e).format("YYYY-MM-DD")},this.setPlaceHolder=function(e){n.attr("placeholder",e)},this.getValue=function(){return n.val()},this.setValue=function(e){n&&(e||(e=""),n.val(e),this.autoResize())},this.setDefaultWidgetValue=function(){e(this).attr("widget-value")&&this.setValue(e(this).attr("widget-value"))},this.autoResize=function(){var e,t;f||(t=Global.calculateTextWidth(LocalCacheData.getLoginUserPreference().time_format_display),e=Global.calculateTextWidth(n.val(),{min_width:t,max_width:t+100,padding:28}),d.width(e+"px"))},this.each((function(){var t=e.meta?e.extend({},s,e(this).data()):s,l="h:mm TT";LocalCacheData.getLoginUserPreference()&&(l=LocalCacheData.getLoginUserPreference().time_format_1),i=t.field,t.validation_field&&(a=t.validation_field),o=e(this).find(".t-time-picker-icon"),n=e(this).find(".t-time-picker"),o.attr("src",Global.getRealImagePath("images/time.png")),o.bind("mouseup",(function(){h&&(_?(_=!1,r&&(clearTimeout(r),r=null)):(n.timepicker("show"),_=!0))})),t.stepMinute&&(b=t.stepMinute);var g=e.i18n._("Close");n=n.timepicker({showMillisec:!1,showMicrosec:!1,showTimezone:!1,showHeader:!1,timeFormat:l,showOn:"",stepMinute:b,closeText:g,showAnim:"",beforeShow:function(){t.beforeShow&&t.beforeShow()},onClose:function(){r=setTimeout((function(){_=!1,d.autoResize(),t.onClose&&t.onClose()}),100)}}),d.setPlaceHolder(LocalCacheData.loginUserPreference.time_format_display),n.off("keyup").off("keydown").off("keypress"),n.off("change").on("change",(function(e){u&&d.setCheckBox(!0),d.trigger("formItemChange",[d]),d.autoResize()})),n.mouseover((function(){h&&c&&c.length>0&&d.showErrorTip(20)})),n.mouseout((function(){e(d).is(":focus")||d.hideErrorTip()})),n.focusin((function(e){h?c&&c.length>0&&d.showErrorTip(20):u||(LocalCacheData.current_open_sub_controller&&LocalCacheData.current_open_sub_controller.edit_view&&LocalCacheData.current_open_sub_controller.is_viewing||LocalCacheData.current_open_primary_controller&&LocalCacheData.current_open_primary_controller.edit_view&&LocalCacheData.current_open_primary_controller.is_viewing)&&(c=Global.view_mode_message,d.showErrorTip(10))})),n.focusout((function(){d.hideErrorTip()})),t.width>0?(d.width(t.width),f=!0):(d.autoResize(),f=!1),d.setDefaultWidgetValue()})),this},e.fn.TTimePicker.defaults={}}(jQuery)},5110:()=>{!function(e){e.fn.TToggleButton=function(t){Global.addCss("global/widgets/toggle_button/ToggleButton.css");var i,a=e.extend({},e.fn.TToggleButton.defaults,t),n=[],o=this,l={};return this.getValue=function(){return i?i.val():null},this.setValue=function(e){i&&i.removeClass("selected"),(i=l[e])&&i.addClass("selected")},this.each((function(){var t=e.meta?e.extend({},a,e(this).data()):a;n=t.data_provider,l={};for(var i=n.length,r=0;r<i;r++){var s=n[r],d=e("<button></button>");0===r?d.addClass("toggle-button first"):r===i-1?d.addClass("toggle-button last"):0===r&&r===i-1?d.addClass("toggle-button first-last"):d.addClass("toggle-button middle"),l[s.value]=d,d.val(s.value),d.text(s.label),d.click((function(){o.setValue(e(this).val()),o.trigger("change",[o.getValue()])})),o.append(d)}})),this},e.fn.TToggleButton.defaults={}}(jQuery)},2417:()=>{!function(e){e.fn.TopNotification=function(t){var i,a,n,o,l=e.extend({},e.fn.TopNotification.defaults,t),r=this,s=!1,d=function(){for(var e=a.children().eq(0).children(),t=e.length,i=0,n=0;n<t;n++){var o=e.eq(n).children().eq(0),l=!1;o.is(":visible")||(o.parent().show(),l=!0),o.width()>i&&(i=o.width()),l&&o.parent().hide()}a.width(i+25)},c=function(e,t){setTimeout((function(){h(e),f()}),1e3*t)},u=function(e){e.children().eq(1).unbind("click").bind("click",(function(t){h(e),f()}))},h=function(e){e.remove();var t=a.children().eq(0).children();s&&t.length>0&&t.eq(0).show(),t.length<1&&r.remove(),d()},_=function(e,t){e.css("cursor","pointer"),e.unbind("click").bind("click",(function(){t.destination?void 0!==t.destination.indexOf&&(t.destination.indexOf("http://")>-1||t.destination.indexOf("https://")>-1)?window.open(t.destination,"_blank"):t.destination.hasOwnProperty("menu_name")&&IndexViewController.goToViewByViewLabel(t.destination.menu_name):h(e),h(e),IndexViewController.setNotificationBar("notification")}))},f=function(){function e(e){var t=n.children().length;s=e;for(var i=1;i<t;i++)e?n.children().eq(i).hide():n.children().eq(i).show()}n.children().length>1?(o.show(),o.parent().height(15)):(o.hide(),o.parent().height(0)),o.unbind("click").bind("click",(function(){o.parent().find(".down-btn").length>0?(o.attr("class","bottom-btn up-btn"),e(!1)):(o.attr("class","bottom-btn down-btn"),e(!0))}))};return this.show=function(t){if(this.remove(),i=t,a&&(a.width("100%"),o.attr("class","bottom-btn up-btn"),i&&i.length>0)){for(var n=0;n<i.length;n++){var l=i[n],r=e(Global.loadWidget("global/widgets/top_alert/NotificationRow.html"));r.children().eq(0).text(l.message),r.css("backgroundColor",l.bg_color),u(r),-1===l.delay?r.children().eq(1).hide():l.delay>0&&c(r,l.delay),(l.destination||-1!=l.delay)&&_(r,l),a.children().eq(0).append(r)}e("body").append(a),f(),d()}},this.remove=function(){a&&(a.remove(),a.children().eq(0).empty())},this.each((function(){e.meta&&e.extend({},l,e(this).data());a=e(this),n=a.children().eq(0),o=a.find(".bottom-btn")})),this},e.fn.TopNotification.defaults={}}(jQuery)},2530:(e,t,i)=>{"use strict";i.r(t);var a=i(2437),n=i(2833),o=i(3625),l=i(1803),r=i(1866),s=(i(1745),i(9876),i(8218),i(5110),i(8287),i(2417),i(3055),i(4057),i(3751));class d extends s.X{constructor(e={}){_.defaults(e,{label:null,field:null,api_class:null,layout_name:"",multiple:!0,optionName:"",form_item_type:"",in_column:1,basic_search:!1,adv_search:!1,tree_mode:!1,data_provider:null,script_name:"",addition_source_function:null,set_any:!0,object_type_id:-1,customSearchFilter:null,custom_first_label:null,default_args:null}),super(e)}}i(2303),i(3234),i(2897),i(7040),i(9613),i(350),i(9110),i(4938),i(7316);var c=i(7867),u=i(5533),h=i(2343),f=i(7664),b=i(1838),g=i(1706);i(4466),i(84),i(9680),i(9300),i(8917),i(7011),i(802),i(5529),i(754),i(2185);window.RibbonMenu=a.o,window.RibbonSubMenu=n.C,window.RibbonSubMenuType=n._,window.RibbonSubMenuGroup=o.H,window.RibbonSubMenuNavItem=l.r,window.ContextMenuIconName=r.t,window.Icons=r.P,window.SearchField=d,window.ReportBaseViewController=c.ReportBaseViewController,window.AuthorizationHistory=u.AuthorizationHistory,window.RequestViewCommonController=h.RequestViewCommonController,window.EmbeddedMessage=f.EmbeddedMessage,window.BaseTreeViewController=b.BaseTreeViewController,window.UserGenericStatusWindowController=g.UserGenericStatusWindowController,LocalCacheData.loadViewRequiredJSReady=!0},5533:(e,t,i)=>{"use strict";i.r(t),i.d(t,{"AuthorizationHistory":()=>a});var a={authorization_api:null,authorization_history_columns:[],authorization_history_default_display_columns:[],host_view_controller:null,init:function(e){if($(".authorization-grid-div").hide(),!e.is_add){var t=$(".authorization-grid-div .grid-title");t.html("");var i=Global.loadWidgetByName(FormItemType.SEPARATED_BOX);i.SeparatedBox({label:$.i18n._("Authorization History")}),i.attr("id","authorization_history"),e.addEditFieldToColumn(null,i,t),this.host_view_controller=e,this.authorization_api=TTAPI.APIAuthorization;var a=this;return this.getAuthorizationHistoryColumns((function(){a.initAuthorizationHistoryLayout((function(){a.setAuthorizationGridSize()}))})),a}},initAuthorizationHistoryLayout:function(e){var t=this;this.getAuthorizationHistoryDefaultDisplayColumns((function(){t.host_view_controller.edit_view&&(t.setAuthorizationHistorySelectLayout(),t.initAuthorizationHistoryData(),e&&e())}))},initAuthorizationHistoryData:function(e){var t={filter_data:{},filter_columns:{"created_by":!0,"created_date":!0,"authorized":!0}};t.filter_data.object_id=[this.host_view_controller.current_edit_record.id],t.filter_data.object_type_id=this.host_view_controller.hierarchy_type_id?this.host_view_controller.hierarchy_type_id:this.host_view_controller.current_edit_record.hierarchy_type_id;var i=this;this.authorization_api["get"+this.authorization_api.key_name](t,{onResult:function(e){if(i.host_view_controller.edit_view){var t=e.getResult();e.isValid()&&Global.isArray(t)&&t.length>=1?(t=Global.formatGridData(t,i.authorization_api.key_name),i.authorization_history_grid.setData(t),$(i.host_view_controller.edit_view.find(".authorization-grid-div")).show(),i.showAuthorizationHistoryGridBorders(),i.setAuthorizationGridSize()):$(i.host_view_controller.edit_view.find(".authorization-grid-div")).hide()}}})},setAuthorizationGridSize:function(){var e;this.authorization_history_grid&&this.authorization_history_grid.grid.is(":visible")&&((e=this.authorization_history_grid.getData().length)>5&&(e=5),this.authorization_history_grid.grid.setGridWidth($(this.host_view_controller.edit_view.find("#authorization_history")).width()),this.authorization_history_grid.grid.setGridHeight(25*e))},buildAuthorizationDisplayColumns:function(e){for(var t=this.authorization_history_columns.length,i=e.length,a=[],n=0;n<i;n++)for(var o=0;o<t;o++)e[n]===this.authorization_history_columns[o].value&&a.push(this.authorization_history_columns[o]);return a},showAuthorizationHistoryGridBorders:function(){var e=this.host_view_controller.edit_view.find(".grid-top-border"),t=this.host_view_controller.edit_view.find(".grid-bottom-border");e.css("display","block"),t.css("display","block")},getAuthorizationHistoryDefaultDisplayColumns:function(e){var t=this;this.authorization_api.getOptions("default_display_columns",{onResult:function(i){var a=i.getResult();t.authorization_history_default_display_columns=a,e&&e()}})},getAuthorizationHistoryColumns:function(e){var t=this;this.authorization_api.getOptions("columns",{onResult:function(i){var a=i.getResult();t.authorization_history_columns=Global.buildColumnArray(a),e&&e()}})},setAuthorizationHistorySelectLayout:function(e){var t=this.host_view_controller.edit_view.find("#grid");t&&t.attr("id","authorization_history_grid");for(var i=[],a=this.buildAuthorizationDisplayColumns(this.authorization_history_default_display_columns),n=a.length,o=0;o<n;o++){var l=a[o],r={name:l.value,index:l.value,label:l.label,width:100,sortable:!1,title:!1};i.push(r)}this.authorization_history_grid&&(this.authorization_history_grid.grid.jqGrid("GridUnload"),this.authorization_history_grid=null),this.authorization_history_grid=new TTGrid("authorization_history_grid",{onResizeGrid:!1,winMultiselect:!1,multiselect:!1,width:this.host_view_controller.edit_view.find(".edit-view-tab").width()},i)}}},1838:(e,t,i)=>{"use strict";i.r(t),i.d(t,{"BaseTreeViewController":()=>a});class a extends BaseViewController{setSelectLayout(e){Global.isSet(this.grid)||($(this.el).find("#grid").attr("id",this.ui_id+"_grid"),$(this.el).find("#"+this.ui_id+"_grid"));var t=[];this.select_layout||(this.select_layout={id:""},this.select_layout.data={filter_data:{},filter_sort:{}},this.select_layout.data.display_columns=this.default_display_columns);var i=this.select_layout.data;i.display_columns.length<1&&(i.display_columns=this.default_display_columns);var a=this.buildDisplayColumns(i.display_columns);a.length;Global.isSet(e);var n=a[0],o={name:n.value,index:n.value,label:this.grid_table_name,width:100,sortable:!1,title:!1};t.push(o),this.grid&&(this.grid.jqGrid("GridUnload"),this.grid=null),this.grid=new TTGrid(this.ui_id+"_grid",{multiselect:!1,winMultiSelect:!1,tree_mode:!0,onSelectRow:$.proxy(this.onGridSelectRow,this)},t),this.bindGridColumnEvents(),this.setGridHeaderStyle(),this.filter_data=this.select_layout.data.filter_data,this.showGridBorders(),this.setGridSize()}search(e,t,i){var a=this;Global.isSet(e)||(e=!0);var n={filter_data:{},filter_sort:{}};n.filter_columns=this.getFilterColumnsFromDisplayColumns(),n.filter_items_per_page=0,this.sub_view_mode&&this.parent_key&&(this.select_layout.data.filter_data[this.parent_key]=this.parent_value,Global.isSet(this.getSubViewFilter)&&(this.select_layout.data.filter_data=this.getSubViewFilter(this.select_layout.data.filter_data))),this.last_select_ids=this.getGridSelectIdArray(),n.filter_data=Global.convertLayoutFilterToAPIFilter(this.select_layout),n.filter_sort=this.select_layout.data.filter_sort,this.api["get"+this.api.key_name](n,!1,!1,{onResult:function(t){var i=t.getResult();i=Global.buildTreeRecord(i),a.grid_current_page_items=i,Global.isArray(i)?a.removeNoResultCover():a.showNoResultCover(),a.reSetGridTreeData(i),a.setGridSize(),ProgressBar.closeOverlay(),e&&a.setDefaultMenu(),0===LocalCacheData.paging_type&&(!a.pager_data||a.pager_data.is_last_page?a.paging_widget.css("display","none"):a.paging_widget.css("display","block")),a.reSelectLastSelectItems(),a.autoOpenEditViewIfNecessary(),a.searchDone()}})}reSetGridTreeData(e){var t=this,i=this.grid.getGridParam("colModel");this.grid.grid.jqGrid("GridUnload"),this.grid=null,this.grid=new TTGrid(this.ui_id+"_grid",{multiselect:!1,winMultiSelect:!1,datastr:e,datatype:"jsonstring",sortable:!1,onSelectRow:function(e){$("#ribbon_view_container .context-menu:visible a").click(),t.grid_select_id_array=[e],t.setDefaultMenu()},ondblClickRow:function(){t.onGridDblClickRow()},gridview:!0,treeGrid:!0,treeGridModel:"adjacency",treedatatype:"local",ExpandColumn:"name"},i)}getGridSelectIdArray(){return this.grid_select_id_array}initLayout(){var e=this;this.real_this=this.constructor.__super__,e.getDefaultDisplayColumns((function(){e.setSelectLayout(),e.search()}))}getAllColumns(e){var t=this;this.api.getOptions("columns",{onResult:function(i){var a=i.getResult();t.all_columns=Global.buildColumnArray(a),e&&e()}})}setCurrentEditRecordData(){for(var e in this.current_edit_record){var t=this.edit_view_ui_dic[e];if(Global.isSet(t))switch(e){case"parent_id":t.setSourceData(this.grid_current_page_items),t.setValue(this.current_edit_record[e]);break;default:t.setValue(this.current_edit_record[e])}}this.collectUIDataToCurrentEditRecord(),this.setEditViewDataDone()}setEditViewData(){if(this.is_changed=!1,!this.edit_only_mode){var e=this.edit_view.find(".navigation-div");if(Global.isSet(this.current_edit_record.id)&&this.current_edit_record.id){if(e.css("display","block"),!this.navigation.getSourceData()){this.navigation.setSourceData(this.grid_current_page_items);var t={};t.filter_data=Global.convertLayoutFilterToAPIFilter(this.select_layout),t.filter_sort=this.select_layout.data.filter_sort,this.navigation.setDefaultArgs(t)}this.navigation.setValue(this.current_edit_record)}else e.css("display","none")}for(var i in this.edit_view_ui_dic)Global.isSet(this.current_edit_record[i])||this.is_mass_editing||(this.current_edit_record[i]=!1);this.setNavigationArrowsStatus(),this.setCurrentEditRecordData(),this.edit_view.find(".save-and-continue-div").SaveAndContinueBox({related_view_controller:this}),this.edit_view.find(".save-and-continue-div").css("display","none"),1===this.edit_view_tab.tabs("option","active")&&(this.current_edit_record.id?(this.edit_view_tab.find("#tab_audit").find(".first-column-sub-view").css("display","block"),this.initSubLogView("tab_audit")):(this.edit_view_tab.find("#tab_audit").find(".first-column-sub-view").css("display","none"),this.edit_view.find(".save-and-continue-div").css("display","block"))),this.switchToProperTab()}addIdFieldToNavigation(e){return $.each(e,(function(e,t){$(t).each((function(e,t){t.id=t._id_}))})),e}doViewAPICall(e){return super.doViewAPICall(e,[e,!1,!1])}handleViewAPICallbackResult(e){return this.handleAPICallbackResult(e)}handleAPICallbackResult(e){var t=e.getResult(),i=this.getCurrentSelectedRecord();(t=(t=Global.getParentIdByTreeRecord(Global.buildTreeRecord(t),i))[0]).id=i,super.handleViewAPICallbackResult(t)}handleEditAPICallbackResult(e){return this.handleAPICallbackResult(e)}onDeleteDone(e){this.grid_select_id_array=[],this.setDefaultMenu(),this.removeDeletedRows()}onSaveDone(e){this.grid_select_id_array=[]}doEditAPICall(e){return super.doEditAPICall(e,[e,!1,!1])}_continueDoCopyAsNew(){var e=this;if(LocalCacheData.current_doing_context_action="copy_as_new",Global.isSet(this.edit_view)){this.current_edit_record.id="",this.edit_view.find(".navigation-div").css("display","none"),this.setEditMenu(),this.setTabStatus(),this.is_changed=!1,ProgressBar.closeOverlay()}else{var t={},i=this.getGridSelectIdArray();if(!(i.length>0))return void TAlertManager.showAlert($.i18n._("No selected record"));var a=i[0];t.filter_data={},this.api["get"+this.api.key_name](t,!1,!1,{onResult:function(t){var i=t.getResult();if(i=Global.buildTreeRecord(i),!(i=Global.getParentIdByTreeRecord(i,a)))return TAlertManager.showAlert($.i18n._("Record does not exist")),void e.onCancelClick();e.openEditView(),i=i[0],e.sub_view_mode&&e.parent_key&&(i[e.parent_key]=e.parent_value),e.current_edit_record=i,e.current_edit_record.id="",e.initEditView()}})}}buildEditViewUI(){var e=this;if(!this.edit_only_mode){var t=this.edit_view.find(".navigation-div"),i=t.find(".navigation-label"),a=t.find(".navigation-widget-div");this.navigation=Global.loadWidgetByName(FormItemType.AWESOME_BOX),i.text(this.navigation_label),a.append(this.navigation)}this.edit_view_close_icon=this.edit_view.find(".close-icon"),this.edit_view_close_icon.hide(),this.edit_view_close_icon.click((function(){e.onCloseIconClick()}));var n=Array();n[this.primary_tab_key]={"label":this.primary_tab_label},n.tab_audit={"label":$.i18n._("Audit"),"init_callback":"initSubLogView","display_on_mass_edit":!1,"display_on_add":!1},this.setTabModel(n),this.navigation.AComboBox({id:this.script_name+"_navigation",tree_mode:!0,allow_multiple_selection:!1,layout_name:"global_tree_column",navigation_mode:!0,show_search_inputs:!1,on_tree_grid_row_select:function(t,i){e.onTreeGridNavigationRowSelect(t,i)}});var o=t.find(".left-click"),l=t.find(".right-click");o.attr("src",Global.getRealImagePath("images/left_arrow.png")),l.attr("src",Global.getRealImagePath("images/right_arrow.png")),this.setNavigation();var r=this.edit_view_tab.find("#"+this.primary_tab_key).find(".first-column");this.edit_view_tabs[0]=[],this.edit_view_tabs[0].push(r);var s=Global.loadWidgetByName(FormItemType.AWESOME_BOX);s.AComboBox({tree_mode:!0,allow_multiple_selection:!1,layout_name:"global_tree_column",set_empty:!0,field:"parent_id"}),this.addEditFieldToColumn($.i18n._("Parent"),s,r,""),(s=Global.loadWidgetByName(FormItemType.TEXT_INPUT)).TTextInput({field:"name",width:"100%"}),this.addEditFieldToColumn($.i18n._("Name"),s,r,""),s.parent().width("45%")}}},7664:(e,t,i)=>{"use strict";i.r(t),i.d(t,{"EmbeddedMessage":()=>a});i(5853);var a={message_control_api:null,init:function(e,t,i,a,n,o,l){var r={filter_data:{}};r.filter_data.object_type_id=t,r.filter_data.object_id=e;var s=[];this.message_control_api=TTAPI.APIMessageControl;var d=this;this.message_control_api.getEmbeddedMessage(r,{onResult:function(e){if(a&&o.from){var t=e.getResult();if(Global.isArray(t)){$(a.find(".separate")).css("display","block"),i.messages=t;var r=$("<div></div>");for(var c in t){var u=t[c];10==u.status_id&&s.push(u.id);var h=u.from_first_name+" "+u.from_last_name+" @ "+u.updated_date;o.from.setValue(h),o.subject.setValue(Global.htmlDecode(u.subject)),o.body.html(Global.htmlDecode(u.body).linkify({nl2br:!0,className:"linkified"})),o.body.setResizeEvent();var _=$(n.find("#tab_request").find(".edit-view-tab").find(".embedded-message-template")).clone();_.removeClass("embedded-message-template"),_.addClass("embedded-message-container"),_.css("display","block"),_.css("margin","0px"),_.appendTo(r)}s.length>0&&d.message_control_api.markRecipientMessageAsRead(s,{onResult:function(e){}}),$(n.find("#tab_request").find(".edit-view-tab").find(".embedded-message-column")).hide(),n.find("#tab_request").find(".edit-view-tab").find(".embedded-message-container").hide(),n.find("#tab_request").find(".edit-view-tab").find(".embedded-message-container").remove(),n.find("#tab_request").find(".edit-view-tab").append(r.html())}else $(a.find(".separate")).css("display","none");l()}}})},initUI:function(e,t){var i=t.find(".separate").css("display","none"),a=Global.loadWidgetByName(FormItemType.SEPARATED_BOX);a.SeparatedBox({label:$.i18n._("Messages")}),e.addEditFieldToColumn(null,a,i);var n=t.find(".embedded-message-template");(a=Global.loadWidgetByName(FormItemType.TEXT)).TText({field:"from",selected_able:!0}),e.addEditFieldToColumn($.i18n._("From"),a,n,""),(a=Global.loadWidgetByName(FormItemType.TEXT)).TText({field:"subject",selected_able:!0}),e.addEditFieldToColumn($.i18n._("Subject"),a,n),(a=Global.loadWidgetByName(FormItemType.TEXT)).TText({field:"body",width:600,height:400,selected_able:!0}),e.addEditFieldToColumn($.i18n._("Body"),a,n,"",null,null,!0),e.edit_view_tabs[0].push(n),n.css("display","none")},reply:function(e,t,i){this.message_control_api.setMessageControl(e,!1,t,{onResult:function(e){i&&i(e)}})}}},1706:(e,t,i)=>{"use strict";i.r(t),i.d(t,{"UserGenericStatusWindowController":()=>a});class a extends BaseViewController{constructor(e={}){_.defaults(e,{el:"",batch_id:"",user_id:"",callback:null,events:{"click .done-btn":"onCloseClick"}}),super(e)}init(e){this.options=e,this.content_div=$(this.el).find(".content"),this.batch_id=this.options.batch_id,this.user_id=this.options.user_id,this.options.callback&&(this.callback=this.options.callback),this.api=TTAPI.APIUserGenericStatus,this.render(),this.initData()}initData(){var e=this;ProgressBar.showOverlay(),this.getAllColumns((function(){e.initLayout()}))}initLayout(){var e=this;e.getDefaultDisplayColumns((function(){e.setSelectLayout(),e.search()}))}onCloseClick(){$(this.el).remove(),this.callback&&this.callback()}render(){$(this.el).find(".title").text($.i18n._("Status Report"))}getAllColumns(e){var t=this;this.api.getOptions("columns",{onResult(i){var a=i.getResult();t.all_columns=Global.buildColumnArray(a),e&&e()}})}search(e){Global.isSet(e)||(e=!0);var t=this,i={filter_data:{}};i.filter_data.batch_id=this.batch_id,i.filter_items_per_page=0,this.api.getUserGenericStatus(i,!0,{onResult:function(i){var a=i.getResult();a=Global.formatGridData(a,t.api.key_name),t.grid.setData(a),t.setGridSize(),ProgressBar.closeOverlay(),e&&t.setDefaultMenu(!0)}}),this.api.getUserGenericStatusCountArray(this.user_id,this.batch_id,{onResult:function(e){var i=e.getResult(),a=$(t.el).find(".failed"),n=$(t.el).find(".warning"),o=$(t.el).find(".success");1!=i&&i.status&&(a.text(i.status[10].total+"/"+i.total+"( "+i.status[10].percent+"% )"),n.text(i.status[20].total+"/"+i.total+"( "+i.status[20].percent+"% )"),o.text(i.status[30].total+"/"+i.total+"( "+i.status[30].percent+"% )"))}})}setGridSize(){}setSelectLayout(e){var t=this,i=[];this.select_layout={id:""},this.select_layout.data={filter_data:{},filter_sort:{}},this.select_layout.data.display_columns=this.default_display_columns;var a=this.select_layout.data,n=this.buildDisplayColumns(a.display_columns),o=n.length;a.display_columns.length<1&&(a.display_columns=this.default_display_columns);var l=0;Global.isSet(e)&&e>0&&(l=e);for(var r=l;r<o;r++){var s=n[r];if("description"===s.value)var d={name:s.value,index:s.value,label:s.label,width:400,sortable:!1,title:!1};else d="status"===s.value?{name:s.value,index:s.value,label:s.label,width:100,sortable:!1,title:!1,formatter:function(e,t,i){var a=$("<span></span>");return"Failed"===e?a.addClass("failed-label"):"Warning"===e?a.addClass("warning-label"):"Success"===e&&a.addClass("success-label"),a.text(e),a.get(0).outerHTML}}:{name:s.value,index:s.value,label:s.label,width:100,sortable:!1,title:!1};i.push(d)}this.grid&&(this.grid.grid.jqGrid("GridUnload"),this.grid=null),this.grid=new TTGrid("user_generic_data_status_grid-"+this.batch_id,{altRows:!0,onSelectRow:$.proxy(this.onGridSelectRow,this),data:[],rowNum:1e4,sortable:!1,datatype:"local",width:600,colNames:[],viewrecords:!0},i);var c=$(this.el).find(".content");this.grid.grid.setGridWidth(c.width()-2),this.grid.grid.setGridHeight(c.height()-25),$(window).resize((function(){t.grid.grid.setGridWidth(c.width()-2),t.grid.grid.setGridHeight(c.height()-25)})),this.filter_data=this.select_layout.data.filter_data}}a.open=function(e,t,i){Global.loadViewSource("UserGenericStatus","UserGenericStatusWindow.css"),Global.loadViewSource("UserGenericStatus","UserGenericStatusWindow.html",(function(n){if(1==TTUUID.isUUID(e)){var o={batch_id:e,failed:$.i18n._("Failed"),warning:$.i18n._("Warning"),success:$.i18n._("Success")},l=_.template(n);$("body").append(l(o)),new a({el:"#"+e,batch_id:e,user_id:t,can_cache_controller:!1,callback:i})}else TAlertManager.showAlert($.i18n._("Status report is empty. Please try again.",LocalCacheData.getApplicationName()),$.i18n._("NOTICE"))}))}},2303:(e,t,i)=>{var a=i(4243),n=i(7672),o=a.ALayoutCache;void 0===n.ALayoutCache&&(n.ALayoutCache=o),e.exports=a}}]);
//# sourceMappingURL=post-login-app-dependancies.bundle.js.map?v=2e8f5fad37fd89226d63