(self.webpackChunktimetrex=self.webpackChunktimetrex||[]).push([["payroll-remittance_wizard-PayrollRemittanceAgencyEventWizardStepHome","wizard-WizardStep"],{8880:(e,t,i)=>{"use strict";i.r(t),i.d(t,{"WizardStep":()=>a});var n=i(6739);class a extends n.TTBackboneView{constructor(e={}){_.defaults(e,{previous_step_name:null,next_step_name:null,buttons:null,wizard_obj:null,clicked_buttons:{},reload:!1,api:null,name:"undefined",title:$.i18n._("Undefined Step"),instructions:$.i18n._("Undefined step data")}),super(e)}initialize(e){super.initialize(e),this.buttons={},this.reload=!1,this.setWizardObject(e);this.init()}init(){this.render()}initCardsBlock(){$(this.wizard_obj.el).find("#cards").html("")}setTitle(e){$(this.wizard_obj.el).find(".title-1").html(e)}setInstructions(e,t){0==$(this.el).find(".instructions").length&&$(this.el).find(".progress-bar").append('<p class="instructions"></p>'),$(this.el).find(".progress-bar .instructions").html(e),"function"==typeof t&&t()}setWizardObject(e){this.wizard_obj=e,this.el=this.wizard_obj.el}getWizardObject(){return this.wizard_obj}setNextStepName(e){this.next_step_name=e}getNextStepName(){return!1}setPreviousStepName(e){this.previous_step_name=e}getPreviousStepName(){return!1}render(){return this.initCardsBlock(),this._render()}_render(){}append(e){$(this.wizard_obj.el).find(".content").append(e)}appendButton(e){$(this.wizard_obj.el).find("#cards").append(e)}setGrid(e,t,i){i||(i=!1),$("#"+e).remove(),this.append(t);var n=$("#"+e),a=this.getGridColumns(e),r=this;return n=new TTGrid(e,{onSelectRow:function(e){r.onGridSelectRow(e)},onSelectAll:function(e){for(var t in e)r.onGridSelectRow(e[t])},ondblClickRow:function(){r.onGridDblClickRow()},multiselect:!1,winMultiSelect:!1},a),this.setGridSize(n),this.setGridGroupColumns(e),n}getGridColumns(e,t){}setGridAutoHeight(e,t){t>0&&t<10?e.grid.setGridHeight(23*t):t>10&&e.grid.setGridHeight(400)}setGridSize(e){e.grid.setGridWidth($(this.wizard_obj.el).find(".content .grid-div").width()-11),e.grid.setGridHeight($(this.wizard_obj.el).find(".content").height()-150)}getRibbonButtonBox(){var e=$('<div class="menu ribbon-button-bar"></div>'),t=$("<ul></ul>");return e.append(t),e}getRibbonButton(e,t,i,n){if($("<img></img>")[0].src=t,void 0===n)return $('<li><div class="ribbon-sub-menu-icon" id="'+e+'"><img src="'+t+'" >'+i+"</div></li>");var a=$('<div class="wizard_icon_card" id="'+e+'"></div>'),r=$('<img src="'+t+'"></img>'),d=$('<div class="right_container"></div>'),s=$('<h3 class="button_title"></h3>');s.html(i||"");var l=$('<div class="description"></div>');return l.html(n||""),a.append(r),d.append(s),d.append(l),a.append(d),a}onGridSelectRow(e){}onGridDblClickRow(e){}onNavigationClick(e,t){e&&this.addButtonClick(e,t),ProgressBar.showOverlay(),1!=window.clickProcessing&&(window.clickProcessing=!0,window.clickProcessingHandle=window.setTimeout((function(){1==window.clickProcessing&&(window.clickProcessing=!1,ProgressBar.closeOverlay())}),1e3),this._onNavigationClick(t))}_onNavigationClick(e){}isRequiredButtonsClicked(){return!0}addButtonClick(e,t){var i=$(e.target);i.hasClass("wizard_icon_card")||(i=$(e.target).parents(".wizard_icon_card")),i.addClass("clicked_wizard_icon"),i.addClass("disable-image"),this.clicked_buttons[t]=!0}isButtonClicked(e){return!(!this.clicked_buttons.hasOwnProperty(e)||void 0===this.clicked_buttons[e])}addButton(e,t,i,n,a){void 0===a&&(a=e);var r=this.getRibbonButton(e,Global.getRibbonIconRealPath(t),i,n),d=this;return r.unbind("click").bind("click",(function(e){d.onNavigationClick(e,a)})),this.isButtonClicked(a)&&(r.addClass("clicked_wizard_icon"),r.addClass("disable-image")),this.buttons[t]=r,this.appendButton(r),r}setGridGroupColumns(e){}urlClick(e){this.api.getMakePaymentData(this.getWizardObject().selected_remittance_agency_event_id,e,{onResult:function(e){var t=e.getResult();window.open(t)}})}paymentServicesClick(e){this.api.getFileAndPayWithPaymentServicesData(this.getWizardObject().selected_remittance_agency_event_id,e,{onResult:function(e){var t=e.getResult();t.user_message&&""!=t.user_message?TAlertManager.showAlert(t.user_message):0==t&&TAlertManager.showAlert($.i18n._("ERROR! Something went wrong, please contact customer service immediately!"))}})}}},9468:(e,t,i)=>{"use strict";i.r(t),i.d(t,{"PayrollRemittanceAgencyEventWizardStepHome":()=>a});var n=i(8880);class a extends n.WizardStep{constructor(e={}){_.defaults(e,{name:"home",prae_grid_source_data:null,grid:null,el:$(".wizard.process_transactions_wizard")}),super(e)}init(){var e={filter_data:{"status_id":[10,15],"payroll_remittance_agency_status_id":10,"start_date":new Date/1e3+1209600},filter_columns:{"id":!0,"payroll_remittance_agency_id":!0,"legal_entity_legal_name":!0,"payroll_remittance_agency_name":!0,"type":!0,"type_id":!0,"start_date":!0,"end_date":!0,"due_date":!0,"in_time_period":!0},"filter_sort":{"status_id":"desc","due_date":"asc","legal_entity_id":"asc","payroll_remittance_agency_id":"asc","type_id":"asc"}},t=this;TTAPI.APIPayrollRemittanceAgencyEvent.getPayrollRemittanceAgencyEvent(e,{onResult:function(e){t.prae_grid_source_data=e.getResult(),t.render()}})}getNextStepName(){return!!TTUUID.isUUID(this.getWizardObject().selected_remittance_agency_event_id)&&"review"}_render(){if(this.setTitle(this.getWizardObject().wizard_name),this.prae_grid_source_data.length>0){var e=this;this.setInstructions($.i18n._("Select one of the event(s) below to process")+": ",(function(){var t="payroll_remittance_agency_events",i=$("<div class='grid-div wizard-grid-div'></div>"),n=$("<table id='"+t+"'></table>");i.append(n),e.grid||(e.grid=e.setGrid(t,i),e.grid.setData(e.prae_grid_source_data)),e.colorGrid(),e.setGridAutoHeight(e.grid,e.prae_grid_source_data.length),TTUUID.isUUID(e.getWizardObject().selected_remittance_agency_event_id)?e.grid.grid.setSelection(e.getWizardObject().selected_remittance_agency_event_id):(e.grid.grid.setSelection(e.grid.grid.find("tbody:first-child tr:nth-child(2)").attr("id")),e.getWizardObject().selected_remittance_agency_event_id=e.grid.grid.find("tbody:first-child tr:nth-child(2)").attr("id")),e.addButton("PayrollRemittanceAgency",Icons.view_detail,$.i18n._("Edit Remittance Agency"),$.i18n._("In the event of incorrect dates, edit the selected remittance agency and its events to make corrections."))}))}else{var t=$("<div></div>");t.html($.i18n._("There are no outstanding tax events at this time.")),this.append(t)}this.getWizardObject().setCurrentStepName("home")}colorGrid(){var e=this.grid.getData();if(e)for(var t=e.length,i=0;i<t;i++){var n=e[i];1==n.in_time_period&&$("#"+this.grid.ui_id).find("tr[id='"+n.id+"']").css("color","#ccc")}}_onNavigationClick(e){switch(e){case"PayrollRemittanceAgency":this.getWizardObject().minimize();var t=this.grid.getData()[this.grid.grid.jqGrid("getGridParam","_index")[this.getWizardObject().selected_remittance_agency_event_id]];IndexViewController.openEditView(LocalCacheData.current_open_primary_controller,"PayrollRemittanceAgency",t.payroll_remittance_agency_id)}}getGridColumns(e,t){return[{name:"legal_entity_legal_name",index:"legal_entity_legal_name",label:"Legal Entity",width:90,sortable:!0,title:!1},{name:"payroll_remittance_agency_name",index:"payroll_remittance_agency_name",label:"Agency",width:200,sortable:!0,title:!1},{name:"type",index:"type",label:"Event",width:100,sortable:!0,title:!1},{name:"start_date",index:"start_date",label:"Start Date",width:60,sortable:!0,title:!1},{name:"end_date",index:"end_date",label:"End Date",width:60,sortable:!0,title:!1},{name:"due_date",index:"due_date",label:"Due Date",width:60,sortable:!0,title:!1}]}onGridSelectRow(e){this.getWizardObject().selected_remittance_agency_event_id!=e&&(this.getWizardObject().selected_remittance_agency_event_id=e,this.getWizardObject().reload(),this.getWizardObject().payroll_remittance_agency_event_block=null),this.getWizardObject().enableButtons()}}}}]);
//# sourceMappingURL=payroll-remittance_wizard-PayrollRemittanceAgencyEventWizardStepHome.bundle.js.map?v=c6a4c4250a17dce4c69f