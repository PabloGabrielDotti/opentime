(self.webpackChunktimetrex=self.webpackChunktimetrex||[]).push([["filebrowser-TImageAdvBrowser"],{8243:()=>{var e;(e=jQuery).fn.TImageAdvBrowser=function(t){Global.addCss("global/widgets/filebrowser/TImageBrowser.css");var i,a,n,r=e.extend({},e.fn.TImageAdvBrowser.defaults,t),l=this,s="",h=177,d=42,o=null;return this.setEnable=function(e){var t=this.children().eq(1);e?t.show():t.hide()},this.clearErrorStyle=function(){},this.getField=function(){return i},this.getValue=function(){return n},this.setImage=function(e){if(!e)return a.attr("src",""),void a.hide();var t=new Date;a.hide(),a.attr("src",e+"&t="+t.getTime()+"&X-CSRF-Token="+getCookie("CSRF-Token")),a.css("height","auto"),a.css("width","auto")},this.onImageLoad=function(t){var i=e(t).height()>0?e(t).height():t.naturalHeight,a=e(t).width()>0?e(t).width():t.naturalWidth;i>d&&e(t).css("height",d),a>h&&(e(t).css("width",h),e(t).css("height","auto")),l.trigger("setSize"),i<5?e(t).hide():e(t).show()},this.setValue=function(e){e||(e="")},this.setEnableDelete=function(e){var t=l.find(".image");e?t.attr("enable-delete",1):t.removeAttr("enable-delete")},this.each((function(){var t=e.meta?e.extend({},r,e(this).data()):r;i=t.field,e(this).find("#upload_image").text(e.i18n._("Upload Image")),t.callBack&&(o=t.callBack),!1===t.show_browser&&e(this).children().eq(1).hide(),t.default_width>0&&(h=t.default_width),t.default_height>0&&(d=t.default_height),Global.isSet(t.name)&&t.name,Global.isSet(s)&&(s=t.accept_filter),Global.isSet(t.deleteImageHandler)&&l.find(".file-browser").on("deleteClick",(function(){t.deleteImageHandler()})),e(this).children().eq(1).bind("click",(function(){IndexViewController.openWizard("UserPhotoWizard",null,(function(e){o&&o(e),n=e}))})),(a=e(this).children().eq(0)).on("load",(function(){l.onImageLoad(this)})),a.hide()})),this},e.fn.TImageAdvBrowser.defaults={}}}]);
//# sourceMappingURL=filebrowser-TImageAdvBrowser.bundle.js.map?v=2907f70a939f17018a95