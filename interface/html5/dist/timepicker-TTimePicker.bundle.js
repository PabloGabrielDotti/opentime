(self.webpackChunktimetrex=self.webpackChunktimetrex||[]).push([["timepicker-TTimePicker"],{9680:()=>{var e;(e=jQuery).fn.TTimePicker=function(t){var i,o,r,a,n,s,l=e.extend({},e.fn.TTimePicker.defaults,t),c=this,h="",u=null,d=!0,f=!1,p=!1,m=15;return this.getEnabled=function(){return d},this.setEnabled=function(e){d=e,!1===e||""===e?(r.addClass("t-time-picker-readonly"),a.css("display","none"),r.attr("readonly","readonly")):(r.removeClass("t-time-picker-readonly"),a.css("display","inline"),r.removeAttr("readonly"))},this.setCheckBox=function(e){u.children().eq(0)[0].checked=e},this.isChecked=function(){return!(!u||!0!==u.children().eq(0)[0].checked)},this.setMassEditMode=function(t){t?((u=e(' <div class="mass-edit-checkbox-wrapper"><input type="checkbox" class="mass-edit-checkbox"></input><label for="checkbox-input-1" class="input-helper input-helper--checkbox"></label></div>')).insertBefore(e(this)),u.change((function(){c.trigger("formItemChange",[c])}))):u&&(u.remove(),u=null)},this.setErrorStyle=function(e,t,i){i?r.addClass("warning-tip"):r.addClass("error-tip"),h=e,t&&this.showErrorTip()},this.showErrorTip=function(e){Global.isSet(e)||(e=2),n||(n=(n=Global.loadWidgetByName(WidgetNamesDic.ERROR_TOOLTIP)).ErrorTipBox()),r.hasClass("warning-tip")?n.show(this,h,e,!0):n.show(this,h,e)},this.hideErrorTip=function(){Global.isSet(n)&&n.remove()},this.clearErrorStyle=function(){r&&(r.removeClass("error-tip"),r.removeClass("warning-tip"),this.hideErrorTip(),h="")},this.getField=function(){return i},this.getValidationField=function(){return o},this.getDefaultFormatValue=function(){var e=r.val();return e=Global.strToDate(e).format("YYYY-MM-DD")},this.setPlaceHolder=function(e){r.attr("placeholder",e)},this.getValue=function(){return r.val()},this.setValue=function(e){r&&(e||(e=""),r.val(e),this.autoResize())},this.setDefaultWidgetValue=function(){e(this).attr("widget-value")&&this.setValue(e(this).attr("widget-value"))},this.autoResize=function(){var e,t;p||(t=Global.calculateTextWidth(LocalCacheData.getLoginUserPreference().time_format_display),e=Global.calculateTextWidth(r.val(),{min_width:t,max_width:t+100,padding:28}),c.width(e+"px"))},this.each((function(){var t=e.meta?e.extend({},l,e(this).data()):l,n="h:mm TT";LocalCacheData.getLoginUserPreference()&&(n=LocalCacheData.getLoginUserPreference().time_format_1),i=t.field,t.validation_field&&(o=t.validation_field),a=e(this).find(".t-time-picker-icon"),r=e(this).find(".t-time-picker"),a.attr("src",Global.getRealImagePath("images/time.png")),a.bind("mouseup",(function(){d&&(f?(f=!1,s&&(clearTimeout(s),s=null)):(r.timepicker("show"),f=!0))})),t.stepMinute&&(m=t.stepMinute);var g=e.i18n._("Close");r=r.timepicker({showMillisec:!1,showMicrosec:!1,showTimezone:!1,showHeader:!1,timeFormat:n,showOn:"",stepMinute:m,closeText:g,showAnim:"",beforeShow:function(){t.beforeShow&&t.beforeShow()},onClose:function(){s=setTimeout((function(){f=!1,c.autoResize(),t.onClose&&t.onClose()}),100)}}),c.setPlaceHolder(LocalCacheData.loginUserPreference.time_format_display),r.off("keyup").off("keydown").off("keypress"),r.off("change").on("change",(function(e){u&&c.setCheckBox(!0),c.trigger("formItemChange",[c]),c.autoResize()})),r.mouseover((function(){d&&h&&h.length>0&&c.showErrorTip(20)})),r.mouseout((function(){e(c).is(":focus")||c.hideErrorTip()})),r.focusin((function(e){d?h&&h.length>0&&c.showErrorTip(20):u||(LocalCacheData.current_open_sub_controller&&LocalCacheData.current_open_sub_controller.edit_view&&LocalCacheData.current_open_sub_controller.is_viewing||LocalCacheData.current_open_primary_controller&&LocalCacheData.current_open_primary_controller.edit_view&&LocalCacheData.current_open_primary_controller.is_viewing)&&(h=Global.view_mode_message,c.showErrorTip(10))})),r.focusout((function(){c.hideErrorTip()})),t.width>0?(c.width(t.width),p=!0):(c.autoResize(),p=!1),c.setDefaultWidgetValue()})),this},e.fn.TTimePicker.defaults={}}}]);
//# sourceMappingURL=timepicker-TTimePicker.bundle.js.map?v=a771c24bd5baa085fbe1