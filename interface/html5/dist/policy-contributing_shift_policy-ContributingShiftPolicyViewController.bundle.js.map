{"version":3,"sources":["webpack://timetrex/./interface/html5/views/policy/contributing_shift_policy/ContributingShiftPolicyViewController.js"],"names":["ContributingShiftPolicyViewController","BaseViewController","options","_","defaults","el","type_array","include_holiday_type_array","include_shift_type_array","branch_selection_type_array","department_selection_type_array","job_group_selection_type_array","job_selection_type_array","job_group_array","job_item_group_array","job_item_group_selection_type_array","job_item_selection_type_array","job_group_api","job_item_group_api","date_api","super","this","edit_view_tpl","permission_id","viewId","script_name","table_name_key","context_menu_name","$","i18n","navigation_label","api","TTAPI","APIContributingShiftPolicy","Global","getProductEdition","APIJobGroup","APIJobItemGroup","APITTDate","render","buildContextMenu","initData","setSelectRibbonMenuIfNecessary","$this","initDropDownOption","getJobGroup","onResult","res","getResult","buildTreeRecord","getJobItemGroup","buildEditViewUI","tab_model","setTabModel","navigation","AComboBox","api_class","id","allow_multiple_selection","layout_name","navigation_mode","show_search_inputs","setNavigation","tab_contributing_shift_policy_column1","edit_view_tab","find","edit_view_tabs","push","form_item_input","loadWidgetByName","FormItemType","TEXT_INPUT","TTextInput","field","width","addEditFieldToColumn","parent","TEXT_AREA","TTextArea","AWESOME_BOX","APIContributingPayCodePolicy","set_empty","widgetContainer","label","tab_date_criteria_column1","DATE_PICKER","TDatePicker","append","TIME_PICKER","TTimePicker","form_item_sun_checkbox","CHECKBOX","TCheckbox","form_item_mon_checkbox","form_item_tue_checkbox","form_item_wed_checkbox","form_item_thu_checkbox","form_item_fri_checkbox","form_item_sat_checkbox","sun","mon","tue","wed","thu","fri","sat","COMBO_BOX","TComboBox","setSourceData","APIHolidayPolicy","tab_differential_criteria_column1","v_box","form_item","putInputToInsideFormItem","form_item_input_1","APIBranch","form_item_input_2","APIDepartment","tree_mode","APIJob","APIJobItem","target","is_changed","setMassEditingFieldsWhenFormChange","key","getField","c_value","getValue","current_edit_record","onIncludeHolidayTypeChange","onBranchSelectionTypeChange","onDepartmentSelectionTypeChange","onJobGroupSelectionTypeChange","onJobSelectionTypeChange","onJobItemGroupSelectionTypeChange","onJobItemSelectionTypeChange","validate","setDefaultData","widget","edit_view_ui_dic","isSet","setValue","collectUIDataToCurrentEditRecord","setEditViewDataDone","detachElement","attachElement","editFieldResize","setEnabled","is_viewing","css","edit_view","setEditMenu","html","getUpgradeMessage","buildSearchFields","search_fields","SearchField","in_column","multiple","basic_search","adv_search","form_item_type","APIUser"],"mappings":"sOAAO,MAAMA,UAA8CC,mBAC1D,YAAaC,EAAU,IACtBC,EAAEC,SAAUF,EAAS,CACpBG,GAAI,4CAEJC,WAAY,KACZC,2BAA4B,KAC5BC,yBAA0B,KAE1BC,4BAA6B,KAC7BC,gCAAiC,KAEjCC,+BAAgC,KAChCC,yBAA0B,KAE1BC,gBAAiB,KACjBC,qBAAsB,KAEtBC,oCAAqC,KACrCC,8BAA+B,KAE/BC,cAAe,KACfC,mBAAoB,KACpBC,SAAU,OAGXC,MAAOlB,GAGR,KAAMA,GAELmB,KAAKC,cAAgB,uCACrBD,KAAKE,cAAgB,4BACrBF,KAAKG,OAAS,0BACdH,KAAKI,YAAc,8BACnBJ,KAAKK,eAAiB,4BACtBL,KAAKM,kBAAoBC,EAAEC,KAAK1B,EAAG,6BACnCkB,KAAKS,iBAAmBF,EAAEC,KAAK1B,EAAG,6BAAgC,IAClEkB,KAAKU,IAAMC,MAAMC,2BACVC,OAAOC,qBAAuB,KACpCd,KAAKJ,cAAgBe,MAAMI,YAC3Bf,KAAKH,mBAAqBc,MAAMK,iBAGjChB,KAAKF,SAAWa,MAAMM,UACtBjB,KAAKkB,SACLlB,KAAKmB,mBAELnB,KAAKoB,WACLpB,KAAKqB,iCAGN,cACC,IAAIC,EAAQtB,KACZA,KAAKuB,mBAAoB,QACzBvB,KAAKuB,mBAAoB,wBACzBvB,KAAKuB,mBAAoB,sBACzBvB,KAAKuB,mBAAoB,yBACzBvB,KAAKuB,mBAAoB,6BACzBvB,KAAKuB,mBAAoB,4BACzBvB,KAAKuB,mBAAoB,sBACzBvB,KAAKuB,mBAAoB,iCACzBvB,KAAKuB,mBAAoB,2BAElBV,OAAOC,qBAAuB,KACpCd,KAAKJ,cAAc4B,YAAa,IAAI,GAAO,EAAO,CACjDC,SAAU,SAAUC,GAEnBA,EAAMA,EAAIC,YACVD,EAAMb,OAAOe,gBAAiBF,GAC9BJ,EAAM9B,gBAAkBkC,KAK1B1B,KAAKH,mBAAmBgC,gBAAiB,IAAI,GAAO,EAAO,CAC1DJ,SAAU,SAAUC,GAEnBA,EAAMA,EAAIC,YACVD,EAAMb,OAAOe,gBAAiBF,GAC9BJ,EAAM7B,qBAAuBiC,MAOjC,kBAEC3B,MAAM+B,kBAEN,IAAIR,EAAQtB,KAER+B,EAAY,CACf,gCAAiC,CAAE,QAASxB,EAAEC,KAAK1B,EAAG,8BACtD,oBAAqB,CACpB,QAASyB,EAAEC,KAAK1B,EAAG,sBACnB,gBAAiB,2BAElB,4BAA6B,CAC5B,QAASyB,EAAEC,KAAK1B,EAAG,yBACnB,gBAAiB,mCAElB,aAAa,GAEdkB,KAAKgC,YAAaD,GAElB/B,KAAKiC,WAAWC,UAAW,CAC1BC,UAAWxB,MAAMC,2BACjBwB,GAAIpC,KAAKI,YAAc,cACvBiC,0BAA0B,EAC1BC,YAAa,mBACbC,iBAAiB,EACjBC,oBAAoB,IAGrBxC,KAAKyC,gBAGL,IAEIC,EAFgC1C,KAAK2C,cAAcC,KAAM,kCAEaA,KAAM,iBAEhF5C,KAAK6C,eAAe,GAAK,GAEzB7C,KAAK6C,eAAe,GAAGC,KAAMJ,IAGzBK,EAAkBlC,OAAOmC,iBAAkBC,aAAaC,aAE5CC,WAAY,CAAEC,MAAO,OAAQC,MAAO,SACpDrD,KAAKsD,qBAAsB/C,EAAEC,KAAK1B,EAAG,QAAUiE,EAAiBL,EAAuC,IAEvGK,EAAgBQ,SAASF,MAAO,QAGhCN,EAAkBlC,OAAOmC,iBAAkBC,aAAaO,YACxCC,UAAW,CAAEL,MAAO,cAAeC,MAAO,SAC1DrD,KAAKsD,qBAAsB/C,EAAEC,KAAK1B,EAAG,eAAiBiE,EAAiBL,EAAuC,GAAI,KAAM,MAAM,GAE9HK,EAAgBQ,SAASF,MAAO,QAGhCN,EAAkBlC,OAAOmC,iBAAkBC,aAAaS,cACxCxB,UAAW,CAC1BC,UAAWxB,MAAMgD,6BACjBtB,0BAA0B,EAC1BC,YAAa,sCACbE,oBAAoB,EACpBoB,WAAW,EACXR,MAAO,oCAERpD,KAAKsD,qBAAsB/C,EAAEC,KAAK1B,EAAG,gCAAkCiE,EAAiBL,GAGxF,IAQIK,EACAc,EACAC,EARAC,EAFoB/D,KAAK2C,cAAcC,KAAM,sBAECA,KAAM,iBAExD5C,KAAK6C,eAAe,GAAK,GAEzB7C,KAAK6C,eAAe,GAAGC,KAAMiB,IAO7BhB,EAAkBlC,OAAOmC,iBAAkBC,aAAae,cACxCC,YAAa,CAAEb,MAAO,sBACtCS,EAAkBtD,EAAG,oCACrBuD,EAAQvD,EAAG,qCAAyCA,EAAEC,KAAK1B,EAAG,mCAAsC,WACpG+E,EAAgBK,OAAQnB,GACxBc,EAAgBK,OAAQJ,GACxB9D,KAAKsD,qBAAsB/C,EAAEC,KAAK1B,EAAG,cAAgBiE,EAAiBgB,EAA2B,GAAIF,IAGrGd,EAAkBlC,OAAOmC,iBAAkBC,aAAae,cAExCC,YAAa,CAAEb,MAAO,oBAEtCS,EAAkBtD,EAAG,oCACrBuD,EAAQvD,EAAG,qCAAyCA,EAAEC,KAAK1B,EAAG,iCAAoC,WAElG+E,EAAgBK,OAAQnB,GACxBc,EAAgBK,OAAQJ,GACxB9D,KAAKsD,qBAAsB/C,EAAEC,KAAK1B,EAAG,YAAciE,EAAiBgB,EAA2B,GAAIF,IAGnGd,EAAkBlC,OAAOmC,iBAAkBC,aAAakB,cACxCC,YAAa,CAAEhB,MAAO,sBAEtCS,EAAkBtD,EAAG,oCACrBuD,EAAQvD,EAAG,qCAAyCA,EAAEC,KAAK1B,EAAG,mCAAsC,WAEpG+E,EAAgBK,OAAQnB,GACxBc,EAAgBK,OAAQJ,GACxB9D,KAAKsD,qBAAsB/C,EAAEC,KAAK1B,EAAG,cAAgBiE,EAAiBgB,EAA2B,GAAIF,IAGrGd,EAAkBlC,OAAOmC,iBAAkBC,aAAakB,cACxCC,YAAa,CAAEhB,MAAO,oBAEtCS,EAAkBtD,EAAG,oCACrBuD,EAAQvD,EAAG,qCAAyCA,EAAEC,KAAK1B,EAAG,iCAAoC,WAElG+E,EAAgBK,OAAQnB,GACxBc,EAAgBK,OAAQJ,GACxB9D,KAAKsD,qBAAsB/C,EAAEC,KAAK1B,EAAG,YAAciE,EAAiBgB,EAA2B,GAAIF,GAGnG,IAAIQ,EAAyBxD,OAAOmC,iBAAkBC,aAAaqB,UACnED,EAAuBE,UAAW,CAAEnB,MAAO,QAE3C,IAAIoB,EAAyB3D,OAAOmC,iBAAkBC,aAAaqB,UACnEE,EAAuBD,UAAW,CAAEnB,MAAO,QAE3C,IAAIqB,EAAyB5D,OAAOmC,iBAAkBC,aAAaqB,UACnEG,EAAuBF,UAAW,CAAEnB,MAAO,QAE3C,IAAIsB,EAAyB7D,OAAOmC,iBAAkBC,aAAaqB,UACnEI,EAAuBH,UAAW,CAAEnB,MAAO,QAE3C,IAAIuB,EAAyB9D,OAAOmC,iBAAkBC,aAAaqB,UACnEK,EAAuBJ,UAAW,CAAEnB,MAAO,QAE3C,IAAIwB,EAAyB/D,OAAOmC,iBAAkBC,aAAaqB,UACnEM,EAAuBL,UAAW,CAAEnB,MAAO,QAE3C,IAAIyB,EAAyBhE,OAAOmC,iBAAkBC,aAAaqB,UACnEO,EAAuBN,UAAW,CAAEnB,MAAO,QAE3CS,EAAkBtD,EAAG,wBAErB,IAAIuE,EAAMvE,EAAG,mCAAuCA,EAAEC,KAAK1B,EAAG,OAAjD,kBACTiG,EAAMxE,EAAG,mCAAuCA,EAAEC,KAAK1B,EAAG,OAAjD,kBACTkG,EAAMzE,EAAG,mCAAuCA,EAAEC,KAAK1B,EAAG,OAAjD,kBACTmG,EAAM1E,EAAG,mCAAuCA,EAAEC,KAAK1B,EAAG,OAAjD,kBACToG,EAAM3E,EAAG,mCAAuCA,EAAEC,KAAK1B,EAAG,OAAjD,kBACTqG,EAAM5E,EAAG,mCAAuCA,EAAEC,KAAK1B,EAAG,OAAjD,kBACTsG,EAAM7E,EAAG,mCAAuCA,EAAEC,KAAK1B,EAAG,OAAjD,kBAEbgG,EAAIZ,OAAQG,GACZU,EAAIb,OAAQM,GACZQ,EAAId,OAAQO,GACZQ,EAAIf,OAAQQ,GACZQ,EAAIhB,OAAQS,GACZQ,EAAIjB,OAAQU,GACZQ,EAAIlB,OAAQW,GAEZhB,EAAgBK,OAAQY,GACxBjB,EAAgBK,OAAQa,GACxBlB,EAAgBK,OAAQc,GACxBnB,EAAgBK,OAAQe,GACxBpB,EAAgBK,OAAQgB,GACxBrB,EAAgBK,OAAQiB,GACxBtB,EAAgBK,OAAQkB,GAExBpF,KAAKsD,qBAAsB/C,EAAEC,KAAK1B,EAAG,kBAAoB,CAACuF,EAAwBG,EAAwBC,EAAwBC,EAAwBC,EAAwBC,EAAwBC,GAAyBd,EAA2B,GAAIF,GAAiB,GAAO,IAG1Rd,EAAkBlC,OAAOmC,iBAAkBC,aAAaoC,YACxCC,UAAW,CAAElC,MAAO,0BAA2BQ,WAAW,IAC1Eb,EAAgBwC,cAAejE,EAAMpC,4BACrCc,KAAKsD,qBAAsB/C,EAAEC,KAAK1B,EAAG,YAAciE,EAAiBgB,IAGpEhB,EAAkBlC,OAAOmC,iBAAkBC,aAAaS,cACxCxB,UAAW,CAC1BC,UAAWxB,MAAM6E,iBACjBnD,0BAA0B,EAC1BC,YAAa,iBACbE,oBAAoB,EACpBoB,WAAW,EACXR,MAAO,mBAERpD,KAAKsD,qBAAsB/C,EAAEC,KAAK1B,EAAG,oBAAsBiE,EAAiBgB,EAA2B,GAAI,MAAM,IAGjHhB,EAAkBlC,OAAOmC,iBAAkBC,aAAaoC,YACxCC,UAAW,CAAElC,MAAO,wBAAyBQ,WAAW,IACxEb,EAAgBwC,cAAejE,EAAMnC,0BAErC0E,EAAkBtD,EAAG,oCACrBuD,EAAQvD,EAAG,qCAAyCA,EAAEC,KAAK1B,EAAG,mCAAsC,WACpG+E,EAAgBK,OAAQnB,GACxBc,EAAgBK,OAAQJ,GACxB9D,KAAKsD,qBAAsB/C,EAAEC,KAAK1B,EAAG,kBAAoBiE,EAAiBgB,EAA2B,GAAIF,GAKzG,IAEI4B,EAF4BzF,KAAK2C,cAAcC,KAAM,8BAESA,KAAM,iBAExE5C,KAAK6C,eAAe,GAAK,GAEzB7C,KAAK6C,eAAe,GAAGC,KAAM2C,GAG7B,IAAIC,EAAQnF,EAAG,8BAGfwC,EAAkBlC,OAAOmC,iBAAkBC,aAAaoC,YACxCC,UAAW,CAAElC,MAAO,2BAA4BQ,WAAW,IAC3Eb,EAAgBwC,cAAejE,EAAMlC,6BAErCuG,EAAY3F,KAAK4F,yBAA0B7C,EAAiB,kBAE5D2C,EAAMxB,OAAQyB,GACdD,EAAMxB,OAAQ,sCAGd,IAAI2B,EAAoBhF,OAAOmC,iBAAkBC,aAAaS,aAE9DmC,EAAkB3D,UAAW,CAC5BC,UAAWxB,MAAMmF,UACjBzD,0BAA0B,EAC1BC,YAAa,gBACbE,oBAAoB,EACpBoB,WAAW,EACXR,MAAO,WAGR,IAAIuC,EAAY3F,KAAK4F,yBAA0BC,EAAmB,aAElEH,EAAMxB,OAAQyB,GAGd,IAAII,EAAoBlF,OAAOmC,iBAAkBC,aAAaqB,UAE9DyB,EAAkBxB,UAAW,CAAEnB,MAAO,2BAEtCuC,EAAY3F,KAAK4F,yBAA0BG,EAAmB,mBAE9DL,EAAMxB,OAAQyB,GAEd3F,KAAKsD,qBAAsB/C,EAAEC,KAAK1B,EAAG,YAAc,CAACiE,EAAiB8C,EAAmBE,GAAoBN,EAAmC,GAAIC,GAAO,GAAO,GAGjKA,EAAQnF,EAAG,8BAGXwC,EAAkBlC,OAAOmC,iBAAkBC,aAAaoC,YACxCC,UAAW,CAAElC,MAAO,+BAAgCQ,WAAW,IAC/Eb,EAAgBwC,cAAejE,EAAMjC,iCAErCsG,EAAY3F,KAAK4F,yBAA0B7C,EAAiB,kBAE5D2C,EAAMxB,OAAQyB,GACdD,EAAMxB,OAAQ,uCAGd2B,EAAoBhF,OAAOmC,iBAAkBC,aAAaS,cAExCxB,UAAW,CAC5BC,UAAWxB,MAAMqF,cACjB3D,0BAA0B,EAC1BC,YAAa,oBACbE,oBAAoB,EACpBoB,WAAW,EACXR,MAAO,eAGRuC,EAAY3F,KAAK4F,yBAA0BC,EAAmB,aAE9DH,EAAMxB,OAAQyB,IAGdI,EAAoBlF,OAAOmC,iBAAkBC,aAAaqB,WAExCC,UAAW,CAAEnB,MAAO,+BAEtCuC,EAAY3F,KAAK4F,yBAA0BG,EAAmB,mBAE9DL,EAAMxB,OAAQyB,GAEd3F,KAAKsD,qBAAsB/C,EAAEC,KAAK1B,EAAG,eAAiB,CAACiE,EAAiB8C,EAAmBE,GAAoBN,EAAmC,GAAIC,GAAO,GAAO,GAE7J7E,OAAOC,qBAAuB,KAEpC4E,EAAQnF,EAAG,8BAGXwC,EAAkBlC,OAAOmC,iBAAkBC,aAAaoC,YACxCC,UAAW,CAAElC,MAAO,8BAA+BQ,WAAW,IAC9Eb,EAAgBwC,cAAejE,EAAMhC,gCAErCqG,EAAY3F,KAAK4F,yBAA0B7C,EAAiB,kBAE5D2C,EAAMxB,OAAQyB,GACdD,EAAMxB,OAAQ,uCAGd2B,EAAoBhF,OAAOmC,iBAAkBC,aAAaS,cAExCxB,UAAW,CAC5B+D,WAAW,EACX5D,0BAA0B,EAC1BC,YAAa,qBACbsB,WAAW,EACXR,MAAO,cAGRyC,EAAkBN,cAAejE,EAAM9B,iBAEvCmG,EAAY3F,KAAK4F,yBAA0BC,EAAmB,aAE9DH,EAAMxB,OAAQyB,GAEd3F,KAAKsD,qBAAsB/C,EAAEC,KAAK1B,EAAG,cAAgB,CAACiE,EAAiB8C,GAAoBJ,EAAmC,GAAIC,GAAO,GAAO,GAGhJA,EAAQnF,EAAG,8BAGXwC,EAAkBlC,OAAOmC,iBAAkBC,aAAaoC,YACxCC,UAAW,CAAElC,MAAO,wBAAyBQ,WAAW,IACxEb,EAAgBwC,cAAejE,EAAM/B,0BAErCoG,EAAY3F,KAAK4F,yBAA0B7C,EAAiB,kBAE5D2C,EAAMxB,OAAQyB,GACdD,EAAMxB,OAAQ,uCAGd2B,EAAoBhF,OAAOmC,iBAAkBC,aAAaS,cAExCxB,UAAW,CAC5BC,UAAWxB,MAAMuF,OACjB7D,0BAA0B,EAC1BC,YAAa,aACbE,oBAAoB,EACpBoB,WAAW,EACXR,MAAO,QAGRuC,EAAY3F,KAAK4F,yBAA0BC,EAAmB,aAE9DH,EAAMxB,OAAQyB,IAGdI,EAAoBlF,OAAOmC,iBAAkBC,aAAaqB,WACxCC,UAAW,CAAEnB,MAAO,wBACtCuC,EAAY3F,KAAK4F,yBAA0BG,EAAmB,mBAC9DL,EAAMxB,OAAQyB,GAEd3F,KAAKsD,qBAAsB/C,EAAEC,KAAK1B,EAAG,QAAU,CAACiE,EAAiB8C,EAAmBE,GAAoBN,EAAmC,GAAIC,GAAO,GAAO,GAG7JA,EAAQnF,EAAG,8BAGXwC,EAAkBlC,OAAOmC,iBAAkBC,aAAaoC,YACxCC,UAAW,CAAElC,MAAO,mCAAoCQ,WAAW,IACnFb,EAAgBwC,cAAejE,EAAM5B,qCAErCiG,EAAY3F,KAAK4F,yBAA0B7C,EAAiB,kBAE5D2C,EAAMxB,OAAQyB,GACdD,EAAMxB,OAAQ,uCAGd2B,EAAoBhF,OAAOmC,iBAAkBC,aAAaS,cAExCxB,UAAW,CAC5B+D,WAAW,EACX5D,0BAA0B,EAC1BC,YAAa,qBACbsB,WAAW,EACXR,MAAO,mBAGRyC,EAAkBN,cAAejE,EAAM7B,sBACvCkG,EAAY3F,KAAK4F,yBAA0BC,EAAmB,aAC9DH,EAAMxB,OAAQyB,GAEd3F,KAAKsD,qBAAsB/C,EAAEC,KAAK1B,EAAG,eAAiB,CAACiE,EAAiB8C,GAAoBJ,EAAmC,GAAIC,GAAO,GAAO,GAGjJA,EAAQnF,EAAG,8BAGXwC,EAAkBlC,OAAOmC,iBAAkBC,aAAaoC,YACxCC,UAAW,CAAElC,MAAO,6BAA8BQ,WAAW,IAC7Eb,EAAgBwC,cAAejE,EAAM3B,+BAErCgG,EAAY3F,KAAK4F,yBAA0B7C,EAAiB,kBAE5D2C,EAAMxB,OAAQyB,GACdD,EAAMxB,OAAQ,uCAGd2B,EAAoBhF,OAAOmC,iBAAkBC,aAAaS,cAExCxB,UAAW,CAC5BC,UAAWxB,MAAMwF,WACjB9D,0BAA0B,EAC1BC,YAAa,kBACbE,oBAAoB,EACpBoB,WAAW,EACXR,MAAO,aAGRuC,EAAY3F,KAAK4F,yBAA0BC,EAAmB,aAC9DH,EAAMxB,OAAQyB,IAGdI,EAAoBlF,OAAOmC,iBAAkBC,aAAaqB,WACxCC,UAAW,CAAEnB,MAAO,6BACtCuC,EAAY3F,KAAK4F,yBAA0BG,EAAmB,mBAC9DL,EAAMxB,OAAQyB,GAEd3F,KAAKsD,qBAAsB/C,EAAEC,KAAK1B,EAAG,SAAW,CAACiE,EAAiB8C,EAAmBE,GAAoBN,EAAmC,GAAIC,GAAO,GAAO,IAKhK,iBAAkBU,GACjBpG,KAAKqG,YAAa,EAClBrG,KAAKsG,mCAAoCF,GAEzC,IAAIG,EAAMH,EAAOI,WACbC,EAAUL,EAAOM,WAErB1G,KAAK2G,oBAAoBJ,GAAOE,EAEnB,4BAARF,GACJvG,KAAK4G,6BAGO,6BAARL,GACJvG,KAAK6G,8BAEO,iCAARN,GACJvG,KAAK8G,kCAEO,gCAARP,GACJvG,KAAK+G,gCAEO,0BAARR,GACJvG,KAAKgH,2BAEO,qCAART,GACJvG,KAAKiH,oCAEO,+BAARV,GACJvG,KAAKkH,+BAGNlH,KAAKmH,WAGN,2BAaC,IAAM,IAAIZ,KAXVvG,KAAKoH,eAAgB,CACpB,2BAA4B,GAC5B,+BAAgC,GAChC,8BAA+B,GAC/B,wBAAyB,GACzB,mCAAoC,GACpC,6BAA8B,GAC9B,0BAA2B,KAIXpH,KAAK2G,oBAAsB,CAC3C,IAAIU,EAASrH,KAAKsH,iBAAiBf,GAC9B1F,OAAO0G,MAAOF,IAGhBA,EAAOG,SAAUxH,KAAK2G,oBAAoBJ,IAO9CvG,KAAK6G,8BACL7G,KAAK8G,kCACL9G,KAAK+G,gCACL/G,KAAKgH,2BACLhH,KAAKiH,oCACLjH,KAAKkH,+BAELlH,KAAKyH,mCACLzH,KAAK4G,6BACL5G,KAAK0H,sBAGN,6BAC6D,IAAvD1H,KAAK2G,oBAA6C,wBACtD3G,KAAK2H,cAAe,kBAEpB3H,KAAK4H,cAAe,kBAGrB5H,KAAK6H,kBAGN,8BAC8D,IAAxD7H,KAAK2G,oBAA8C,yBACvD3G,KAAKsH,iBAAyB,OAAEQ,YAAY,GAE5C9H,KAAKsH,iBAAyB,OAAEQ,YAAY,GAI9C,kCACkE,IAA5D9H,KAAK2G,oBAAkD,6BAC3D3G,KAAKsH,iBAA6B,WAAEQ,YAAY,GAEhD9H,KAAKsH,iBAA6B,WAAEQ,YAAY,GAIlD,gCAEQjH,OAAOC,qBAAuB,KAE4B,IAA3Dd,KAAK2G,oBAAiD,6BAAW3G,KAAK+H,WAC1E/H,KAAKsH,iBAA4B,UAAEQ,YAAY,GAE/C9H,KAAKsH,iBAA4B,UAAEQ,YAAY,IAKlD,2BACQjH,OAAOC,qBAAuB,KACsB,IAArDd,KAAK2G,oBAA2C,uBAAW3G,KAAK+H,WACpE/H,KAAKsH,iBAAsB,IAAEQ,YAAY,GAEzC9H,KAAKsH,iBAAsB,IAAEQ,YAAY,IAK5C,oCACQjH,OAAOC,qBAAuB,KACiC,IAAhEd,KAAK2G,oBAAsD,kCAAW3G,KAAK+H,WAC/E/H,KAAKsH,iBAAiC,eAAEQ,YAAY,GAEpD9H,KAAKsH,iBAAiC,eAAEQ,YAAY,IAKvD,+BACQjH,OAAOC,qBAAuB,KAC2B,IAA1Dd,KAAK2G,oBAAgD,4BAAW3G,KAAK+H,WACzE/H,KAAKsH,iBAA2B,SAAEQ,YAAY,GAE9C9H,KAAKsH,iBAA2B,SAAEQ,YAAY,IAKjD,0BACMjH,OAAOC,qBAAuB,IAClCd,KAAK2C,cAAcC,KAAM,sBAAuBA,KAAM,iBAAkBoF,IAAK,UAAW,SACxFhI,KAAKiI,UAAUrF,KAAM,2BAA4BoF,IAAK,UAAW,QACjEhI,KAAKmB,kBAAkB,GACvBnB,KAAKkI,gBAELlI,KAAK2C,cAAcC,KAAM,sBAAuBA,KAAM,iBAAkBoF,IAAK,UAAW,QACxFhI,KAAKiI,UAAUrF,KAAM,2BAA4BoF,IAAK,UAAW,SACjEhI,KAAKiI,UAAUrF,KAAM,uBAAwBuF,KAAMtH,OAAOuH,sBAI5D,kCACMvH,OAAOC,qBAAuB,IAClCd,KAAK2C,cAAcC,KAAM,8BAA+BA,KAAM,iBAAkBoF,IAAK,UAAW,SAChGhI,KAAKiI,UAAUrF,KAAM,2BAA4BoF,IAAK,UAAW,QACjEhI,KAAKmB,kBAAkB,GACvBnB,KAAKkI,gBAELlI,KAAK2C,cAAcC,KAAM,8BAA+BA,KAAM,iBAAkBoF,IAAK,UAAW,QAChGhI,KAAKiI,UAAUrF,KAAM,2BAA4BoF,IAAK,UAAW,SACjEhI,KAAKiI,UAAUrF,KAAM,uBAAwBuF,KAAMtH,OAAOuH,sBAI5D,oBAECrI,MAAMsI,oBACNrI,KAAKsI,cAAgB,CAEpB,IAAIC,YAAa,CAChBzE,MAAOvD,EAAEC,KAAK1B,EAAG,QACjB0J,UAAW,EACXpF,MAAO,OACPqF,UAAU,EACVC,cAAc,EACdC,YAAY,EACZC,eAAgB3F,aAAaC,aAG9B,IAAIqF,YAAa,CAChBzE,MAAOvD,EAAEC,KAAK1B,EAAG,yBACjB0J,UAAW,EACXpF,MAAO,kCACPd,YAAa,sCACbH,UAAWxB,MAAMgD,6BACjB8E,UAAU,EACVC,cAAc,EACdC,YAAY,EACZC,eAAgB3F,aAAaS,cAG9B,IAAI6E,YAAa,CAChBzE,MAAOvD,EAAEC,KAAK1B,EAAG,cACjB0J,UAAW,EACXpF,MAAO,aACPd,YAAa,cACbH,UAAWxB,MAAMkI,QACjBJ,UAAU,EACVC,cAAc,EACdC,YAAY,EACZC,eAAgB3F,aAAaS,cAG9B,IAAI6E,YAAa,CAChBzE,MAAOvD,EAAEC,KAAK1B,EAAG,cACjB0J,UAAW,EACXpF,MAAO,aACPd,YAAa,cACbH,UAAWxB,MAAMkI,QACjBJ,UAAU,EACVC,cAAc,EACdC,YAAY,EACZC,eAAgB3F,aAAaS","file":"policy-contributing_shift_policy-ContributingShiftPolicyViewController.bundle.js?v=238b302aaf82d3c53aa4","sourcesContent":["export class ContributingShiftPolicyViewController extends BaseViewController {\n\tconstructor( options = {} ) {\n\t\t_.defaults( options, {\n\t\t\tel: '#contributing_shift_policy_view_container',\n\n\t\t\ttype_array: null,\n\t\t\tinclude_holiday_type_array: null,\n\t\t\tinclude_shift_type_array: null,\n\n\t\t\tbranch_selection_type_array: null,\n\t\t\tdepartment_selection_type_array: null,\n\n\t\t\tjob_group_selection_type_array: null,\n\t\t\tjob_selection_type_array: null,\n\n\t\t\tjob_group_array: null,\n\t\t\tjob_item_group_array: null,\n\n\t\t\tjob_item_group_selection_type_array: null,\n\t\t\tjob_item_selection_type_array: null,\n\n\t\t\tjob_group_api: null,\n\t\t\tjob_item_group_api: null,\n\t\t\tdate_api: null\n\t\t} );\n\n\t\tsuper( options );\n\t}\n\n\tinit( options ) {\n\t\t//this._super('initialize', options );\n\t\tthis.edit_view_tpl = 'ContributingShiftPolicyEditView.html';\n\t\tthis.permission_id = 'contributing_shift_policy';\n\t\tthis.viewId = 'ContributingShiftPolicy';\n\t\tthis.script_name = 'ContributingShiftPolicyView';\n\t\tthis.table_name_key = 'contributing_shift_policy';\n\t\tthis.context_menu_name = $.i18n._( 'Contributing Shift Policy' );\n\t\tthis.navigation_label = $.i18n._( 'Contributing Shift Policy' ) + ':';\n\t\tthis.api = TTAPI.APIContributingShiftPolicy;\n\t\tif ( ( Global.getProductEdition() >= 20 ) ) {\n\t\t\tthis.job_group_api = TTAPI.APIJobGroup;\n\t\t\tthis.job_item_group_api = TTAPI.APIJobItemGroup;\n\t\t}\n\n\t\tthis.date_api = TTAPI.APITTDate;\n\t\tthis.render();\n\t\tthis.buildContextMenu();\n\n\t\tthis.initData();\n\t\tthis.setSelectRibbonMenuIfNecessary();\n\t}\n\n\tinitOptions() {\n\t\tvar $this = this;\n\t\tthis.initDropDownOption( 'type' );\n\t\tthis.initDropDownOption( 'include_holiday_type' );\n\t\tthis.initDropDownOption( 'include_shift_type' );\n\t\tthis.initDropDownOption( 'branch_selection_type' );\n\t\tthis.initDropDownOption( 'department_selection_type' );\n\t\tthis.initDropDownOption( 'job_group_selection_type' );\n\t\tthis.initDropDownOption( 'job_selection_type' );\n\t\tthis.initDropDownOption( 'job_item_group_selection_type' );\n\t\tthis.initDropDownOption( 'job_item_selection_type' );\n\n\t\tif ( ( Global.getProductEdition() >= 20 ) ) {\n\t\t\tthis.job_group_api.getJobGroup( '', false, false, {\n\t\t\t\tonResult: function( res ) {\n\n\t\t\t\t\tres = res.getResult();\n\t\t\t\t\tres = Global.buildTreeRecord( res );\n\t\t\t\t\t$this.job_group_array = res;\n\n\t\t\t\t}\n\t\t\t} );\n\n\t\t\tthis.job_item_group_api.getJobItemGroup( '', false, false, {\n\t\t\t\tonResult: function( res ) {\n\n\t\t\t\t\tres = res.getResult();\n\t\t\t\t\tres = Global.buildTreeRecord( res );\n\t\t\t\t\t$this.job_item_group_array = res;\n\n\t\t\t\t}\n\t\t\t} );\n\t\t}\n\t}\n\n\tbuildEditViewUI() {\n\n\t\tsuper.buildEditViewUI();\n\n\t\tvar $this = this;\n\n\t\tvar tab_model = {\n\t\t\t'tab_contributing_shift_policy': { 'label': $.i18n._( 'Contributing Shift Policy' ) },\n\t\t\t'tab_date_criteria': {\n\t\t\t\t'label': $.i18n._( 'Date/Time Criteria' ),\n\t\t\t\t'init_callback': 'initSubDateCriteriaView'\n\t\t\t},\n\t\t\t'tab_differential_criteria': {\n\t\t\t\t'label': $.i18n._( 'Differential Criteria' ),\n\t\t\t\t'init_callback': 'initSubDifferentialCriteriaView'\n\t\t\t},\n\t\t\t'tab_audit': true,\n\t\t};\n\t\tthis.setTabModel( tab_model );\n\n\t\tthis.navigation.AComboBox( {\n\t\t\tapi_class: TTAPI.APIContributingShiftPolicy,\n\t\t\tid: this.script_name + '_navigation',\n\t\t\tallow_multiple_selection: false,\n\t\t\tlayout_name: 'global_over_time',\n\t\t\tnavigation_mode: true,\n\t\t\tshow_search_inputs: true\n\t\t} );\n\n\t\tthis.setNavigation();\n\n\t\t//Tab 0 start\n\t\tvar tab_contributing_shift_policy = this.edit_view_tab.find( '#tab_contributing_shift_policy' );\n\n\t\tvar tab_contributing_shift_policy_column1 = tab_contributing_shift_policy.find( '.first-column' );\n\n\t\tthis.edit_view_tabs[0] = [];\n\n\t\tthis.edit_view_tabs[0].push( tab_contributing_shift_policy_column1 );\n\n\t\t//Name\n\t\tvar form_item_input = Global.loadWidgetByName( FormItemType.TEXT_INPUT );\n\n\t\tform_item_input.TTextInput( { field: 'name', width: '100%' } );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Name' ), form_item_input, tab_contributing_shift_policy_column1, '' );\n\n\t\tform_item_input.parent().width( '45%' );\n\n\t\t// Description\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.TEXT_AREA );\n\t\tform_item_input.TTextArea( { field: 'description', width: '100%' } );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Description' ), form_item_input, tab_contributing_shift_policy_column1, '', null, null, true );\n\n\t\tform_item_input.parent().width( '45%' );\n\n\t\t// Wage Group\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.AWESOME_BOX );\n\t\tform_item_input.AComboBox( {\n\t\t\tapi_class: TTAPI.APIContributingPayCodePolicy,\n\t\t\tallow_multiple_selection: false,\n\t\t\tlayout_name: 'global_contributing_pay_code_policy',\n\t\t\tshow_search_inputs: true,\n\t\t\tset_empty: true,\n\t\t\tfield: 'contributing_pay_code_policy_id'\n\t\t} );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Contributing Pay Code Policy' ), form_item_input, tab_contributing_shift_policy_column1 );\n\n\t\t//Tab 1 start\n\t\tvar tab_date_criteria = this.edit_view_tab.find( '#tab_date_criteria' );\n\n\t\tvar tab_date_criteria_column1 = tab_date_criteria.find( '.first-column' );\n\n\t\tthis.edit_view_tabs[1] = [];\n\n\t\tthis.edit_view_tabs[1].push( tab_date_criteria_column1 );\n\n\t\tvar form_item_input;\n\t\tvar widgetContainer;\n\t\tvar label;\n\n\t\t// Start Date\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.DATE_PICKER );\n\t\tform_item_input.TDatePicker( { field: 'filter_start_date' } );\n\t\twidgetContainer = $( '<div class=\\'widget-h-box\\'></div>' );\n\t\tlabel = $( '<span class=\\'widget-right-label\\'> ' + $.i18n._( '(Leave blank for no start date)' ) + '</span>' );\n\t\twidgetContainer.append( form_item_input );\n\t\twidgetContainer.append( label );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Start Date' ), form_item_input, tab_date_criteria_column1, '', widgetContainer );\n\n\t\t// End Date\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.DATE_PICKER );\n\n\t\tform_item_input.TDatePicker( { field: 'filter_end_date' } );\n\n\t\twidgetContainer = $( '<div class=\\'widget-h-box\\'></div>' );\n\t\tlabel = $( '<span class=\\'widget-right-label\\'> ' + $.i18n._( '(Leave blank for no end date)' ) + '</span>' );\n\n\t\twidgetContainer.append( form_item_input );\n\t\twidgetContainer.append( label );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'End Date' ), form_item_input, tab_date_criteria_column1, '', widgetContainer );\n\n\t\t// Start Time\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.TIME_PICKER );\n\t\tform_item_input.TTimePicker( { field: 'filter_start_time' } );\n\n\t\twidgetContainer = $( '<div class=\\'widget-h-box\\'></div>' );\n\t\tlabel = $( '<span class=\\'widget-right-label\\'> ' + $.i18n._( '(Leave blank for no start time)' ) + '</span>' );\n\n\t\twidgetContainer.append( form_item_input );\n\t\twidgetContainer.append( label );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Start Time' ), form_item_input, tab_date_criteria_column1, '', widgetContainer );\n\n\t\t// End Time\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.TIME_PICKER );\n\t\tform_item_input.TTimePicker( { field: 'filter_end_time' } );\n\n\t\twidgetContainer = $( '<div class=\\'widget-h-box\\'></div>' );\n\t\tlabel = $( '<span class=\\'widget-right-label\\'> ' + $.i18n._( '(Leave blank for no end time)' ) + '</span>' );\n\n\t\twidgetContainer.append( form_item_input );\n\t\twidgetContainer.append( label );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'End Time' ), form_item_input, tab_date_criteria_column1, '', widgetContainer );\n\n\t\t// Effective Days\n\t\tvar form_item_sun_checkbox = Global.loadWidgetByName( FormItemType.CHECKBOX );\n\t\tform_item_sun_checkbox.TCheckbox( { field: 'sun' } );\n\n\t\tvar form_item_mon_checkbox = Global.loadWidgetByName( FormItemType.CHECKBOX );\n\t\tform_item_mon_checkbox.TCheckbox( { field: 'mon' } );\n\n\t\tvar form_item_tue_checkbox = Global.loadWidgetByName( FormItemType.CHECKBOX );\n\t\tform_item_tue_checkbox.TCheckbox( { field: 'tue' } );\n\n\t\tvar form_item_wed_checkbox = Global.loadWidgetByName( FormItemType.CHECKBOX );\n\t\tform_item_wed_checkbox.TCheckbox( { field: 'wed' } );\n\n\t\tvar form_item_thu_checkbox = Global.loadWidgetByName( FormItemType.CHECKBOX );\n\t\tform_item_thu_checkbox.TCheckbox( { field: 'thu' } );\n\n\t\tvar form_item_fri_checkbox = Global.loadWidgetByName( FormItemType.CHECKBOX );\n\t\tform_item_fri_checkbox.TCheckbox( { field: 'fri' } );\n\n\t\tvar form_item_sat_checkbox = Global.loadWidgetByName( FormItemType.CHECKBOX );\n\t\tform_item_sat_checkbox.TCheckbox( { field: 'sat' } );\n\n\t\twidgetContainer = $( '<div class=\\'\\'></div>' );\n\n\t\tvar sun = $( '<span class=\\'widget-top-label\\'> ' + $.i18n._( 'Sun' ) + ' <br> ' + ' </span>' );\n\t\tvar mon = $( '<span class=\\'widget-top-label\\'> ' + $.i18n._( 'Mon' ) + ' <br> ' + ' </span>' );\n\t\tvar tue = $( '<span class=\\'widget-top-label\\'> ' + $.i18n._( 'Tue' ) + ' <br> ' + ' </span>' );\n\t\tvar wed = $( '<span class=\\'widget-top-label\\'> ' + $.i18n._( 'Wed' ) + ' <br> ' + ' </span>' );\n\t\tvar thu = $( '<span class=\\'widget-top-label\\'> ' + $.i18n._( 'Thu' ) + ' <br> ' + ' </span>' );\n\t\tvar fri = $( '<span class=\\'widget-top-label\\'> ' + $.i18n._( 'Fri' ) + ' <br> ' + ' </span>' );\n\t\tvar sat = $( '<span class=\\'widget-top-label\\'> ' + $.i18n._( 'Sat' ) + ' <br> ' + ' </span>' );\n\n\t\tsun.append( form_item_sun_checkbox );\n\t\tmon.append( form_item_mon_checkbox );\n\t\ttue.append( form_item_tue_checkbox );\n\t\twed.append( form_item_wed_checkbox );\n\t\tthu.append( form_item_thu_checkbox );\n\t\tfri.append( form_item_fri_checkbox );\n\t\tsat.append( form_item_sat_checkbox );\n\n\t\twidgetContainer.append( sun );\n\t\twidgetContainer.append( mon );\n\t\twidgetContainer.append( tue );\n\t\twidgetContainer.append( wed );\n\t\twidgetContainer.append( thu );\n\t\twidgetContainer.append( fri );\n\t\twidgetContainer.append( sat );\n\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Effective Days' ), [form_item_sun_checkbox, form_item_mon_checkbox, form_item_tue_checkbox, form_item_wed_checkbox, form_item_thu_checkbox, form_item_fri_checkbox, form_item_sat_checkbox], tab_date_criteria_column1, '', widgetContainer, false, true );\n\n\t\t// Holidays\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.COMBO_BOX );\n\t\tform_item_input.TComboBox( { field: 'include_holiday_type_id', set_empty: false } );\n\t\tform_item_input.setSourceData( $this.include_holiday_type_array );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Holidays' ), form_item_input, tab_date_criteria_column1 );\n\n\t\t// Holiday Policies\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.AWESOME_BOX );\n\t\tform_item_input.AComboBox( {\n\t\t\tapi_class: TTAPI.APIHolidayPolicy,\n\t\t\tallow_multiple_selection: true,\n\t\t\tlayout_name: 'global_holiday',\n\t\t\tshow_search_inputs: true,\n\t\t\tset_empty: true,\n\t\t\tfield: 'holiday_policy'\n\t\t} );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Holiday Policies' ), form_item_input, tab_date_criteria_column1, '', null, true );\n\n\t\t// Include Shift Type\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.COMBO_BOX );\n\t\tform_item_input.TComboBox( { field: 'include_shift_type_id', set_empty: false } );\n\t\tform_item_input.setSourceData( $this.include_shift_type_array );\n\n\t\twidgetContainer = $( '<div class=\\'widget-h-box\\'></div>' );\n\t\tlabel = $( '<span class=\\'widget-right-label\\'> ' + $.i18n._( '(Between above start/end times)' ) + '</span>' );\n\t\twidgetContainer.append( form_item_input );\n\t\twidgetContainer.append( label );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Shift Criteria' ), form_item_input, tab_date_criteria_column1, '', widgetContainer );\n\n\t\t//\n\t\t// Tab2 start\n\t\t//\n\t\tvar tab_differential_criteria = this.edit_view_tab.find( '#tab_differential_criteria' );\n\n\t\tvar tab_differential_criteria_column1 = tab_differential_criteria.find( '.first-column' );\n\n\t\tthis.edit_view_tabs[2] = [];\n\n\t\tthis.edit_view_tabs[2].push( tab_differential_criteria_column1 );\n\n\t\t// Branches\n\t\tvar v_box = $( '<div class=\\'v-box\\'></div>' );\n\n\t\t//Selection Type\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.COMBO_BOX );\n\t\tform_item_input.TComboBox( { field: 'branch_selection_type_id', set_empty: false } );\n\t\tform_item_input.setSourceData( $this.branch_selection_type_array );\n\n\t\tform_item = this.putInputToInsideFormItem( form_item_input, 'Selection Type' );\n\n\t\tv_box.append( form_item );\n\t\tv_box.append( '<div class=\\'clear-both-div\\'></div>' );\n\n\t\t//Selection\n\t\tvar form_item_input_1 = Global.loadWidgetByName( FormItemType.AWESOME_BOX );\n\n\t\tform_item_input_1.AComboBox( {\n\t\t\tapi_class: TTAPI.APIBranch,\n\t\t\tallow_multiple_selection: true,\n\t\t\tlayout_name: 'global_branch',\n\t\t\tshow_search_inputs: true,\n\t\t\tset_empty: true,\n\t\t\tfield: 'branch'\n\t\t} );\n\n\t\tvar form_item = this.putInputToInsideFormItem( form_item_input_1, 'Selection' );\n\n\t\tv_box.append( form_item );\n\n\t\t// Exclude Default\n\t\tvar form_item_input_2 = Global.loadWidgetByName( FormItemType.CHECKBOX );\n\n\t\tform_item_input_2.TCheckbox( { field: 'exclude_default_branch' } );\n\n\t\tform_item = this.putInputToInsideFormItem( form_item_input_2, 'Exclude Default' );\n\n\t\tv_box.append( form_item );\n\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Branches' ), [form_item_input, form_item_input_1, form_item_input_2], tab_differential_criteria_column1, '', v_box, false, true );\n\n\t\t// Departments\n\t\tv_box = $( '<div class=\\'v-box\\'></div>' );\n\n\t\t//Selection Type\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.COMBO_BOX );\n\t\tform_item_input.TComboBox( { field: 'department_selection_type_id', set_empty: false } );\n\t\tform_item_input.setSourceData( $this.department_selection_type_array );\n\n\t\tform_item = this.putInputToInsideFormItem( form_item_input, 'Selection Type' );\n\n\t\tv_box.append( form_item );\n\t\tv_box.append( '<div class=\\'clear-both-div\\'></div>' );\n\n\t\t//Selection\n\t\tform_item_input_1 = Global.loadWidgetByName( FormItemType.AWESOME_BOX );\n\n\t\tform_item_input_1.AComboBox( {\n\t\t\tapi_class: TTAPI.APIDepartment,\n\t\t\tallow_multiple_selection: true,\n\t\t\tlayout_name: 'global_department',\n\t\t\tshow_search_inputs: true,\n\t\t\tset_empty: true,\n\t\t\tfield: 'department'\n\t\t} );\n\n\t\tform_item = this.putInputToInsideFormItem( form_item_input_1, 'Selection' );\n\n\t\tv_box.append( form_item );\n\n\t\t// Exclude Default\n\t\tform_item_input_2 = Global.loadWidgetByName( FormItemType.CHECKBOX );\n\n\t\tform_item_input_2.TCheckbox( { field: 'exclude_default_department' } );\n\n\t\tform_item = this.putInputToInsideFormItem( form_item_input_2, 'Exclude Default' );\n\n\t\tv_box.append( form_item );\n\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Departments' ), [form_item_input, form_item_input_1, form_item_input_2], tab_differential_criteria_column1, '', v_box, false, true );\n\n\t\tif ( ( Global.getProductEdition() >= 20 ) ) {\n\t\t\t// Job Groups\n\t\t\tv_box = $( '<div class=\\'v-box\\'></div>' );\n\n\t\t\t//Selection Type\n\t\t\tform_item_input = Global.loadWidgetByName( FormItemType.COMBO_BOX );\n\t\t\tform_item_input.TComboBox( { field: 'job_group_selection_type_id', set_empty: false } );\n\t\t\tform_item_input.setSourceData( $this.job_group_selection_type_array );\n\n\t\t\tform_item = this.putInputToInsideFormItem( form_item_input, 'Selection Type' );\n\n\t\t\tv_box.append( form_item );\n\t\t\tv_box.append( '<div class=\\'clear-both-div\\'></div>' );\n\n\t\t\t//Selection\n\t\t\tform_item_input_1 = Global.loadWidgetByName( FormItemType.AWESOME_BOX );\n\n\t\t\tform_item_input_1.AComboBox( {\n\t\t\t\ttree_mode: true,\n\t\t\t\tallow_multiple_selection: true,\n\t\t\t\tlayout_name: 'global_tree_column',\n\t\t\t\tset_empty: true,\n\t\t\t\tfield: 'job_group'\n\t\t\t} );\n\n\t\t\tform_item_input_1.setSourceData( $this.job_group_array );\n\n\t\t\tform_item = this.putInputToInsideFormItem( form_item_input_1, 'Selection' );\n\n\t\t\tv_box.append( form_item );\n\n\t\t\tthis.addEditFieldToColumn( $.i18n._( 'Job Groups' ), [form_item_input, form_item_input_1], tab_differential_criteria_column1, '', v_box, false, true );\n\n\t\t\t// Jobs\n\t\t\tv_box = $( '<div class=\\'v-box\\'></div>' );\n\n\t\t\t//Selection Type\n\t\t\tform_item_input = Global.loadWidgetByName( FormItemType.COMBO_BOX );\n\t\t\tform_item_input.TComboBox( { field: 'job_selection_type_id', set_empty: false } );\n\t\t\tform_item_input.setSourceData( $this.job_selection_type_array );\n\n\t\t\tform_item = this.putInputToInsideFormItem( form_item_input, 'Selection Type' );\n\n\t\t\tv_box.append( form_item );\n\t\t\tv_box.append( '<div class=\\'clear-both-div\\'></div>' );\n\n\t\t\t//Selection\n\t\t\tform_item_input_1 = Global.loadWidgetByName( FormItemType.AWESOME_BOX );\n\n\t\t\tform_item_input_1.AComboBox( {\n\t\t\t\tapi_class: TTAPI.APIJob,\n\t\t\t\tallow_multiple_selection: true,\n\t\t\t\tlayout_name: 'global_job',\n\t\t\t\tshow_search_inputs: true,\n\t\t\t\tset_empty: true,\n\t\t\t\tfield: 'job'\n\t\t\t} );\n\n\t\t\tform_item = this.putInputToInsideFormItem( form_item_input_1, 'Selection' );\n\n\t\t\tv_box.append( form_item );\n\n\t\t\t// Exclude Default\n\t\t\tform_item_input_2 = Global.loadWidgetByName( FormItemType.CHECKBOX );\n\t\t\tform_item_input_2.TCheckbox( { field: 'exclude_default_job' } );\n\t\t\tform_item = this.putInputToInsideFormItem( form_item_input_2, 'Exclude Default' );\n\t\t\tv_box.append( form_item );\n\n\t\t\tthis.addEditFieldToColumn( $.i18n._( 'Jobs' ), [form_item_input, form_item_input_1, form_item_input_2], tab_differential_criteria_column1, '', v_box, false, true );\n\n\t\t\t// Task Groups\n\t\t\tv_box = $( '<div class=\\'v-box\\'></div>' );\n\n\t\t\t//Selection Type\n\t\t\tform_item_input = Global.loadWidgetByName( FormItemType.COMBO_BOX );\n\t\t\tform_item_input.TComboBox( { field: 'job_item_group_selection_type_id', set_empty: false } );\n\t\t\tform_item_input.setSourceData( $this.job_item_group_selection_type_array );\n\n\t\t\tform_item = this.putInputToInsideFormItem( form_item_input, 'Selection Type' );\n\n\t\t\tv_box.append( form_item );\n\t\t\tv_box.append( '<div class=\\'clear-both-div\\'></div>' );\n\n\t\t\t//Selection\n\t\t\tform_item_input_1 = Global.loadWidgetByName( FormItemType.AWESOME_BOX );\n\n\t\t\tform_item_input_1.AComboBox( {\n\t\t\t\ttree_mode: true,\n\t\t\t\tallow_multiple_selection: true,\n\t\t\t\tlayout_name: 'global_tree_column',\n\t\t\t\tset_empty: true,\n\t\t\t\tfield: 'job_item_group'\n\t\t\t} );\n\n\t\t\tform_item_input_1.setSourceData( $this.job_item_group_array );\n\t\t\tform_item = this.putInputToInsideFormItem( form_item_input_1, 'Selection' );\n\t\t\tv_box.append( form_item );\n\n\t\t\tthis.addEditFieldToColumn( $.i18n._( 'Task Groups' ), [form_item_input, form_item_input_1], tab_differential_criteria_column1, '', v_box, false, true );\n\n\t\t\t// Tasks\n\t\t\tv_box = $( '<div class=\\'v-box\\'></div>' );\n\n\t\t\t//Selection Type\n\t\t\tform_item_input = Global.loadWidgetByName( FormItemType.COMBO_BOX );\n\t\t\tform_item_input.TComboBox( { field: 'job_item_selection_type_id', set_empty: false } );\n\t\t\tform_item_input.setSourceData( $this.job_item_selection_type_array );\n\n\t\t\tform_item = this.putInputToInsideFormItem( form_item_input, 'Selection Type' );\n\n\t\t\tv_box.append( form_item );\n\t\t\tv_box.append( '<div class=\\'clear-both-div\\'></div>' );\n\n\t\t\t//Selection\n\t\t\tform_item_input_1 = Global.loadWidgetByName( FormItemType.AWESOME_BOX );\n\n\t\t\tform_item_input_1.AComboBox( {\n\t\t\t\tapi_class: TTAPI.APIJobItem,\n\t\t\t\tallow_multiple_selection: true,\n\t\t\t\tlayout_name: 'global_job_item',\n\t\t\t\tshow_search_inputs: true,\n\t\t\t\tset_empty: true,\n\t\t\t\tfield: 'job_item'\n\t\t\t} );\n\n\t\t\tform_item = this.putInputToInsideFormItem( form_item_input_1, 'Selection' );\n\t\t\tv_box.append( form_item );\n\n\t\t\t// Exclude Default\n\t\t\tform_item_input_2 = Global.loadWidgetByName( FormItemType.CHECKBOX );\n\t\t\tform_item_input_2.TCheckbox( { field: 'exclude_default_job_item' } );\n\t\t\tform_item = this.putInputToInsideFormItem( form_item_input_2, 'Exclude Default' );\n\t\t\tv_box.append( form_item );\n\n\t\t\tthis.addEditFieldToColumn( $.i18n._( 'Tasks' ), [form_item_input, form_item_input_1, form_item_input_2], tab_differential_criteria_column1, '', v_box, false, true );\n\n\t\t}\n\t}\n\n\tonFormItemChange( target ) {\n\t\tthis.is_changed = true;\n\t\tthis.setMassEditingFieldsWhenFormChange( target );\n\n\t\tvar key = target.getField();\n\t\tvar c_value = target.getValue();\n\n\t\tthis.current_edit_record[key] = c_value;\n\n\t\tif ( key === 'include_holiday_type_id' ) {\n\t\t\tthis.onIncludeHolidayTypeChange();\n\t\t}\n\n\t\tif ( key === 'branch_selection_type_id' ) {\n\t\t\tthis.onBranchSelectionTypeChange();\n\t\t}\n\t\tif ( key === 'department_selection_type_id' ) {\n\t\t\tthis.onDepartmentSelectionTypeChange();\n\t\t}\n\t\tif ( key === 'job_group_selection_type_id' ) {\n\t\t\tthis.onJobGroupSelectionTypeChange();\n\t\t}\n\t\tif ( key === 'job_selection_type_id' ) {\n\t\t\tthis.onJobSelectionTypeChange();\n\t\t}\n\t\tif ( key === 'job_item_group_selection_type_id' ) {\n\t\t\tthis.onJobItemGroupSelectionTypeChange();\n\t\t}\n\t\tif ( key === 'job_item_selection_type_id' ) {\n\t\t\tthis.onJobItemSelectionTypeChange();\n\t\t}\n\n\t\tthis.validate();\n\t}\n\n\tsetCurrentEditRecordData() {\n\t\t// When mass editing, these fields may not be the common data, so their value will be undefined, so this will cause their change event cannot work properly.\n\t\tthis.setDefaultData( {\n\t\t\t'branch_selection_type_id': 10,\n\t\t\t'department_selection_type_id': 10,\n\t\t\t'job_group_selection_type_id': 10,\n\t\t\t'job_selection_type_id': 10,\n\t\t\t'job_item_group_selection_type_id': 10,\n\t\t\t'job_item_selection_type_id': 10,\n\t\t\t'include_holiday_type_id': 10\n\t\t} );\n\n\t\t//Set current edit record data to all widgets\n\t\tfor ( var key in this.current_edit_record ) {\n\t\t\tvar widget = this.edit_view_ui_dic[key];\n\t\t\tif ( Global.isSet( widget ) ) {\n\t\t\t\tswitch ( key ) {\n\t\t\t\t\tdefault:\n\t\t\t\t\t\twidget.setValue( this.current_edit_record[key] );\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\n\t\t\t}\n\t\t}\n\n\t\tthis.onBranchSelectionTypeChange();\n\t\tthis.onDepartmentSelectionTypeChange();\n\t\tthis.onJobGroupSelectionTypeChange();\n\t\tthis.onJobSelectionTypeChange();\n\t\tthis.onJobItemGroupSelectionTypeChange();\n\t\tthis.onJobItemSelectionTypeChange();\n\n\t\tthis.collectUIDataToCurrentEditRecord();\n\t\tthis.onIncludeHolidayTypeChange();\n\t\tthis.setEditViewDataDone();\n\t}\n\n\tonIncludeHolidayTypeChange() {\n\t\tif ( this.current_edit_record['include_holiday_type_id'] == 10 ) {\n\t\t\tthis.detachElement( 'holiday_policy' );\n\t\t} else {\n\t\t\tthis.attachElement( 'holiday_policy' );\n\t\t}\n\n\t\tthis.editFieldResize();\n\t}\n\n\tonBranchSelectionTypeChange() {\n\t\tif ( this.current_edit_record['branch_selection_type_id'] == 10 ) {\n\t\t\tthis.edit_view_ui_dic['branch'].setEnabled( false );\n\t\t} else {\n\t\t\tthis.edit_view_ui_dic['branch'].setEnabled( true );\n\t\t}\n\t}\n\n\tonDepartmentSelectionTypeChange() {\n\t\tif ( this.current_edit_record['department_selection_type_id'] == 10 ) {\n\t\t\tthis.edit_view_ui_dic['department'].setEnabled( false );\n\t\t} else {\n\t\t\tthis.edit_view_ui_dic['department'].setEnabled( true );\n\t\t}\n\t}\n\n\tonJobGroupSelectionTypeChange() {\n\n\t\tif ( ( Global.getProductEdition() >= 20 ) ) {\n\n\t\t\tif ( this.current_edit_record['job_group_selection_type_id'] == 10 || this.is_viewing ) {\n\t\t\t\tthis.edit_view_ui_dic['job_group'].setEnabled( false );\n\t\t\t} else {\n\t\t\t\tthis.edit_view_ui_dic['job_group'].setEnabled( true );\n\t\t\t}\n\t\t}\n\t}\n\n\tonJobSelectionTypeChange() {\n\t\tif ( ( Global.getProductEdition() >= 20 ) ) {\n\t\t\tif ( this.current_edit_record['job_selection_type_id'] == 10 || this.is_viewing ) {\n\t\t\t\tthis.edit_view_ui_dic['job'].setEnabled( false );\n\t\t\t} else {\n\t\t\t\tthis.edit_view_ui_dic['job'].setEnabled( true );\n\t\t\t}\n\t\t}\n\t}\n\n\tonJobItemGroupSelectionTypeChange() {\n\t\tif ( ( Global.getProductEdition() >= 20 ) ) {\n\t\t\tif ( this.current_edit_record['job_item_group_selection_type_id'] == 10 || this.is_viewing ) {\n\t\t\t\tthis.edit_view_ui_dic['job_item_group'].setEnabled( false );\n\t\t\t} else {\n\t\t\t\tthis.edit_view_ui_dic['job_item_group'].setEnabled( true );\n\t\t\t}\n\t\t}\n\t}\n\n\tonJobItemSelectionTypeChange() {\n\t\tif ( ( Global.getProductEdition() >= 20 ) ) {\n\t\t\tif ( this.current_edit_record['job_item_selection_type_id'] == 10 || this.is_viewing ) {\n\t\t\t\tthis.edit_view_ui_dic['job_item'].setEnabled( false );\n\t\t\t} else {\n\t\t\t\tthis.edit_view_ui_dic['job_item'].setEnabled( true );\n\t\t\t}\n\t\t}\n\t}\n\n\tinitSubDateCriteriaView() {\n\t\tif ( Global.getProductEdition() >= 15 ) {\n\t\t\tthis.edit_view_tab.find( '#tab_date_criteria' ).find( '.first-column' ).css( 'display', 'block' );\n\t\t\tthis.edit_view.find( '.permission-defined-div' ).css( 'display', 'none' );\n\t\t\tthis.buildContextMenu( true );\n\t\t\tthis.setEditMenu();\n\t\t} else {\n\t\t\tthis.edit_view_tab.find( '#tab_date_criteria' ).find( '.first-column' ).css( 'display', 'none' );\n\t\t\tthis.edit_view.find( '.permission-defined-div' ).css( 'display', 'block' );\n\t\t\tthis.edit_view.find( '.permission-message' ).html( Global.getUpgradeMessage() );\n\t\t}\n\t}\n\n\tinitSubDifferentialCriteriaView() {\n\t\tif ( Global.getProductEdition() >= 15 ) {\n\t\t\tthis.edit_view_tab.find( '#tab_differential_criteria' ).find( '.first-column' ).css( 'display', 'block' );\n\t\t\tthis.edit_view.find( '.permission-defined-div' ).css( 'display', 'none' );\n\t\t\tthis.buildContextMenu( true );\n\t\t\tthis.setEditMenu();\n\t\t} else {\n\t\t\tthis.edit_view_tab.find( '#tab_differential_criteria' ).find( '.first-column' ).css( 'display', 'none' );\n\t\t\tthis.edit_view.find( '.permission-defined-div' ).css( 'display', 'block' );\n\t\t\tthis.edit_view.find( '.permission-message' ).html( Global.getUpgradeMessage() );\n\t\t}\n\t}\n\n\tbuildSearchFields() {\n\n\t\tsuper.buildSearchFields();\n\t\tthis.search_fields = [\n\n\t\t\tnew SearchField( {\n\t\t\t\tlabel: $.i18n._( 'Name' ),\n\t\t\t\tin_column: 1,\n\t\t\t\tfield: 'name',\n\t\t\t\tmultiple: true,\n\t\t\t\tbasic_search: true,\n\t\t\t\tadv_search: false,\n\t\t\t\tform_item_type: FormItemType.TEXT_INPUT\n\t\t\t} ),\n\n\t\t\tnew SearchField( {\n\t\t\t\tlabel: $.i18n._( 'Contributing Pay Code' ),\n\t\t\t\tin_column: 1,\n\t\t\t\tfield: 'contributing_pay_code_policy_id',\n\t\t\t\tlayout_name: 'global_contributing_pay_code_policy',\n\t\t\t\tapi_class: TTAPI.APIContributingPayCodePolicy,\n\t\t\t\tmultiple: true,\n\t\t\t\tbasic_search: true,\n\t\t\t\tadv_search: false,\n\t\t\t\tform_item_type: FormItemType.AWESOME_BOX\n\t\t\t} ),\n\n\t\t\tnew SearchField( {\n\t\t\t\tlabel: $.i18n._( 'Created By' ),\n\t\t\t\tin_column: 2,\n\t\t\t\tfield: 'created_by',\n\t\t\t\tlayout_name: 'global_user',\n\t\t\t\tapi_class: TTAPI.APIUser,\n\t\t\t\tmultiple: true,\n\t\t\t\tbasic_search: true,\n\t\t\t\tadv_search: false,\n\t\t\t\tform_item_type: FormItemType.AWESOME_BOX\n\t\t\t} ),\n\n\t\t\tnew SearchField( {\n\t\t\t\tlabel: $.i18n._( 'Updated By' ),\n\t\t\t\tin_column: 2,\n\t\t\t\tfield: 'updated_by',\n\t\t\t\tlayout_name: 'global_user',\n\t\t\t\tapi_class: TTAPI.APIUser,\n\t\t\t\tmultiple: true,\n\t\t\t\tbasic_search: true,\n\t\t\t\tadv_search: false,\n\t\t\t\tform_item_type: FormItemType.AWESOME_BOX\n\t\t\t} )\n\t\t];\n\t}\n\n}\n"],"sourceRoot":""}