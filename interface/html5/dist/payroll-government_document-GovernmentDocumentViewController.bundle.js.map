{"version":3,"sources":["webpack://timetrex/./interface/html5/views/payroll/government_document/GovernmentDocumentViewController.js"],"names":["GovernmentDocumentViewController","BaseViewController","options","_","defaults","el","super","this","permission_id","viewId","script_name","table_name_key","context_menu_name","$","i18n","navigation_label","api","TTAPI","APIGovernmentDocument","initPermission","render","buildContextMenu","initData","setSelectRibbonMenuIfNecessary","initDropDownOption","exclude","include","label","id","ContextMenuIconName","view","group","icon","Icons","delete_icon","doFormIFrameCall","object_id","getGridSelectIdArray","TFeedback","source","delay","post_data","url","ServiceCaller","getURLByObjectType","Global","APIFileDownload","buildSearchFields","search_fields","SearchField","in_column","field","multiple","basic_search","layout_name","form_item_type","FormItemType","AWESOME_BOX","api_class","APIUser","context_btn","grid_selected_length","pId","viewPermissionValidate","edit_only_mode","addClass","viewOwnerOrChildPermissionValidate","removeClass"],"mappings":"sNAAO,MAAMA,UAAyCC,mBACrD,YAAaC,EAAU,IACtBC,EAAEC,SAAUF,EAAS,CACpBG,GAAI,wCAKLC,MAAOJ,GAGR,OAECK,KAAKC,cAAgB,sBACrBD,KAAKE,OAAS,qBACdF,KAAKG,YAAc,yBACnBH,KAAKI,eAAiB,sBACtBJ,KAAKK,kBAAoBC,EAAEC,KAAKX,EAAG,wBACnCI,KAAKQ,iBAAmBF,EAAEC,KAAKX,EAAG,uBAA0B,IAC5DI,KAAKS,IAAMC,MAAMC,sBAEjBX,KAAKY,iBACLZ,KAAKa,SACLb,KAAKc,mBAELd,KAAKe,WACLf,KAAKgB,+BAAgC,sBAetC,cAEChB,KAAKiB,mBAAoB,OAAQ,WAGlC,4BAmBC,MAlByB,CACxBC,QAAS,CAAC,WACVC,QAAS,CACR,CACCC,MAAOd,EAAEC,KAAKX,EAAG,QACjByB,GAAIC,oBAAoBC,KACxBC,MAAO,SACPC,KAAMC,MAAMH,MAEb,CACCH,MAAOd,EAAEC,KAAKX,EAAG,UACjByB,GAAIC,oBAAoBK,YACxBH,MAAO,SACPC,KAAMC,MAAMC,eAQhB,cACC3B,KAAK4B,iBAAkB,CAAEC,UAAW7B,KAAK8B,yBAEzCxB,IAAIyB,UAAW,CACdC,OAAQ,OACRC,MAAO,MAIT,iBAAkBC,GACjB,IAAIC,EAAMC,cAAcC,mBAAoB,iBAAoB,mCAChEC,OAAOC,gBAAiB,KAAM,KAAML,EAAWC,GAGhD,oBAECpC,MAAMyC,oBACNxC,KAAKyC,cAAgB,CAEpB,IAAIC,YAAa,CAChBtB,MAAOd,EAAEC,KAAKX,EAAG,QACjB+C,UAAW,EACXC,MAAO,UACPC,UAAU,EACVC,cAAc,EACdC,YAAa,uBACbC,eAAgBC,aAAaC,cAG9B,IAAIR,YAAa,CAChBtB,MAAOd,EAAEC,KAAKX,EAAG,YACjB+C,UAAW,EACXC,MAAO,UACPG,YAAa,cACbI,UAAWzC,MAAM0C,QACjBP,UAAU,EACVC,cAAc,EACdE,eAAgBC,aAAaC,cAG9B,IAAIR,YAAa,CAChBtB,MAAOd,EAAEC,KAAKX,EAAG,cACjB+C,UAAW,EACXC,MAAO,aACPG,YAAa,cACbI,UAAWzC,MAAM0C,QACjBP,UAAU,EACVC,cAAc,EACdE,eAAgBC,aAAaC,cAG9B,IAAIR,YAAa,CAChBtB,MAAOd,EAAEC,KAAKX,EAAG,cACjB+C,UAAW,EACXC,MAAO,aACPG,YAAa,cACbI,UAAWzC,MAAM0C,QACjBP,UAAU,EACVC,cAAc,EACdE,eAAgBC,aAAaC,eAKhC,uBAAwBG,EAAaC,EAAsBC,GACpDvD,KAAKwD,uBAAwBD,KAASvD,KAAKyD,gBAChDJ,EAAYK,SAAU,mBAGlBJ,GAAwB,GAAKtD,KAAK2D,qCACtCN,EAAYO,YAAa,iBAEzBP,EAAYK,SAAU","file":"payroll-government_document-GovernmentDocumentViewController.bundle.js?v=aa7c6f4b9f58f61a5bcd","sourcesContent":["export class GovernmentDocumentViewController extends BaseViewController {\n\tconstructor( options = {} ) {\n\t\t_.defaults( options, {\n\t\t\tel: '#government_document_view_container',\n\n\n\t\t} );\n\n\t\tsuper( options );\n\t}\n\n\tinit() {\n\t\t//this._super('initialize' );\n\t\tthis.permission_id = 'government_document';\n\t\tthis.viewId = 'GovernmentDocument';\n\t\tthis.script_name = 'GovernmentDocumentView';\n\t\tthis.table_name_key = 'government_document';\n\t\tthis.context_menu_name = $.i18n._( 'Government Documents' );\n\t\tthis.navigation_label = $.i18n._( 'Government Document' ) + ':';\n\t\tthis.api = TTAPI.APIGovernmentDocument;\n\n\t\tthis.initPermission();\n\t\tthis.render();\n\t\tthis.buildContextMenu();\n\n\t\tthis.initData();\n\t\tthis.setSelectRibbonMenuIfNecessary( 'GovernmentDocument' );\n\t}\n\n//\tinitPermission() {\n//\n//\t\tsuper.initPermission();\n//\n//\t\tif ( PermissionManager.validate( this.permission_id, 'view' ) || PermissionManager.validate( this.permission_id, 'view_child' ) ) {\n//\t\t\tthis.show_search_tab = true;\n//\t\t} else {\n//\t\t\tthis.show_search_tab = false;\n//\t\t}\n//\n//\t},\n\n\tinitOptions() {\n\t\tvar $this = this;\n\t\tthis.initDropDownOption( 'type', 'type_id' );\n\t}\n\n\tgetCustomContextMenuModel() {\n\t\tvar context_menu_model = {\n\t\t\texclude: ['default'],\n\t\t\tinclude: [\n\t\t\t\t{\n\t\t\t\t\tlabel: $.i18n._( 'View' ),\n\t\t\t\t\tid: ContextMenuIconName.view,\n\t\t\t\t\tgroup: 'editor',\n\t\t\t\t\ticon: Icons.view\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tlabel: $.i18n._( 'Delete' ),\n\t\t\t\t\tid: ContextMenuIconName.delete_icon,\n\t\t\t\t\tgroup: 'editor',\n\t\t\t\t\ticon: Icons.delete_icon\n\t\t\t\t}\n\t\t\t]\n\t\t};\n\n\t\treturn context_menu_model;\n\t}\n\n\tonViewClick() {\n\t\tthis.doFormIFrameCall( { object_id: this.getGridSelectIdArray() } );\n\n\t\t$().TFeedback( {\n\t\t\tsource: 'View', // viewId GovernmentDocument will be prepended in TFeedback functions.\n\t\t\tdelay: 5000\n\t\t} );\n\t}\n\n\tdoFormIFrameCall( post_data ) {\n\t\tvar url = ServiceCaller.getURLByObjectType( 'file_download' ) + '&object_type=government_document';\n\t\tGlobal.APIFileDownload( null, null, post_data, url );\n\t}\n\n\tbuildSearchFields() {\n\n\t\tsuper.buildSearchFields();\n\t\tthis.search_fields = [\n\n\t\t\tnew SearchField( {\n\t\t\t\tlabel: $.i18n._( 'Type' ),\n\t\t\t\tin_column: 1,\n\t\t\t\tfield: 'type_id',\n\t\t\t\tmultiple: true,\n\t\t\t\tbasic_search: true,\n\t\t\t\tlayout_name: 'global_option_column',\n\t\t\t\tform_item_type: FormItemType.AWESOME_BOX\n\t\t\t} ),\n\n\t\t\tnew SearchField( {\n\t\t\t\tlabel: $.i18n._( 'Employee' ),\n\t\t\t\tin_column: 1,\n\t\t\t\tfield: 'user_id',\n\t\t\t\tlayout_name: 'global_user',\n\t\t\t\tapi_class: TTAPI.APIUser,\n\t\t\t\tmultiple: true,\n\t\t\t\tbasic_search: true,\n\t\t\t\tform_item_type: FormItemType.AWESOME_BOX\n\t\t\t} ),\n\n\t\t\tnew SearchField( {\n\t\t\t\tlabel: $.i18n._( 'Created By' ),\n\t\t\t\tin_column: 2,\n\t\t\t\tfield: 'created_by',\n\t\t\t\tlayout_name: 'global_user',\n\t\t\t\tapi_class: TTAPI.APIUser,\n\t\t\t\tmultiple: true,\n\t\t\t\tbasic_search: true,\n\t\t\t\tform_item_type: FormItemType.AWESOME_BOX\n\t\t\t} ),\n\n\t\t\tnew SearchField( {\n\t\t\t\tlabel: $.i18n._( 'Updated By' ),\n\t\t\t\tin_column: 2,\n\t\t\t\tfield: 'updated_by',\n\t\t\t\tlayout_name: 'global_user',\n\t\t\t\tapi_class: TTAPI.APIUser,\n\t\t\t\tmultiple: true,\n\t\t\t\tbasic_search: true,\n\t\t\t\tform_item_type: FormItemType.AWESOME_BOX\n\t\t\t} )\n\t\t];\n\t}\n\n\tsetDefaultMenuViewIcon( context_btn, grid_selected_length, pId ) {\n\t\tif ( !this.viewPermissionValidate( pId ) || this.edit_only_mode ) {\n\t\t\tcontext_btn.addClass( 'invisible-image' );\n\t\t}\n\n\t\tif ( grid_selected_length >= 1 && this.viewOwnerOrChildPermissionValidate() ) {\n\t\t\tcontext_btn.removeClass( 'disable-image' );\n\t\t} else {\n\t\t\tcontext_btn.addClass( 'disable-image' );\n\t\t}\n\t}\n\n}\n\n\n"],"sourceRoot":""}