(self.webpackChunktimetrex=self.webpackChunktimetrex||[]).push([["invoice-tax_policy-TaxPolicyViewController"],{5265:(e,i,t)=>{"use strict";t.r(i),t.d(i,{"TaxPolicyViewController":()=>a});class a extends BaseViewController{constructor(e={}){_.defaults(e,{el:"#tax_policy_view_container",status_array:null}),super(e)}init(e){this.edit_view_tpl="TaxPolicyEditView.html",this.permission_id="tax_policy",this.viewId="TaxPolicy",this.script_name="TaxPolicyView",this.table_name_key="tax_policy",this.context_menu_name=$.i18n._("Tax"),this.navigation_label=$.i18n._("Tax")+":",this.api=TTAPI.APITaxPolicy,this.render(),this.buildContextMenu(),this.initData(),this.setSelectRibbonMenuIfNecessary()}initOptions(){}buildEditViewUI(){super.buildEditViewUI();var e={"tab_tax":{"label":$.i18n._("Tax")},"tab_audit":!0};this.setTabModel(e),this.navigation.AComboBox({api_class:TTAPI.APITaxPolicy,id:this.script_name+"_navigation",allow_multiple_selection:!1,layout_name:"global_tax_policy",navigation_mode:!0,show_search_inputs:!0}),this.setNavigation();var i,t,a,l=this.edit_view_tab.find("#tab_tax").find(".first-column");this.edit_view_tabs[0]=[],this.edit_view_tabs[0].push(l);var o={filter_data:{}};o.filter_data.type_id=50,(i=Global.loadWidgetByName(FormItemType.AWESOME_BOX)).AComboBox({api_class:TTAPI.APIProduct,layout_name:"global_product",show_search_inputs:!0,set_empty:!0,field:"product_id"}),i.setDefaultArgs(o),this.addEditFieldToColumn($.i18n._("Product"),i,l,""),(i=Global.loadWidgetByName(FormItemType.TEXT_INPUT)).TTextInput({field:"code"}),this.addEditFieldToColumn($.i18n._("Code"),i,l),(i=Global.loadWidgetByName(FormItemType.TEXT_INPUT)).TTextInput({field:"name",width:"100%"}),this.addEditFieldToColumn($.i18n._("Name"),i,l),i.parent().width("45%"),(i=Global.loadWidgetByName(FormItemType.TEXT_INPUT)).TTextInput({field:"number"}),this.addEditFieldToColumn($.i18n._("Tax Number"),i,l),(i=Global.loadWidgetByName(FormItemType.TEXT_INPUT)).TTextInput({field:"percent",width:80}),t=$("<div class='widget-h-box'></div>"),a=$("<span class='widget-right-label'>%</span>"),t.append(i),t.append(a),this.addEditFieldToColumn($.i18n._("Percent"),i,l,"",t,!0),(i=Global.loadWidgetByName(FormItemType.TEXT_INPUT)).TTextInput({field:"priority",width:40}),this.addEditFieldToColumn($.i18n._("Priority"),i,l),(i=Global.loadWidgetByName(FormItemType.CHECKBOX)).TCheckbox({field:"display_number"}),this.addEditFieldToColumn($.i18n._("Display Number on Invoice"),i,l),(i=Global.loadWidgetByName(FormItemType.AWESOME_BOX)).AComboBox({api_class:TTAPI.APIAreaPolicy,allow_multiple_selection:!0,layout_name:"global_area_policy",show_search_inputs:!0,set_empty:!0,field:"include_area_policy"}),this.addEditFieldToColumn($.i18n._("Include Area Policy"),i,l,""),(i=Global.loadWidgetByName(FormItemType.AWESOME_BOX)).AComboBox({api_class:TTAPI.APIAreaPolicy,allow_multiple_selection:!0,layout_name:"global_area_policy",show_search_inputs:!0,set_empty:!0,field:"exclude_area_policy"}),this.addEditFieldToColumn($.i18n._("Exclude Area Policy"),i,l,"")}buildSearchFields(){super.buildSearchFields(),this.search_fields=[new SearchField({label:$.i18n._("Name"),in_column:1,field:"name",multiple:!0,basic_search:!0,form_item_type:FormItemType.TEXT_INPUT}),new SearchField({label:$.i18n._("Created By"),in_column:2,field:"created_by",layout_name:"global_user",api_class:TTAPI.APIUser,multiple:!0,basic_search:!0,adv_search:!1,form_item_type:FormItemType.AWESOME_BOX}),new SearchField({label:$.i18n._("Updated By"),in_column:2,field:"updated_by",layout_name:"global_user",api_class:TTAPI.APIUser,multiple:!0,basic_search:!0,adv_search:!1,form_item_type:FormItemType.AWESOME_BOX})]}}}}]);
//# sourceMappingURL=invoice-tax_policy-TaxPolicyViewController.bundle.js.map?v=79f4d6fc9b2110a1b813