(self.webpackChunktimetrex=self.webpackChunktimetrex||[]).push([["policy-premium_policy-PremiumPolicyViewController"],{5668:(e,i,t)=>{"use strict";t.r(i),t.d(i,{"PremiumPolicyViewController":()=>a});class a extends BaseViewController{constructor(e={}){_.defaults(e,{el:"#premium_policy_view_container",type_array:null,min_max_time_type_array:null,include_holiday_type_array:null,branch_selection_type_array:null,department_selection_type_array:null,job_group_selection_type_array:null,job_selection_type_array:null,job_group_array:null,job_item_group_array:null,job_item_group_selection_type_array:null,job_item_selection_type_array:null,job_group_api:null,job_item_group_api:null,date_api:null}),super(e)}init(e){this.edit_view_tpl="PremiumPolicyEditView.html",this.permission_id="premium_policy",this.viewId="PremiumPolicy",this.script_name="PremiumPolicyView",this.table_name_key="premium_policy",this.context_menu_name=$.i18n._("Premium Policy"),this.navigation_label=$.i18n._("Premium Policy")+":",this.api=TTAPI.APIPremiumPolicy,Global.getProductEdition()>=20&&(this.job_group_api=TTAPI.APIJobGroup,this.job_item_group_api=TTAPI.APIJobItemGroup),this.date_api=TTAPI.APITTDate,this.render(),this.buildContextMenu(),this.initData(),this.setSelectRibbonMenuIfNecessary()}initOptions(){var e=this;this.initDropDownOption("type"),this.initDropDownOption("min_max_time_type"),this.initDropDownOption("include_holiday_type"),this.initDropDownOption("branch_selection_type"),this.initDropDownOption("department_selection_type"),this.initDropDownOption("job_group_selection_type"),this.initDropDownOption("job_selection_type"),this.initDropDownOption("job_item_group_selection_type"),this.initDropDownOption("job_item_selection_type"),Global.getProductEdition()>=20&&(this.job_group_api.getJobGroup("",!1,!1,{onResult:function(i){i=i.getResult(),i=Global.buildTreeRecord(i),e.job_group_array=i}}),this.job_item_group_api.getJobItemGroup("",!1,!1,{onResult:function(i){i=i.getResult(),i=Global.buildTreeRecord(i),e.job_item_group_array=i}}))}buildEditViewUI(){super.buildEditViewUI();var e=this,i={"tab_premium_policy":{"label":$.i18n._("Premium Policy")},"tab_date_criteria":{"label":$.i18n._("Date/Time Criteria")},"tab_differential_criteria":{"label":$.i18n._("Differential Criteria")},"tab_meal_criteria":{"label":$.i18n._("Meal/Break Criteria")},"tab_callback_criteria":{"label":$.i18n._("CallBack Criteria")},"tab_minimum_shift_time_criteria":{"label":$.i18n._("Minimum Shift Time Criteria")},"tab_audit":!0};this.setTabModel(i),this.navigation.AComboBox({api_class:TTAPI.APIPremiumPolicy,id:this.script_name+"_navigation",allow_multiple_selection:!1,layout_name:"global_premium",navigation_mode:!0,show_search_inputs:!0}),this.setNavigation();var t,_,a,d=this.edit_view_tab.find("#tab_premium_policy").find(".first-column");this.edit_view_tabs[0]=[],this.edit_view_tabs[0].push(d),(t=Global.loadWidgetByName(FormItemType.TEXT_INPUT)).TTextInput({field:"name",width:"100%"}),this.addEditFieldToColumn($.i18n._("Name"),t,d,""),t.parent().width("45%"),(t=Global.loadWidgetByName(FormItemType.TEXT_AREA)).TTextArea({field:"description",width:"100%"}),this.addEditFieldToColumn($.i18n._("Description"),t,d,"",null,null,!0),t.parent().width("45%"),(t=Global.loadWidgetByName(FormItemType.COMBO_BOX)).TComboBox({field:"type_id",set_empty:!1}),t.setSourceData(e.type_array),this.addEditFieldToColumn($.i18n._("Type"),t,d),(t=Global.loadWidgetByName(FormItemType.SEPARATED_BOX)).SeparatedBox({label:$.i18n._("Hours/Pay Criteria")}),this.addEditFieldToColumn(null,t,d),(t=Global.loadWidgetByName(FormItemType.TEXT_INPUT)).TTextInput({field:"minimum_time",mode:"time_unit",need_parser_sec:!0}),_=$("<div class='widget-h-box'></div>"),a=$("<span class='widget-right-label'> "+$.i18n._("(Use 0 for no minimum)")+"</span>"),_.append(t),_.append(a),this.addEditFieldToColumn($.i18n._("Minimum Time"),t,d,"",_),(t=Global.loadWidgetByName(FormItemType.TEXT_INPUT)).TTextInput({field:"maximum_time",mode:"time_unit",need_parser_sec:!0}),_=$("<div class='widget-h-box'></div>"),a=$("<span class='widget-right-label'> "+$.i18n._("(Use 0 for no maximum)")+"</span>"),_.append(t),_.append(a),this.addEditFieldToColumn($.i18n._("Maximum Time"),t,d,"",_),(t=Global.loadWidgetByName(FormItemType.COMBO_BOX)).TComboBox({field:"min_max_time_type_id",set_empty:!1}),t.setSourceData(e.min_max_time_type_array),this.addEditFieldToColumn($.i18n._("Min/Max Time Resets"),t,d),(t=Global.loadWidgetByName(FormItemType.CHECKBOX)).TCheckbox({field:"include_partial_punch"}),this.addEditFieldToColumn($.i18n._("Include Partial Punches"),t,d,"",null,!0),(t=Global.loadWidgetByName(FormItemType.AWESOME_BOX)).AComboBox({api_class:TTAPI.APIContributingShiftPolicy,allow_multiple_selection:!1,layout_name:"global_contributing_shift_policy",show_search_inputs:!0,set_empty:!0,set_default:!0,field:"contributing_shift_policy_id"}),this.addEditFieldToColumn($.i18n._("Contributing Shift Policy"),t,d),(t=Global.loadWidgetByName(FormItemType.AWESOME_BOX)).AComboBox({api_class:TTAPI.APIPayCode,allow_multiple_selection:!1,layout_name:"global_pay_code",show_search_inputs:!0,set_default:!0,set_empty:!0,field:"pay_code_id"}),this.addEditFieldToColumn($.i18n._("Pay Code"),t,d),(t=Global.loadWidgetByName(FormItemType.AWESOME_BOX)).AComboBox({api_class:TTAPI.APIPayFormulaPolicy,allow_multiple_selection:!1,layout_name:"global_pay_formula_policy",show_search_inputs:!0,set_empty:!0,field:"pay_formula_policy_id",custom_first_label:$.i18n._("-- Defined By Pay Code --"),added_items:[{value:TTUUID.zero_id,label:$.i18n._("-- Defined By Pay Code --")}]}),this.addEditFieldToColumn($.i18n._("Pay Formula Policy"),t,d);var l=this.edit_view_tab.find("#tab_date_criteria").find(".first-column");this.edit_view_tabs[1]=[],this.edit_view_tabs[1].push(l),(t=Global.loadWidgetByName(FormItemType.DATE_PICKER)).TDatePicker({field:"start_date"}),this.addEditFieldToColumn($.i18n._("Start Date"),t,l,"",null),(t=Global.loadWidgetByName(FormItemType.DATE_PICKER)).TDatePicker({field:"end_date"}),this.addEditFieldToColumn($.i18n._("End Date"),t,l,"",null),(t=Global.loadWidgetByName(FormItemType.TIME_PICKER)).TTimePicker({field:"start_time"}),this.addEditFieldToColumn($.i18n._("Start Time"),t,l,"",null),(t=Global.loadWidgetByName(FormItemType.TIME_PICKER)).TTimePicker({field:"end_time"}),this.addEditFieldToColumn($.i18n._("End Time"),t,l,"",null);var o=Global.loadWidgetByName(FormItemType.TEXT_INPUT);o.TTextInput({field:"daily_trigger_time1",mode:"time_unit",need_parser_sec:!0});var n=Global.loadWidgetByName(FormItemType.TEXT_INPUT);n.TTextInput({field:"maximum_daily_trigger_time",mode:"time_unit",need_parser_sec:!0}),_=$("<div class='widget-h-box'></div>");var r=$("<span class='widget-right-label'> "+$.i18n._("Active After")+":  </span>"),s=$("<span class='widget-right-label'> "+$.i18n._("Active Before")+":  </span>");_.append(r),_.append(o),_.append(s),_.append(n),this.addEditFieldToColumn($.i18n._("Daily Time"),[o,n],l,"",_);var m=Global.loadWidgetByName(FormItemType.TEXT_INPUT);m.TTextInput({field:"weekly_trigger_time",mode:"time_unit",need_parser_sec:!0});var p=Global.loadWidgetByName(FormItemType.TEXT_INPUT);p.TTextInput({field:"maximum_weekly_trigger_time",mode:"time_unit",need_parser_sec:!0}),_=$("<div class='widget-h-box'></div>"),r=$("<span class='widget-right-label'> "+$.i18n._("Active After")+":  </span>"),s=$("<span class='widget-right-label'> "+$.i18n._("Active Before")+":  </span>"),_.append(r),_.append(m),_.append(s),_.append(p),this.addEditFieldToColumn($.i18n._("Weekly Time"),[m,p],l,"",_);var u=Global.loadWidgetByName(FormItemType.CHECKBOX);u.TCheckbox({field:"sun"});var c=Global.loadWidgetByName(FormItemType.CHECKBOX);c.TCheckbox({field:"mon"});var h=Global.loadWidgetByName(FormItemType.CHECKBOX);h.TCheckbox({field:"tue"});var b=Global.loadWidgetByName(FormItemType.CHECKBOX);b.TCheckbox({field:"wed"});var y=Global.loadWidgetByName(FormItemType.CHECKBOX);y.TCheckbox({field:"thu"});var T=Global.loadWidgetByName(FormItemType.CHECKBOX);T.TCheckbox({field:"fri"});var g=Global.loadWidgetByName(FormItemType.CHECKBOX);g.TCheckbox({field:"sat"}),_=$("<div class=''></div>");var f=$("<span class='widget-top-label'> "+$.i18n._("Sun")+" <br>  </span>"),w=$("<span class='widget-top-label'> "+$.i18n._("Mon")+" <br>  </span>"),v=$("<span class='widget-top-label'> "+$.i18n._("Tue")+" <br>  </span>"),I=$("<span class='widget-top-label'> "+$.i18n._("Wed")+" <br>  </span>"),C=$("<span class='widget-top-label'> "+$.i18n._("Thu")+" <br>  </span>"),E=$("<span class='widget-top-label'> "+$.i18n._("Fri")+" <br>  </span>"),B=$("<span class='widget-top-label'> "+$.i18n._("Sat")+" <br>  </span>");f.append(u),w.append(c),v.append(h),I.append(b),C.append(y),E.append(T),B.append(g),_.append(f),_.append(w),_.append(v),_.append(I),_.append(C),_.append(E),_.append(B),this.addEditFieldToColumn($.i18n._("Effective Days"),[u,c,h,b,y,T,g],l,"",_,!1,!0),(t=Global.loadWidgetByName(FormItemType.COMBO_BOX)).TComboBox({field:"include_holiday_type_id",set_empty:!1}),t.setSourceData(e.include_holiday_type_array),this.addEditFieldToColumn($.i18n._("Holidays"),t,l,"");var F=this.edit_view_tab.find("#tab_differential_criteria").find(".first-column");this.edit_view_tabs[2]=[],this.edit_view_tabs[2].push(F);var P=$("<div class='v-box'></div>");(t=Global.loadWidgetByName(FormItemType.COMBO_BOX)).TComboBox({field:"branch_selection_type_id",set_empty:!1}),t.setSourceData(e.branch_selection_type_array),S=this.putInputToInsideFormItem(t,$.i18n._("Selection Type")),P.append(S),P.append("<div class='clear-both-div'></div>");var x=Global.loadWidgetByName(FormItemType.AWESOME_BOX);x.AComboBox({api_class:TTAPI.APIBranch,allow_multiple_selection:!0,layout_name:"global_branch",show_search_inputs:!0,set_empty:!0,field:"branch"});var S=this.putInputToInsideFormItem(x,$.i18n._("Selection"));P.append(S);var O=Global.loadWidgetByName(FormItemType.CHECKBOX);O.TCheckbox({field:"exclude_default_branch"}),S=this.putInputToInsideFormItem(O,$.i18n._("Exclude Default")),P.append(S),this.addEditFieldToColumn($.i18n._("Branches"),[t,x,O],F,"",P,!1,!0),P=$("<div class='v-box'></div>"),(t=Global.loadWidgetByName(FormItemType.COMBO_BOX)).TComboBox({field:"department_selection_type_id",set_empty:!1}),t.setSourceData(e.department_selection_type_array),S=this.putInputToInsideFormItem(t,$.i18n._("Selection Type")),P.append(S),P.append("<div class='clear-both-div'></div>"),(x=Global.loadWidgetByName(FormItemType.AWESOME_BOX)).AComboBox({api_class:TTAPI.APIDepartment,allow_multiple_selection:!0,layout_name:"global_department",show_search_inputs:!0,set_empty:!0,field:"department"}),S=this.putInputToInsideFormItem(x,$.i18n._("Selection")),P.append(S),(O=Global.loadWidgetByName(FormItemType.CHECKBOX)).TCheckbox({field:"exclude_default_department"}),S=this.putInputToInsideFormItem(O,$.i18n._("Exclude Default")),P.append(S),this.addEditFieldToColumn($.i18n._("Departments"),[t,x,O],F,"",P,!1,!0),Global.getProductEdition()>=20&&(P=$("<div class='v-box'></div>"),(t=Global.loadWidgetByName(FormItemType.COMBO_BOX)).TComboBox({field:"job_group_selection_type_id",set_empty:!1}),t.setSourceData(e.job_group_selection_type_array),S=this.putInputToInsideFormItem(t,$.i18n._("Selection Type")),P.append(S),P.append("<div class='clear-both-div'></div>"),(x=Global.loadWidgetByName(FormItemType.AWESOME_BOX)).AComboBox({tree_mode:!0,allow_multiple_selection:!0,layout_name:"global_tree_column",set_empty:!0,field:"job_group"}),x.setSourceData(e.job_group_array),S=this.putInputToInsideFormItem(x,$.i18n._("Selection")),P.append(S),this.addEditFieldToColumn($.i18n._("Job Groups"),[t,x],F,"",P,!1,!0),P=$("<div class='v-box'></div>"),(t=Global.loadWidgetByName(FormItemType.COMBO_BOX)).TComboBox({field:"job_selection_type_id",set_empty:!1}),t.setSourceData(e.job_selection_type_array),S=this.putInputToInsideFormItem(t,$.i18n._("Selection Type")),P.append(S),P.append("<div class='clear-both-div'></div>"),(x=Global.loadWidgetByName(FormItemType.AWESOME_BOX)).AComboBox({api_class:TTAPI.APIJob,allow_multiple_selection:!0,layout_name:"global_job",show_search_inputs:!0,set_empty:!0,field:"job"}),S=this.putInputToInsideFormItem(x,$.i18n._("Selection")),P.append(S),this.addEditFieldToColumn($.i18n._("Jobs"),[t,x],F,"",P,!1,!0),P=$("<div class='v-box'></div>"),(t=Global.loadWidgetByName(FormItemType.COMBO_BOX)).TComboBox({field:"job_item_group_selection_type_id",set_empty:!1}),t.setSourceData(e.job_item_group_selection_type_array),S=this.putInputToInsideFormItem(t,$.i18n._("Selection Type")),P.append(S),P.append("<div class='clear-both-div'></div>"),(x=Global.loadWidgetByName(FormItemType.AWESOME_BOX)).AComboBox({tree_mode:!0,allow_multiple_selection:!0,layout_name:"global_tree_column",set_empty:!0,field:"job_item_group"}),x.setSourceData(e.job_item_group_array),S=this.putInputToInsideFormItem(x,$.i18n._("Selection")),P.append(S),this.addEditFieldToColumn($.i18n._("Task Groups"),[t,x],F,"",P,!1,!0),P=$("<div class='v-box'></div>"),(t=Global.loadWidgetByName(FormItemType.COMBO_BOX)).TComboBox({field:"job_item_selection_type_id",set_empty:!1}),t.setSourceData(e.job_item_selection_type_array),S=this.putInputToInsideFormItem(t,$.i18n._("Selection Type")),P.append(S),P.append("<div class='clear-both-div'></div>"),(x=Global.loadWidgetByName(FormItemType.AWESOME_BOX)).AComboBox({api_class:TTAPI.APIJobItem,allow_multiple_selection:!0,layout_name:"global_job_item",show_search_inputs:!0,set_empty:!0,field:"job_item"}),S=this.putInputToInsideFormItem(x,$.i18n._("Selection")),P.append(S),this.addEditFieldToColumn($.i18n._("Tasks"),[t,x],F,"",P,!1,!0));var A=this.edit_view_tab.find("#tab_meal_criteria").find(".first-column");this.edit_view_tabs[3]=[],this.edit_view_tabs[3].push(A),(t=Global.loadWidgetByName(FormItemType.TEXT_INPUT)).TTextInput({field:"daily_trigger_time2",mode:"time_unit",need_parser_sec:!0}),this.addEditFieldToColumn($.i18n._("Active After Daily Hours"),t,A,"",null),(t=Global.loadWidgetByName(FormItemType.TEXT_INPUT)).TTextInput({field:"maximum_no_break_time",mode:"time_unit",need_parser_sec:!0}),this.addEditFieldToColumn($.i18n._("Maximum Time Without A Break"),t,A,"",null),(t=Global.loadWidgetByName(FormItemType.TEXT_INPUT)).TTextInput({field:"minimum_break_time",mode:"time_unit",need_parser_sec:!0}),this.addEditFieldToColumn($.i18n._("Minimum Time Recognized As Break"),t,A,"",null);var G=this.edit_view_tab.find("#tab_callback_criteria").find(".first-column");this.edit_view_tabs[4]=[],this.edit_view_tabs[4].push(G),(t=Global.loadWidgetByName(FormItemType.TEXT_INPUT)).TTextInput({field:"minimum_time_between_shift1",mode:"time_unit",need_parser_sec:!0}),this.addEditFieldToColumn($.i18n._("Minimum Time Between Shifts"),t,G,"",null),(t=Global.loadWidgetByName(FormItemType.TEXT_INPUT)).TTextInput({field:"minimum_first_shift_time",mode:"time_unit",need_parser_sec:!0}),this.addEditFieldToColumn($.i18n._("First Shift Must Be At Least"),t,G,"",null);var N=this.edit_view_tab.find("#tab_minimum_shift_time_criteria").find(".first-column");this.edit_view_tabs[5]=[],this.edit_view_tabs[5].push(N),(t=Global.loadWidgetByName(FormItemType.TEXT_INPUT)).TTextInput({field:"minimum_shift_time",mode:"time_unit",need_parser_sec:!0}),this.addEditFieldToColumn($.i18n._("Minimum Shift Time"),t,N,"",null),(t=Global.loadWidgetByName(FormItemType.TEXT_INPUT)).TTextInput({field:"minimum_time_between_shift2",mode:"time_unit",need_parser_sec:!0}),this.addEditFieldToColumn($.i18n._("Minimum Time-Off Between Shifts"),t,N,"",null)}setCurrentEditRecordData(){for(var e in this.setDefaultData({"branch_selection_type_id":10,"department_selection_type_id":10,"job_group_selection_type_id":10,"job_selection_type_id":10,"job_item_group_selection_type_id":10,"job_item_selection_type_id":10,"type_id":10}),this.current_edit_record){var i=this.edit_view_ui_dic[e];if(Global.isSet(i))switch(e){case"minimum_time_between_shift1":case"minimum_time_between_shift2":Global.isSet(this.current_edit_record.minimum_time_between_shift)?i.setValue(this.current_edit_record.minimum_time_between_shift):i.setValue(this.current_edit_record[e]);break;case"daily_trigger_time1":case"daily_trigger_time2":Global.isSet(this.current_edit_record.daily_trigger_time)?i.setValue(this.current_edit_record.daily_trigger_time):i.setValue(this.current_edit_record[e]);break;case"pay_type_id":i.setValue(this.current_edit_record[e]),this.onPayTypeChange();break;case"branch_selection_type_id":i.setValue(this.current_edit_record[e]),this.onBranchSelectionTypeChange();break;case"department_selection_type_id":i.setValue(this.current_edit_record[e]),this.onDepartmentSelectionTypeChange();break;case"job_group_selection_type_id":i.setValue(this.current_edit_record[e]),this.onJobGroupSelectionTypeChange();break;case"job_selection_type_id":i.setValue(this.current_edit_record[e]),this.onJobSelectionTypeChange();break;case"job_item_group_selection_type_id":i.setValue(this.current_edit_record[e]),this.onJobItemGroupSelectionTypeChange();break;case"job_item_selection_type_id":i.setValue(this.current_edit_record[e]),this.onJobItemSelectionTypeChange();break;case"type_id":i.setValue(this.current_edit_record[e]),this.onTypeChange();break;default:i.setValue(this.current_edit_record[e])}}this.collectUIDataToCurrentEditRecord(),this.setEditViewDataDone()}onBranchSelectionTypeChange(){10==this.current_edit_record.branch_selection_type_id||this.is_viewing?this.edit_view_ui_dic.branch.setEnabled(!1):this.edit_view_ui_dic.branch.setEnabled(!0)}onDepartmentSelectionTypeChange(){10==this.current_edit_record.department_selection_type_id||this.is_viewing?this.edit_view_ui_dic.department.setEnabled(!1):this.edit_view_ui_dic.department.setEnabled(!0)}onJobGroupSelectionTypeChange(){Global.getProductEdition()>=20&&(10==this.current_edit_record.job_group_selection_type_id||this.is_viewing?this.edit_view_ui_dic.job_group.setEnabled(!1):this.edit_view_ui_dic.job_group.setEnabled(!0))}onJobSelectionTypeChange(){Global.getProductEdition()>=20&&(10==this.current_edit_record.job_selection_type_id||this.is_viewing?this.edit_view_ui_dic.job.setEnabled(!1):this.edit_view_ui_dic.job.setEnabled(!0))}onJobItemGroupSelectionTypeChange(){Global.getProductEdition()>=20&&(10==this.current_edit_record.job_item_group_selection_type_id||this.is_viewing?this.edit_view_ui_dic.job_item_group.setEnabled(!1):this.edit_view_ui_dic.job_item_group.setEnabled(!0))}onJobItemSelectionTypeChange(){Global.getProductEdition()>=20&&(10==this.current_edit_record.job_item_selection_type_id||this.is_viewing?this.edit_view_ui_dic.job_item.setEnabled(!1):this.edit_view_ui_dic.job_item.setEnabled(!0))}onPayTypeChange(){10==this.current_edit_record.pay_type_id||42==this.current_edit_record.pay_type_id?(this.edit_view_form_item_dic.rate.find(".edit-view-form-item-label").text($.i18n._("Rate")+": "),this.edit_view_form_item_dic.rate.find(".widget-right-label").text("("+$.i18n._("ie")+": "+$.i18n._("1.5 for time and a half")+")"),this.attachElement("wage_group_id")):20==this.current_edit_record.pay_type_id?(this.edit_view_form_item_dic.rate.find(".edit-view-form-item-label").text($.i18n._("Premium")+": "),this.edit_view_form_item_dic.rate.find(".widget-right-label").text("("+$.i18n._("ie")+": "+$.i18n._("0.75 for 75 cent/hr")+")"),this.detachElement("wage_group_id")):30!=this.current_edit_record.pay_type_id&&32!=this.current_edit_record.pay_type_id&&40!=this.current_edit_record.pay_type_id||(this.edit_view_form_item_dic.rate.find(".edit-view-form-item-label").text($.i18n._("Hourly Rate")+": "),this.edit_view_form_item_dic.rate.find(".widget-right-label").text("("+$.i18n._("ie")+": "+$.i18n._("10.00/hr")+")"),this.attachElement("wage_group_id")),this.editFieldResize()}onTypeChange(){$(this.edit_view_tab.find("ul li")[2]).hide(),$(this.edit_view_tab.find("ul li")[3]).hide(),$(this.edit_view_tab.find("ul li")[4]).hide(),$(this.edit_view_tab.find("ul li")[5]).hide(),this.attachElement("include_partial_punch"),10==this.current_edit_record.type_id?($(this.edit_view_tab.find("ul li")[1]).show(),$(this.edit_view_tab.find("ul li")[2]).hide(),$(this.edit_view_tab.find("ul li")[3]).hide(),$(this.edit_view_tab.find("ul li")[4]).hide(),$(this.edit_view_tab.find("ul li")[5]).hide()):20==this.current_edit_record.type_id?(this.detachElement("include_partial_punch"),$(this.edit_view_tab.find("ul li")[1]).hide(),$(this.edit_view_tab.find("ul li")[2]).show(),$(this.edit_view_tab.find("ul li")[3]).hide(),$(this.edit_view_tab.find("ul li")[4]).hide(),$(this.edit_view_tab.find("ul li")[5]).hide()):30==this.current_edit_record.type_id?(this.detachElement("include_partial_punch"),$(this.edit_view_tab.find("ul li")[1]).hide(),$(this.edit_view_tab.find("ul li")[2]).hide(),$(this.edit_view_tab.find("ul li")[3]).show(),$(this.edit_view_tab.find("ul li")[4]).hide(),$(this.edit_view_tab.find("ul li")[5]).hide()):40==this.current_edit_record.type_id?(this.detachElement("include_partial_punch"),$(this.edit_view_tab.find("ul li")[1]).hide(),$(this.edit_view_tab.find("ul li")[2]).hide(),$(this.edit_view_tab.find("ul li")[3]).hide(),$(this.edit_view_tab.find("ul li")[4]).show(),$(this.edit_view_tab.find("ul li")[5]).hide()):50==this.current_edit_record.type_id?(this.detachElement("include_partial_punch"),$(this.edit_view_tab.find("ul li")[1]).hide(),$(this.edit_view_tab.find("ul li")[2]).show(),$(this.edit_view_tab.find("ul li")[3]).hide(),$(this.edit_view_tab.find("ul li")[4]).hide(),$(this.edit_view_tab.find("ul li")[5]).show()):90==this.current_edit_record.type_id?($(this.edit_view_tab.find("ul li")[1]).hide(),$(this.edit_view_tab.find("ul li")[2]).hide(),$(this.edit_view_tab.find("ul li")[3]).hide(),$(this.edit_view_tab.find("ul li")[4]).hide(),$(this.edit_view_tab.find("ul li")[5]).hide()):100==this.current_edit_record.type_id&&($(this.edit_view_tab.find("ul li")[1]).show(),$(this.edit_view_tab.find("ul li")[2]).show(),$(this.edit_view_tab.find("ul li")[3]).hide(),$(this.edit_view_tab.find("ul li")[4]).hide(),$(this.edit_view_tab.find("ul li")[5]).hide()),this.editFieldResize()}onFormItemChange(e,i){this.setIsChanged(e),this.setMassEditingFieldsWhenFormChange(e);var t=e.getField(),_=e.getValue();switch(this.current_edit_record[t]=_,t){case"minimum_time_between_shift1":case"minimum_time_between_shift2":this.current_edit_record.minimum_time_between_shift=_;break;case"daily_trigger_time1":case"daily_trigger_time2":this.current_edit_record.daily_trigger_time=_}"type_id"!==t&&"accrual_policy_id"!==t||this.onTypeChange(),"pay_type_id"===t&&this.onPayTypeChange(),"branch_selection_type_id"===t&&this.onBranchSelectionTypeChange(),"department_selection_type_id"===t&&this.onDepartmentSelectionTypeChange(),"job_group_selection_type_id"===t&&this.onJobGroupSelectionTypeChange(),"job_selection_type_id"===t&&this.onJobSelectionTypeChange(),"job_item_group_selection_type_id"===t&&this.onJobItemGroupSelectionTypeChange(),"job_item_selection_type_id"===t&&this.onJobItemSelectionTypeChange(),i||this.validate()}uniformVariable(e){return e}buildSearchFields(){super.buildSearchFields(),this.search_fields=[new SearchField({label:$.i18n._("Name"),in_column:1,field:"name",multiple:!0,basic_search:!0,adv_search:!1,form_item_type:FormItemType.TEXT_INPUT}),new SearchField({label:$.i18n._("Type"),in_column:1,field:"type_id",multiple:!0,basic_search:!0,adv_search:!1,layout_name:"global_option_column",form_item_type:FormItemType.AWESOME_BOX}),new SearchField({label:$.i18n._("Pay Code"),in_column:1,field:"pay_code_id",layout_name:"global_pay_code",api_class:TTAPI.APIPayCode,multiple:!0,basic_search:!0,adv_search:!1,form_item_type:FormItemType.AWESOME_BOX}),new SearchField({label:$.i18n._("Pay Formula Policy"),in_column:1,field:"pay_formula_policy_id",layout_name:"global_pay_formula_policy",api_class:TTAPI.APIPayFormulaPolicy,multiple:!0,basic_search:!0,adv_search:!1,form_item_type:FormItemType.AWESOME_BOX}),new SearchField({label:$.i18n._("Created By"),in_column:2,field:"created_by",layout_name:"global_user",api_class:TTAPI.APIUser,multiple:!0,basic_search:!0,adv_search:!1,form_item_type:FormItemType.AWESOME_BOX}),new SearchField({label:$.i18n._("Updated By"),in_column:2,field:"updated_by",layout_name:"global_user",api_class:TTAPI.APIUser,multiple:!0,basic_search:!0,adv_search:!1,form_item_type:FormItemType.AWESOME_BOX})]}}}}]);
//# sourceMappingURL=policy-premium_policy-PremiumPolicyViewController.bundle.js.map?v=f1ffe8a965ef94f5f205