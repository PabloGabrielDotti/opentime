{"version":3,"sources":["webpack://timetrex/./interface/html5/views/payperiod/PayPeriodScheduleViewController.js"],"names":["PayPeriodScheduleViewController","BaseViewController","options","_","defaults","el","user_preference_api","type_array","pay_period_starts_on_array","start_week_day_array","transaction_date_array","transaction_date_business_day_array","time_zone_array","shift_assigned_day_array","timesheet_verify_type_array","sub_pay_periods_view_controller","super","this","edit_view_tpl","permission_id","viewId","script_name","table_name_key","context_menu_name","$","i18n","navigation_label","api","TTAPI","APIPayPeriodSchedule","APIUserPreference","render","buildContextMenu","initData","setSelectRibbonMenuIfNecessary","exclude","ContextMenuIconName","copy","mass_edit","include","id","Global","setUINotready","TTPromise","add","wait","$this","edit_only_mode","initOptions","result","edit_view","initEditViewUI","getPayPeriodScheduleData","current_edit_record","initEditView","callBack","filter","filter_data","key_name","onResult","result_data","getResult","option_name","field_name","initDropDownOptions","addLastItemToArray","getOptions","res","buildRecordArray","setDefaultMenu","parent_value","parent_edit_record","loadScript","firstColumn","edit_view_tab","find","trackView","PayPeriodsViewController","loadSubView","beforeLoadView","afterLoadView","resolve","subViewController","parent_key","parent_view_controller","target","doNotValidate","setIsChanged","setMassEditingFieldsWhenFormChange","key","getField","c_value","getValue","onTypeChange","onVerifyTypeChange","edit_view_ui_dic","start_week_day_id","setValue","start_day_of_week","validate","removeEditView","timesheet_verify_type_id","detachElement","attachElement","editFieldResize","type_id","widget","isSet","collectUIDataToCurrentEditRecord","setEditViewDataDone","buildEditViewUI","tab_model","setTabModel","navigation","AComboBox","api_class","allow_multiple_selection","layout_name","navigation_mode","show_search_inputs","setNavigation","form_item_input","widgetContainer","label","tab_pay_period_schedule_column1","edit_view_tabs","push","loadWidgetByName","FormItemType","TEXT_INPUT","TTextInput","field","width","addEditFieldToColumn","parent","SEPARATED_BOX","SeparatedBox","COMBO_BOX","TComboBox","setSourceData","append","DATE_PICKER","TDatePicker","AWESOME_BOX","APIUser","set_empty","tab_advanced_column1","mode","need_parser_sec","buildSearchFields","search_fields","SearchField","in_column","basic_search","form_item_type","multiple"],"mappings":"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","file":"payperiod-PayPeriodScheduleViewController.bundle.js?v=a809bb295b0329b73909","sourcesContent":["export class PayPeriodScheduleViewController extends BaseViewController {\n\tconstructor( options = {} ) {\n\t\t_.defaults( options, {\n\t\t\tel: '#pay_period_schedule_view_container', //Must set el here and can only set string, so events can work\n\n\t\t\tuser_preference_api: null,\n\t\t\ttype_array: null,\n\t\t\tpay_period_starts_on_array: null,\n\t\t\tstart_week_day_array: null,\n\t\t\ttransaction_date_array: null,\n\t\t\ttransaction_date_business_day_array: null,\n\t\t\ttime_zone_array: null,\n\t\t\tshift_assigned_day_array: null,\n\t\t\ttimesheet_verify_type_array: null,\n\t\t\tsub_pay_periods_view_controller: null\n\t\t} );\n\n\t\tsuper( options );\n\t}\n\n\tinit( options ) {\n\n\t\t//this._super('initialize', options );\n\t\tthis.edit_view_tpl = 'PayPeriodScheduleEditView.html';\n\t\tthis.permission_id = 'pay_period_schedule';\n\t\tthis.viewId = 'PayPeriodSchedule';\n\t\tthis.script_name = 'PayPeriodScheduleView';\n\t\tthis.table_name_key = 'pay_period_schedule';\n\t\tthis.context_menu_name = $.i18n._( 'Pay Period Schedule' );\n\t\tthis.navigation_label = $.i18n._( 'Pay Period Schedule' ) + ':';\n\t\tthis.api = TTAPI.APIPayPeriodSchedule;\n\t\tthis.user_preference_api = TTAPI.APIUserPreference;\n\n\t\tthis.render();\n\t\tthis.buildContextMenu();\n\t\tthis.initData();\n\n\t\tthis.setSelectRibbonMenuIfNecessary( 'PayPeriodSchedule' );\n\t}\n\n\tgetCustomContextMenuModel() {\n\t\tvar context_menu_model = {\n\t\t\texclude: [ContextMenuIconName.copy, ContextMenuIconName.mass_edit],\n\t\t\tinclude: []\n\t\t};\n\n\t\treturn context_menu_model;\n\t}\n\n\topenEditView( id ) {\n\t\tGlobal.setUINotready();\n\t\tTTPromise.add( 'init', 'init' );\n\t\tTTPromise.wait();\n\n\t\tvar $this = this;\n\n\t\tif ( $this.edit_only_mode ) {\n\n\t\t\t$this.initOptions( function( result ) {\n\n\t\t\t\tif ( !$this.edit_view ) {\n\t\t\t\t\t$this.initEditViewUI( $this.viewId, $this.edit_view_tpl );\n\t\t\t\t}\n\n\t\t\t\t$this.getPayPeriodScheduleData( id, function( result ) {\n\t\t\t\t\t// Waiting for the TTAPI.API returns data to set the current edit record.\n\t\t\t\t\t$this.current_edit_record = result;\n\n\t\t\t\t\t$this.initEditView();\n\n\t\t\t\t} );\n\n\t\t\t} );\n\n\t\t} else {\n\t\t\tif ( !this.edit_view ) {\n\t\t\t\tthis.initEditViewUI( $this.viewId, $this.edit_view_tpl );\n\t\t\t}\n\n\t\t}\n\t}\n\n\tgetPayPeriodScheduleData( id, callBack ) {\n\t\tvar filter = {};\n\t\tfilter.filter_data = {};\n\t\tfilter.filter_data.id = [id];\n\n\t\tthis.api['get' + this.api.key_name]( filter, {\n\t\t\tonResult: function( result ) {\n\t\t\t\tvar result_data = result.getResult();\n\n\t\t\t\tif ( !result_data ) {\n\t\t\t\t\tresult_data = [];\n\t\t\t\t}\n\t\t\t\tresult_data = result_data[0];\n\n\t\t\t\tcallBack( result_data );\n\n\t\t\t}\n\t\t} );\n\t}\n\n\tinitOptions( callBack ) {\n\t\tvar $this = this;\n\n\t\tvar options = [\n\t\t\t{ option_name: 'type' },\n\t\t\t{ option_name: 'transaction_date' },\n\t\t\t{ option_name: 'transaction_date_business_day' },\n\t\t\t{ option_name: 'shift_assigned_day' },\n\t\t\t{ option_name: 'time_zone', field_name: '', api: this.user_preference_api },\n\t\t\t{ option_name: 'timesheet_verify_type' },\n\t\t\t{ option_name: 'start_week_day' }\n\n\t\t];\n\n\t\tthis.initDropDownOptions( options, function( result ) {\n\t\t\t$this.transaction_date_array = Global.addLastItemToArray( $this.transaction_date_array, -1, $.i18n._( '- Last Day Of Month -' ) );\n\n\t\t\t$this.user_preference_api.getOptions( 'start_week_day', {\n\t\t\t\tonResult: function( res ) {\n\t\t\t\t\tvar result = res.getResult();\n\t\t\t\t\t$this.pay_period_starts_on_array = Global.buildRecordArray( result );\n\n\t\t\t\t\tif ( callBack ) {\n\t\t\t\t\t\tcallBack( result ); // First to initialize drop down options, and then to initialize edit view UI.\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} );\n\n\t\t} );\n\t}\n\n\tinitSubPayPeriodsView() {\n\t\tvar $this = this;\n\n\t\tif ( !this.current_edit_record.id ) {\n\t\t\tTTPromise.resolve( 'BaseViewController', 'onTabShow' ); //Since search() isn't called in this case, and we just display the \"Please Save This Record ...\" message, resolve the promise.\n\t\t\treturn;\n\t\t}\n\n\t\tif ( this.sub_pay_periods_view_controller ) {\n\t\t\tthis.sub_pay_periods_view_controller.buildContextMenu( true );\n\t\t\tthis.sub_pay_periods_view_controller.setDefaultMenu();\n\t\t\t$this.sub_pay_periods_view_controller.parent_value = $this.current_edit_record.id;\n\t\t\t$this.sub_pay_periods_view_controller.parent_edit_record = $this.current_edit_record;\n\t\t\t$this.sub_pay_periods_view_controller.initData(); //Init data in this parent view\n\t\t\treturn;\n\t\t}\n\n\t\tGlobal.loadScript( 'views/payroll/pay_periods/PayPeriodsViewController.js', function() {\n\n\t\t\tvar tab_pay_period_schedule = $this.edit_view_tab.find( '#tab_pay_period' );\n\n\t\t\tvar firstColumn = tab_pay_period_schedule.find( '.first-column-sub-view' );\n\n\t\t\tGlobal.trackView( 'Sub' + 'PayPeriods' + 'View' );\n\t\t\tPayPeriodsViewController.loadSubView( firstColumn, beforeLoadView, afterLoadView );\n\n\t\t} );\n\n\t\tfunction beforeLoadView() {\n\n\t\t}\n\n\t\tfunction afterLoadView( subViewController ) {\n\n\t\t\t$this.sub_pay_periods_view_controller = subViewController;\n\t\t\t$this.sub_pay_periods_view_controller.parent_key = 'pay_period_schedule_id';\n\t\t\t$this.sub_pay_periods_view_controller.parent_value = $this.current_edit_record.id;\n\t\t\t$this.sub_pay_periods_view_controller.parent_edit_record = $this.current_edit_record;\n\t\t\t$this.sub_pay_periods_view_controller.parent_view_controller = $this;\n\t\t\t$this.sub_pay_periods_view_controller.initData(); //Init data in this parent view\n\t\t}\n\t}\n\n\tonFormItemChange( target, doNotValidate ) {\n\n\t\tthis.setIsChanged( target );\n\t\tthis.setMassEditingFieldsWhenFormChange( target );\n\t\tvar key = target.getField();\n\t\tvar c_value = target.getValue();\n\n\t\tthis.current_edit_record[key] = c_value;\n\n\t\tif ( key == 'type_id' ) {\n\t\t\tthis.onTypeChange();\n\t\t} else if ( key == 'start_day_of_week' && ( !this.current_edit_record || !this.current_edit_record.id ) ) {\n\t\t\tthis.edit_view_ui_dic.start_week_day_id.setValue( this.edit_view_ui_dic.start_day_of_week.getValue() );\n\t\t\tthis.current_edit_record.start_week_day_id = this.edit_view_ui_dic.start_day_of_week.getValue();\n\t\t} else if ( key == 'timesheet_verify_type_id' ) {\n\t\t\tthis.onVerifyTypeChange();\n\t\t}\n\n\t\tif ( !doNotValidate ) {\n\t\t\tthis.validate();\n\t\t}\n\t}\n\n\tremoveEditView() {\n\n\t\tsuper.removeEditView();\n\t\tthis.sub_pay_periods_view_controller = null;\n\t}\n\n\tonVerifyTypeChange() {\n\t\tif ( this.current_edit_record.timesheet_verify_type_id == 10 ) {\n\t\t\tthis.detachElement( 'timesheet_verify_before_end_date' );\n\t\t\tthis.detachElement( 'timesheet_verify_before_transaction_date' );\n\t\t} else {\n\t\t\tthis.attachElement( 'timesheet_verify_before_end_date' );\n\t\t\tthis.attachElement( 'timesheet_verify_before_transaction_date' );\n\t\t}\n\n\t\tthis.editFieldResize();\n\t}\n\n\tonTypeChange() {\n\n\t\tif ( this.current_edit_record.type_id == 5 ) {\n\t\t\tthis.detachElement( 'anchor_date' );\n\t\t} else {\n\n\t\t\tif ( this.current_edit_record.id ) {\n\t\t\t\tthis.detachElement( 'anchor_date' );\n\t\t\t} else {\n\t\t\t\tthis.attachElement( 'anchor_date' );\n\t\t\t}\n\n\t\t}\n\n\t\tif ( this.current_edit_record.type_id == 5 ) {\n\t\t\tthis.detachElement( 'primary' );\n\t\t\tthis.detachElement( 'primary_day_of_month' );\n\t\t\tthis.detachElement( 'primary_transaction_day_of_month' );\n\t\t\tthis.detachElement( 'secondary' );\n\t\t\tthis.detachElement( 'secondary_day_of_month' );\n\t\t\tthis.detachElement( 'secondary_transaction_day_of_month' );\n\t\t\tthis.attachElement( 'annual_pay_periods' );\n\t\t\tthis.detachElement( 'start_day_of_week' );\n\t\t\tthis.detachElement( 'transaction_date' );\n\t\t\tthis.detachElement( 'transaction_date_bd' );\n\n\t\t} else if ( this.current_edit_record.type_id == 10 || this.current_edit_record.type_id == 20 || this.current_edit_record.type_id == 100 ) {\n\t\t\tthis.detachElement( 'primary' );\n\t\t\tthis.detachElement( 'primary_day_of_month' );\n\t\t\tthis.detachElement( 'primary_transaction_day_of_month' );\n\t\t\tthis.detachElement( 'secondary' );\n\t\t\tthis.detachElement( 'secondary_day_of_month' );\n\t\t\tthis.detachElement( 'secondary_transaction_day_of_month' );\n\t\t\tthis.detachElement( 'annual_pay_periods' );\n\t\t\tthis.attachElement( 'start_day_of_week' );\n\t\t\tthis.attachElement( 'transaction_date' );\n\t\t\tthis.attachElement( 'transaction_date_bd' );\n\n\t\t} else if ( this.current_edit_record.type_id == 30 ) {\n\t\t\tthis.attachElement( 'primary' );\n\t\t\tthis.attachElement( 'primary_day_of_month' );\n\t\t\tthis.attachElement( 'primary_transaction_day_of_month' );\n\t\t\tthis.attachElement( 'secondary' );\n\t\t\tthis.attachElement( 'secondary_day_of_month' );\n\t\t\tthis.attachElement( 'secondary_transaction_day_of_month' );\n\t\t\tthis.detachElement( 'annual_pay_periods' );\n\t\t\tthis.detachElement( 'start_day_of_week' );\n\t\t\tthis.detachElement( 'transaction_date' );\n\t\t\tthis.attachElement( 'transaction_date_bd' );\n\t\t} else if ( this.current_edit_record.type_id == 50 ) {\n\t\t\tthis.attachElement( 'primary' );\n\t\t\tthis.attachElement( 'primary_day_of_month' );\n\t\t\tthis.attachElement( 'primary_transaction_day_of_month' );\n\t\t\tthis.detachElement( 'secondary' );\n\t\t\tthis.detachElement( 'secondary_day_of_month' );\n\t\t\tthis.detachElement( 'secondary_transaction_day_of_month' );\n\t\t\tthis.detachElement( 'annual_pay_periods' );\n\t\t\tthis.detachElement( 'start_day_of_week' );\n\t\t\tthis.detachElement( 'transaction_date' );\n\t\t\tthis.attachElement( 'transaction_date_bd' );\n\t\t}\n\n\t\tthis.editFieldResize();\n\t}\n\n\tsetCurrentEditRecordData() {\n\t\t//Set current edit record data to all widgets\n\t\tfor ( var key in this.current_edit_record ) {\n\t\t\tvar widget = this.edit_view_ui_dic[key];\n\t\t\tif ( Global.isSet( widget ) ) {\n\t\t\t\tswitch ( key ) {\n\t\t\t\t\tdefault:\n\t\t\t\t\t\twidget.setValue( this.current_edit_record[key] );\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\n\t\t\t}\n\t\t}\n\t\tthis.onTypeChange();\n\t\tthis.onVerifyTypeChange();\n\t\tthis.collectUIDataToCurrentEditRecord();\n\t\tthis.setEditViewDataDone();\n\t}\n\n\tbuildEditViewUI() {\n\n\t\tsuper.buildEditViewUI();\n\n\t\tvar $this = this;\n\n\t\tvar tab_model = {\n\t\t\t'tab_pay_period_schedule': { 'label': $.i18n._( 'Pay Period Schedule' ) },\n\t\t\t'tab_advanced': { 'label': $.i18n._( 'Advanced' ) },\n\t\t\t'tab_pay_period': {\n\t\t\t\t'label': $.i18n._( 'Pay Periods' ),\n\t\t\t\t'init_callback': 'initSubPayPeriodsView',\n\t\t\t\t'display_on_mass_edit': false\n\t\t\t},\n\t\t\t'tab_audit': true,\n\t\t};\n\t\tthis.setTabModel( tab_model );\n\n\t\tif ( !this.edit_only_mode ) {\n\t\t\tthis.navigation.AComboBox( {\n\t\t\t\tid: this.script_name + '_navigation',\n\t\t\t\tapi_class: TTAPI.APIPayPeriodSchedule,\n\t\t\t\tallow_multiple_selection: false,\n\t\t\t\tlayout_name: 'global_pay_period_schedule',\n\t\t\t\tnavigation_mode: true,\n\t\t\t\tshow_search_inputs: true\n\t\t\t} );\n\n\t\t\tthis.setNavigation();\n\t\t}\n\n\t\t//Tab 0 start\n\n\t\tvar tab_pay_period_schedule = this.edit_view_tab.find( '#tab_pay_period_schedule' );\n\n\t\tvar tab_pay_period_schedule_column1 = tab_pay_period_schedule.find( '.first-column' );\n\t\tthis.edit_view_tabs[0] = [];\n\n\t\tthis.edit_view_tabs[0].push( tab_pay_period_schedule_column1 );\n\n\t\tvar form_item_input;\n\t\tvar widgetContainer;\n\t\tvar label;\n\n\t\t//Name\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.TEXT_INPUT );\n\t\tform_item_input.TTextInput( { field: 'name', width: '100%' } );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Name' ), form_item_input, tab_pay_period_schedule_column1, '' );\n\n\t\tform_item_input.parent().width( '45%' );\n\n\t\t// Description\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.TEXT_INPUT );\n\t\tform_item_input.TTextInput( { field: 'description', width: '100%' } );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Description' ), form_item_input, tab_pay_period_schedule_column1 );\n\n\t\tform_item_input.parent().width( '45%' );\n\n\t\t// Pay Period Dates\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.SEPARATED_BOX );\n\t\tform_item_input.SeparatedBox( { label: $.i18n._( 'Pay Period Dates' ) } );\n\t\tthis.addEditFieldToColumn( null, form_item_input, tab_pay_period_schedule_column1 );\n\n\t\t// Type\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.COMBO_BOX );\n\n\t\tform_item_input.TComboBox( { field: 'type_id' } );\n\t\tform_item_input.setSourceData( $this.type_array );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Type' ), form_item_input, tab_pay_period_schedule_column1 );\n\n\t\t// Primary\n\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.SEPARATED_BOX );\n\t\tform_item_input.SeparatedBox( { label: $.i18n._( 'Primary' ) } );\n\t\tthis.addEditFieldToColumn( null, form_item_input, tab_pay_period_schedule_column1, '', null, true, false, 'primary' );\n\n\t\t// Pay Period Start Day of Month\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.COMBO_BOX );\n\n\t\tform_item_input.TComboBox( { field: 'primary_day_of_month' } );\n\t\twidgetContainer = $( '<div class=\\'widget-h-box\\'></div>' );\n\t\tlabel = $( '<span class=\\'widget-right-label\\'> ' + $.i18n._( 'at 00:00' ) + '</span>' );\n\n\t\twidgetContainer.append( form_item_input );\n\t\twidgetContainer.append( label );\n\t\tform_item_input.setSourceData( $this.transaction_date_array );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Pay Period Start Day of Month' ), form_item_input, tab_pay_period_schedule_column1, '', widgetContainer, true );\n\n\t\t// Transaction Day Of Month\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.COMBO_BOX );\n\n\t\tform_item_input.TComboBox( { field: 'primary_transaction_day_of_month' } );\n\t\tform_item_input.setSourceData( $this.transaction_date_array );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Transaction Day Of Month' ), form_item_input, tab_pay_period_schedule_column1, '', null, true );\n\n\t\t// Secondary\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.SEPARATED_BOX );\n\t\tform_item_input.SeparatedBox( { label: $.i18n._( 'Secondary' ) } );\n\t\tthis.addEditFieldToColumn( null, form_item_input, tab_pay_period_schedule_column1, '', null, true, false, 'secondary' );\n\n\t\t// Pay Period Start Day Of Month\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.COMBO_BOX );\n\n\t\tform_item_input.TComboBox( { field: 'secondary_day_of_month' } );\n\t\twidgetContainer = $( '<div class=\\'widget-h-box\\'></div>' );\n\t\tlabel = $( '<span class=\\'widget-right-label\\'> ' + $.i18n._( 'at 00:00' ) + '</span>' );\n\n\t\twidgetContainer.append( form_item_input );\n\t\twidgetContainer.append( label );\n\t\tform_item_input.setSourceData( $this.transaction_date_array );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Pay Period Start Day of Month' ), form_item_input, tab_pay_period_schedule_column1, '', widgetContainer, true );\n\n\t\t// Transaction Day Of Month\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.COMBO_BOX );\n\n\t\tform_item_input.TComboBox( { field: 'secondary_transaction_day_of_month' } );\n\t\tform_item_input.setSourceData( $this.transaction_date_array );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Transaction Day Of Month' ), form_item_input, tab_pay_period_schedule_column1, '', null, true );\n\n\t\t// Annual Pay Periods\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.TEXT_INPUT );\n\n\t\tform_item_input.TTextInput( { field: 'annual_pay_periods' } );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Annual Pay Periods' ), form_item_input, tab_pay_period_schedule_column1, '', null, true );\n\n\t\t// Pay Period Starts On\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.COMBO_BOX );\n\n\t\tform_item_input.TComboBox( { field: 'start_day_of_week' } );\n\t\twidgetContainer = $( '<div class=\\'widget-h-box\\'></div>' );\n\t\tlabel = $( '<span class=\\'widget-right-label\\'> ' + $.i18n._( 'at 00:00' ) + '</span>' );\n\n\t\twidgetContainer.append( form_item_input );\n\t\twidgetContainer.append( label );\n\t\tform_item_input.setSourceData( $this.pay_period_starts_on_array );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Pay Period Starts On' ), form_item_input, tab_pay_period_schedule_column1, '', widgetContainer, true );\n\n\t\t// Transaction Date\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.COMBO_BOX );\n\n\t\tform_item_input.TComboBox( { field: 'transaction_date' } );\n\t\twidgetContainer = $( '<div class=\\'widget-h-box\\'></div>' );\n\t\tlabel = $( '<span class=\\'widget-right-label\\'> (' + $.i18n._( 'days after end of pay period' ) + ')</span>' );\n\n\t\twidgetContainer.append( form_item_input );\n\t\twidgetContainer.append( label );\n\t\tform_item_input.setSourceData( $this.transaction_date_array );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Transaction Date' ), form_item_input, tab_pay_period_schedule_column1, '', widgetContainer, true );\n\n\t\t// Transaction Always on Business Day\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.COMBO_BOX );\n\n\t\tform_item_input.TComboBox( { field: 'transaction_date_bd' } );\n\n\t\tform_item_input.setSourceData( $this.transaction_date_business_day_array );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Transaction Always on Business Day' ), form_item_input, tab_pay_period_schedule_column1, '', null, true );\n\n\t\t//Create Initial Pay Periods From\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.DATE_PICKER );\n\n\t\tform_item_input.TDatePicker( { field: 'anchor_date' } );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Create Initial Pay Periods From' ), form_item_input, tab_pay_period_schedule_column1, '', null, true );\n\n\t\t// employees\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.AWESOME_BOX );\n\t\tform_item_input.AComboBox( {\n\t\t\tapi_class: TTAPI.APIUser,\n\t\t\tallow_multiple_selection: true,\n\t\t\tlayout_name: 'global_user',\n\t\t\tshow_search_inputs: true,\n\t\t\tset_empty: true,\n\t\t\tfield: 'user'\n\t\t} );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Employees' ), form_item_input, tab_pay_period_schedule_column1 );\n\n\t\t//Tab 0 start\n\n\t\tvar tab_advanced = this.edit_view_tab.find( '#tab_advanced' );\n\n\t\tvar tab_advanced_column1 = tab_advanced.find( '.first-column' );\n\t\tthis.edit_view_tabs[1] = [];\n\n\t\tthis.edit_view_tabs[1].push( tab_advanced_column1 );\n\n\t\t// Overtime Week\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.COMBO_BOX );\n\n\t\tform_item_input.TComboBox( { field: 'start_week_day_id' } );\n\t\tform_item_input.setSourceData( $this.start_week_day_array );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Overtime Week' ), form_item_input, tab_advanced_column1, '' );\n\n\t\t// Time Zone\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.COMBO_BOX );\n\n\t\tform_item_input.TComboBox( { field: 'time_zone', set_empty: true } );\n\t\tform_item_input.setSourceData( $this.time_zone_array );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Time Zone' ), form_item_input, tab_advanced_column1 );\n\n\t\t// Minimum Time-Off Between Shifts\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.TEXT_INPUT );\n\t\tform_item_input.TTextInput( { field: 'new_day_trigger_time', mode: 'time_unit', need_parser_sec: true } );\n\n\t\twidgetContainer = $( '<div class=\\'widget-h-box\\'></div>' );\n\t\tlabel = $( '<span class=\\'widget-right-label\\'>(' + $.i18n._( 'Only for shifts that span midnight' ) + ')</span>' );\n\t\twidgetContainer.append( form_item_input );\n\t\twidgetContainer.append( label );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Minimum Time-Off Between Shifts' ), form_item_input, tab_advanced_column1, '', widgetContainer );\n\n\t\t// Maximum Shift Time\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.TEXT_INPUT );\n\t\tform_item_input.TTextInput( { field: 'maximum_shift_time', mode: 'time_unit', need_parser_sec: true } );\n\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Maximum Shift Time' ), form_item_input, tab_advanced_column1, '', null );\n\n\t\t// Assign Shifts To\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.COMBO_BOX );\n\n\t\tform_item_input.TComboBox( { field: 'shift_assigned_day_id' } );\n\t\tform_item_input.setSourceData( $this.shift_assigned_day_array );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Assign Shifts To' ), form_item_input, tab_advanced_column1 );\n\n\t\t// TimeSheet Verification\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.SEPARATED_BOX );\n\t\tform_item_input.SeparatedBox( { label: $.i18n._( 'TimeSheet Verification' ) } );\n\t\tthis.addEditFieldToColumn( null, form_item_input, tab_advanced_column1 );\n\n\t\t// Timesheet Verification\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.COMBO_BOX );\n\n\t\tform_item_input.TComboBox( { field: 'timesheet_verify_type_id' } );\n\t\tform_item_input.setSourceData( $this.timesheet_verify_type_array );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'TimeSheet Verification' ), form_item_input, tab_advanced_column1 );\n\n\t\t// Verification Window Starts\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.TEXT_INPUT );\n\t\tform_item_input.TTextInput( { field: 'timesheet_verify_before_end_date', width: 30 } );\n\n\t\twidgetContainer = $( '<div class=\\'widget-h-box\\'></div>' );\n\t\tlabel = $( '<span class=\\'widget-right-label\\'>' + $.i18n._( 'Day(s)' ) + ' (' + $.i18n._( 'Before Pay Period End Date' ) + ' )' + '</span>' );\n\t\twidgetContainer.append( form_item_input );\n\t\twidgetContainer.append( label );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Verification Window Starts' ), form_item_input, tab_advanced_column1, '', widgetContainer, true );\n\n\t\t// Verification Windows Ends\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.TEXT_INPUT );\n\t\tform_item_input.TTextInput( { field: 'timesheet_verify_before_transaction_date', width: 30 } );\n\n\t\twidgetContainer = $( '<div class=\\'widget-h-box\\'></div>' );\n\t\tlabel = $( '<span class=\\'widget-right-label\\'>' + $.i18n._( 'Day(s)' ) + ' (' + $.i18n._( 'Before Pay Period Transaction Date' ) + ' )' + '</span>' );\n\t\twidgetContainer.append( form_item_input );\n\t\twidgetContainer.append( label );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Verification Window Ends' ), form_item_input, tab_advanced_column1, '', widgetContainer, true );\n\t}\n\n\tbuildSearchFields() {\n\n\t\tsuper.buildSearchFields();\n\n\t\tthis.search_fields = [\n\n\t\t\tnew SearchField( {\n\t\t\t\tlabel: $.i18n._( 'Name' ),\n\t\t\t\tin_column: 1,\n\t\t\t\tfield: 'name',\n\t\t\t\tbasic_search: true,\n\t\t\t\tform_item_type: FormItemType.TEXT_INPUT\n\t\t\t} ),\n\t\t\tnew SearchField( {\n\t\t\t\tlabel: $.i18n._( 'Type' ),\n\t\t\t\tin_column: 1,\n\t\t\t\tfield: 'type_id',\n\t\t\t\tmultiple: true,\n\t\t\t\tbasic_search: true,\n\t\t\t\tlayout_name: 'global_option_column',\n\t\t\t\tform_item_type: FormItemType.AWESOME_BOX\n\t\t\t} ),\n\t\t\tnew SearchField( {\n\t\t\t\tlabel: $.i18n._( 'Description' ),\n\t\t\t\tin_column: 1,\n\t\t\t\tfield: 'description',\n\t\t\t\tbasic_search: true,\n\t\t\t\tform_item_type: FormItemType.TEXT_INPUT\n\t\t\t} ),\n\t\t\tnew SearchField( {\n\t\t\t\tlabel: $.i18n._( 'Created By' ),\n\t\t\t\tin_column: 2,\n\t\t\t\tfield: 'created_by',\n\t\t\t\tlayout_name: 'global_user',\n\t\t\t\tapi_class: TTAPI.APIUser,\n\t\t\t\tmultiple: true,\n\t\t\t\tbasic_search: true,\n\t\t\t\tscript_name: 'EmployeeView',\n\t\t\t\tform_item_type: FormItemType.AWESOME_BOX\n\t\t\t} ),\n\t\t\tnew SearchField( {\n\t\t\t\tlabel: $.i18n._( 'Updated By' ),\n\t\t\t\tin_column: 2,\n\t\t\t\tfield: 'updated_by',\n\t\t\t\tlayout_name: 'global_user',\n\t\t\t\tapi_class: TTAPI.APIUser,\n\t\t\t\tmultiple: true,\n\t\t\t\tbasic_search: true,\n\t\t\t\tscript_name: 'EmployeeView',\n\t\t\t\tform_item_type: FormItemType.AWESOME_BOX\n\t\t\t} )\n\n\t\t];\n\n\t}\n\n}\n"],"sourceRoot":""}