(self.webpackChunktimetrex=self.webpackChunktimetrex||[]).push([["payroll-remittance_wizard-PayrollRemittanceAgencyEventWizardStepSubmit","wizard-WizardStep"],{8880:(e,t,i)=>{"use strict";i.r(t),i.d(t,{"WizardStep":()=>a});var n=i(6739);class a extends n.TTBackboneView{constructor(e={}){_.defaults(e,{previous_step_name:null,next_step_name:null,buttons:null,wizard_obj:null,clicked_buttons:{},reload:!1,api:null,name:"undefined",title:$.i18n._("Undefined Step"),instructions:$.i18n._("Undefined step data")}),super(e)}initialize(e){super.initialize(e),this.buttons={},this.reload=!1,this.setWizardObject(e);this.init()}init(){this.render()}initCardsBlock(){$(this.wizard_obj.el).find("#cards").html("")}setTitle(e){$(this.wizard_obj.el).find(".title-1").html(e)}setInstructions(e,t){0==$(this.el).find(".instructions").length&&$(this.el).find(".progress-bar").append('<p class="instructions"></p>'),$(this.el).find(".progress-bar .instructions").html(e),"function"==typeof t&&t()}setWizardObject(e){this.wizard_obj=e,this.el=this.wizard_obj.el}getWizardObject(){return this.wizard_obj}setNextStepName(e){this.next_step_name=e}getNextStepName(){return!1}setPreviousStepName(e){this.previous_step_name=e}getPreviousStepName(){return!1}render(){return this.initCardsBlock(),this._render()}_render(){}append(e){$(this.wizard_obj.el).find(".content").append(e)}appendButton(e){$(this.wizard_obj.el).find("#cards").append(e)}setGrid(e,t,i){i||(i=!1),$("#"+e).remove(),this.append(t);var n=$("#"+e),a=this.getGridColumns(e),o=this;return n=new TTGrid(e,{onSelectRow:function(e){o.onGridSelectRow(e)},onSelectAll:function(e){for(var t in e)o.onGridSelectRow(e[t])},ondblClickRow:function(){o.onGridDblClickRow()},multiselect:!1,winMultiSelect:!1},a),this.setGridSize(n),this.setGridGroupColumns(e),n}getGridColumns(e,t){}setGridAutoHeight(e,t){t>0&&t<10?e.grid.setGridHeight(23*t):t>10&&e.grid.setGridHeight(400)}setGridSize(e){e.grid.setGridWidth($(this.wizard_obj.el).find(".content .grid-div").width()-11),e.grid.setGridHeight($(this.wizard_obj.el).find(".content").height()-150)}getRibbonButtonBox(){var e=$('<div class="menu ribbon-button-bar"></div>'),t=$("<ul></ul>");return e.append(t),e}getRibbonButton(e,t,i,n){if($("<img></img>")[0].src=t,void 0===n)return $('<li><div class="ribbon-sub-menu-icon" id="'+e+'"><img src="'+t+'" >'+i+"</div></li>");var a=$('<div class="wizard_icon_card" id="'+e+'"></div>'),o=$('<img src="'+t+'"></img>'),r=$('<div class="right_container"></div>'),s=$('<h3 class="button_title"></h3>');s.html(i||"");var l=$('<div class="description"></div>');return l.html(n||""),a.append(o),r.append(s),r.append(l),a.append(r),a}onGridSelectRow(e){}onGridDblClickRow(e){}onNavigationClick(e,t){e&&this.addButtonClick(e,t),ProgressBar.showOverlay(),1!=window.clickProcessing&&(window.clickProcessing=!0,window.clickProcessingHandle=window.setTimeout((function(){1==window.clickProcessing&&(window.clickProcessing=!1,ProgressBar.closeOverlay())}),1e3),this._onNavigationClick(t))}_onNavigationClick(e){}isRequiredButtonsClicked(){return!0}addButtonClick(e,t){var i=$(e.target);i.hasClass("wizard_icon_card")||(i=$(e.target).parents(".wizard_icon_card")),i.addClass("clicked_wizard_icon"),i.addClass("disable-image"),this.clicked_buttons[t]=!0}isButtonClicked(e){return!(!this.clicked_buttons.hasOwnProperty(e)||void 0===this.clicked_buttons[e])}addButton(e,t,i,n,a){void 0===a&&(a=e);var o=this.getRibbonButton(e,Global.getRibbonIconRealPath(t),i,n),r=this;return o.unbind("click").bind("click",(function(e){r.onNavigationClick(e,a)})),this.isButtonClicked(a)&&(o.addClass("clicked_wizard_icon"),o.addClass("disable-image")),this.buttons[t]=o,this.appendButton(o),o}setGridGroupColumns(e){}urlClick(e){this.api.getMakePaymentData(this.getWizardObject().selected_remittance_agency_event_id,e,{onResult:function(e){var t=e.getResult();window.open(t)}})}paymentServicesClick(e){this.api.getFileAndPayWithPaymentServicesData(this.getWizardObject().selected_remittance_agency_event_id,e,{onResult:function(e){var t=e.getResult();t.user_message&&""!=t.user_message?TAlertManager.showAlert(t.user_message):0==t&&TAlertManager.showAlert($.i18n._("ERROR! Something went wrong, please contact customer service immediately!"))}})}}},6554:(e,t,i)=>{"use strict";i.r(t),i.d(t,{"PayrollRemittanceAgencyEventWizardStepSubmit":()=>a});var n=i(8880);class a extends n.WizardStep{constructor(e={}){_.defaults(e,{name:"summary",api:null,el:$(".wizard.process_transactions_wizard"),report_paths:{"FormW2ReportViewController":"views/reports/formw2/FormW2ReportViewController"}}),super(e)}init(){this.render(),this.api=TTAPI.APIPayrollRemittanceAgencyEvent}getPreviousStepName(){return"review"}getNextStepName(){var e=!1;switch(this.getWizardObject().selected_remittance_agency_event.type_id){case"T4":case"T4A":e="publish";break;case"FW2":e=10==this.getWizardObject().selected_remittance_agency_event.payroll_remittance_agency_obj.type_id&&"publish";break;case"F1099NEC":e="publish";break;default:e=!1}return e}isRequiredButtonsClicked(){return Object.keys(this.clicked_buttons).length>=Object.keys(this.buttons).length}_render(){this.setTitle($.i18n._("Submit Verified Information")),this.setInstructions($.i18n._("Submit verified information to the agency")+": ");var e=this;this.getWizardObject().getPayrollRemittanceAgencyEventById(this.getWizardObject().selected_remittance_agency_event_id,null,(function(t){if(e.getWizardObject().selected_remittance_agency_event=t,e.getWizardObject().buildEventDataBlock("payroll_remittance_agency_event_wizard-review-event_details",t),e.initCardsBlock(),15==e.getWizardObject().selected_remittance_agency_event.status_id)switch(e.getWizardObject().selected_remittance_agency_event.type_id){case"T4SD":e.addButton(ContextMenuIconName.payment_method,Icons.payment_method,$.i18n._("Make Payment"),$.i18n._("Transmit payment with TimeTrex Payment Services automatically."));break;case"T4":case"T4A":e.addButton(ContextMenuIconName.e_file,Icons.e_file,$.i18n._("eFile"),$.i18n._("Transmit forms to the CRA with TimeTrex Payment Services automatically."))}else switch(e.getWizardObject().selected_remittance_agency_event.type_id){case"T4":case"T4A":e.addButton("efileDownload",Icons.e_file,$.i18n._("Download eFile"),$.i18n._("Download the file to your computer for eFiling in the below step.")),e.addButton(ContextMenuIconName.e_file,Icons.e_file,$.i18n._("Upload eFile"),$.i18n._("Navigate to the agency's website and upload the eFile downloaded in the above step."));break;case"ROE":e.addButton("efileDownload",Icons.export_export,$.i18n._("Download eFile"),$.i18n._("Download the file to your computer for eFiling in the below step.")),e.addButton(ContextMenuIconName.e_file,Icons.e_file,$.i18n._("Upload eFile"),$.i18n._("Navigate to the agency's website and upload the eFile downloaded in the above step."));break;case"FW2":e.addButton("efileDownload",Icons.e_file,$.i18n._("Download eFile"),$.i18n._("Download the file to your computer for eFiling in the below step.")),e.addButton(ContextMenuIconName.e_file,Icons.e_file,$.i18n._("Upload eFile"),$.i18n._("Navigate to the agency's website and upload the eFile downloaded in the above step."));break;case"F1099NEC":e.addButton("Government1099Nec",Icons.print,$.i18n._("1099-NEC Forms"),$.i18n._("Generate the government 1099-NEC forms to print and file manually."));break;case"F940":e.addButton("Government940",Icons.view_detail,$.i18n._("940 Form"),$.i18n._("Generate the 940 form to print and file manually.")),e.addButton(ContextMenuIconName.payment_method,Icons.payment_method,$.i18n._("Make Payment"),$.i18n._("Navigate to the agency's website to make a payment if necessary."));break;case"F941":e.addButton("Government941",Icons.view_detail,$.i18n._("941 Form"),$.i18n._("Generate the 941 form to print and file manually.")),e.addButton(ContextMenuIconName.payment_method,Icons.payment_method,$.i18n._("Make Payment"),$.i18n._("Navigate to the agency's website to make a payment if necessary."));break;case"PBJ":e.addButton("efileDownload",Icons.export_export,$.i18n._("Download eFile"),$.i18n._("Download the file to your computer for eFiling in the below step.")),e.addButton(ContextMenuIconName.e_file,Icons.e_file,$.i18n._("Upload eFile"),$.i18n._("Navigate to the agency's website and upload the eFile downloaded in the above step."));break;case"NEWHIRE":e.addButton(ContextMenuIconName.tax_reports,Icons.tax_reports,$.i18n._("Report"),$.i18n._("Generate the report to file manually.")),e.addButton("efileDownload",Icons.export_export,$.i18n._("Download Excel/CSV File (Optional)"),$.i18n._("Download the Excel/CSV file to your computer for eFiling in the below step.")),e.addButton(ContextMenuIconName.e_file,Icons.e_file,$.i18n._("File with Agency"),$.i18n._("Navigate to the agency's website to file the necessary information."));break;case"AUDIT":case"REPORT":e.addButton(ContextMenuIconName.tax_reports,Icons.tax_reports,$.i18n._("Report"),$.i18n._("Generate the report to file manually.")),e.addButton(ContextMenuIconName.payment_method,Icons.payment_method,$.i18n._("File Report"),$.i18n._("Navigate to the agency's website to file the report manually."));break;case"PAYMENT":case"REPORT+PAYMENT":default:e.addButton(ContextMenuIconName.tax_reports,Icons.tax_reports,$.i18n._("Report"),$.i18n._("Generate the report to file manually.")),e.addButton(ContextMenuIconName.payment_method,Icons.payment_method,$.i18n._("Make Payment"),$.i18n._("Navigate to the agency's website to make a payment if necessary."))}e.getWizardObject().enableButtons()}))}_onNavigationClick(e){var t=this;if(15==t.getWizardObject().selected_remittance_agency_event.status_id)switch(this.getWizardObject().selected_remittance_agency_event.type_id){case"T4SD":switch(e){case ContextMenuIconName.payment_method:this.paymentServicesClick("payment")}break;case"T4":case"T4A":switch(e){case"eFileIcon":this.paymentServicesClick("efile_xml")}}else switch(this.getWizardObject().selected_remittance_agency_event.type_id){case"T4":switch(e){case"efileDownload":Global.loadScript("views/reports/t4_summary/T4SummaryReportViewController",(function(){t.getWizardObject().getReport("efile_xml")}));break;case"eFileIcon":this.urlClick("file")}break;case"T4A":switch(e){case"efileDownload":Global.loadScript("views/reports/t4a_summary/T4ASummaryReportViewController",(function(){t.getWizardObject().getReport("efile_xml")}));break;case"eFileIcon":this.urlClick("file")}break;case"ROE":switch(e){case"efileDownload":t.getWizardObject().getReport("efile_xml");break;case"eFileIcon":this.urlClick("file")}break;case"FW2":switch(e){case"efileDownload":Global.loadScript("views/reports/formw2/FormW2ReportViewController",(function(){t.getWizardObject().getReport("efile")}));break;case"eFileIcon":this.urlClick("file")}break;case"F1099NEC":switch(e){case"Government1099Nec":Global.loadScript("views/reports/form1099/Form1099NecReportViewController",(function(){t.getWizardObject().getReport("pdf_form_government")}))}break;case"F940":switch(e){case"Government940":Global.loadScript("views/reports/form940/Form940ReportViewController",(function(){t.getWizardObject().getReport("pdf_form")}));break;case ContextMenuIconName.payment_method:this.urlClick("payment")}break;case"F941":switch(e){case"Government941":Global.loadScript("views/reports/form941/Form941ReportViewController",(function(){t.getWizardObject().getReport("pdf_form")}));break;case ContextMenuIconName.payment_method:this.urlClick("payment")}break;case"PBJ":switch(e){case"efileDownload":Global.loadScript("views/reports/payroll_export/PayrollExportReportViewController",(function(){t.getWizardObject().getReport("payroll_export")}));break;case"eFileIcon":this.urlClick("file")}break;case"NEWHIRE":switch(e){case"taxReportsIcon_new_window":this.getWizardObject().showHTMLReport("TaxSummary",!0);break;case"taxReportsIcon":this.getWizardObject().showHTMLReport("TaxSummary");break;case"efileDownload":t.getWizardObject().getReport("csv");break;case"eFileIcon":this.urlClick("file")}break;default:switch(e){case"taxReportsIcon_new_window":this.getWizardObject().showHTMLReport("TaxSummary",!0);break;case"taxReportsIcon":this.getWizardObject().showHTMLReport("TaxSummary");break;case"efileDownload":Global.loadScript("views/reports/tax_summary/TaxSummaryReportViewController",(function(){t.getWizardObject().getReport("efile")}));break;case"eFileIcon":this.urlClick("file");break;case ContextMenuIconName.payment_method:this.urlClick("payment")}}}}}}]);
//# sourceMappingURL=payroll-remittance_wizard-PayrollRemittanceAgencyEventWizardStepSubmit.bundle.js.map?v=512aeddc4f8df2fca824