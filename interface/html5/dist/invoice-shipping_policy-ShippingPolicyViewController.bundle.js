(self.webpackChunktimetrex=self.webpackChunktimetrex||[]).push([["invoice-shipping_policy-ShippingPolicyViewController"],{6432:(i,e,t)=>{"use strict";t.r(e),t.d(e,{"ShippingPolicyViewController":()=>a});class a extends BaseViewController{constructor(i={}){_.defaults(i,{el:"#shipping_policy_view_container",type_array:null,weight_unit_array:null}),super(i)}init(i){this.edit_view_tpl="ShippingPolicyEditView.html",this.permission_id="shipping_policy",this.viewId="ShippingPolicy",this.script_name="ShippingPolicyView",this.table_name_key="shipping_policy",this.context_menu_name=$.i18n._("Shipping"),this.navigation_label=$.i18n._("Shipping")+":",this.api=TTAPI.APIShippingPolicy,this.render(),this.buildContextMenu(),this.initData(),this.setSelectRibbonMenuIfNecessary()}initOptions(i){this.initDropDownOptions([{option_name:"type",field_name:null,api:null},{option_name:"weight_unit",field_name:null,api:null}],(function(e){i&&i(e)}))}buildEditViewUI(){super.buildEditViewUI();var i={"tab_shipping":{"label":$.i18n._("Shipping")},"tab_carrier_rate_server":{"label":$.i18n._("Carrier Rate Server")},"tab_area_criteria":{"label":$.i18n._("Area Criteria")},"tab_audit":!0};this.setTabModel(i),this.navigation.AComboBox({api_class:TTAPI.APIShippingPolicy,id:this.script_name+"_navigation",allow_multiple_selection:!1,layout_name:"global_shipping_policy",navigation_mode:!0,show_search_inputs:!0}),this.setNavigation();var e,t,a,l=this.edit_view_tab.find("#tab_shipping").find(".first-column");this.edit_view_tabs[0]=[],this.edit_view_tabs[0].push(l),(e=Global.loadWidgetByName(FormItemType.COMBO_BOX)).TComboBox({field:"type_id",set_empty:!1}),e.setSourceData(this.type_array),this.addEditFieldToColumn($.i18n._("Type"),e,l,""),(e=Global.loadWidgetByName(FormItemType.AWESOME_BOX)).AComboBox({api_class:TTAPI.APICurrency,allow_multiple_selection:!1,layout_name:"global_currency",show_search_inputs:!0,set_empty:!0,field:"currency_id"}),this.addEditFieldToColumn($.i18n._("Currency"),e,l,""),(e=Global.loadWidgetByName(FormItemType.TEXT_INPUT)).TTextInput({field:"name",width:"100%"}),this.addEditFieldToColumn($.i18n._("Name"),e,l),e.parent().width("45%"),(e=Global.loadWidgetByName(FormItemType.TEXT_INPUT)).TTextInput({field:"base_price",width:100}),this.addEditFieldToColumn($.i18n._("Base Price"),e,l),(e=Global.loadWidgetByName(FormItemType.TEXT_INPUT)).TTextInput({field:"price",width:100}),this.addEditFieldToColumn($.i18n._("Price"),e,l),(e=Global.loadWidgetByName(FormItemType.TEXT_INPUT)).TTextInput({field:"minimum_price",width:100}),t=$("<div class='widget-h-box'></div>"),a=$("<span class='widget-right-label'>("+$.i18n._("Not including handing fee")+")</span>"),t.append(e),t.append(a),this.addEditFieldToColumn($.i18n._("Minimum Price"),e,l,"",t,!0),(e=Global.loadWidgetByName(FormItemType.TEXT_INPUT)).TTextInput({field:"maximum_price",width:100}),t=$("<div class='widget-h-box'></div>"),a=$("<span class='widget-right-label'>("+$.i18n._("Not including handing fee")+")</span>"),t.append(e),t.append(a),this.addEditFieldToColumn($.i18n._("Maximum Price"),e,l,"",t,!0),(e=Global.loadWidgetByName(FormItemType.TEXT_INPUT)).TTextInput({field:"handling_fee",width:100}),this.addEditFieldToColumn($.i18n._("Handing Fee"),e,l),(e=Global.loadWidgetByName(FormItemType.TEXT_INPUT)).TTextInput({field:"display_order",width:50}),this.addEditFieldToColumn($.i18n._("Display Order"),e,l),(e=Global.loadWidgetByName(FormItemType.COMBO_BOX)).TComboBox({field:"weight_unit_id"}),e.setSourceData(this.weight_unit_array),this.addEditFieldToColumn($.i18n._("Weight Unit"),e,l,"");var d={filter_data:{}};d.filter_data.type_id=60,(e=Global.loadWidgetByName(FormItemType.AWESOME_BOX)).AComboBox({api_class:TTAPI.APIProduct,layout_name:"global_product",show_search_inputs:!0,set_empty:!0,field:"product_id"}),e.setDefaultArgs(d),this.addEditFieldToColumn($.i18n._("Product"),e,l,"");var o=this.edit_view_tab.find("#tab_carrier_rate_server").find(".first-column");this.edit_view_tabs[1]=[],this.edit_view_tabs[1].push(o),(e=Global.loadWidgetByName(FormItemType.TEXT_INPUT)).TTextInput({field:"user_name"}),this.addEditFieldToColumn($.i18n._("User Name"),e,o,""),(e=Global.loadWidgetByName(FormItemType.TEXT_INPUT)).TTextInput({field:"password"}),this.addEditFieldToColumn($.i18n._("Password"),e,o,""),(e=Global.loadWidgetByName(FormItemType.TEXT_INPUT)).TTextInput({field:"primary_account"}),this.addEditFieldToColumn($.i18n._("Primary Account"),e,o,""),(e=Global.loadWidgetByName(FormItemType.TEXT_INPUT)).TTextInput({field:"secondary_account"}),this.addEditFieldToColumn($.i18n._("Secondary Account"),e,o,""),(e=Global.loadWidgetByName(FormItemType.TEXT_INPUT)).TTextInput({field:"markup_percent",width:50}),t=$("<div class='widget-h-box'></div>"),a=$("<span class='widget-right-label'>%</span>"),t.append(e),t.append(a),this.addEditFieldToColumn($.i18n._("Markup Percent"),e,o,"",t,!0);var n=this.edit_view_tab.find("#tab_area_criteria").find(".first-column");this.edit_view_tabs[2]=[],this.edit_view_tabs[2].push(n),(e=Global.loadWidgetByName(FormItemType.AWESOME_BOX)).AComboBox({api_class:TTAPI.APIAreaPolicy,allow_multiple_selection:!0,layout_name:"global_area_policy",show_search_inputs:!0,set_empty:!0,field:"include_area_policy"}),this.addEditFieldToColumn($.i18n._("Include Area Policy"),e,n,""),(e=Global.loadWidgetByName(FormItemType.AWESOME_BOX)).AComboBox({api_class:TTAPI.APIAreaPolicy,allow_multiple_selection:!0,layout_name:"global_area_policy",show_search_inputs:!0,set_empty:!0,field:"exclude_area_policy"}),this.addEditFieldToColumn($.i18n._("Exclude Area Policy"),e,n,"")}buildSearchFields(){super.buildSearchFields(),this.search_fields=[new SearchField({label:$.i18n._("Name"),in_column:1,field:"name",multiple:!0,basic_search:!0,form_item_type:FormItemType.TEXT_INPUT}),new SearchField({label:$.i18n._("Type"),in_column:1,field:"type_id",multiple:!0,basic_search:!0,layout_name:"global_option_column",form_item_type:FormItemType.AWESOME_BOX}),new SearchField({label:$.i18n._("Created By"),in_column:2,field:"created_by",layout_name:"global_user",api_class:TTAPI.APIUser,multiple:!0,basic_search:!0,adv_search:!1,form_item_type:FormItemType.AWESOME_BOX}),new SearchField({label:$.i18n._("Updated By"),in_column:2,field:"updated_by",layout_name:"global_user",api_class:TTAPI.APIUser,multiple:!0,basic_search:!0,adv_search:!1,form_item_type:FormItemType.AWESOME_BOX})]}}}}]);
//# sourceMappingURL=invoice-shipping_policy-ShippingPolicyViewController.bundle.js.map?v=919cf6ce7e573a9c9981