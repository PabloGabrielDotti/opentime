{"version":3,"sources":["webpack://timetrex/./interface/html5/views/company/station/StationViewController.js"],"names":["StationViewController","BaseViewController","options","_","defaults","el","user_group_api","status_array","type_array","time_zone_array","time_clock_command_array","mode_flag_array","default_mode_flag_array","face_recognition_match_threshold_array","face_recognition_required_matches_array","poll_frequency_array","push_frequency_array","partial_push_frequency_array","group_selection_type_array","branch_selection_type_array","department_selection_type_array","user_group_array","user_preference_api","super","this","edit_view_tpl","permission_id","viewId","script_name","table_name_key","context_menu_name","$","i18n","navigation_label","api","TTAPI","APIStation","APIUserGroup","APIUserPreference","Global","getProductEdition","job_api","APIJob","job_item_api","APIJobItem","render","buildContextMenu","initData","setSelectRibbonMenuIfNecessary","exclude","ContextMenuIconName","copy","include","callBack","$this","option_name","field_name","initDropDownOptions","result","getUserGroup","onResult","res","getResult","buildTreeRecord","key","setDefaultData","current_edit_record","hasOwnProperty","widget","edit_view_ui_dic","isSet","setValue","args","filter_data","job_id","setDefaultArgs","collectUIDataToCurrentEditRecord","setEditViewDataDone","target","doNotValidate","setIsChanged","setMassEditingFieldsWhenFormChange","getField","c_value","getValue","onTypeChange","manual_id","setJobItemValueWhenJobChanged","setCheckBox","onJobQuickSearch","onEmployeeGroupSelectionTypeChange","onBranchSelectionTypeChange","onDepartmentSelectionTypeChange","isDisableIncludeEmployees","validate","getEnabled","setEnabled","parseInt","edit_view_tab","find","show","tab_2_label","edit_view","text","attachElement","detachElement","initModeFlag","initDefaultModeFlag","initFacialRecognitionThesholdFields","parents","hide","tabs","editFieldResize","getOptions","type_id","result_data","buildRecordArray","setSourceData","mode_flag","value","default_mode_flag","TTUUID","zero_id","user_value_1","user_value_2","runButton","edit_view_form_item_dic","is_mass_editing","is_viewing","attr","off","on","onSaveAndContinue","isRun","is_add","LocalCacheData","current_doing_context_action","is_changed","commandData","commandId","id","key_name","result_1","isValid","TAlertManager","showAlert","onSaveAndContinueResult","showErrorAlert","edit_only_mode","parent_view_controller","onEditStationDone","station_input","basic_search_field_ui_dic","icon","getRealImagePath","insertAfter","unbind","bind","station_id","getStationID","context_btn","pId","editPermissionValidate","addClass","editOwnerOrChildPermissionValidate","initOptions","initEditViewUI","getStationData","initEditView","filter","buildEditViewUI","tab_model","setTabModel","navigation","AComboBox","api_class","allow_multiple_selection","layout_name","navigation_mode","show_search_inputs","setNavigation","form_item_input","widgetContainer","label","tab_station_column1","edit_view_tabs","push","loadWidgetByName","FormItemType","COMBO_BOX","TComboBox","field","addEditFieldToColumn","TEXT_INPUT","TTextInput","width","parent","AWESOME_BOX","APIBranch","set_empty","APIDepartment","setRealValueCallBack","val","job_coder","disable_keyup_event","append","job_item_coder","tab_employee_criteria_column1","v_box","form_item","putInputToInsideFormItem","form_item_input_1","tree_mode","APIUser","tab_time_clock","tab_time_clock_column1","tab_time_clock_column2","CHECKBOX","TCheckbox","widget_text","TEXT","TText","buildSearchFields","search_fields","SearchField","in_column","multiple","basic_search","adv_search","form_item_type"],"mappings":"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","file":"company-station-StationViewController.bundle.js?v=dc7054a6aaa9f67ba639","sourcesContent":["export class StationViewController extends BaseViewController {\n\tconstructor( options = {} ) {\n\t\t_.defaults( options, {\n\t\t\tel: '#station_view_container',\n\n\t\t\tuser_group_api: null,\n\t\t\tstatus_array: null,\n\t\t\ttype_array: null,\n\n\t\t\ttime_zone_array: null,\n\t\t\ttime_clock_command_array: null,\n\t\t\tmode_flag_array: null,\n\t\t\tdefault_mode_flag_array: null,\n\t\t\tface_recognition_match_threshold_array: null,\n\t\t\tface_recognition_required_matches_array: null,\n\t\t\tpoll_frequency_array: null,\n\t\t\tpush_frequency_array: null,\n\t\t\tpartial_push_frequency_array: null,\n\t\t\tgroup_selection_type_array: null,\n\t\t\tbranch_selection_type_array: null,\n\t\t\tdepartment_selection_type_array: null,\n\t\t\tuser_group_array: null,\n\n\t\t\tuser_preference_api: null\n\t\t} );\n\n\t\tsuper( options );\n\t}\n\n\tinit( options ) {\n\t\t//this._super('initialize', options );\n\t\tthis.edit_view_tpl = 'StationEditView.html';\n\t\tthis.permission_id = 'station';\n\t\tthis.viewId = 'Station';\n\t\tthis.script_name = 'StationView';\n\t\tthis.table_name_key = 'station';\n\t\tthis.context_menu_name = $.i18n._( 'Station' );\n\t\tthis.navigation_label = $.i18n._( 'Station' ) + ':';\n\t\tthis.api = TTAPI.APIStation;\n\t\tthis.user_group_api = TTAPI.APIUserGroup;\n\t\tthis.user_preference_api = TTAPI.APIUserPreference;\n\n\t\tif ( ( Global.getProductEdition() >= 20 ) ) {\n\n\t\t\tthis.job_api = TTAPI.APIJob;\n\t\t\tthis.job_item_api = TTAPI.APIJobItem;\n\n\t\t}\n\n\t\tthis.render();\n\t\tthis.buildContextMenu();\n\n\t\tthis.initData();\n\t\tthis.setSelectRibbonMenuIfNecessary();\n\t}\n\n\tgetCustomContextMenuModel() {\n\t\tvar context_menu_model = {\n\t\t\texclude: [ContextMenuIconName.copy],\n\t\t\tinclude: []\n\t\t};\n\n\t\treturn context_menu_model;\n\t}\n\n\tinitOptions( callBack ) {\n\n\t\tvar $this = this;\n\n\t\tvar options = [\n\t\t\t{ option_name: 'status', field_name: null, api: null },\n\t\t\t{ option_name: 'type', field_name: null, api: null },\n\t\t\t{ option_name: 'time_zone', field_name: 'time_zone', api: $this.user_preference_api },\n\t\t\t{ option_name: 'time_clock_command', field_name: null, api: null },\n\t\t\t{ option_name: 'poll_frequency', field_name: null, api: null },\n\t\t\t{ option_name: 'push_frequency', field_name: null, api: null },\n\t\t\t{ option_name: 'partial_push_frequency', field_name: null, api: null },\n\t\t\t{ option_name: 'group_selection_type', field_name: null, api: null },\n\t\t\t{ option_name: 'branch_selection_type', field_name: null, api: null },\n\t\t\t{ option_name: 'department_selection_type', field_name: null, api: null }\n\n\t\t];\n\n\t\tthis.initDropDownOptions( options, function( result ) {\n\n\t\t\t$this.user_group_api.getUserGroup( '', false, false, {\n\t\t\t\tonResult: function( res ) {\n\n\t\t\t\t\tres = res.getResult();\n\t\t\t\t\tres = Global.buildTreeRecord( res );\n\t\t\t\t\t$this.user_group_array = res;\n\n\t\t\t\t\tif ( callBack ) {\n\t\t\t\t\t\tcallBack( result ); // First to initialize drop down options, and then to initialize edit view UI.\n\t\t\t\t\t}\n\n\t\t\t\t}\n\t\t\t} );\n\n\t\t} );\n\t}\n\n\tsetCurrentEditRecordData() {\n\n\t\t// When mass editing, these fields may not be the common data, so their value will be undefined, so this will cause their change event cannot work properly.\n\t\tthis.setDefaultData( {\n\t\t\t'type_id': 10,\n\t\t\t'user_group_selection_type_id': 10,\n\t\t\t'branch_selection_type_id': 10,\n\t\t\t'department_selection_type_id': 10\n\t\t} );\n\n\t\tfor ( var key in this.current_edit_record ) {\n\n\t\t\tif ( !this.current_edit_record.hasOwnProperty( key ) ) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tvar widget = this.edit_view_ui_dic[key];\n\t\t\tif ( Global.isSet( widget ) ) {\n\t\t\t\tswitch ( key ) {\n\t\t\t\t\tcase 'job_id':\n\t\t\t\t\t\tif ( ( Global.getProductEdition() >= 20 ) ) {\n\t\t\t\t\t\t\twidget.setValue( this.current_edit_record[key] );\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'job_item_id':\n\t\t\t\t\t\tif ( ( Global.getProductEdition() >= 20 ) ) {\n\t\t\t\t\t\t\tvar args = {};\n\t\t\t\t\t\t\targs.filter_data = { job_id: this.current_edit_record.job_id };\n\t\t\t\t\t\t\twidget.setDefaultArgs( args );\n\t\t\t\t\t\t\twidget.setValue( this.current_edit_record[key] );\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'job_quick_search':\n//\t\t\t\t\t\twidget.setValue( this.current_edit_record['job_id'] ? this.current_edit_record['job_id'] : 0 );\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'job_item_quick_search':\n//\t\t\t\t\t\twidget.setValue( this.current_edit_record['job_item_id'] ? this.current_edit_record['job_item_id'] : 0 );\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tdefault:\n\t\t\t\t\t\twidget.setValue( this.current_edit_record[key] );\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tthis.collectUIDataToCurrentEditRecord();\n\t\tthis.setEditViewDataDone();\n\t}\n\n\t/* jshint ignore:start */\n\tonFormItemChange( target, doNotValidate ) {\n\t\tthis.setIsChanged( target );\n\t\tthis.setMassEditingFieldsWhenFormChange( target );\n\t\tvar key = target.getField();\n\t\tvar c_value = target.getValue();\n\n\t\tthis.current_edit_record[key] = c_value;\n\n\t\tswitch ( key ) {\n\t\t\tcase 'type_id':\n\t\t\t\tthis.onTypeChange();\n\t\t\t\tbreak;\n\t\t\tcase 'job_id':\n\t\t\t\tif ( ( Global.getProductEdition() >= 20 ) ) {\n\t\t\t\t\tthis.edit_view_ui_dic['job_quick_search'].setValue( target.getValue( true ) ? ( target.getValue( true ).manual_id ? target.getValue( true ).manual_id : '' ) : '' );\n\t\t\t\t\tthis.setJobItemValueWhenJobChanged( target.getValue( true ), 'job_item_id', { job_id: this.current_edit_record.job_id } );\n\t\t\t\t\tthis.edit_view_ui_dic['job_quick_search'].setCheckBox( true );\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase 'job_item_id':\n\t\t\t\tif ( ( Global.getProductEdition() >= 20 ) ) {\n\t\t\t\t\tthis.edit_view_ui_dic['job_item_quick_search'].setValue( target.getValue( true ) ? ( target.getValue( true ).manual_id ? target.getValue( true ).manual_id : '' ) : '' );\n\t\t\t\t\tthis.edit_view_ui_dic['job_item_quick_search'].setCheckBox( true );\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase 'job_quick_search':\n\t\t\tcase 'job_item_quick_search':\n\t\t\t\tif ( ( Global.getProductEdition() >= 20 ) ) {\n\t\t\t\t\tthis.onJobQuickSearch( key, c_value );\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase 'user_group_selection_type_id':\n\t\t\t\tthis.onEmployeeGroupSelectionTypeChange();\n\t\t\t\tbreak;\n\t\t\tcase 'branch_selection_type_id':\n\t\t\t\tthis.onBranchSelectionTypeChange();\n\t\t\t\tbreak;\n\t\t\tcase 'department_selection_type_id':\n\t\t\t\tthis.onDepartmentSelectionTypeChange();\n\t\t\t\tbreak;\n\n\t\t}\n\t\tthis.isDisableIncludeEmployees();\n\t\tif ( !doNotValidate ) {\n\t\t\tthis.validate();\n\t\t}\n\t}\n\n\t/* jshint ignore:end */\n\tisDisableIncludeEmployees() {\n\t\tif ( this.edit_view_ui_dic['group'].getEnabled() || this.edit_view_ui_dic['branch'].getEnabled() || this.edit_view_ui_dic['department'].getEnabled() ) {\n\t\t\tthis.edit_view_ui_dic['include_user'].setEnabled( true );\n\t\t} else {\n\t\t\tthis.edit_view_ui_dic['include_user'].setEnabled( false );\n\t\t}\n\t}\n\n\tonEmployeeGroupSelectionTypeChange() {\n\n\t\tif ( parseInt( this.current_edit_record['user_group_selection_type_id'] ) == 10 ) {\n\t\t\tthis.edit_view_ui_dic['group'].setEnabled( false );\n\t\t} else {\n\t\t\tthis.edit_view_ui_dic['user_group_selection_type_id'].setValue( this.current_edit_record['user_group_selection_type_id'] );\n\t\t\tthis.edit_view_ui_dic['group'].setEnabled( true );\n\t\t}\n\t}\n\n\tonBranchSelectionTypeChange() {\n\t\tif ( parseInt( this.current_edit_record['branch_selection_type_id'] ) == 10 ) {\n\n\t\t\tthis.edit_view_ui_dic['branch'].setEnabled( false );\n\t\t} else {\n\t\t\tthis.edit_view_ui_dic['branch_selection_type_id'].setValue( this.current_edit_record['branch_selection_type_id'] );\n\t\t\tthis.edit_view_ui_dic['branch'].setEnabled( true );\n\t\t}\n\t}\n\n\tonDepartmentSelectionTypeChange() {\n\t\tif ( parseInt( this.current_edit_record['department_selection_type_id'] ) == 10 ) {\n\t\t\tthis.edit_view_ui_dic['department'].setEnabled( false );\n\t\t} else {\n\t\t\tthis.edit_view_ui_dic['department_selection_type_id'].setValue( this.current_edit_record['department_selection_type_id'] );\n\t\t\tthis.edit_view_ui_dic['department'].setEnabled( true );\n\t\t}\n\t}\n\n\tonTypeChange() {\n\t\tif ( parseInt( this.current_edit_record['type_id'] ) == 100 ||\n\t\t\tparseInt( this.current_edit_record['type_id'] ) == 150 ||\n\t\t\tparseInt( this.current_edit_record['type_id'] ) == 28 ||\n\t\t\tparseInt( this.current_edit_record['type_id'] ) == 65 ) {\n\n\t\t\t$( this.edit_view_tab.find( 'ul li' )[2] ).show();\n\t\t\tvar tab_2_label = this.edit_view.find( 'a[ref=tab_time_clock]' );\n\n\t\t\tif ( parseInt( this.current_edit_record['type_id'] ) == 100 ||\n\t\t\t\tparseInt( this.current_edit_record['type_id'] ) == 150 ) {\n\t\t\t\ttab_2_label.text( $.i18n._( 'TimeClock' ) );\n\n\t\t\t\tif ( parseInt( this.current_edit_record['type_id'] ) != 150 ) {\n\t\t\t\t\tthis.attachElement( 'manual_command' );\n\t\t\t\t\tthis.attachElement( 'push_frequency' );\n\t\t\t\t\tthis.attachElement( 'partial_push_frequency' );\n\t\t\t\t} else {\n\t\t\t\t\tthis.detachElement( 'manual_command' );\n\t\t\t\t\tthis.detachElement( 'push_frequency' );\n\t\t\t\t\tthis.detachElement( 'partial_push_frequency' );\n\t\t\t\t}\n\n\t\t\t\tthis.attachElement( 'password' );\n\t\t\t\tthis.attachElement( 'port' );\n\n\t\t\t} else {\n\t\t\t\ttab_2_label.text( $.i18n._( 'Mobile App' ) );\n\t\t\t\tthis.detachElement( 'password' );\n\t\t\t\tthis.detachElement( 'port' );\n\t\t\t\tthis.detachElement( 'manual_command' );\n\t\t\t\tthis.detachElement( 'push_frequency' );\n\t\t\t\tthis.detachElement( 'partial_push_frequency' );\n\t\t\t}\n\n\t\t\tthis.initModeFlag();\n\n\t\t\t//#2590 - ensure field is only visible in valid types.\n\t\t\tif ( parseInt( this.current_edit_record['type_id'] ) == 65 ) {\n\t\t\t\tthis.initDefaultModeFlag();\n\t\t\t\tthis.initFacialRecognitionThesholdFields();\n\t\t\t} else {\n\t\t\t\tthis.edit_view_ui_dic['default_mode_flag'].parents( '.edit-view-form-item-div' ).hide();\n\t\t\t\tthis.edit_view_ui_dic['user_value_1'].parents( '.edit-view-form-item-div' ).hide();\n\t\t\t\tthis.edit_view_ui_dic['user_value_2'].parents( '.edit-view-form-item-div' ).hide();\n\t\t\t}\n\t\t} else {\n\t\t\t$( this.edit_view_tab.find( 'ul li' )[2] ).hide();\n\t\t\tthis.edit_view_tab.tabs( 'option', 'active', 0 );\n\n\t\t}\n\n\t\tthis.editFieldResize();\n\t}\n\n\tinitModeFlag() {\n\t\tvar $this = this;\n\t\tthis.api.getOptions( 'mode_flag', this.current_edit_record.type_id, true, {\n\t\t\tonResult: function( result ) {\n\t\t\t\tvar result_data = Global.buildRecordArray( result.getResult() );\n\n\t\t\t\t$this.edit_view_ui_dic['mode_flag'].setSourceData( result_data );\n\t\t\t\t$this.edit_view_ui_dic['mode_flag'].setValue( $this.current_edit_record.mode_flag );\n\n\t\t\t}\n\t\t} );\n\t}\n\n\tinitDefaultModeFlag() {\n\t\tvar $this = this;\n\t\tthis.api.getOptions( 'default_mode_flag', this.current_edit_record.type_id, true, {\n\t\t\tonResult: function( result ) {\n\t\t\t\tvar result_data = Global.buildRecordArray( result.getResult() );\n\n\t\t\t\t$this.edit_view_ui_dic['default_mode_flag'].setSourceData( result_data );\n\t\t\t\tvar value = ( $this.current_edit_record.default_mode_flag != 0 ) ? $this.current_edit_record.default_mode_flag : TTUUID.zero_id;\n\t\t\t\t$this.edit_view_ui_dic['default_mode_flag'].setValue( value );\n\t\t\t\t$this.edit_view_ui_dic['default_mode_flag'].parents( '.edit-view-form-item-div' ).show();\n\n\t\t\t}\n\t\t} );\n\t}\n\n\tinitFacialRecognitionThesholdFields() {\n\t\tvar $this = this;\n\t\tthis.api.getOptions( 'face_recognition_match_threshold', {\n\t\t\tonResult: function( result ) {\n\t\t\t\tvar result_data = Global.buildRecordArray( result.getResult() );\n\n\t\t\t\t$this.edit_view_ui_dic['user_value_1'].setSourceData( result_data );\n\t\t\t\tvar value = ( $this.current_edit_record.user_value_1 != 0 ) ? $this.current_edit_record.user_value_1 : 0;\n\t\t\t\t$this.edit_view_ui_dic['user_value_1'].setValue( value );\n\t\t\t\t$this.edit_view_ui_dic['user_value_1'].parents( '.edit-view-form-item-div' ).show();\n\t\t\t}\n\t\t} );\n\n\t\tthis.api.getOptions( 'face_recognition_required_matches', {\n\t\t\tonResult: function( result ) {\n\t\t\t\tvar result_data = Global.buildRecordArray( result.getResult() );\n\n\t\t\t\t$this.edit_view_ui_dic['user_value_2'].setSourceData( result_data );\n\t\t\t\tvar value = ( $this.current_edit_record.user_value_2 != 0 ) ? $this.current_edit_record.user_value_2 : 0;\n\t\t\t\t$this.edit_view_ui_dic['user_value_2'].setValue( value );\n\t\t\t\t$this.edit_view_ui_dic['user_value_2'].parents( '.edit-view-form-item-div' ).show();\n\t\t\t}\n\t\t} );\n\n\t}\n\n\tsetEditViewDataDone() {\n\t\tvar $this = this;\n\t\tsuper.setEditViewDataDone();\n\n\t\tthis.onTypeChange();\n\t\tthis.onEmployeeGroupSelectionTypeChange();\n\t\tthis.onBranchSelectionTypeChange();\n\t\tthis.onDepartmentSelectionTypeChange();\n\t\tthis.isDisableIncludeEmployees();\n\n\t\tvar runButton = this.edit_view_form_item_dic['manual_command'].find( 'button[type=\\'button\\']' );\n\t\tif ( $this.is_mass_editing || $this.is_viewing ) {\n\t\t\tthis.edit_view_ui_dic['manual_command'].setEnabled( false );\n\t\t\trunButton.attr( 'disabled', true );\n\t\t} else {\n\t\t\trunButton.off( 'click' ).on( 'click', function() {\n\t\t\t\t$this.onSaveAndContinue( true );\n\t\t\t} );\n\t\t}\n\t}\n\n\tonSaveAndContinue( isRun ) {\n\t\tthis.is_add = false;\n\t\tLocalCacheData.current_doing_context_action = 'save_and_continue';\n\t\tvar $this = this;\n\t\tthis.is_changed = false;\n\t\tvar commandData = this.edit_view_ui_dic['manual_command'].getValue();\n\t\tvar commandId = this.current_edit_record.id;\n\t\tthis.api['set' + this.api.key_name]( this.current_edit_record, {\n\t\t\tonResult: function( result ) {\n\t\t\t\tif ( isRun ) {\n\t\t\t\t\t$this.api['runManualCommand']( commandData, commandId, {\n\t\t\t\t\t\tonResult: function( result_1 ) {\n\t\t\t\t\t\t\tif ( result_1.isValid() ) {\n\t\t\t\t\t\t\t\tvar result_data = result_1.getResult();\n\t\t\t\t\t\t\t\tTAlertManager.showAlert( result_data, $.i18n._( 'Manual Command Result' ) );\n\t\t\t\t\t\t\t\t$this.onSaveAndContinueResult( result );\n\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tTAlertManager.showErrorAlert( result );\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\t\t\t\t\t} );\n\t\t\t\t} else {\n\t\t\t\t\t$this.onSaveAndContinueResult( result );\n\t\t\t\t}\n\n\t\t\t}\n\t\t} );\n\t}\n\n\tonSaveDone( result ) {\n\t\tif ( this.edit_only_mode && this.parent_view_controller ) {\n\t\t\tthis.parent_view_controller.onEditStationDone( result );\n\t\t}\n\t}\n\n\tonBuildBasicUIFinished() {\n\t\tvar station_input = this.basic_search_field_ui_dic['station_id'];\n\n\t\tvar icon = $( '<img class=\"station-location\" src=\"' + Global.getRealImagePath( 'images/location.png' ) + '\">' );\n\n\t\ticon.insertAfter( station_input );\n\t\ticon.unbind( 'click' ).bind( 'click', function() {\n\t\t\tvar station_id = Global.getStationID();\n\t\t\tif ( station_id ) {\n\t\t\t\tstation_input.setValue( station_id );\n\t\t\t} else {\n\t\t\t\tTAlertManager.showAlert( $.i18n._( 'Current Station is not currently set.' ) );\n\t\t\t}\n\t\t} );\n\t}\n\n\tsetEditMenuEditIcon( context_btn, pId ) {\n\n\t\tif ( !this.editPermissionValidate( pId ) ) {\n\t\t\tcontext_btn.addClass( 'invisible-image' );\n\t\t}\n\n\t\tif ( !this.is_viewing || !this.editOwnerOrChildPermissionValidate( pId ) ) {\n\t\t\tcontext_btn.addClass( 'disable-image' );\n\t\t}\n\t}\n\n\topenEditView( id ) {\n\t\tvar $this = this;\n\n\t\tif ( $this.edit_only_mode ) {\n\n\t\t\t$this.initOptions( function( result ) {\n\t\t\t\tif ( !$this.edit_view ) {\n\t\t\t\t\t$this.is_viewing = true;\n\t\t\t\t\t$this.initEditViewUI( $this.viewId, $this.edit_view_tpl );\n\t\t\t\t}\n\t\t\t\t$this.getStationData( id, function( result ) {\n\t\t\t\t\t// Waiting for the TTAPI.API returns data to set the current edit record.\n\t\t\t\t\t$this.current_edit_record = result;\n\t\t\t\t\t//if ( !$this.editPermissionValidate() || !$this.editOwnerOrChildPermissionValidate()) {\n\t\t\t\t\t//\t$this.is_viewing = true;\n\t\t\t\t\t//}\n\n\t\t\t\t\t$this.initEditView();\n\n\t\t\t\t} );\n\n\t\t\t} );\n\n\t\t} else {\n\t\t\tif ( !this.edit_view ) {\n\t\t\t\tthis.initEditViewUI( $this.viewId, $this.edit_view_tpl );\n\t\t\t}\n\n\t\t}\n\t}\n\n\tgetStationData( id, callBack ) {\n\t\tvar filter = {};\n\t\tfilter.filter_data = {};\n\t\tfilter.filter_data.id = [id];\n\n\t\tthis.api['get' + this.api.key_name]( filter, {\n\t\t\tonResult: function( result ) {\n\t\t\t\tvar result_data = result.getResult();\n\n\t\t\t\tif ( !result_data ) {\n\t\t\t\t\tresult_data = [];\n\t\t\t\t}\n\t\t\t\tresult_data = result_data[0];\n\n\t\t\t\tcallBack( result_data );\n\n\t\t\t}\n\t\t} );\n\t}\n\n\tbuildEditViewUI() {\n\t\tsuper.buildEditViewUI();\n\n\t\tvar $this = this;\n\n\t\tvar tab_model = {\n\t\t\t'tab_station': { 'label': $.i18n._( 'Station' ) },\n\t\t\t'tab_employee_criteria': { 'label': $.i18n._( 'Employee Criteria' ) },\n\t\t\t'tab_time_clock': { 'label': $.i18n._( 'TimeClock' ) },\n\t\t\t'tab_audit': true,\n\t\t};\n\t\tthis.setTabModel( tab_model );\n\n\t\tif ( !this.edit_only_mode ) {\n\t\t\tthis.navigation.AComboBox( {\n\t\t\t\tapi_class: TTAPI.APIStation,\n\t\t\t\tid: this.script_name + '_navigation',\n\t\t\t\tallow_multiple_selection: false,\n\t\t\t\tlayout_name: 'global_station',\n\t\t\t\tnavigation_mode: true,\n\t\t\t\tshow_search_inputs: true\n\t\t\t} );\n\n\t\t\tthis.setNavigation();\n\t\t}\n\n\t\t//Tab 0 start\n\n\t\tvar tab_station = this.edit_view_tab.find( '#tab_station' );\n\n\t\tvar tab_station_column1 = tab_station.find( '.first-column' );\n\n\t\tthis.edit_view_tabs[0] = [];\n\n\t\tthis.edit_view_tabs[0].push( tab_station_column1 );\n\n\t\tvar form_item_input;\n\t\tvar widgetContainer;\n\t\tvar label;\n\n\t\t//Status\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.COMBO_BOX );\n\t\tform_item_input.TComboBox( { field: 'status_id' } );\n\t\tform_item_input.setSourceData( $this.status_array );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Status' ), form_item_input, tab_station_column1, '' );\n\n\t\t//Type\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.COMBO_BOX );\n\t\tform_item_input.TComboBox( { field: 'type_id' } );\n\t\tform_item_input.setSourceData( $this.type_array );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Type' ), form_item_input, tab_station_column1 );\n\n\t\t//Station\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.TEXT_INPUT );\n\n\t\tform_item_input.TTextInput( { field: 'station_id', width: 254 } );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Station' ), form_item_input, tab_station_column1 );\n\n\t\t//Source\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.TEXT_INPUT );\n\n\t\tform_item_input.TTextInput( { field: 'source', width: 289 } );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Source' ), form_item_input, tab_station_column1 );\n\n\t\t//Description\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.TEXT_INPUT );\n\n\t\tform_item_input.TTextInput( { field: 'description', width: '100%' } );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Description' ), form_item_input, tab_station_column1 );\n\n\t\tform_item_input.parent().width( '45%' );\n\n\t\t//Default Branch\n\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.AWESOME_BOX );\n\n\t\tform_item_input.AComboBox( {\n\t\t\tapi_class: TTAPI.APIBranch,\n\t\t\tallow_multiple_selection: false,\n\t\t\tlayout_name: 'global_branch',\n\t\t\tshow_search_inputs: true,\n\t\t\tset_empty: true,\n\t\t\tfield: 'branch_id'\n\t\t} );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Default Branch' ), form_item_input, tab_station_column1 );\n\n\t\t//Default Department\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.AWESOME_BOX );\n\n\t\tform_item_input.AComboBox( {\n\t\t\tapi_class: TTAPI.APIDepartment,\n\t\t\tallow_multiple_selection: false,\n\t\t\tlayout_name: 'global_department',\n\t\t\tshow_search_inputs: true,\n\t\t\tset_empty: true,\n\t\t\tfield: 'department_id'\n\t\t} );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Default Department' ), form_item_input, tab_station_column1, '' );\n\n\t\tif ( ( Global.getProductEdition() >= 20 ) ) {\n\t\t\t//Job\n\t\t\tform_item_input = Global.loadWidgetByName( FormItemType.AWESOME_BOX );\n\n\t\t\tform_item_input.AComboBox( {\n\t\t\t\tapi_class: TTAPI.APIJob,\n\t\t\t\tallow_multiple_selection: false,\n\t\t\t\tlayout_name: 'global_job',\n\t\t\t\tshow_search_inputs: true,\n\t\t\t\tset_empty: true,\n\t\t\t\tsetRealValueCallBack: ( function( val ) {\n\n\t\t\t\t\tif ( val ) {\n\t\t\t\t\t\tjob_coder.setValue( val.manual_id );\n\t\t\t\t\t}\n\t\t\t\t} ),\n\t\t\t\tfield: 'job_id'\n\t\t\t} );\n\n\t\t\twidgetContainer = $( '<div class=\\'widget-h-box\\'></div>' );\n\n\t\t\tvar job_coder = Global.loadWidgetByName( FormItemType.TEXT_INPUT );\n\t\t\tjob_coder.TTextInput( { field: 'job_quick_search', disable_keyup_event: true } );\n\t\t\tjob_coder.addClass( 'job-coder' );\n\n\t\t\twidgetContainer.append( job_coder );\n\t\t\twidgetContainer.append( form_item_input );\n\t\t\tthis.addEditFieldToColumn( $.i18n._( 'Default Job' ), [form_item_input, job_coder], tab_station_column1, '', widgetContainer );\n\n\t\t\t// Task\n\t\t\tform_item_input = Global.loadWidgetByName( FormItemType.AWESOME_BOX );\n\n\t\t\tform_item_input.AComboBox( {\n\t\t\t\tapi_class: TTAPI.APIJobItem,\n\t\t\t\tallow_multiple_selection: false,\n\t\t\t\tlayout_name: 'global_job_item',\n\t\t\t\tshow_search_inputs: true,\n\t\t\t\tset_empty: true,\n\t\t\t\tsetRealValueCallBack: ( function( val ) {\n\n\t\t\t\t\tif ( val ) {\n\t\t\t\t\t\tjob_item_coder.setValue( val.manual_id );\n\t\t\t\t\t}\n\t\t\t\t} ),\n\t\t\t\tfield: 'job_item_id'\n\t\t\t} );\n\n\t\t\twidgetContainer = $( '<div class=\\'widget-h-box\\'></div>' );\n\n\t\t\tvar job_item_coder = Global.loadWidgetByName( FormItemType.TEXT_INPUT );\n\t\t\tjob_item_coder.TTextInput( { field: 'job_item_quick_search', disable_keyup_event: true } );\n\t\t\tjob_item_coder.addClass( 'job-coder' );\n\n\t\t\twidgetContainer.append( job_item_coder );\n\t\t\twidgetContainer.append( form_item_input );\n\t\t\tthis.addEditFieldToColumn( $.i18n._( 'Default Task' ), [form_item_input, job_item_coder], tab_station_column1, 'last', widgetContainer );\n\t\t}\n\n\t\t//Tab 1 start\n\n\t\tvar tab_employee_criteria = this.edit_view_tab.find( '#tab_employee_criteria' );\n\n\t\tvar tab_employee_criteria_column1 = tab_employee_criteria.find( '.first-column' );\n\n\t\tthis.edit_view_tabs[1] = [];\n\n\t\tthis.edit_view_tabs[1].push( tab_employee_criteria_column1 );\n\n\t\t//Employee group\n\t\tvar v_box = $( '<div class=\\'v-box\\'></div>' );\n\n\t\t//Selection Type\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.COMBO_BOX );\n\t\tform_item_input.TComboBox( { field: 'user_group_selection_type_id' } );\n\t\tform_item_input.setSourceData( $this.group_selection_type_array );\n\n\t\tvar form_item = this.putInputToInsideFormItem( form_item_input, $.i18n._( 'Selection Type' ) );\n\n\t\tv_box.append( form_item );\n\t\tv_box.append( '<div class=\\'clear-both-div\\'></div>' );\n\n\t\t//Selection\n\t\tform_item_input_1 = Global.loadWidgetByName( FormItemType.AWESOME_BOX );\n\n\t\tform_item_input_1.AComboBox( {\n\t\t\ttree_mode: true,\n\t\t\tallow_multiple_selection: true,\n\t\t\tlayout_name: 'global_tree_column',\n\t\t\tset_empty: true,\n\t\t\tfield: 'group'\n\t\t} );\n\t\tform_item_input_1.setSourceData( $this.user_group_array );\n\n\t\tform_item = this.putInputToInsideFormItem( form_item_input_1, $.i18n._( 'Selection' ) );\n\n\t\tv_box.append( form_item );\n\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Employee Groups' ), [form_item_input, form_item_input_1], tab_employee_criteria_column1, 'first', v_box, false, true );\n\n\t\t//Branches\n\t\tv_box = $( '<div class=\\'v-box\\'></div>' );\n\t\t//Selection Type\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.COMBO_BOX );\n\t\tform_item_input.TComboBox( { field: 'branch_selection_type_id' } );\n\t\tform_item_input.setSourceData( $this.branch_selection_type_array );\n\n\t\tform_item = this.putInputToInsideFormItem( form_item_input, $.i18n._( 'Selection Type' ) );\n\n\t\tv_box.append( form_item );\n\t\tv_box.append( '<div class=\\'clear-both-div\\'></div>' );\n\n\t\t//Selection\n\t\tvar form_item_input_1 = Global.loadWidgetByName( FormItemType.AWESOME_BOX );\n\n\t\tform_item_input_1.AComboBox( {\n\t\t\tapi_class: TTAPI.APIBranch,\n\t\t\tallow_multiple_selection: true,\n\t\t\tlayout_name: 'global_branch',\n\t\t\tshow_search_inputs: true,\n\t\t\tset_empty: true,\n\t\t\tfield: 'branch'\n\t\t} );\n\n\t\tform_item = this.putInputToInsideFormItem( form_item_input_1, $.i18n._( 'Selection' ) );\n\n\t\tv_box.append( form_item );\n\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Branches' ), [form_item_input, form_item_input_1], tab_employee_criteria_column1, '', v_box, false, true );\n\n\t\t// Departments\n\t\tv_box = $( '<div class=\\'v-box\\'></div>' );\n\t\t// Selection Type\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.COMBO_BOX );\n\t\tform_item_input.TComboBox( { field: 'department_selection_type_id' } );\n\t\tform_item_input.setSourceData( $this.department_selection_type_array );\n\n\t\tform_item = this.putInputToInsideFormItem( form_item_input, $.i18n._( 'Selection Type' ) );\n\t\tv_box.append( form_item );\n\t\tv_box.append( '<div class=\\'clear-both-div\\'></div>' );\n\n\t\t//Selection\n\t\tform_item_input_1 = Global.loadWidgetByName( FormItemType.AWESOME_BOX );\n\n\t\tform_item_input_1.AComboBox( {\n\t\t\tapi_class: TTAPI.APIDepartment,\n\t\t\tallow_multiple_selection: true,\n\t\t\tlayout_name: 'global_department',\n\t\t\tshow_search_inputs: true,\n\t\t\tset_empty: true,\n\t\t\tfield: 'department'\n\t\t} );\n\n\t\tform_item = this.putInputToInsideFormItem( form_item_input_1, $.i18n._( 'Selection' ) );\n\n\t\tv_box.append( form_item );\n\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Departments' ), [form_item_input, form_item_input_1], tab_employee_criteria_column1, '', v_box, false, true );\n\n\t\t// Include Employees\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.AWESOME_BOX );\n\t\tform_item_input.AComboBox( {\n\t\t\tapi_class: TTAPI.APIUser,\n\t\t\tallow_multiple_selection: true,\n\t\t\tlayout_name: 'global_user',\n\t\t\tshow_search_inputs: true,\n\t\t\tset_empty: true,\n\t\t\tfield: 'include_user'\n\t\t} );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Include Employees' ), form_item_input, tab_employee_criteria_column1 );\n\n\t\t// Exclude Employees\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.AWESOME_BOX );\n\t\tform_item_input.AComboBox( {\n\t\t\tapi_class: TTAPI.APIUser,\n\t\t\tallow_multiple_selection: true,\n\t\t\tlayout_name: 'global_user',\n\t\t\tshow_search_inputs: true,\n\t\t\tset_empty: true,\n\t\t\tfield: 'exclude_user'\n\t\t} );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Exclude Employees' ), form_item_input, tab_employee_criteria_column1, '' );\n\n\t\t// Tab2 start\n\n\t\tvar tab_time_clock = this.edit_view_tab.find( '#tab_time_clock' );\n\t\tvar tab_time_clock_column1 = tab_time_clock.find( '.first-column' );\n\t\tvar tab_time_clock_column2 = tab_time_clock.find( '.second-column' );\n\n\t\tthis.edit_view_tabs[2] = [];\n\n\t\tthis.edit_view_tabs[2].push( tab_time_clock_column1 );\n\t\tthis.edit_view_tabs[2].push( tab_time_clock_column2 );\n\n\t\t// Password/COMM Key\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.TEXT_INPUT );\n\n\t\tform_item_input.TTextInput( { field: 'password', width: 254 } );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Password/COMM Key' ), form_item_input, tab_time_clock_column1, '', null, true );\n\n\t\t// Port\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.TEXT_INPUT );\n\n\t\tform_item_input.TTextInput( { field: 'port', width: 254 } );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Port' ), form_item_input, tab_time_clock_column1, '', null, true );\n\n\t\t// Force Time Zone\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.COMBO_BOX );\n\t\tform_item_input.TComboBox( { field: 'time_zone', set_empty: true } );\n\t\tform_item_input.setSourceData( $this.time_zone_array );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Force Time Zone' ), form_item_input, tab_time_clock_column1 );\n\n\t\t// Enable Automatic Punch Status\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.CHECKBOX );\n\t\tform_item_input.TCheckbox( { field: 'enable_auto_punch_status' } );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Enable Automatic Punch Status' ), form_item_input, tab_time_clock_column1, '' );\n\n\t\t// Manual Command\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.COMBO_BOX );\n\t\tform_item_input.TComboBox( { field: 'manual_command' } );\n\t\tform_item_input.setSourceData( $this.time_clock_command_array );\n\n\t\twidgetContainer = $( '<div class=\\'widget-h-box\\'></div>' );\n\t\tlabel = $( '<button type=\\'button\\' class=\\' t-button widget-right-label\\'>' + $.i18n._( 'Run' ) + '</button>' );\n\n\t\twidgetContainer.append( form_item_input );\n\t\twidgetContainer.append( label );\n\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Manual Command' ), form_item_input, tab_time_clock_column2, '', widgetContainer, true );\n\n\t\t// Download Frequency\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.COMBO_BOX );\n\t\tform_item_input.TComboBox( { field: 'poll_frequency' } );\n\t\tform_item_input.setSourceData( $this.poll_frequency_array );\n\n\t\twidgetContainer = $( '<div class=\\'widget-h-box\\'></div>' );\n\t\tlabel = $( '<span class=\\'widget-right-label\\'> ' + $.i18n._( 'Last Download' ) + ': ' + ' </span>' );\n\n\t\tvar widget_text = Global.loadWidgetByName( FormItemType.TEXT );\n\t\twidget_text.TText( { field: 'last_push_date' } );\n\n\t\twidgetContainer.append( form_item_input );\n\t\twidgetContainer.append( label );\n\t\twidgetContainer.append( widget_text );\n\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Download Frequency' ), [form_item_input, widget_text], tab_time_clock_column2, '', widgetContainer );\n\n\t\t// Full Upload Frequency\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.COMBO_BOX );\n\t\tform_item_input.TComboBox( { field: 'push_frequency' } );\n\t\tform_item_input.setSourceData( $this.push_frequency_array );\n\n\t\twidgetContainer = $( '<div class=\\'widget-h-box\\'></div>' );\n\t\tlabel = $( '<span class=\\'widget-right-label\\'> ' + $.i18n._( 'Last Upload' ) + ': ' + ' </span>' );\n\n\t\twidget_text = Global.loadWidgetByName( FormItemType.TEXT );\n\t\twidget_text.TText( { field: 'last_poll_date' } );\n\n\t\twidgetContainer.append( form_item_input );\n\t\twidgetContainer.append( label );\n\t\twidgetContainer.append( widget_text );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Full Upload Frequency' ), [form_item_input, widget_text], tab_time_clock_column2, '', widgetContainer, true );\n\n\t\t// Partial Upload Frequency\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.COMBO_BOX );\n\t\tform_item_input.TComboBox( { field: 'partial_push_frequency' } );\n\t\tform_item_input.setSourceData( $this.push_frequency_array );\n\n\t\twidgetContainer = $( '<div class=\\'widget-h-box\\'></div>' );\n\t\tlabel = $( '<span class=\\'widget-right-label\\'> ' + $.i18n._( 'Last Upload' ) + ': </span>' );\n\t\twidget_text = Global.loadWidgetByName( FormItemType.TEXT );\n\t\twidget_text.TText( { field: 'last_partial_push_date' } );\n\n\t\twidgetContainer.append( form_item_input );\n\t\twidgetContainer.append( label );\n\t\twidgetContainer.append( widget_text );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Partial Upload Frequency' ), [form_item_input, widget_text], tab_time_clock_column2, '', widgetContainer, true );\n\n\t\t// Last Downloaded Punch\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.TEXT );\n\t\tform_item_input.TText( { field: 'last_punch_time_stamp' } );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Last Downloaded Punch' ), form_item_input, tab_time_clock_column2 );\n\n\t\t// Configuration Modes\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.AWESOME_BOX );\n\t\tform_item_input.AComboBox( {\n\t\t\tallow_multiple_selection: true,\n\t\t\tlayout_name: 'global_option_column',\n\t\t\tshow_search_inputs: true,\n\t\t\tset_empty: true,\n\t\t\tfield: 'mode_flag'\n\t\t} );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Configuration Modes' ), form_item_input, tab_time_clock_column2, '', null, null, true );\n\n\t\t// Default Punch Mode\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.AWESOME_BOX );\n\t\tform_item_input.AComboBox( {\n\t\t\tallow_multiple_selection: false,\n\t\t\tlayout_name: 'global_option_column',\n\t\t\tshow_search_inputs: true,\n\t\t\tset_empty: true,\n\t\t\tfield: 'default_mode_flag'\n\t\t} );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Default Punch Mode' ), form_item_input, tab_time_clock_column2 ); //, '', null, null, true );\n\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.AWESOME_BOX );\n\t\tform_item_input.AComboBox( {\n\t\t\tallow_multiple_selection: false,\n\t\t\tlayout_name: 'global_option_column',\n\t\t\tshow_search_inputs: true,\n\t\t\tset_empty: false,\n\t\t\tfield: 'user_value_1'\n\t\t} );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Face Recognition Threshold' ), form_item_input, tab_time_clock_column2 ); //, '', null, null, true );\n\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.AWESOME_BOX );\n\t\tform_item_input.AComboBox( {\n\t\t\tallow_multiple_selection: false,\n\t\t\tlayout_name: 'global_option_column',\n\t\t\tshow_search_inputs: true,\n\t\t\tset_empty: false,\n\t\t\tfield: 'user_value_2'\n\t\t} );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Face Recognition Matches' ), form_item_input, tab_time_clock_column2 ); //, '', null, null, true );\n\n\t}\n\n\tbuildSearchFields() {\n\n\t\tsuper.buildSearchFields();\n\t\tthis.search_fields = [\n\n\t\t\tnew SearchField( {\n\t\t\t\tlabel: $.i18n._( 'Status' ),\n\t\t\t\tin_column: 1,\n\t\t\t\tfield: 'status_id',\n\t\t\t\tmultiple: true,\n\t\t\t\tbasic_search: true,\n\t\t\t\tadv_search: false,\n\t\t\t\tlayout_name: 'global_option_column',\n\t\t\t\tform_item_type: FormItemType.AWESOME_BOX\n\t\t\t} ),\n\t\t\tnew SearchField( {\n\t\t\t\tlabel: $.i18n._( 'Type' ),\n\t\t\t\tin_column: 1,\n\t\t\t\tfield: 'type_id',\n\t\t\t\tmultiple: true,\n\t\t\t\tbasic_search: true,\n\t\t\t\tadv_search: false,\n\t\t\t\tlayout_name: 'global_option_column',\n\t\t\t\tform_item_type: FormItemType.AWESOME_BOX\n\t\t\t} ),\n\t\t\tnew SearchField( {\n\t\t\t\tlabel: $.i18n._( 'Station' ),\n\t\t\t\tin_column: 1,\n\t\t\t\tfield: 'station_id',\n\t\t\t\tmultiple: true,\n\t\t\t\tbasic_search: true,\n\t\t\t\tadv_search: false,\n\t\t\t\tform_item_type: FormItemType.TEXT_INPUT\n\t\t\t} ),\n\t\t\tnew SearchField( {\n\t\t\t\tlabel: $.i18n._( 'Source' ),\n\t\t\t\tin_column: 1,\n\t\t\t\tfield: 'source',\n\t\t\t\tmultiple: true,\n\t\t\t\tbasic_search: true,\n\t\t\t\tadv_search: false,\n\t\t\t\tform_item_type: FormItemType.TEXT_INPUT\n\t\t\t} ),\n\t\t\tnew SearchField( {\n\t\t\t\tlabel: $.i18n._( 'Description' ),\n\t\t\t\tin_column: 2,\n\t\t\t\tfield: 'description',\n\t\t\t\tmultiple: true,\n\t\t\t\tbasic_search: true,\n\t\t\t\tadv_search: false,\n\t\t\t\tform_item_type: FormItemType.TEXT_INPUT\n\t\t\t} ),\n\t\t\tnew SearchField( {\n\t\t\t\tlabel: $.i18n._( 'Created By' ),\n\t\t\t\tin_column: 2,\n\t\t\t\tfield: 'created_by',\n\t\t\t\tlayout_name: 'global_user',\n\t\t\t\tapi_class: TTAPI.APIUser,\n\t\t\t\tmultiple: true,\n\t\t\t\tbasic_search: true,\n\t\t\t\tadv_search: false,\n\t\t\t\tform_item_type: FormItemType.AWESOME_BOX\n\t\t\t} ),\n\n\t\t\tnew SearchField( {\n\t\t\t\tlabel: $.i18n._( 'Updated By' ),\n\t\t\t\tin_column: 2,\n\t\t\t\tfield: 'updated_by',\n\t\t\t\tlayout_name: 'global_user',\n\t\t\t\tapi_class: TTAPI.APIUser,\n\t\t\t\tmultiple: true,\n\t\t\t\tbasic_search: true,\n\t\t\t\tadv_search: false,\n\t\t\t\tform_item_type: FormItemType.AWESOME_BOX\n\t\t\t} )\n\t\t];\n\t}\n\n}\n"],"sourceRoot":""}