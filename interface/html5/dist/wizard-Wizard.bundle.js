(self.webpackChunktimetrex=self.webpackChunktimetrex||[]).push([["wizard-Wizard"],{3207:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{"Wizard":()=>Wizard});var _views_TTBackboneView__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(6739);class Wizard extends _views_TTBackboneView__WEBPACK_IMPORTED_MODULE_0__.TTBackboneView{constructor(e={}){_.defaults(e,{current_step:!1,wizard_id:"generic_wizard",wizard_name:$.i18n._("Wizard"),step_history:{},step_objects:{},el:$(".wizard"),previous_wizard:null,_step_map:null,do_not_initialize_onload:!1,external_data:null,events:{"click .close-btn":"onCloseClick","click .close-icon":"onCloseClick","click .wizard-overlay.onclick-close":"onCloseClick","click .forward-btn":"onNextClick","click .back-btn":"onPrevClick","click .done-btn":"onDone"}}),super(e)}initialize(e){if(super.initialize(e),e&&e.external_data&&this.setExternalData(e.external_data),!this.do_not_initialize_onload){this.step_history={},this.step_objects={};var t=this;this.initStepObject(this.getCurrentStepName()?this.getCurrentStepName():"home",(function(e){t.init(),t.render(),t.enableButtons(),LocalCacheData.current_open_wizard_controller?t.previous_wizard=LocalCacheData.current_open_wizard_controller:t.previous_wizard=!1,LocalCacheData.current_open_wizard_controller=t}))}}init(){}setExternalData(e){this.external_data=e}getExternalData(){return this.external_data}onNextClick(e){if(1==this.button_click_procesing)return!1;if(0==$(e.target).hasClass("disable-image")){this.disableButtons();var t=this.getStepObject().getNextStepName(),i=this;this.initStepObject(t,(function(e){e.setPreviousStepName(i.getCurrentStepName()),i.setCurrentStepName(t)}))}}onPrevClick(e){if(1==this.button_click_procesing)return!1;if(!0===e||0==$(e.target).hasClass("disable-image")){this.disableButtons();var t=this.getStepObject().getPreviousStepName(),i=this;this.initStepObject(t,(function(e){i.setCurrentStepName(t)}))}}onCloseClick(e){if(!e||0==$(e.target).hasClass("disable-image")){var t=this;!1!==this.getStepObject().getPreviousStepName()&&!1!==this.getStepObject().getNextStepName()?TAlertManager.showConfirmAlert($.i18n._("Are you sure you wish to cancel without completing all steps for this event?"),null,(function(e){!0===e&&t.cleanUp()})):0==this.getStepObject().getNextStepName()?0==this.getStepObject().isRequiredButtonsClicked()?TAlertManager.showConfirmAlert($.i18n._("<strong>WARNING</strong>: You are about to cancel without performing all required actions on this step! <br><br><strong>This may result in payments or reports not being submitted to this agency.</strong> <br><br>Are you sure you wish to continue?<br><br>"),null,(function(e){!0===e&&t.cleanUp()})):TAlertManager.showConfirmAlert($.i18n._("Are you sure you wish to cancel without marking this event as completed?"),null,(function(e){!0===e&&t.cleanUp()})):t.cleanUp()}}onDone(e){if(!e||0==$(e.target).hasClass("disable-image")){var t=this;0==this.getStepObject().getNextStepName()&&0==this.getStepObject().isRequiredButtonsClicked()?TAlertManager.showConfirmAlert($.i18n._("<strong>WARNING</strong>: You are about to mark this event as completed without performing all required actions on this step! <br><br><strong>This may result in payments or reports not being submitted to this agency.</strong> <br><br>Are you sure you wish to continue?<br><br>"),null,(function(e){!0===e&&t.onDoneComplete()})):t.onDoneComplete()}}onDoneComplete(e){$this.cleanUp()}addStepObject(e,t){return this.step_objects[e]=t,this.step_objects[e]}getStepObject(e){return void 0===e&&(e=this.getCurrentStepName()),"object"==typeof this.step_objects[e]?this.step_objects[e]:this.step_objects.home}getCurrentStepName(){return this.current_step}setCurrentStepName(e){this.current_step=e}render(){}cleanUp(){for(var e in $(this.el).remove(),this.step_objects)this.step_objects[e]&&(this.step_objects[e].reload=!0);LocalCacheData.current_open_wizard_controller=null,$().TFeedback({source:this.wizard_id})}initStepObject(name,callback){if(this._step_map.hasOwnProperty(name)){if(null==this.step_objects[name]||"object"!=typeof this.step_objects[name]){var $this=this;return void Global.loadScript(this._step_map[name].script_path,(function(){$this.setCurrentStepName(name),$($this.el).find(".content").html("");var obj=eval("new "+$this._step_map[name].object_name+"( $this );");obj.reload=!1,$this.addStepObject(name,obj),"function"==typeof callback&&callback(obj)}))}if(this.setCurrentStepName(name),"function"==typeof callback){var obj=this.step_objects[name];$(this.el).find(".content").html("");var obj=eval("new "+this._step_map[name].object_name+"( this );");1==this.step_objects[name].reload&&(obj.clicked_buttons={},obj.reload=!1),this.addStepObject(name,obj),callback(obj)}}else;}disableButtons(){this.button_click_procesing=!0}enableButtons(){var e=this.getStepObject();"string"!=typeof e.getNextStepName()?($(this.el).find(".forward-btn").addClass("disable-image"),$(this.el).find(".done-btn").removeClass("disable-image")):($(this.el).find(".forward-btn").removeClass("disable-image"),$(this.el).find(".done-btn").addClass("disable-image")),"string"!=typeof e.getPreviousStepName()?$(this.el).find(".back-btn").addClass("disable-image"):$(this.el).find(".back-btn").removeClass("disable-image"),this._enableButtons(),this.button_click_procesing=!1}_enableButtons(){}minimize(){LocalCacheData.PayrollRemittanceAgencyEventWizard=this,Global.addViewTab(this.wizard_id,this.wizard_name,window.location.href),this.delegateEvents(),$(this.el).remove()}reload(){for(var e in this.step_objects)this.step_objects[e].reload=!0}disableForCommunity(e){Global.getProductEdition()<=10?TAlertManager.showAlert(Global.getUpgradeMessage(),$.i18n._("Denied")):"function"==typeof e&&e()}}}}]);
//# sourceMappingURL=wizard-Wizard.bundle.js.map?v=7c74d3e5df40990f42a7