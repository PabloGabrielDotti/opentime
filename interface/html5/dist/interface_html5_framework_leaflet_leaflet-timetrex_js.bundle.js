(self.webpackChunktimetrex=self.webpackChunktimetrex||[]).push([["interface_html5_framework_leaflet_leaflet-timetrex_js"],{6889:(e,t,a)=>{"use strict";a.r(t),a.d(t,{"TTMap":()=>o,"TTMapData":()=>l,"TTConvertMapData":()=>s});var r=a(5035),n=a(1778),i=a(3711);a(5243),a(1787),a(7820),a(2978),a(5732),a(5585);function o(e,t){if(!(this instanceof o))return"Must access this class via an instance created with `new` keyword";this.defaults={start_view_coordinates:new L.LatLng(39.5,-98.35),start_view_zoom:4,colors:[{name:"red",value:"#c0392b"},{name:"orange",value:"#d35400"},{name:"yellow",value:"#f39c12"},{name:"green",value:"#16a085"},{name:"lightblue",value:"#27ae60"},{name:"blue",value:"#2980b9"},{name:"purple",value:"#8e44ad"}]},this._internal={_layers:{},_leaflet_map:L.map("map",t).setView(this.defaults.start_view_coordinates,this.defaults.start_view_zoom)},this._internal._leaflet_map.createPane("distanceTooltipPane");var a=new L.LatLngBounds(L.latLng(85,-180),L.latLng(-85,180));this._internal._leaflet_map.setMaxBounds(a)}delete L.Icon.Default.prototype._getIconUrl,L.Icon.Default.mergeOptions({iconRetinaUrl:r.Z,iconUrl:n.Z,shadowUrl:i.Z}),o.prototype.addMarker=function(e,t){var a=this;if(!e)return Debug.Text("ERROR: Invalid parameters supplied to function. Marker not added to map.","leaflet-timetrex.js","TTMap","prototype.addMarker",1),!1;var r={ref_id:TTUUID.generateUUID()};t&&jQuery.extend(r,t);var n=L.marker(e,r);if(n.type="marker",this.getLayer("markers").add(n,r.ref_id),a._internal._leaflet_map.flyTo(e,18),r.draggable&&r.callbacks&&r.callbacks.onMarkerDragend&&n.on("dragend",(function(e){r.callbacks.onMarkerDragend(this,e.target.getLatLng()),a._internal._leaflet_map.panTo(e.target.getLatLng())})),r.popupText&&n.bindPopup(r.popupText).openPopup(),r.permanent_title&&r.permanent_title_text?(n.bindTooltip(r.permanent_title_text,{permanent:!0,direction:"top",offset:[-15,-15],interactive:!0,opacity:.85}),n.on("click",(function(e){if(this.toggleTooltip(),e.originalEvent.shiftKey){var t=e.target._preSpiderfyLatlng?e.target._preSpiderfyLatlng:e.target.getLatLng();window.open("http://maps.google.com/maps/place/?q="+t.lat+","+t.lng+"&t=h")}}))):n.on("click",(function(e){if(e.originalEvent.shiftKey){var t=e.target._preSpiderfyLatlng?e.target._preSpiderfyLatlng:e.target.getLatLng();window.open("http://maps.google.com/maps/place/?q="+t.lat+","+t.lng+"&t=h")}})),r.position_accuracy>0){var i={ref_id:TTUUID.generateUUID(),radius:r.position_accuracy},o=function(e,t){var a=new L.Circle(e,t);return a.type="accuracy-circle",a}(e,i);this.getLayer("marker-circles").add(o,i.ref_id),n.accuracy_circle_ref_id=i.ref_id,n.on("dragstart",(function(e){this.accuracy_circle_ref_id&&(this.options.position_accuracy=0,a.getLayer("marker-circles").remove(this.accuracy_circle_ref_id))}))}return n},o.prototype.addInfoBox=function(e){var t=this._internal._leaflet_map,a=L.control();a.onAdd=function(t){return this._div=L.DomUtil.create("div","ttmap-info-box"),this.update(e),this._div},a.update=function(e){this._div.innerHTML="<h4>"+e.heading+"</h4><p>"+e.text+"</p>",e.extra&&(this._div.innerHTML+=e.extra)},a.addTo(t)},o.prototype.addMarkerInteractive=function(e){var t=this,a=this._internal._leaflet_map;L.DomUtil.addClass(a._container,"crosshair-cursor-enabled"),this.addInfoBox({heading:$.i18n._("Set new location"),text:$.i18n._("Click anywhere on the map to place a position marker."),extra:"<p><em>"+$.i18n._("Tip: Use SHIFT + CLICK and drag to quickly zoom into a specific area.")+"</em></p>"}),a.on("click",(function(r){var n=t.addMarker(r.latlng,e);n.options.callbacks.onMarkerAddNew(n,r.latlng),L.DomUtil.removeClass(a._container,"crosshair-cursor-enabled"),a.off("click")}))},o.prototype.addPolyLine=function(e,t){if(!e||e.length<2)return Debug.Text("ERROR: Invalid params passed for creating polyline.","leaflet-timetrex.js","TTMap","prototype.addPolyLine",1),!1;var a={ref_id:e.reduce((function(e,t){return e+t.toString()}),"")};t&&jQuery.extend(a,t);var r=new L.Polyline(e,a);r.type="line";var n=this.getLayer("lines").add(r,a.ref_id);return!1!==n?r:n},o.prototype.drawGeoFenceCircle=function(e){var t={stroke:!0,fill:!0,opacity:.8,weight:2,color:e.geo_color?"#"+e.geo_color:"#0F820F",fillOpacity:.25,fillColor:e.geo_color?"#"+e.geo_color:"#0F820F",ref_id:TTUUID.generateUUID()},a=new L.Circle([parseFloat(e.geo_circle.center[0]),parseFloat(e.geo_circle.center[1])],parseFloat(e.geo_circle.radius),t);return a.bindTooltip(e.name,{permanent:!0,direction:"center",interactive:!0}),a.on("click",(function(){this.toggleTooltip()})),a.is_geofence=!0,a.type="geofence-circle",this.getLayer("geofences").add(a,t.ref_id),a.getBounds()},o.prototype.drawGeoFencePolygon=function(e){var t=_.map(e.geo_polygon,(function(e){return{lat:parseFloat(e[0]),lng:parseFloat(e[1])}})),a={stroke:!0,fill:!0,opacity:.8,weight:2,color:e.geo_color?"#"+e.geo_color:"#0F820F",fillOpacity:.25,fillColor:e.geo_color?"#"+e.geo_color:"#0F820F",ref_id:TTUUID.generateUUID()},r=new L.Polygon(t,a);return r.bindTooltip(e.name,{permanent:!0,direction:"center",interactive:!0}),r.on("click",(function(){this.toggleTooltip()})),r.is_geofence=!0,r.type="geofence-poly",this.getLayer("geofences").add(r,a.ref_id),r.getBounds()},o.prototype.initRoutingEngine=function(e){this.defaults.routing_url=e.routing_url},o.prototype.calculateRealWorldRoute=function(e,t,a){var r=this,n=e.getStartMarker().latlng,i=e.getEndMarker().latlng;if(!(this.defaults.routing_url&&n&&n.lat&&n.lng&&i&&i.lat&&i.lng&&t))return Debug.Text("ERROR: Missing/invalid route engine config, route points, or line object","leaflet-timetrex.js","TTMap","prototype.calculateRealWorldRoute",1),!1;if(n.lat==i.lat&&n.lng==i.lng)return Debug.Text("Start and end points are the same. Not valid route.","leaflet-timetrex.js","TTMap","prototype.calculateRealWorldRoute",10),!1;var o=L.Routing.control({waypoints:[n,i],fitSelectedRoutes:!1,show:!1,units:"metric",lineOptions:{styles:[{color:"black",opacity:.15,weight:9},{color:"white",opacity:.5,weight:6},{color:"#3388ff",opacity:1,weight:2}],addWaypoints:!1},createMarker:function(){},routeLine:function(e,a){if(0===e.summary.totalDistance)return Debug.Text("Route distance is zero. Line not drawn.","leaflet-timetrex.js","TTMap","calculateRealWorldRoute.routeLine",10),new L.FeatureGroup(L.Routing.line(e,a).getLayers());var o=new L.FeatureGroup(L.Routing.line(e,a).getLayers());return o.eachLayer((function(t){t.options&&"#3388ff"===t.options.color&&(r.addRouteInfoToLine(t,{route_distance:e.summary.totalDistance}),o.on("click",(function(e){t.toggleTooltip(),e.originalEvent.shiftKey&&window.open("http://maps.google.com/maps?saddr="+n.lat+","+n.lng+"&daddr="+i.lat+", "+i.lng+"&t=h")})))})),r.getLayer("lines").remove(t.options.ref_id),o},autoRoute:!1,router:new L.Routing.OSRMv1({serviceUrl:this.defaults.routing_url+"/route/v1",profile:"driving",routingOptions:{alternatives:!1,steps:!1}})});o.route(),t.route_control=o,o.on("routesfound",(function(o){var l=t;if(o.routes[0].summary.totalDistance>0){var s={};s.route_distance=e.route_distance=o.routes[0].summary.totalDistance,s.route_duration=e.route_duration=o.routes[0].summary.totalTime,s._route_result=o,a.callbackDistanceResults&&a.callbackDistanceResults(e.ref_id,s),l.on("click",(function(e){e.originalEvent.shiftKey&&window.open("http://maps.google.com/maps?saddr="+n.lat+","+n.lng+"&daddr="+i.lat+", "+i.lng+"&t=h")})),r.addRouteInfoToLine(l,s)}else Debug.Text("Route distance not more than 0. Route not drawn.","leaflet-timetrex.js","TTMap","prototype.calculateRealWorldRoute",10)})),o.on("routingerror",(function(e){var t="There was a routing error mapping from ["+n.lat+","+n.lng+"] to ["+i.lat+","+i.lng+"]";Debug.Arr(e,t,"leaflet-timetrex.js","TTMap","prototype.calculateRealWorldRoute",10)})),o.addTo(this._internal._leaflet_map)},o.prototype.addRouteInfoToLine=function(e,t){if(t&&t.route_distance){jQuery.extend(e,t);var a=s.convertMetersToUserUnits(t.route_distance),r=a.distance_in_user_format+" "+a.user_distance_unit;e.bindTooltip(r,{pane:"distanceTooltipPane",permanent:!0,direction:"center",interactive:!0})}else Debug.Text("Error: Route result or distance missing.","leaflet-timetrex.js","TTMap","prototype.addRouteInfoToLine",1)},o.prototype.addTTMapData=function(e,t){var a=this;if(!e)return!1;e.tt_markers&&e.tt_markers.length>0&&Object.values(e.tt_markers).forEach((function(e){a.addMarker(e.latlng,e)})),e.tt_routes&&e.tt_routes.length>0&&Object.values(e.tt_routes).forEach((function(e){var r=a.addPolyLine([e.getStartMarker().latlng,e.getEndMarker().latlng],e);!1!==r?a.calculateRealWorldRoute(e,r,t):e.foundDuplicateLine=!0}))},o.prototype.setView=function(e,t){return this._internal._leaflet_map.setView(e,t)},o.prototype.getBounds=function(){return this._internal._leaflet_map.getBounds()},o.prototype.fitBounds=function(e,t){return this._internal._leaflet_map.fitBounds(e,t)},o.prototype.getCenter=function(){return this._internal._leaflet_map.getCenter()},o.prototype.panTo=function(e){return this._internal._leaflet_map.panTo(e)},o.prototype.createLayer=function(e,t){return e&&void 0===this._internal._layers[e]?(this._internal._layers[e]=new l.Layer(this._internal._leaflet_map,e,t),this._internal._layers[e]):(Debug.Text("ERROR: Either missing layer param or layer already exists. Abort create.","leaflet-timetrex.js","TTMap","prototype.createLayer",1),!1)},o.prototype.getLayer=function(e){return e&&void 0!==this._internal._layers[e]?this._internal._layers[e]:(Debug.Text("ERROR: Either missing layer param or layer does not exist.","leaflet-timetrex.js","TTMap","prototype.getLayer",1),!1)};var l=function(){function e(e,t){!e||e.length<2?Debug.Text("ERROR: Invalid parameters supplied to function. Route not created.","leaflet-timetrex.js","TTMapData","TTRoute",1):(this.route_markers=e,this.route_distance=null,this.route_duration=null,this.ref_id=this.route_markers.reduce((function(e,t){return e+t.latlng.toString()}),""),t&&jQuery.extend(this,t))}function t(e,t,a){if(this._references={_leaflet_map:e,_layer_name:t},this._objects={},a&&"marker-cluster"===a.type){var r={maxClusterRadius:80,spiderfyDistanceMultiplier:5,zoomToBoundsOnClick:!1},n={paddingTopLeft:[25,90],paddingBottomRight:[25,25]};a.cluster_layer_options&&jQuery.extend(r,a.cluster_layer_options),a.cluster_click_bounds_options&&jQuery.extend(n,a.cluster_click_bounds_options),this._marker_cluster=L.markerClusterGroup(r),this._marker_cluster.on("clusterclick",(function(e){e.layer.zoomToBounds(n)})),e.addLayer(this._marker_cluster)}}return e.prototype.getStartMarker=function(){return this.route_markers[0]},e.prototype.getEndMarker=function(){return this.route_markers[this.route_markers.length-1]},t.prototype.add=function(e,t){return t=t||e.coordinates,void 0===this._objects[t]?(this._marker_cluster?this._marker_cluster.addLayer(e):e.addTo(this._references._leaflet_map),e.tt_layer_group=this._references._layer_name,e.tt_layer_key=t,this._objects[t]=e,this._objects):(Debug.Arr(e,"Note: Object already exists in layer. Not added again.","leaflet-timetrex.js","TTMapData","Layer.add",10),!1)},t.prototype.get=function(e){return void 0===e?this._objects:this._objects[e]},t.prototype.remove=function(e){return void 0!==e&&(void 0!==this._objects[e]?(this.get(e).remove(),this._objects[e]=void 0,this._objects):(Debug.Arr(e,"Note: Search key did not exist in layer. Not removed.","leaflet-timetrex.js","TTMapData","Layer.remove",10),!1))},t.prototype.clear=function(){var e=this;Object.keys(this._objects).map((function(t){e.remove(t)}))},{TTMarker:function(e,t){e?(this.latlng=e,this.position_accuracy=0,this.draggable=!1,this.autoPan=!0,this.ref_id=this.latlng.toString(),t&&jQuery.extend(this,t)):Debug.Text("ERROR: No coordinates passed to function. Marker not created.","leaflet-timetrex.js","TTMapData","TTMarker",1)},TTRoute:e,Layer:t,LatLng:L.LatLng}}(),s=function(){function e(e,t){if(e&&e.latitude&&e.longitude){var a=new l.LatLng(e.latitude,e.longitude),r=e.id;e.id||(r=TTUUID.generateUUID(),e.first_name="New",e.last_name="Punch");var n={ref_id:r,position_accuracy:e.position_accuracy,punch:e,punch_id:e.id};return(e.first_name||e.last_name)&&(e.punch_date||e.punch_time)?(n.title=Global.filterOutput(e.first_name)+" "+Global.filterOutput(e.last_name),n.permanent_title_text="<strong>"+n.title+"</strong><br />"+e.punch_date+"&nbsp;"+e.punch_time,n.permanent_title=!0):e.first_name||e.last_name||!e.punch_date&&!e.punch_time||(n.title=Global.filterOutput(e.punch_date)+" "+Global.filterOutput(e.punch_time),n.permanent_title_text=n.title,n.permanent_title=!0),n.title||(n.permanent_title=!1),t&&jQuery.extend(n,t),new l.TTMarker(a,n)}Debug.Text("Note: Missing/invalid coordinates. Unable to generate TTMarker. Ignoring and continuing.","leaflet-timetrex.js","TTConvertMapData","punch2TTMarker",10)}function t(e,t){var a={};return t&&jQuery.extend(a,t),new l.TTRoute(e.tt_markers,a)}return{processPunchesFromViewController:function(a,r){var n={single_marker_draggable:!1};return jQuery.extend(n,r),{tt_map_data:function(a,r){a&&a.data&&a.metadata&&"common_punches"===a.metadata.data_type||Debug.Text("ERROR: Invalid function parameter format","leaflet-timetrex.js","TTConvertMapData","multidimensionalPunchArray2TTMapData",1);for(var n=[],i=[],o=Object.entries(a.data),l=0,s=o.length;l<s;l++)for(var u=Object.entries(o[l][1]),c=0,p=u.length;c<p;c++)for(var d=Object.entries(u[c][1]),_=0,m=d.length;_<m;_++){var f=d[_][1];f.tt_markers=[];for(var g=0,h=f.punch_objects.length;g<h;g++){var T=e(f.punch_objects[g],r);T&&(n.push(T),f.tt_markers.push(T))}if(2===f.tt_markers.length){var y=t(f,r);i.push(y)}else Debug.Text("Note: Punch control record skipped from map as count is not equal to 2.","leaflet-timetrex.js","TTConvertMapData","multidimensionalPunchArray2TTMapData",10)}1===n.length&&r&&r.single_marker_draggable&&(n[0].draggable=!0);return{tt_markers:n,tt_routes:i}}(function(e){var t=e.length,a={},r=0,n=0;if(!e||0===t)return Debug.Text("ERROR: Either data is not an array, or data is empty","leaflet-timetrex.js","TTConvertMapData","punches2MultidimensionalPunchArray",1),null;return $.each(e,(function(e,t){if(t.latitude&&t.longitude||(Debug.Text("Note: Missing/invalid LatLng for punch. Ignoring and continuing.","leaflet-timetrex.js","TTConvertMapData","punches2MultidimensionalPunchArray",10),n++,r++),t.punch_control_id||(t.punch_control_id=TTUUID.zero_id),void 0===a[t.user_id]&&(a[t.user_id]=[]),void 0===a[t.user_id][t.date_stamp]&&(a[t.user_id][t.date_stamp]=[]),void 0===a[t.user_id][t.date_stamp][t.punch_control_id])a[t.user_id][t.date_stamp][t.punch_control_id]={punch_objects:[],route_distance:null,route_duration:null};else if(void 0!==a[t.user_id][t.date_stamp][t.punch_control_id]){var i=a[t.user_id][t.date_stamp][t.punch_control_id].punch_objects;(i.length>1||i[0].status===t.status)&&(Debug.Text("ERROR: Invalid  punches in punch control","leaflet-timetrex.js","TTConvertMapData","punches2MultidimensionalPunchArray",1),r++)}a[t.user_id][t.date_stamp][t.punch_control_id].punch_objects.push(t)})),{data:a,metadata:{count:t,data_format:"grouped_by-user_id-date_stamp-punch_control_id",data_type:"common_punches",data_format_issues_count:r,data_invalid_coordinates:n}}}(a),n),options:n,geofence_filters:Global.groupArrayDataByKey(a,!0)}},processBasicFromGenericViewController:function(e,t){var a={single_marker_draggable:!1};return jQuery.extend(a,t),{tt_map_data:function(e,t){if(!e||e.length<1)return Debug.Text("ERROR: Invalid data supplied to converter.","leaflet-timetrex.js","TTConvertMapData","BasicGenericLocationArray2TTMapData",1),!1;var a=[];$.each(e,(function(e,r){if(r.first_name&&r.last_name||!r.name?r.first_name&&r.last_name&&r.latitude&&r.longitude||Debug.Text("Note: Potentially invalid data supplied to converter. (firstname/lastname/lat/ng). Check if its a one off or if all data has same missing fields.","leaflet-timetrex.js","TTConvertMapData","BasicGenericLocationArray2TTMapData",10):Debug.Text("Note: Missing first/last name, but .name exists, so we could use that","leaflet-timetrex.js","TTConvertMapData","BasicGenericLocationArray2TTMapData",10),i=r,!new l.LatLng(i.latitude,i.longitude).equals(new l.LatLng(0,0))&&i){var n=function(e,t){if(!e||!e.latitude||!e.longitude)return void Debug.Text("Note: Missing/invalid coordinates. Unable to generate TTMarker. Ignoring and continuing.","leaflet-timetrex.js","TTConvertMapData","basicGeneric2TTMarker",10);var a=new l.LatLng(e.latitude,e.longitude),r=e.id;r||(r=TTUUID.generateUUID());var n={title:e.first_name+" "+e.last_name,permanent_title_text:"<strong>"+e.first_name+" "+e.last_name+"</strong><br />",permanent_title:!0,ref_id:r,original_entry:e};e.first_name||e.last_name||!e.name?e.first_name||e.last_name||e.name||(n.title="",n.permanent_title_text="",n.permanent_title=!1):(n.title=Global.filterOutput(e.name),n.permanent_title_text="<strong>"+Global.filterOutput(e.name)+"</strong>");t&&jQuery.extend(n,t);return new l.TTMarker(a,n)}(r,t);n&&a.push(n)}var i})),1===a.length&&t&&t.single_marker_draggable&&(a[0].draggable=!0);return{tt_markers:a}}(e,a),options:a}},convertMetersToUserUnits:function(e){if(e&&e>=0){var t,a,r=LocalCacheData.getLoginUserPreference().distance_format;return 20==r?(t=measurement("Distance").convert(e).from(measurement.Unit.Distance.METRE).to(measurement.Unit.Distance.MILE).toFixed(2),a=$.i18n._("Miles")):10==r?(t=measurement("Distance").convert(parseFloat(e)).from(measurement.Unit.Distance.METRE).to(measurement.Unit.Distance.KILOMETRE).toFixed(2),a=$.i18n._("Km")):(t=e,a=$.i18n._("m")),{distance_metres:e,distance_in_user_format:t,user_distance_unit:a}}return Debug.Text("Distance is missing or not a valid number","leaflet-timetrex.js","TTConvertMapData","convertMetersToUserUnits",10),!1}}}()},5585:()=>{!function(e,t){"use strict";var a={Speed:{MILES_PER_HOUR:"mph",KILOMETRE_PER_HOUR:"km/h",METRE_PER_SECOND:"m/s",KNOT:"kn"},Distance:{MILLIMETRE:"mm",INCH:"in",KILOMETRE:"km",MILE:"M",METRE:"m",YARDS:"y"},Pressure:{HECTOPASCAL:"hPa",PASCAL:"Pa",BAR:"bar"},Temperature:{CELSIUS:"c",FAHRENHEIT:"f",KELVIN:"k"},Duration:{HOUR:"h",MINUTE:"m",SECOND:"s"}},r={Speed:{"mph":{key:a.Speed.MILES_PER_HOUR,base:a.Speed.KILOMETRE_PER_HOUR,factor:1.609344},"km/h":{key:a.Speed.KILOMETRE_PER_HOUR,base:null},"m/s":{key:a.Speed.METRE_PER_SECOND,base:a.Speed.KILOMETRE_PER_HOUR,factor:3.6},"kn":{key:a.Speed.KNOT,base:a.Speed.KILOMETRE_PER_HOUR,factor:1.852}},Distance:{"M":{key:a.Distance.MILE,base:"m",factor:1609.34},"km":{key:a.Distance.KILOMETRE,base:"m",factor:1e3,name:{de:"Kilometer",en:"Kilometer",en_GB:"Kilometre"},plural:{en:"Kilometers",en_GB:"Kilometres"}},"m":{key:a.Distance.METRE,base:null,name:{de:"Meter",en:"Meter",en_GB:"Metre"},plural:{en:"Meters",en_GB:"Metres"}},"mm":{key:a.Distance.MILLIMETRE,base:"m",factor:.001},"in":{key:a.Distance.INCH,base:"m",factor:.0254}},Pressure:{"hPa":{key:a.Pressure.HECTOPASCAL,base:"Pa",factor:100,name:{de:"Hektopascal",en:"Hectopascal",en_GB:"Hectopascal"},plural:{en:"Hectopascals"}},"Pa":{key:a.Pressure.PASCAL,base:null,name:{de:"Pascal",en:"Pascal",en_GB:"Pascal"},plural:{en:"Pascals"}},"bar":{key:a.Pressure.BAR,base:"Pa",factor:1e6,name:{de:"Bar",en:"Bar",en_GB:"Bar"},plural:{en:"Bars"}}},Temperature:{"c":{key:a.Temperature.CELSIUS,base:null},"f":{key:a.Temperature.FAHRENHEIT,base:a.Temperature.CELSIUS,factor:function(e,t){return t?1.8*e+32:5*(e-32)/9}},"k":{key:a.Temperature.KELVIN,base:a.Temperature.CELSIUS,factor:function(e,t){return t?parseFloat((e+273+.15).toFixed(10)):e-273-.15}}},Duration:{"h":{key:a.Duration.HOUR,base:"s",factor:3600},"m":{key:a.Duration.MINUTE,base:"s",factor:60},"s":{key:a.Duration.SECOND,base:null,factor:1}}};function n(e){var t=null,n=null,o=this;this.convert=function(l){if(r[e]){var s=r[e][t],u=r[e][n];if(s&&u){if(s.base===n)return"function"==typeof s.factor?s.factor(l):l*s.factor;if(s.key===u.base)return"function"==typeof u.factor?u.factor(l,!0):l/u.factor;var c,p=s.base||u.base;return void 0!==p&&(p===s.base?(c=i(e).convert(l).from(s.key).to(s.base),t=s.base):p===u.base&&(c=i(e).convert(l).from(u.key).to(u.base),t=u.base),p===a.Temperature.CELSIUS?parseFloat(o.convert(c).toFixed(10)):o.convert(c))}}return!1},this.inputUnit=null,this.setInputUnit=function(e){return t=e||null,this.inputUnit=t,o},this.outputUnit=null,this.setOutputUnit=function(e){return n=e||null,this.outputUnit=n,o}}var i=function(e){return{convert:function(t){var a=t,r=new n(e);function i(){return null!==r.inputUnit&&null!==r.outputUnit}return{from:function(e){return r.setInputUnit(e),i()?r.convert(a):this},to:function(e){return r.setOutputUnit(e),i()?r.convert(a):this}}}}};i.Unit=a,void 0===t?e.measurement=i:(t.measurement=i,t.mJs=i,t.measurement.Converter=n),"function"==typeof e.define&&e.define.amd?e.define("measurement",[],(function(){return i})):void 0!==e.module&&e.module.exports&&(e.module.exports.measurementjs=i)}(window,window.mJsNamespace)}}]);
//# sourceMappingURL=interface_html5_framework_leaflet_leaflet-timetrex_js.bundle.js.map?v=931c238af925ac871a36