(self.webpackChunktimetrex=self.webpackChunktimetrex||[]).push([["payroll-company_tax_deduction-CompanyTaxDeductionViewController"],{9706:(e,t,i)=>{"use strict";i.r(t),i.d(t,{"CompanyTaxDeductionViewController":()=>d});class d extends BaseViewController{constructor(e={}){_.defaults(e,{el:"#company_tax_deduction_view_container",type_array:null,status_array:null,tax_formula_type_array:null,calculation_array:null,account_amount_type_array:null,yes_no_array:null,federal_filing_status_array:null,state_basic_filing_status_array:null,apply_frequency_array:null,apply_payroll_run_type_array:null,length_of_service_unit_array:null,month_of_year_array:null,day_of_month_array:null,month_of_quarter_array:null,country_array:null,province_array:null,e_province_array:null,company_api:null,date_api:null,user_deduction_api:null,user_api:null,payroll_remittance_agency_api:null,employee_setting_grid:null,employee_setting_result:null,final_c_id:null,show_c:!1,show_p:!1,show_dc:!1,provice_district_array:null,original_current_record:null,length_dates:null,start_dates:null,end_dates:null,grid_parent:".grid-div"}),super(e)}init(e){this.edit_view_tpl="CompanyTaxDeductionEditView.html",this.sub_view_mode?this.permission_id="user_tax_deduction":this.permission_id="company_tax_deduction",this.viewId="CompanyTaxDeduction",this.script_name="CompanyTaxDeductionView",this.table_name_key="company_deduction",this.context_menu_name=$.i18n._("Tax / Deductions"),this.navigation_label=$.i18n._("Tax / Deductions")+":",this.api=TTAPI.APICompanyDeduction,this.date_api=TTAPI.APITTDate,this.company_api=TTAPI.APICompany,this.user_deduction_api=TTAPI.APIUserDeduction,this.user_api=TTAPI.APIUser,this.payroll_remittance_agency_api=TTAPI.APIPayrollRemittanceAgency,this.month_of_quarter_array=Global.buildRecordArray({1:1,2:2,3:3}),this.document_object_type_id=300,this.render(),Global.getProductEdition()>=15&&Global.loadScript("global/widgets/formula_builder/FormulaBuilder.js"),this.sub_view_mode?this.buildContextMenu(!0):this.buildContextMenu(),this.sub_view_mode||this.initData(),this.setSelectRibbonMenuIfNecessary()}getCustomContextMenuModel(){var e={exclude:[ContextMenuIconName.mass_edit],include:[]};return this.sub_view_mode&&e.exclude.push(ContextMenuIconName.view,ContextMenuIconName.save_and_new,ContextMenuIconName.save_and_copy,ContextMenuIconName.copy_as_new,ContextMenuIconName.copy),e}initOptions(){var e=this;this.initDropDownOption("type"),this.initDropDownOption("status"),this.initDropDownOption("calculation"),this.initDropDownOption("apply_frequency"),this.initDropDownOption("apply_payroll_run_type"),this.initDropDownOption("account_amount_type"),this.initDropDownOption("account_amount_type"),this.initDropDownOption("length_of_service_unit"),this.initDropDownOption("look_back_unit"),this.initDropDownOption("country","country",this.company_api),this.initDropDownOption("apply_payroll_run_type"),this.initDropDownOption("yes_no"),this.initDropDownOption("form_w4_version"),this.initDropDownOption("federal_filing_status"),this.initDropDownOption("state_basic_filing_status"),this.initDropDownOption("state_dc_filing_status"),this.initDropDownOption("state_al_filing_status"),this.initDropDownOption("state_ct_filing_status"),this.initDropDownOption("state_dc_filing_status"),this.initDropDownOption("state_de_filing_status"),this.initDropDownOption("state_nj_filing_status"),this.initDropDownOption("state_nc_filing_status"),this.initDropDownOption("state_ma_filing_status"),this.initDropDownOption("state_ga_filing_status"),this.initDropDownOption("state_la_filing_status"),this.initDropDownOption("state_wv_filing_status"),this.initDropDownOption("state_filing_status"),this.initDropDownOption("tax_formula_type"),this.company_api.getOptions("district",{onResult:function(t){t=t.getResult(),e.district_array=t}}),this.date_api.getMonthOfYearArray(!1,{onResult:function(t){t=t.getResult(),e.month_of_year_array=Global.buildRecordArray(t)}}),this.date_api.getDayOfMonthArray({onResult:function(t){t=t.getResult(),e.day_of_month_array=Global.buildRecordArray(t)}})}setSelectLayout(){this.sub_view_mode?super.setSelectLayout(["legal_entity_legal_name","total_users"]):super.setSelectLayout()}setEditMenuSaveAndContinueIcon(e,t){this.saveAndContinueValidate(e,t),(this.is_mass_editing||this.is_viewing||this.sub_view_mode&&(!this.current_edit_record||!this.current_edit_record.id))&&e.addClass("disable-image")}setEditMenuAddIcon(e,t){this.addPermissionValidate(t)&&!this.edit_only_mode||e.addClass("invisible-image"),e.addClass("disable-image")}disableIconOnEmployeeSettingsTab(e){"tab_employee_setting"===this.getEditViewActiveTabName()&&e.addClass("disable-image")}setEditMenuDeleteIcon(e){this.disableIconOnEmployeeSettingsTab(e)}setEditMenuDeleteAndNextIcon(e){this.disableIconOnEmployeeSettingsTab(e)}setEditMenuCopyIcon(e){this.disableIconOnEmployeeSettingsTab(e)}setEditMenuCopyAndAddIcon(e){this.disableIconOnEmployeeSettingsTab(e)}setEditMenuSaveAndCopyIcon(e){this.disableIconOnEmployeeSettingsTab(e)}enableIconOnEmployeeSettingsTab(e){"tab_employee_setting"===this.getEditViewActiveTabName()&&e.removeClass("disable-image")}setEditMenuExportIcon(e){this.enableIconOnEmployeeSettingsTab(e)}onExportClick(){1==this.is_edit&&"tab_employee_setting"===this.getEditViewActiveTabName()?this.employee_setting_grid.grid2csv("export_user_deduction"):super.onExportClick("export"+this.api.key_name)}saveInsideEditorData(e){if(this.current_edit_record&&this.current_edit_record.id){if(this.employee_setting_grid){for(var t=this.employee_setting_grid.getGridParam("data"),i=this.employee_setting_grid.getGridParam("colModel"),_=0;_<t.length;_++){var d=t[_];this.start_dates&&this.start_dates.length>0&&(d.start_date=this.start_dates[_].getValue()),this.length_dates&&this.length_dates.length>0&&(d.length_of_service_date=this.length_dates[_].getValue()),this.end_dates&&this.end_dates.length>0&&(d.end_date=this.end_dates[_].getValue());for(var a=1;a<i.length;a++){var l=i[a];d[l.name]===this.original_current_record[l.name]&&(d[l.name]=!1)}}t&&t.length>0?this.user_deduction_api.setUserDeduction(t,{onResult:function(){Global.isSet(e)&&e()}}):Global.isSet(e)&&e()}}else Global.isSet(e)&&e()}onContextMenuClick(e,t){return this.select_grid_last_row&&(this.employee_setting_grid.grid.jqGrid("saveRow",this.select_grid_last_row),this.setDateCellsEnabled(!1,this.select_grid_last_row),this.select_grid_last_row=null),super.onContextMenuClick(e,t)}getDeleteSelectedRecordId(){if(this.sub_view_mode){var e=[];if(this.edit_view)e.push(this.employee_setting_result[0].id);else{var t={filter_data:{}},i=this.getGridSelectIdArray().slice();t.filter_data.company_deduction_id=i,t.filter_data.user_id=this.parent_value;for(var _=this.user_deduction_api.getUserDeduction(t,!0,{async:!1}).getResult(),d=0;d<_.length;d++){var a=_[d];e.push(a.id)}}return e}return super.getDeleteSelectedRecordId()}doDeleteAPICall(e,t){return this.sub_view_mode?(t||(t={onResult:function(t){this.onDeleteResult(t,e)}.bind(this)}),this.user_deduction_api.deleteUserDeduction(e,t)):super.doDeleteAPICall(e,t)}onSaveClick(e){var t,i=this;if(Global.isSet(e)||(e=!1),this.is_add=!1,LocalCacheData.current_doing_context_action="save",this.is_mass_editing){var _=this.getChangedFields();t=this.buildMassEditSaveRecord(this.mass_edit_record_ids,_)}else t=this.current_edit_record;t=this.uniformVariable(t),this.sub_view_mode?this.current_edit_record.id?i.saveInsideEditorData((function(){i.refresh_id=i.current_edit_record.id,i.search(),i.removeEditView()})):this.user_deduction_api.setUserDeduction(t,!1,e,{onResult:function(e){i.onSaveResult(e)}}):this.api["set"+this.api.key_name](t,!1,e,{onResult:function(e){i.onSaveResult(e)}})}onSaveAndContinue(e){var t=this;Global.isSet(e)||(e=!1),this.is_changed=!1,this.is_add=!1,LocalCacheData.current_doing_context_action="save_and_continue";var i=this.current_edit_record;i=this.uniformVariable(i),this.sub_view_mode?t.saveInsideEditorData((function(){t.refresh_id=t.current_edit_record.id,t.search(!1),t.onEditClick(t.refresh_id,!0)})):this.api["set"+this.api.key_name](i,!1,e,{onResult:function(e){t.onSaveAndContinueResult(e)}})}onSaveAndNextClick(e){var t=this;Global.isSet(e)||(e=!1),this.is_add=!1,this.is_changed=!1;var i=this.current_edit_record;LocalCacheData.current_doing_context_action="save_and_next",i=this.uniformVariable(i),this.sub_view_mode?t.saveInsideEditorData((function(){t.refresh_id=t.current_edit_record.id,t.onRightArrowClick(),t.search(!1)})):this.api["set"+this.api.key_name](i,!1,e,{onResult:function(e){t.onSaveAndNextResult(e)}})}validate(){var e=this,t={};if(this.is_mass_editing){for(var i in this.edit_view_ui_dic)if(this.edit_view_ui_dic.hasOwnProperty(i)){var _=this.edit_view_ui_dic[i];Global.isSet(_.isChecked)&&_.isChecked()&&_.getEnabled()&&(t[i]=_.getValue())}}else t=this.current_edit_record;t=this.uniformVariable(t),this.sub_view_mode?this.user_deduction_api.validateUserDeduction(t,{onResult:function(t){e.validateResult(t)}}):this.api["validate"+this.api.key_name](t,{onResult:function(t){e.validateResult(t)}})}uniformVariable(e){if(this.sub_view_mode&&(!this.current_edit_record||!this.current_edit_record.id)){e=[];for(var t=this.edit_view_ui_dic.company_tax_deduction_ids.getValue(),i=0;i<t.length;i++){var _={};_.user_id=this.parent_value,_.company_deduction_id=t[i].id,e.push(_)}}return e}onSaveResult(e){var t=this;if(e.isValid()){var i=e.getResult();this.sub_view_mode?(t.refresh_id=null,t.search(),t.onSaveDone(e),t.removeEditView()):(!0===i?t.refresh_id=t.current_edit_record.id:TTUUID.isUUID(i)&&i!=TTUUID.zero_id&&i!=TTUUID.not_exist_id&&(t.refresh_id=i),t.saveInsideEditorData((function(){t.search(),t.onSaveDone(e),t.removeEditView()})))}else t.setErrorMenu(),t.setErrorTips(e)}onSaveAndCopyResult(e){var t=this;if(e.isValid()){var i=e.getResult();!0===i?t.refresh_id=t.current_edit_record.id:TTUUID.isUUID(i)&&i!=TTUUID.zero_id&&i!=TTUUID.not_exist_id&&(t.refresh_id=i),t.saveInsideEditorData((function(){t.search(!1),t.onCopyAsNewClick()}))}else t.setErrorTips(e),t.setErrorMenu()}_continueDoCopyAsNew(){this.setCurrentEditViewState("new"),LocalCacheData.current_doing_context_action="copy_as_new",Global.isSet(this.edit_view)&&(this.employee_setting_grid.clearGridData(),this.edit_view_ui_dic.calculation_id.setEnabled(!0)),super._continueDoCopyAsNew()}clearEditViewData(){for(var e in this.edit_view_ui_dic)this.edit_view_ui_dic.hasOwnProperty(e)&&(this.edit_view_ui_dic[e].setValue(null),this.edit_view_ui_dic[e].clearErrorStyle());this.employee_setting_grid&&this.employee_setting_grid.clearGridData()}checkTabPermissions(e){var t=!1;switch(e){case"tab_tax_deductions":case"tab_eligibility":case"tab_employee_setting":case"tab_attachment":case"tab_audit":t=!this.sub_view_mode||!("tab_employee_setting"!=e||!this.current_edit_record.id);break;case"tab5":this.sub_view_mode&&(t="tab5"!=e||!this.current_edit_record.id);break;default:t=super.checkTabPermissions(e)}return t}setProvince(e,t){var i=this;e&&"-1"!==e&&"0"!==e?this.company_api.getOptions("province",e,{onResult:function(e){(e=e.getResult())||(e=[]),i.province_array=Global.buildRecordArray(e)}}):i.province_array=[]}eSetProvince(e,t){var i=this,_=i.edit_view_ui_dic.province;e&&"-1"!==e&&"0"!==e?this.company_api.getOptions("province",e,{onResult:function(e){(e=e.getResult())||(e=[]),i.e_province_array=Global.buildRecordArray(e),_.setSourceData(i.e_province_array),i.setProvinceVisibility()}}):(i.e_province_array=[],_.setSourceData([]))}onFormItemChange(e,t){this.setIsChanged(e),this.setMassEditingFieldsWhenFormChange(e);var i=e.getField(),_=e.getValue();switch(this.current_edit_record[i]=_,i){case"country":var d=this.edit_view_ui_dic.province,a=this.edit_view_ui_dic.district;d.setValue(null),a.setValue(null),this.current_edit_record.province=!1,this.current_edit_record.district=!1,this.setDynamicFields(null,!0);break;case"province":a=this.edit_view_ui_dic.district,this.setDistrict(this.current_edit_record.country),a.setValue(null),this.setDynamicFields(null,!0);break;case"calculation_id":this.setDynamicFields();break;case"apply_frequency_id":this.onApplyFrequencyChange();break;case"minimum_length_of_service_unit_id":case"maximum_length_of_service_unit_id":this.onLengthOfServiceChange();break;case"start_date":case"end_date":case"minimum_length_of_service":case"maximum_length_of_service":this.resetEmployeeSettingGridColumns();break;case"legal_entity_id":this.onLegalEntityChange(),this.updateEmployeeData();break;case"user_value10":this.onFormW4VersionChange()}"country"!==i?t||this.validate():this.onCountryChange()}setCurrentEditRecordData(){var e=this;for(var t in this.original_current_record=Global.clone(this.current_edit_record),this.current_edit_record)if(this.current_edit_record.hasOwnProperty(t)){var i=this.edit_view_ui_dic[t];if(Global.isSet(i))switch(t){case"country":this.eSetProvince(this.current_edit_record[t]),this.setDistrict(this.current_edit_record[t]),i.setValue(this.current_edit_record[t]);break;default:i.setValue(this.current_edit_record[t])}}e.current_edit_record.id?e.edit_view_ui_dic.calculation_id.setEnabled(!1):e.edit_view_ui_dic.calculation_id.setEnabled(!0),this.setDynamicFields((function(){e.collectUIDataToCurrentEditRecord(),e.onLengthOfServiceChange(),e.setEditViewDataDone(),e.edit_view_ui_dic.company_tax_deduction_ids.setGridColumnsWidths(),e.onLegalEntityChange()})),!this.sub_view_mode||this.current_edit_record&&this.current_edit_record.id||this.initCompanyTaxDeductionData()}onLegalEntityChange(){var e=this.edit_view_ui_dic.payroll_remittance_agency_id.getValue(),t={};t.filter_data={legal_entity_id:this.edit_view_ui_dic.legal_entity_id.getValue()},t.filter_columns=this.edit_view_ui_dic.payroll_remittance_agency_id.getColumnFilter();var i=this;this.edit_view_ui_dic.legal_entity_id.getValue()!=TTUUID.zero_id?this.payroll_remittance_agency_api.getPayrollRemittanceAgency(t,{onResult:function(t){var _=t.getResult();if(i.edit_view_ui_dic.payroll_remittance_agency_id){if(_.length>0){i.edit_view_ui_dic.payroll_remittance_agency_id.setSourceData(_);var d=!1;for(var a in _)if(_[a].id==e){d=!0;break}!1===d&&(e=TTUUID.zero_id),i.current_edit_record.payroll_remittance_agency_id=e,i.edit_view_ui_dic.payroll_remittance_agency_id.setValue(e)}else i.edit_view_ui_dic.payroll_remittance_agency_id.setValue(TTUUID.zero_id);i.edit_view_ui_dic.payroll_remittance_agency_id.setEnabled(!0)}}}):(e=TTUUID.zero_id,i.edit_view_ui_dic.payroll_remittance_agency_id.setSourceData([TTUUID.zero_id]),i.edit_view_ui_dic.payroll_remittance_agency_id.setValue(e),i.edit_view_ui_dic.payroll_remittance_agency_id.setEnabled(!1))}updateEmployeeData(){var e={filter_data:{}};this.edit_view_ui_dic&&this.edit_view_ui_dic.legal_entity_id&&this.edit_view_ui_dic.legal_entity_id.getValue()&&this.edit_view_ui_dic.legal_entity_id.getValue()!=TTUUID.zero_id&&(e.filter_data.legal_entity_id=this.edit_view_ui_dic.legal_entity_id.getValue()),this.edit_view_ui_dic.user&&(this.edit_view_ui_dic.user.setDefaultArgs(e),this.edit_view_ui_dic.user.setSourceData(null))}onLengthOfServiceChange(){this.sub_view_mode||(50==this.current_edit_record.minimum_length_of_service_unit_id||50==this.current_edit_record.maximum_length_of_service_unit_id?this.attachElement("length_of_service_contributing_pay_code_policy_id"):this.detachElement("length_of_service_contributing_pay_code_policy_id"),this.editFieldResize())}initCompanyTaxDeductionData(){var e=this,t={filter_data:{legal_entity_id:[this.parent_edit_record.legal_entity_id,TTUUID.zero_id,TTUUID.not_exist_id],exclude_user_id:this.parent_edit_record.id}};this.api.getCompanyDeduction(t,!0,{onResult:function(t){var i=t.getResult();e.edit_view_ui_dic.company_tax_deduction_ids.setUnselectedGridData(i)}})}setEditViewDataDone(){super.setEditViewDataDone(),this.onApplyFrequencyChange(),this.initEmployeeSetting(),this.updateEmployeeData()}setDistrict(e){var t=this,i=t.edit_view_ui_dic.district;if(t.provice_district_array=[],i.setSourceData(t.provice_district_array),e){var _=this.district_array[e];if(_){var d=_[t.current_edit_record.province];d&&(t.provice_district_array=Global.buildRecordArray(d),i.setSourceData(t.provice_district_array))}}t.setDistrictVisibility()}hideAllDynamicFields(e,t){this.edit_view&&(e||(this.show_c=!1,this.detachElement("country")),t||(this.show_p=!1,this.show_dc=!1,this.detachElement("province"),this.detachElement("district")),this.detachElement("df_0"),this.detachElement("df_1"),this.detachElement("df_2"),this.detachElement("df_3"),this.detachElement("df_4"),this.detachElement("df_5"),this.detachElement("df_6"),this.detachElement("df_7"),this.detachElement("df_8"),this.detachElement("df_9"),this.detachElement("df_10"),this.detachElement("df_11"),this.detachElement("df_12"),this.detachElement("df_14"),this.detachElement("df_15"),this.detachElement("df_20"),this.detachElement("df_21"),this.detachElement("df_22"),this.detachElement("df_23"),this.detachElement("df_24"),this.detachElement("df_25"),Global.getProductEdition()>=15||this.detachElement("df_100"))}initEmployeeSetting(){var e=this;if(e.edit_view)if(this.current_edit_record&&this.current_edit_record.id){this.buildContextMenu(!0),this.setEditMenu(),this.selectContextMenu();for(var t=this.context_menu_array.length,i=0;i<t;i++){var _=$(this.context_menu_array[i]);if($(_.find(".ribbon-sub-menu-icon")).attr("id")===ContextMenuIconName.export_excel){this.setEditMenuExportIcon(_);break}}var d={filter_data:{}};d.filter_data.company_deduction_id=this.current_edit_record.id,this.sub_view_mode&&(d.filter_data.user_id=this.parent_value),this.user_deduction_api.getUserDeduction(d,!0,{onResult:function(t){e.edit_view&&(e.employee_setting_result=t.getResult(),e.setEmployeeSettingGridData(e.buildEmployeeSettingGrid()))}})}else e.employee_setting_result=[]}resetEmployeeSettingGridColumns(){if(this.employee_setting_grid){var e=this.employee_setting_grid.getGridParam("data");Global.formatGridData(e,this.api.key_name),this.buildEmployeeSettingGrid(),this.employee_setting_grid.setData(e),this.removeEmployeeSettingNoResultCover(),this.setEmployeeGridDateColumns(),this.setEmployeeGridSize(),e.length<1&&this.current_edit_record.id&&this.showEmployeeSettingNoResultCover()}}getColumnOptionsString(e){for(var t="",i=0;i<e.length;i++)i!==e.length-1?t+=e[i].fullValue+":"+e[i].label+";":t+=e[i].fullValue+":"+e[i].label;return t}buildEmployeeSettingGrid(){var e=this,t=[],i={name:"employee_number",index:"employee_number",label:$.i18n._("Employee Number"),width:100,sortable:!1,title:!1};t.push(i);i={name:"user_name",index:"user_name",label:$.i18n._("Employee"),width:100,sortable:!1,title:!1};switch(t.push(i),this.final_c_id){case"10":i={name:"user_value1",index:"user_value1",label:$.i18n._("Percent"),width:100,sortable:!1,title:!1,editable:!0,edittype:"text"},t.push(i);break;case"15":i={name:"user_value1",index:"user_value1",label:$.i18n._("Percent"),width:100,sortable:!1,title:!1,editable:!0,edittype:"text"},t.push(i),i={name:"user_value2",index:"user_value2",label:$.i18n._("Annual Wage Base/Maximum Earnings"),width:100,sortable:!1,title:!1,editable:!0,edittype:"text"},t.push(i),i={name:"user_value3",index:"user_value3",label:$.i18n._("Annual Deduction Amount"),width:100,sortable:!1,title:!1,editable:!0,edittype:"text"},t.push(i);break;case"16":i={name:"user_value1",index:"user_value1",label:$.i18n._("Percent"),width:100,sortable:!1,title:!1,editable:!0,edittype:"text"},t.push(i),i={name:"user_value2",index:"user_value2",label:$.i18n._("Target Amount Limit"),width:100,sortable:!1,title:!1,editable:!0,edittype:"text"},t.push(i),i={name:"user_value3",index:"user_value3",label:$.i18n._("Target YTD Limit/Balance"),width:100,sortable:!1,title:!1,editable:!0,edittype:"text"},t.push(i);break;case"17":i={name:"user_value1",index:"user_value1",label:$.i18n._("Percent"),width:100,sortable:!1,title:!1,editable:!0,edittype:"text"},t.push(i),i={name:"user_value2",index:"user_value2",label:$.i18n._("Annual Amount Greater Than"),width:100,sortable:!1,title:!1,editable:!0,edittype:"text"},t.push(i),i={name:"user_value3",index:"user_value3",label:$.i18n._("Annual Amount Less Than"),width:100,sortable:!1,title:!1,editable:!0,edittype:"text"},t.push(i),i={name:"user_value4",index:"user_value4",label:$.i18n._("Annual Deduction Amount"),width:100,sortable:!1,title:!1,editable:!0,edittype:"text"},t.push(i),i={name:"user_value5",index:"user_value5",label:$.i18n._("Annual Fixed Amount"),width:100,sortable:!1,title:!1,editable:!0,edittype:"text"},t.push(i);break;case"18":i={name:"user_value1",index:"user_value1",label:$.i18n._("Percent"),width:100,sortable:!1,title:!1,editable:!0,edittype:"text"},t.push(i),i={name:"user_value2",index:"user_value2",label:$.i18n._("Annual Wage Base/Maximum Earnings"),width:100,sortable:!1,title:!1,editable:!0,edittype:"text"},t.push(i),i={name:"user_value3",index:"user_value3",label:$.i18n._("Annual Exempt Amount"),width:100,sortable:!1,title:!1,editable:!0,edittype:"text"},t.push(i),i={name:"user_value4",index:"user_value4",label:$.i18n._("Annual Deduction Amount"),width:100,sortable:!1,title:!1,editable:!0,edittype:"text"},t.push(i);break;case"19":i={name:"user_value1",index:"user_value1",label:$.i18n._("Percent"),width:100,sortable:!1,title:!1,editable:!0,edittype:"text"},t.push(i),i={name:"user_value2",index:"user_value2",label:$.i18n._("Annual Amount Greater Than"),width:100,sortable:!1,title:!1,editable:!0,edittype:"text"},t.push(i),i={name:"user_value3",index:"user_value3",label:$.i18n._("Annual Amount Less Than"),width:100,sortable:!1,title:!1,editable:!0,edittype:"text"},t.push(i),i={name:"user_value4",index:"user_value4",label:$.i18n._("Annual Deduction Amount"),width:100,sortable:!1,title:!1,editable:!0,edittype:"text"},t.push(i),i={name:"user_value5",index:"user_value5",label:$.i18n._("Annual Fixed Amount"),width:100,sortable:!1,title:!1,editable:!0,edittype:"text"},t.push(i);break;case"20":i={name:"user_value1",index:"user_value1",label:$.i18n._("Amount"),width:100,sortable:!1,title:!1,editable:!0,edittype:"text"},t.push(i);break;case"30":i={name:"user_value1",index:"user_value1",label:$.i18n._("Amount"),width:100,sortable:!1,title:!1,editable:!0,edittype:"text"},t.push(i),i={name:"user_value2",index:"user_value2",label:$.i18n._("Annual Amount Greater Than"),width:100,sortable:!1,title:!1,editable:!0,edittype:"text"},t.push(i),i={name:"user_value3",index:"user_value3",label:$.i18n._("Annual Amount Less Than"),width:100,sortable:!1,title:!1,editable:!0,edittype:"text"},t.push(i),i={name:"user_value4",index:"user_value4",label:$.i18n._("Annual Deduction Amount"),width:100,sortable:!1,title:!1,editable:!0,edittype:"text"},t.push(i);break;case"52":i={name:"user_value1",index:"user_value1",label:$.i18n._("Amount"),width:100,sortable:!1,title:!1,editable:!0,edittype:"text"},t.push(i),i={name:"user_value2",index:"user_value2",label:$.i18n._("Target YTD Limit/Balance"),width:100,sortable:!1,title:!1,editable:!0,edittype:"text"},t.push(i);break;case"69":i={name:"user_value1",index:"user_value1",label:$.i18n._("Value1"),width:100,sortable:!1,title:!1,editable:!0,edittype:"text"},t.push(i),i={name:"user_value2",index:"user_value2",label:$.i18n._("Value2"),width:100,sortable:!1,title:!1,editable:!0,edittype:"text"},t.push(i),i={name:"user_value3",index:"user_value3",label:$.i18n._("Value3"),width:100,sortable:!1,title:!1,editable:!0,edittype:"text"},t.push(i),i={name:"user_value4",index:"user_value4",label:$.i18n._("Value4"),width:100,sortable:!1,title:!1,editable:!0,edittype:"text"},t.push(i),i={name:"user_value5",index:"user_value5",label:$.i18n._("Value5"),width:100,sortable:!1,title:!1,editable:!0,edittype:"text"},t.push(i),i={name:"user_value6",index:"user_value6",label:$.i18n._("Value6"),width:100,sortable:!1,title:!1,editable:!0,edittype:"text"},t.push(i),i={name:"user_value7",index:"user_value7",label:$.i18n._("Value7"),width:100,sortable:!1,title:!1,editable:!0,edittype:"text"},t.push(i),i={name:"user_value8",index:"user_value8",label:$.i18n._("Value8"),width:100,sortable:!1,title:!1,editable:!0,edittype:"text"},t.push(i),i={name:"user_value9",index:"user_value9",label:$.i18n._("Value9"),width:100,sortable:!1,title:!1,editable:!0,edittype:"text"},t.push(i),i={name:"user_value10",index:"user_value10",label:$.i18n._("Value10"),width:100,sortable:!1,title:!1,editable:!0,edittype:"text"},t.push(i);break;case"100-CA":i={name:"user_value1",index:"user_value1",label:$.i18n._("Claim Amount"),width:100,sortable:!1,title:!1,editable:!0,edittype:"text"},t.push(i);break;case"100-US":i={name:"user_value9",index:"user_value9",label:$.i18n._("Form W-4<br>Version"),width:60,sortable:!1,formatter:"select",editable:!0,title:!1,edittype:"select",editoptions:{defaultValue:2019,value:this.getColumnOptionsString(this.form_w4_version_array)}},t.push(i),i={name:"user_value1",index:"user_value1",label:"&nbsp;&nbsp;&nbsp;&nbsp;"+$.i18n._("Filing Status")+"&nbsp;&nbsp;&nbsp;&nbsp;",width:100,sortable:!1,formatter:"select",editable:!0,title:!1,edittype:"select",editoptions:{value:this.getColumnOptionsString(this.federal_filing_status_array)}},t.push(i),i={name:"user_value2",index:"user_value2",label:$.i18n._("Allowances"),width:50,sortable:!1,title:!1,editable:!0,edittype:"text"},t.push(i),i={name:"user_value3",index:"user_value3",label:$.i18n._("Multiple Jobs or<br> Spouse Works"),width:60,sortable:!1,formatter:"select",editable:!0,title:!1,edittype:"select",editoptions:{defaultValue:0,value:this.getColumnOptionsString(this.yes_no_array)}},t.push(i),i={name:"user_value4",index:"user_value4",label:$.i18n._("Claim<br>Dependents"),width:50,sortable:!1,title:!1,editable:!0,edittype:"text"},t.push(i),i={name:"user_value5",index:"user_value5",label:$.i18n._("Other<br>Income"),width:50,sortable:!1,title:!1,editable:!0,edittype:"text"},t.push(i),i={name:"user_value6",index:"user_value6",label:$.i18n._("Deductions"),width:50,sortable:!1,title:!1,editable:!0,edittype:"text"},t.push(i),i={name:"user_value7",index:"user_value7",label:$.i18n._("Extra<br>Withholding"),width:50,sortable:!1,title:!1,editable:!0,edittype:"text"},t.push(i);break;case"100-CR":i={name:"user_value1",index:"user_value1",label:$.i18n._("Filing Status"),width:100,sortable:!1,formatter:"select",editable:!0,title:!1,edittype:"select",editoptions:{value:this.getColumnOptionsString(this.state_basic_filing_status_array)}},t.push(i),i={name:"user_value2",index:"user_value2",label:$.i18n._("Allowances"),width:100,sortable:!1,title:!1,editable:!0,edittype:"text"},t.push(i);break;case"200-CA":i={name:"user_value1",index:"user_value1",label:$.i18n._("Claim Amount"),width:100,sortable:!1,title:!1,editable:!0,edittype:"text"},t.push(i);break;case"200-US-AZ":i={name:"user_value1",index:"user_value1",label:$.i18n._("Percent"),width:100,sortable:!1,title:!1,editable:!0,edittype:"text"},t.push(i);break;case"200-US-AL":i={name:"user_value1",index:"user_value1",label:$.i18n._("Filing Status"),width:100,sortable:!1,formatter:"select",editable:!0,title:!1,edittype:"select",editoptions:{value:this.getColumnOptionsString(this.state_al_filing_status_array)}},t.push(i),i={name:"user_value2",index:"user_value2",label:$.i18n._("Dependents"),width:100,sortable:!1,title:!1,editable:!0,edittype:"text"},t.push(i);break;case"200-US-CT":i={name:"user_value1",index:"user_value1",label:$.i18n._("Filing Status"),width:100,sortable:!1,formatter:"select",editable:!0,title:!1,edittype:"select",editoptions:{value:this.getColumnOptionsString(this.state_ct_filing_status_array)}},t.push(i);break;case"200-US-DC":i={name:"user_value1",index:"user_value1",label:$.i18n._("Filing Status"),width:100,sortable:!1,formatter:"select",editable:!0,title:!1,edittype:"select",editoptions:{value:this.getColumnOptionsString(this.state_dc_filing_status_array)}},t.push(i),i={name:"user_value2",index:"user_value2",label:$.i18n._("Allowances"),width:100,sortable:!1,title:!1,editable:!0,edittype:"text"},t.push(i);break;case"200-US-DE":i={name:"user_value1",index:"user_value1",label:$.i18n._("Filing Status"),width:100,sortable:!1,formatter:"select",editable:!0,title:!1,edittype:"select",editoptions:{value:this.getColumnOptionsString(this.state_de_filing_status_array)}},t.push(i),i={name:"user_value2",index:"user_value2",label:$.i18n._("Allowances"),width:100,sortable:!1,title:!1,editable:!0,edittype:"text"},t.push(i);break;case"200-US-NJ":i={name:"user_value1",index:"user_value1",label:$.i18n._("Filing Status"),width:100,sortable:!1,formatter:"select",editable:!0,title:!1,edittype:"select",editoptions:{value:this.getColumnOptionsString(this.state_nj_filing_status_array)}},t.push(i),i={name:"user_value2",index:"user_value2",label:$.i18n._("Allowances"),width:100,sortable:!1,title:!1,editable:!0,edittype:"text"},t.push(i);break;case"200-US-NM":i={name:"user_value1",index:"user_value1",label:$.i18n._("Filing Status"),width:100,sortable:!1,formatter:"select",editable:!0,title:!1,edittype:"select",editoptions:{value:this.getColumnOptionsString(this.federal_filing_status_array)}},t.push(i),i={name:"user_value2",index:"user_value2",label:$.i18n._("Allowances"),width:100,sortable:!1,title:!1,editable:!0,edittype:"text"},t.push(i);break;case"200-US-NC":i={name:"user_value1",index:"user_value1",label:$.i18n._("Filing Status"),width:100,sortable:!1,formatter:"select",editable:!0,title:!1,edittype:"select",editoptions:{value:this.getColumnOptionsString(this.state_nc_filing_status_array)}},t.push(i),i={name:"user_value2",index:"user_value2",label:$.i18n._("Allowances"),width:100,sortable:!1,title:!1,editable:!0,edittype:"text"},t.push(i);break;case"200-US-MA":i={name:"user_value1",index:"user_value1",label:$.i18n._("Filing Status"),width:100,sortable:!1,formatter:"select",editable:!0,title:!1,edittype:"select",editoptions:{value:this.getColumnOptionsString(this.state_ma_filing_status_array)}},t.push(i),i={name:"user_value2",index:"user_value2",label:$.i18n._("Allowances"),width:100,sortable:!1,title:!1,editable:!0,edittype:"text"},t.push(i);break;case"200-US-MD":i={name:"user_value1",index:"user_value1",label:$.i18n._("Filing Status"),width:100,sortable:!1,formatter:"select",editable:!0,title:!1,edittype:"select",editoptions:{value:this.getColumnOptionsString(this.state_dc_filing_status_array)}},t.push(i),i={name:"user_value2",index:"user_value2",label:$.i18n._("Allowances"),width:100,sortable:!1,title:!1,editable:!0,edittype:"text"},t.push(i),i={name:"user_value3",index:"user_value3",label:$.i18n._("County Rate"),width:100,sortable:!1,title:!1,editable:!0,edittype:"text"},t.push(i);break;case"200-US-MS":i={name:"user_value1",index:"user_value1",label:$.i18n._("Filing Status"),width:100,sortable:!1,formatter:"select",editable:!0,title:!1,edittype:"select",editoptions:{value:this.getColumnOptionsString(this.state_dc_filing_status_array)}},t.push(i),i={name:"user_value2",index:"user_value2",label:$.i18n._("Exemption Claimed"),width:100,sortable:!1,title:!1,editable:!0,edittype:"text"},t.push(i);break;case"200-US-OK":i={name:"user_value1",index:"user_value1",label:$.i18n._("Filing Status"),width:100,sortable:!1,formatter:"select",editable:!0,title:!1,edittype:"select",editoptions:{value:this.getColumnOptionsString(this.state_basic_filing_status_array)}},t.push(i),i={name:"user_value2",index:"user_value2",label:$.i18n._("Allowances"),width:100,sortable:!1,title:!1,editable:!0,edittype:"text"},t.push(i);break;case"200-US-GA":i={name:"user_value1",index:"user_value1",label:$.i18n._("Filing Status"),width:100,sortable:!1,formatter:"select",editable:!0,title:!1,edittype:"select",editoptions:{value:this.getColumnOptionsString(this.state_ga_filing_status_array)}},t.push(i),i={name:"user_value2",index:"user_value2",label:$.i18n._("Employee / Spouse Allowances"),width:100,sortable:!1,title:!1,editable:!0,edittype:"text"},t.push(i),i={name:"user_value3",index:"user_value3",label:$.i18n._("Dependent Allowances"),width:100,sortable:!1,title:!1,editable:!0,edittype:"text"},t.push(i);break;case"200-US-IL":i={name:"user_value1",index:"user_value1",label:$.i18n._("IL-W-4 Line 1"),width:100,sortable:!1,title:!1,editable:!0,edittype:"text"},t.push(i),i={name:"user_value2",index:"user_value2",label:$.i18n._("IL-W-4 Line 2"),width:100,sortable:!1,title:!1,editable:!0,edittype:"text"},t.push(i);break;case"200-US-OH":i={name:"user_value2",index:"user_value2",label:$.i18n._("Allowances"),width:100,sortable:!1,title:!1,editable:!0,edittype:"text"},t.push(i);break;case"200-US-VA":i={name:"user_value1",index:"user_value1",label:$.i18n._("Allowances"),width:100,sortable:!1,title:!1,editable:!0,edittype:"text"},t.push(i),i={name:"user_value2",index:"user_value2",label:$.i18n._("Age 65/Blind"),width:100,sortable:!1,title:!1,editable:!0,edittype:"text"},t.push(i);break;case"200-US-IN":i={name:"user_value1",index:"user_value1",label:$.i18n._("Allowances"),width:100,sortable:!1,title:!1,editable:!0,edittype:"text"},t.push(i),i={name:"user_value2",index:"user_value2",label:$.i18n._("Dependents"),width:100,sortable:!1,title:!1,editable:!0,edittype:"text"},t.push(i);break;case"200-US-LA":i={name:"user_value1",index:"user_value1",label:$.i18n._("Filing Status"),width:100,sortable:!1,formatter:"select",editable:!0,title:!1,edittype:"select",editoptions:{value:this.getColumnOptionsString(this.state_la_filing_status_array)}},t.push(i),i={name:"user_value2",index:"user_value2",label:$.i18n._("Exemptions"),width:100,sortable:!1,title:!1,editable:!0,edittype:"text"},t.push(i),i={name:"user_value3",index:"user_value3",label:$.i18n._("Dependents"),width:100,sortable:!1,title:!1,editable:!0,edittype:"text"},t.push(i);break;case"200-US-WI":i={name:"user_value1",index:"user_value1",label:$.i18n._("Filing Status"),width:100,sortable:!1,formatter:"select",editable:!0,title:!1,edittype:"select",editoptions:{value:this.getColumnOptionsString(this.state_basic_filing_status_array)}},t.push(i),i={name:"user_value2",index:"user_value2",label:$.i18n._("Allowances"),width:100,sortable:!1,title:!1,editable:!0,edittype:"text"},t.push(i);break;case"200-US-WV":i={name:"user_value1",index:"user_value1",label:$.i18n._("Filing Status"),width:100,sortable:!1,formatter:"select",editable:!0,title:!1,edittype:"select",editoptions:{value:this.getColumnOptionsString(this.state_wv_filing_status_array)}},t.push(i),i={name:"user_value2",index:"user_value2",label:$.i18n._("Allowances"),width:100,sortable:!1,title:!1,editable:!0,edittype:"text"},t.push(i);break;case"200-US":case"300-US":i={name:"user_value1",index:"user_value1",label:$.i18n._("Filing Status"),width:100,sortable:!1,formatter:"select",editable:!0,title:!1,edittype:"select",editoptions:{value:this.getColumnOptionsString(this.state_filing_status_array)}},t.push(i),i={name:"user_value2",index:"user_value2",label:$.i18n._("Allowances"),width:100,sortable:!1,title:!1,editable:!0,edittype:"text"},t.push(i);break;case"300-US-IN":i={name:"user_value1",index:"user_value1",label:$.i18n._("Allowances"),width:100,sortable:!1,title:!1,editable:!0,edittype:"text"},t.push(i),i={name:"user_value2",index:"user_value2",label:$.i18n._("Dependents"),width:100,sortable:!1,title:!1,editable:!0,edittype:"text"},t.push(i),i={name:"user_value3",index:"user_value3",label:$.i18n._("County Rate"),width:100,sortable:!1,title:!1,editable:!0,edittype:"text"},t.push(i);break;case"300-US-MD":i={name:"user_value2",index:"user_value2",label:$.i18n._("Allowances"),width:100,sortable:!1,title:!1,editable:!0,edittype:"text"},t.push(i),i={name:"user_value1",index:"user_value1",label:$.i18n._("County Rate"),width:100,sortable:!1,title:!1,editable:!0,edittype:"text"},t.push(i);break;case"300-US-PERCENT":i={name:"user_value2",index:"user_value2",label:$.i18n._("District / County Rate"),width:100,sortable:!1,title:!1,editable:!0,edittype:"text"},t.push(i)}return this.current_edit_record.minimum_length_of_service&&0!=this.current_edit_record.minimum_length_of_service||0!=(this.current_edit_record.maximum_length_of_service&&this.current_edit_record.maximum_length_of_service)?(i={name:"length_of_service_date",index:"length_of_service_date",label:$.i18n._("Length of Service Date"),width:110,sortable:!1,title:!1,editable:!1,formatter:this.onLengthDateCellFormat},t.push(i)):$(".row-date-picker-length-of-service-date").remove(),this.current_edit_record.start_date||this.current_edit_record.end_date?(i={name:"start_date",index:"start_date",label:$.i18n._("Start Date"),width:110,sortable:!1,title:!1,editable:!1,formatter:this.onStartDateCellFormat},t.push(i),i={name:"end_date",index:"end_date",label:$.i18n._("End Date"),width:110,sortable:!1,title:!1,editable:!1,formatter:this.onEndDateCellFormat},t.push(i)):($(".row-date-picker-start-date").remove(),$(".row-date-picker-end-date").remove()),100!=this.current_edit_record.calculation_id&&200!=this.current_edit_record.calculation_id&&300!=this.current_edit_record.calculation_id||"US"!=this.current_edit_record.country||(i={name:"user_value10",index:"user_value10",label:$.i18n._("Exempt"),width:30,sortable:!1,formatter:"select",editable:!0,title:!1,edittype:"select",editoptions:{value:this.getColumnOptionsString(this.yes_no_array)}},t.push(i)),this.employee_setting_grid&&(this.employee_setting_grid.grid.jqGrid("GridUnload"),this.employee_setting_grid=null),this.employee_setting_grid=new TTGrid("employee_setting_grid",{container_selector:".edit-view-tab",multiselect:!1,winMultiSelect:!1,colModel:t,editurl:"clientArray",onSelectRow:function(t){t&&!e.is_viewing&&(e.select_grid_last_row&&(e.employee_setting_grid.grid.jqGrid("saveRow",e.select_grid_last_row),e.setDateCellsEnabled(!1,e.select_grid_last_row)),e.employee_setting_grid.grid.jqGrid("editRow",t,!0),e.setDateCellsEnabled(!0,t),e.select_grid_last_row=t)},onEndEditRow:function(t){e.setDateCellsEnabled(!1,t)},gridComplete:function(){e.setEmployeeGridSize()}},t),t}setEditViewTabSize(){super.setEditViewTabSize(),this.setEmployeeGridSize()}setDateCellsEnabled(e,t){this.length_dates_dic[t]&&this.length_dates_dic[t].setEnabled(e),this.start_dates_dic[t]&&this.start_dates_dic[t].setEnabled(e),this.end_dates_dic[t]&&this.end_dates_dic[t].setEnabled(e)}onLengthDateCellFormat(e,t,i){var _=Global.loadWidgetByName(FormItemType.DATE_PICKER);return _.addClass("row-date-picker-length-of-service-date"),_.attr("widget-value",e),_.get(0).outerHTML}onStartDateCellFormat(e,t,i){var _=Global.loadWidgetByName(FormItemType.DATE_PICKER);return _.addClass("row-date-picker-start-date"),_.attr("widget-value",e),_.get(0).outerHTML}onEndDateCellFormat(e,t,i){var _=Global.loadWidgetByName(FormItemType.DATE_PICKER);return _.addClass("row-date-picker-end-date"),_.attr("widget-value",e),_.get(0).outerHTML}setEmployeeSettingGridData(e){var t=[];"array"===$.type(this.employee_setting_result)&&(t=this.employee_setting_result.slice());for(var i=t.length,_=0;_<i;_++){var d=t[_];d.user_name=(10!=d.user_status_id?"("+d.user_status+") ":"")+d.full_name;for(var a=1;a<e.length;a++){var l=e[a];d[l.name]||(d[l.name]=this.current_edit_record.hasOwnProperty(l.name)&&!1!==this.current_edit_record[l.name]?this.current_edit_record[l.name]:"")}}this.employee_setting_grid.setData(t),this.removeEmployeeSettingNoResultCover(),this.setEmployeeGridDateColumns(),this.setEmployeeGridSize(),t.length<1&&this.current_edit_record.id&&this.showEmployeeSettingNoResultCover()}setEmployeeGridDateColumns(){var e;this.length_dates=[],this.start_dates=[],this.end_dates=[],this.length_dates_dic={},this.start_dates_dic={},this.end_dates_dic={};for(var t=$(".row-date-picker-length-of-service-date"),i=0;i<t.length;i++)(e=$(t[i]).TDatePicker({field:"length_of_service_date"+i})).setEnabled(!1),this.length_dates.push(e),this.length_dates_dic[e.parent().parent().attr("id")]=e;t=$(".row-date-picker-start-date");for(i=0;i<t.length;i++)(e=$(t[i]).TDatePicker({field:"start_date"+i})).setEnabled(!1),this.start_dates.push(e),this.start_dates_dic[e.parent().parent().attr("id")]=e;t=$(".row-date-picker-end-date");for(i=0;i<t.length;i++)(e=$(t[i]).TDatePicker({field:"end_date"+i})).setEnabled(!1),this.end_dates.push(e),this.end_dates_dic[e.parent().parent().attr("id")]=e}showEmployeeSettingNoResultCover(){this.removeEmployeeSettingNoResultCover(),this.employee_setting_no_result_box=Global.loadWidgetByName(WidgetNamesDic.NO_RESULT_BOX),this.employee_setting_no_result_box.NoResultBox({related_view_controller:this,is_new:!1}),this.employee_setting_no_result_box.attr("id",this.ui_id+"employee_setting_no_result_box"),this.edit_view.find(".employee-setting-grid-div").append(this.employee_setting_no_result_box)}removeEmployeeSettingNoResultCover(){this.employee_setting_no_result_box&&this.employee_setting_no_result_box.length>0&&this.employee_setting_no_result_box.remove(),this.employee_setting_no_result_box=null}setEmployeeGridSize(){if(this.employee_setting_grid){var e=this.edit_view.find("#tab_employee_setting_content_div");this.employee_setting_grid.grid.setGridWidth(e.width()),this.employee_setting_grid.grid.setGridHeight(e.height())}}setCountryVisibility(){this.show_c?this.attachElement("country"):this.detachElement("country")}setProvinceVisibility(){this.show_p&&this.e_province_array&&this.e_province_array.length>1?this.attachElement("province"):this.detachElement("province")}setDistrictVisibility(){this.show_dc&&this.provice_district_array&&this.provice_district_array.length>0?this.attachElement("district"):(this.detachElement("district"),this.current_edit_record.district=!1)}setDynamicFields(e,t){var i=this;this.current_edit_record.calculation_id||(this.current_edit_record.calculation_id="10",this.edit_view_ui_dic.calculation_id.setValue(10));var _=this.current_edit_record.calculation_id;function d(t){if(i.edit_view){var d=t.getResult();switch(i.final_c_id=d,"100"!==_.toString()&&"200"!==_.toString()&&"300"!==_.toString()||(i.attachElement("df_15"),i.edit_view_form_item_dic.df_15.find(".edit-view-form-item-label").text($.i18n._("Formula Type")+": "),i.edit_view_ui_dic.df_15.setField("company_value1"),i.edit_view_ui_dic.df_15.setValue(i.current_edit_record.company_value1)),d){case"10":i.attachElement("df_0"),i.edit_view_form_item_dic.df_0.find(".edit-view-form-item-label").text($.i18n._("Percent")+": "),i.edit_view_ui_dic.df_0.setField("user_value1"),i.edit_view_ui_dic.df_0.setValue(i.current_edit_record.user_value1);break;case"15":i.attachElement("df_0"),i.edit_view_form_item_dic.df_0.find(".edit-view-form-item-label").text($.i18n._("Percent")+": "),i.edit_view_ui_dic.df_0.setField("user_value1"),i.edit_view_ui_dic.df_0.setValue(i.current_edit_record.user_value1),i.attachElement("df_1"),i.edit_view_form_item_dic.df_1.find(".edit-view-form-item-label").text($.i18n._("Annual Wage Base/Maximum Earnings")+": "),i.edit_view_ui_dic.df_1.setField("user_value2"),i.edit_view_ui_dic.df_1.setValue(i.current_edit_record.user_value2),i.attachElement("df_2"),i.edit_view_form_item_dic.df_2.find(".edit-view-form-item-label").text($.i18n._("Annual Deduction Amount")+": "),i.edit_view_ui_dic.df_2.setField("user_value3"),i.edit_view_ui_dic.df_2.setValue(i.current_edit_record.user_value3);break;case"16":i.attachElement("df_0"),i.edit_view_form_item_dic.df_0.find(".edit-view-form-item-label").text($.i18n._("Percent")+": "),i.edit_view_ui_dic.df_0.setField("user_value1"),i.edit_view_ui_dic.df_0.setValue(i.current_edit_record.user_value1),i.attachElement("df_1"),i.edit_view_form_item_dic.df_1.find(".edit-view-form-item-label").text($.i18n._("Target Amount Limit")+": "),i.edit_view_ui_dic.df_1.setField("user_value2"),i.edit_view_ui_dic.df_1.setValue(i.current_edit_record.user_value2),i.attachElement("df_2"),i.edit_view_form_item_dic.df_2.find(".edit-view-form-item-label").text($.i18n._("Target YTD Limit/Balance")+": "),i.edit_view_ui_dic.df_2.setField("user_value3"),i.edit_view_ui_dic.df_2.setValue(i.current_edit_record.user_value3);break;case"17":i.attachElement("df_0"),i.edit_view_form_item_dic.df_0.find(".edit-view-form-item-label").text($.i18n._("Percent")+": "),i.edit_view_ui_dic.df_0.setField("user_value1"),i.edit_view_ui_dic.df_0.setValue(i.current_edit_record.user_value1),i.attachElement("df_1"),i.edit_view_form_item_dic.df_1.find(".edit-view-form-item-label").text($.i18n._("Annual Amount Greater Than")+": "),i.edit_view_ui_dic.df_1.setField("user_value2"),i.edit_view_ui_dic.df_1.setValue(i.current_edit_record.user_value2),i.attachElement("df_2"),i.edit_view_form_item_dic.df_2.find(".edit-view-form-item-label").text($.i18n._("Annual Amount Less Than")+": "),i.edit_view_ui_dic.df_2.setField("user_value3"),i.edit_view_ui_dic.df_2.setValue(i.current_edit_record.user_value3),i.attachElement("df_3"),i.edit_view_form_item_dic.df_3.find(".edit-view-form-item-label").text($.i18n._("Annual Deduction Amount")+": "),i.edit_view_ui_dic.df_3.setField("user_value4"),i.edit_view_ui_dic.df_3.setValue(i.current_edit_record.user_value4),i.attachElement("df_4"),i.edit_view_form_item_dic.df_4.find(".edit-view-form-item-label").text($.i18n._("Annual Fixed Amount")+": "),i.edit_view_ui_dic.df_4.setField("user_value5"),i.edit_view_ui_dic.df_4.setValue(i.current_edit_record.user_value5);break;case"18":i.attachElement("df_0"),i.edit_view_form_item_dic.df_0.find(".edit-view-form-item-label").text($.i18n._("Percent")+": "),i.edit_view_ui_dic.df_0.setField("user_value1"),i.edit_view_ui_dic.df_0.setValue(i.current_edit_record.user_value1),i.attachElement("df_1"),i.edit_view_form_item_dic.df_1.find(".edit-view-form-item-label").text($.i18n._("Annual Wage Base/Maximum Earnings")+": "),i.edit_view_ui_dic.df_1.setField("user_value2"),i.edit_view_ui_dic.df_1.setValue(i.current_edit_record.user_value2),i.attachElement("df_2"),i.edit_view_form_item_dic.df_2.find(".edit-view-form-item-label").text($.i18n._("Annual Exempt Amount")+": "),i.edit_view_ui_dic.df_2.setField("user_value3"),i.edit_view_ui_dic.df_2.setValue(i.current_edit_record.user_value3),i.attachElement("df_3"),i.edit_view_form_item_dic.df_3.find(".edit-view-form-item-label").text($.i18n._("Annual Deduction Amount")+": "),i.edit_view_ui_dic.df_3.setField("user_value4"),i.edit_view_ui_dic.df_3.setValue(i.current_edit_record.user_value4);break;case"19":i.attachElement("df_0"),i.edit_view_form_item_dic.df_0.find(".edit-view-form-item-label").text($.i18n._("Percent")+": "),i.edit_view_ui_dic.df_0.setField("user_value1"),i.edit_view_ui_dic.df_0.setValue(i.current_edit_record.user_value1),i.attachElement("df_1"),i.edit_view_form_item_dic.df_1.find(".edit-view-form-item-label").text($.i18n._("Annual Amount Greater Than")+": "),i.edit_view_ui_dic.df_1.setField("user_value2"),i.edit_view_ui_dic.df_1.setValue(i.current_edit_record.user_value2),i.attachElement("df_2"),i.edit_view_form_item_dic.df_2.find(".edit-view-form-item-label").text($.i18n._("Annual Amount Less Than")+": "),i.edit_view_ui_dic.df_2.setField("user_value3"),i.edit_view_ui_dic.df_2.setValue(i.current_edit_record.user_value3),i.attachElement("df_3"),i.edit_view_form_item_dic.df_3.find(".edit-view-form-item-label").text($.i18n._("Annual Deduction Amount")+": "),i.edit_view_ui_dic.df_3.setField("user_value4"),i.edit_view_ui_dic.df_3.setValue(i.current_edit_record.user_value4),i.attachElement("df_4"),i.edit_view_form_item_dic.df_4.find(".edit-view-form-item-label").text($.i18n._("Annual Fixed Amount")+": "),i.edit_view_ui_dic.df_4.setField("user_value5"),i.edit_view_ui_dic.df_4.setValue(i.current_edit_record.user_value5);break;case"20":i.attachElement("df_1"),i.edit_view_form_item_dic.df_1.find(".edit-view-form-item-label").text($.i18n._("Amount")+": "),i.edit_view_ui_dic.df_1.setField("user_value1"),i.edit_view_ui_dic.df_1.setValue(i.current_edit_record.user_value1);break;case"30":i.attachElement("df_1"),i.edit_view_form_item_dic.df_1.find(".edit-view-form-item-label").text($.i18n._("Amount")+": "),i.edit_view_ui_dic.df_1.setField("user_value1"),i.edit_view_ui_dic.df_1.setValue(i.current_edit_record.user_value1),i.attachElement("df_2"),i.edit_view_form_item_dic.df_2.find(".edit-view-form-item-label").text($.i18n._("Annual Amount Greater Than")+": "),i.edit_view_ui_dic.df_2.setField("user_value2"),i.edit_view_ui_dic.df_2.setValue(i.current_edit_record.user_value2),i.attachElement("df_3"),i.edit_view_form_item_dic.df_3.find(".edit-view-form-item-label").text($.i18n._("Annual Amount Less Than")+": "),i.edit_view_ui_dic.df_3.setField("user_value3"),i.edit_view_ui_dic.df_3.setValue(i.current_edit_record.user_value3),i.attachElement("df_4"),i.edit_view_form_item_dic.df_4.find(".edit-view-form-item-label").text($.i18n._("Annual Deduction Amount")+": "),i.edit_view_ui_dic.df_4.setField("user_value4"),i.edit_view_ui_dic.df_4.setValue(i.current_edit_record.user_value4);break;case"52":i.attachElement("df_1"),i.edit_view_form_item_dic.df_1.find(".edit-view-form-item-label").text($.i18n._("Amount")+": "),i.edit_view_ui_dic.df_1.setField("user_value1"),i.edit_view_ui_dic.df_1.setValue(i.current_edit_record.user_value1),i.attachElement("df_2"),i.edit_view_form_item_dic.df_2.find(".edit-view-form-item-label").text($.i18n._("Target YTD Limit/Balance")+": "),i.edit_view_ui_dic.df_2.setField("user_value2"),i.edit_view_ui_dic.df_2.setValue(i.current_edit_record.user_value2);break;case"69":Global.getProductEdition()>=15?(i.attachElement("df_1"),i.edit_view_form_item_dic.df_1.find(".edit-view-form-item-label").text($.i18n._("Custom Variable 1")+": "),i.edit_view_ui_dic.df_1.setField("user_value1"),i.edit_view_ui_dic.df_1.setValue(i.current_edit_record.user_value1),i.attachElement("df_2"),i.edit_view_form_item_dic.df_2.find(".edit-view-form-item-label").text($.i18n._("Custom Variable 2")+": "),i.edit_view_ui_dic.df_2.setField("user_value2"),i.edit_view_ui_dic.df_2.setValue(i.current_edit_record.user_value2),i.attachElement("df_3"),i.edit_view_form_item_dic.df_3.find(".edit-view-form-item-label").text($.i18n._("Custom Variable 3")+": "),i.edit_view_ui_dic.df_3.setField("user_value3"),i.edit_view_ui_dic.df_3.setValue(i.current_edit_record.user_value3),i.attachElement("df_4"),i.edit_view_form_item_dic.df_4.find(".edit-view-form-item-label").text($.i18n._("Custom Variable 4")+": "),i.edit_view_ui_dic.df_4.setField("user_value4"),i.edit_view_ui_dic.df_4.setValue(i.current_edit_record.user_value4),i.attachElement("df_5"),i.edit_view_form_item_dic.df_5.find(".edit-view-form-item-label").text($.i18n._("Custom Variable 5")+": "),i.edit_view_ui_dic.df_5.setField("user_value5"),i.edit_view_ui_dic.df_5.setValue(i.current_edit_record.user_value5),i.attachElement("df_6"),i.edit_view_form_item_dic.df_6.find(".edit-view-form-item-label").text($.i18n._("Custom Variable 6")+": "),i.edit_view_ui_dic.df_6.setField("user_value6"),i.edit_view_ui_dic.df_6.setValue(i.current_edit_record.user_value6),i.attachElement("df_7"),i.edit_view_form_item_dic.df_7.find(".edit-view-form-item-label").text($.i18n._("Custom Variable 7")+": "),i.edit_view_ui_dic.df_7.setField("user_value7"),i.edit_view_ui_dic.df_7.setValue(i.current_edit_record.user_value7),i.attachElement("df_8"),i.edit_view_form_item_dic.df_8.find(".edit-view-form-item-label").text($.i18n._("Custom Variable 8")+": "),i.edit_view_ui_dic.df_8.setField("user_value8"),i.edit_view_ui_dic.df_8.setValue(i.current_edit_record.user_value8),i.attachElement("df_9"),i.edit_view_form_item_dic.df_9.find(".edit-view-form-item-label").text($.i18n._("Custom Variable 9")+": "),i.edit_view_ui_dic.df_9.setField("user_value9"),i.edit_view_ui_dic.df_9.setValue(i.current_edit_record.user_value9),i.attachElement("df_10"),i.edit_view_form_item_dic.df_10.find(".edit-view-form-item-label").text($.i18n._("Custom Variable 10")+": "),i.edit_view_ui_dic.df_10.setField("user_value10"),i.edit_view_ui_dic.df_10.setValue(i.current_edit_record.user_value10),i.attachElement("df_11"),i.edit_view_form_item_dic.df_11.find(".edit-view-form-item-label").text($.i18n._("Formula")+": "),i.edit_view_ui_dic.df_11.setField("company_value1"),i.edit_view_ui_dic.df_11.setValue(i.current_edit_record.company_value1),i.attachElement("df_12"),i.edit_view_form_item_dic.df_12.find(".edit-view-form-item-label").text($.i18n._("Look Back Period")+": "),i.edit_view_ui_dic.df_12.setField("company_value2"),i.edit_view_ui_dic.df_12.setValue(i.current_edit_record.company_value2),i.edit_view_ui_dic.df_13.setField("company_value3"),i.edit_view_ui_dic.df_13.setValue(i.current_edit_record.company_value3)):(i.attachElement("df_100"),i.edit_view_ui_dic.df_100.html(Global.getUpgradeMessage()));break;case"100-US":i.attachElement("df_20"),i.edit_view_form_item_dic.df_20.find(".edit-view-form-item-label").text($.i18n._("Form W-4 Version")+": "),i.edit_view_ui_dic.df_20.setSourceData(i.form_w4_version_array),i.edit_view_ui_dic.df_20.setField("user_value9"),i.edit_view_ui_dic.df_20.setValue(i.current_edit_record.user_value9),i.attachElement("df_14"),i.edit_view_form_item_dic.df_14.find(".edit-view-form-item-label").text($.i18n._("Filing Status")+": "),i.edit_view_ui_dic.df_14.setSourceData(i.federal_filing_status_array),i.edit_view_ui_dic.df_14.setField("user_value1"),i.edit_view_ui_dic.df_14.setValue(i.current_edit_record.user_value1),i.attachElement("df_1"),i.edit_view_form_item_dic.df_1.find(".edit-view-form-item-label").text($.i18n._("Allowances")+": "),i.edit_view_ui_dic.df_1.setField("user_value2"),i.edit_view_ui_dic.df_1.setValue(i.current_edit_record.user_value2),i.attachElement("df_21"),i.edit_view_form_item_dic.df_21.find(".edit-view-form-item-label").text($.i18n._("Multiple Jobs or Spouse Works")+": "),i.edit_view_ui_dic.df_21.setSourceData(i.yes_no_array),i.edit_view_ui_dic.df_21.setField("user_value3"),i.edit_view_ui_dic.df_21.setValue(i.current_edit_record.user_value3),i.attachElement("df_22"),i.edit_view_form_item_dic.df_22.find(".edit-view-form-item-label").text($.i18n._("Claim Dependents")+": "),i.edit_view_ui_dic.df_22.setField("user_value4"),i.edit_view_ui_dic.df_22.setValue(i.current_edit_record.user_value4),i.attachElement("df_23"),i.edit_view_form_item_dic.df_23.find(".edit-view-form-item-label").text($.i18n._("Other Income")+": "),i.edit_view_ui_dic.df_23.setField("user_value5"),i.edit_view_ui_dic.df_23.setValue(i.current_edit_record.user_value5),i.attachElement("df_24"),i.edit_view_form_item_dic.df_24.find(".edit-view-form-item-label").text($.i18n._("Deductions")+": "),i.edit_view_ui_dic.df_24.setField("user_value6"),i.edit_view_ui_dic.df_24.setValue(i.current_edit_record.user_value6),i.attachElement("df_25"),i.edit_view_form_item_dic.df_25.find(".edit-view-form-item-label").text($.i18n._("Extra Withholding")+": "),i.edit_view_ui_dic.df_25.setField("user_value7"),i.edit_view_ui_dic.df_25.setValue(i.current_edit_record.user_value7);break;case"100-CR":i.attachElement("df_14"),i.edit_view_form_item_dic.df_14.find(".edit-view-form-item-label").text($.i18n._("Filing Status")+": "),i.edit_view_ui_dic.df_14.setSourceData(i.state_basic_filing_status_array),i.edit_view_ui_dic.df_14.setField("user_value1"),i.edit_view_ui_dic.df_14.setValue(i.current_edit_record.user_value1),i.attachElement("df_1"),i.edit_view_form_item_dic.df_1.find(".edit-view-form-item-label").text($.i18n._("Allowances")+": "),i.edit_view_ui_dic.df_1.setField("user_value2"),i.edit_view_ui_dic.df_1.setValue(i.current_edit_record.user_value2);break;case"100-CA":case"200-CA":i.attachElement("df_1"),i.edit_view_form_item_dic.df_1.find(".edit-view-form-item-label").text($.i18n._("Claim Amount")+": "),i.edit_view_ui_dic.df_1.setField("user_value1"),i.edit_view_ui_dic.df_1.setValue(i.current_edit_record.user_value1);break;case"200-US":i.attachElement("df_14"),i.edit_view_form_item_dic.df_14.find(".edit-view-form-item-label").text($.i18n._("Filing Status")+": "),i.edit_view_ui_dic.df_14.setSourceData(i.state_filing_status_array),i.edit_view_ui_dic.df_14.setField("user_value1"),i.edit_view_ui_dic.df_14.setValue(i.current_edit_record.user_value1),i.attachElement("df_1"),i.edit_view_form_item_dic.df_1.find(".edit-view-form-item-label").text($.i18n._("Allowances")+": "),i.edit_view_ui_dic.df_1.setField("user_value2"),i.edit_view_ui_dic.df_1.setValue(i.current_edit_record.user_value2);break;case"200-US-AL":i.attachElement("df_14"),i.edit_view_form_item_dic.df_14.find(".edit-view-form-item-label").text($.i18n._("Filing Status")+": "),i.edit_view_ui_dic.df_14.setSourceData(i.state_al_filing_status_array),i.edit_view_ui_dic.df_14.setField("user_value1"),i.edit_view_ui_dic.df_14.setValue(i.current_edit_record.user_value1),i.attachElement("df_1"),i.edit_view_form_item_dic.df_1.find(".edit-view-form-item-label").text($.i18n._("Dependents")+": "),i.edit_view_ui_dic.df_1.setField("user_value2"),i.edit_view_ui_dic.df_1.setValue(i.current_edit_record.user_value2);break;case"200-US-AZ":i.attachElement("df_0"),i.edit_view_form_item_dic.df_0.find(".edit-view-form-item-label").text($.i18n._("Percent")+": "),i.edit_view_ui_dic.df_0.setField("user_value1"),i.edit_view_ui_dic.df_0.setValue(i.current_edit_record.user_value1);break;case"200-US-CT":i.attachElement("df_14"),i.edit_view_form_item_dic.df_14.find(".edit-view-form-item-label").text($.i18n._("Filing Status")+": "),i.edit_view_ui_dic.df_14.setSourceData(i.state_ct_filing_status_array),i.edit_view_ui_dic.df_14.setField("user_value1"),i.edit_view_ui_dic.df_14.setValue(i.current_edit_record.user_value1);break;case"200-US-DC":i.attachElement("df_14"),i.edit_view_form_item_dic.df_14.find(".edit-view-form-item-label").text($.i18n._("Filing Status")+": "),i.edit_view_ui_dic.df_14.setSourceData(i.state_dc_filing_status_array),i.edit_view_ui_dic.df_14.setField("user_value1"),i.edit_view_ui_dic.df_14.setValue(i.current_edit_record.user_value1),i.attachElement("df_1"),i.edit_view_form_item_dic.df_1.find(".edit-view-form-item-label").text($.i18n._("Allowances")+": "),i.edit_view_ui_dic.df_1.setField("user_value2"),i.edit_view_ui_dic.df_1.setValue(i.current_edit_record.user_value2);break;case"200-US-DE":i.attachElement("df_14"),i.edit_view_form_item_dic.df_14.find(".edit-view-form-item-label").text($.i18n._("Filing Status")+": "),i.edit_view_ui_dic.df_14.setSourceData(i.state_de_filing_status_array),i.edit_view_ui_dic.df_14.setField("user_value1"),i.edit_view_ui_dic.df_14.setValue(i.current_edit_record.user_value1),i.attachElement("df_1"),i.edit_view_form_item_dic.df_1.find(".edit-view-form-item-label").text($.i18n._("Allowances")+": "),i.edit_view_ui_dic.df_1.setField("user_value2"),i.edit_view_ui_dic.df_1.setValue(i.current_edit_record.user_value2);break;case"200-US-GA":i.attachElement("df_14"),i.edit_view_form_item_dic.df_14.find(".edit-view-form-item-label").text($.i18n._("Filing Status")+": "),i.edit_view_ui_dic.df_14.setSourceData(i.state_ga_filing_status_array),i.edit_view_ui_dic.df_14.setField("user_value1"),i.edit_view_ui_dic.df_14.setValue(i.current_edit_record.user_value1),i.attachElement("df_1"),i.edit_view_form_item_dic.df_1.find(".edit-view-form-item-label").text($.i18n._("Employee / Spouse Allowances")+": "),i.edit_view_ui_dic.df_1.setField("user_value2"),i.edit_view_ui_dic.df_1.setValue(i.current_edit_record.user_value2),i.attachElement("df_2"),i.edit_view_form_item_dic.df_2.find(".edit-view-form-item-label").text($.i18n._("Dependent Allowances")+": "),i.edit_view_ui_dic.df_2.setField("user_value3"),i.edit_view_ui_dic.df_2.setValue(i.current_edit_record.user_value3);break;case"200-US-IL":i.attachElement("df_1"),i.edit_view_form_item_dic.df_1.find(".edit-view-form-item-label").text($.i18n._("IL-W-4 Line 1")+": "),i.edit_view_ui_dic.df_1.setField("user_value1"),i.edit_view_ui_dic.df_1.setValue(i.current_edit_record.user_value1),i.attachElement("df_2"),i.edit_view_form_item_dic.df_2.find(".edit-view-form-item-label").text($.i18n._("IL-W-4 Line 2")+": "),i.edit_view_ui_dic.df_2.setField("user_value2"),i.edit_view_ui_dic.df_2.setValue(i.current_edit_record.user_value2);break;case"200-US-IN":i.attachElement("df_1"),i.edit_view_form_item_dic.df_1.find(".edit-view-form-item-label").text($.i18n._("Allowances")+": "),i.edit_view_ui_dic.df_1.setField("user_value1"),i.edit_view_ui_dic.df_1.setValue(i.current_edit_record.user_value1),i.attachElement("df_2"),i.edit_view_form_item_dic.df_2.find(".edit-view-form-item-label").text($.i18n._("Dependents")+": "),i.edit_view_ui_dic.df_2.setField("user_value2"),i.edit_view_ui_dic.df_2.setValue(i.current_edit_record.user_value2);break;case"200-US-LA":i.attachElement("df_14"),i.edit_view_form_item_dic.df_14.find(".edit-view-form-item-label").text($.i18n._("Filing Status")+": "),i.edit_view_ui_dic.df_14.setSourceData(i.state_la_filing_status_array),i.edit_view_ui_dic.df_14.setField("user_value1"),i.edit_view_ui_dic.df_14.setValue(i.current_edit_record.user_value1),i.attachElement("df_1"),i.edit_view_form_item_dic.df_1.find(".edit-view-form-item-label").text($.i18n._("Exemptions")+": "),i.edit_view_ui_dic.df_1.setField("user_value2"),i.edit_view_ui_dic.df_1.setValue(i.current_edit_record.user_value2),i.attachElement("df_2"),i.edit_view_form_item_dic.df_2.find(".edit-view-form-item-label").text($.i18n._("Dependents")+": "),i.edit_view_ui_dic.df_2.setField("user_value3"),i.edit_view_ui_dic.df_2.setValue(i.current_edit_record.user_value3);break;case"200-US-MA":i.attachElement("df_14"),i.edit_view_form_item_dic.df_14.find(".edit-view-form-item-label").text($.i18n._("Filing Status")+": "),i.edit_view_ui_dic.df_14.setSourceData(i.state_ma_filing_status_array),i.edit_view_ui_dic.df_14.setField("user_value1"),i.edit_view_ui_dic.df_14.setValue(i.current_edit_record.user_value1),i.attachElement("df_1"),i.edit_view_form_item_dic.df_1.find(".edit-view-form-item-label").text($.i18n._("Allowances")+": "),i.edit_view_ui_dic.df_1.setField("user_value2"),i.edit_view_ui_dic.df_1.setValue(i.current_edit_record.user_value2);break;case"200-US-MD":i.attachElement("df_14"),i.edit_view_form_item_dic.df_14.find(".edit-view-form-item-label").text($.i18n._("Filing Status")+": "),i.edit_view_ui_dic.df_14.setSourceData(i.state_dc_filing_status_array),i.edit_view_ui_dic.df_14.setField("user_value1"),i.edit_view_ui_dic.df_14.setValue(i.current_edit_record.user_value1),i.attachElement("df_1"),i.edit_view_form_item_dic.df_1.find(".edit-view-form-item-label").text($.i18n._("Amount")+": "),i.edit_view_ui_dic.df_1.setField("user_value2"),i.edit_view_ui_dic.df_1.setValue(i.current_edit_record.user_value2),i.attachElement("df_1"),i.edit_view_form_item_dic.df_1.find(".edit-view-form-item-label").text($.i18n._("County Rate")+": "),i.edit_view_ui_dic.df_1.setField("user_value3"),i.edit_view_ui_dic.df_1.setValue(i.current_edit_record.user_value3);break;case"200-US-MS":i.attachElement("df_14"),i.edit_view_form_item_dic.df_14.find(".edit-view-form-item-label").text($.i18n._("Filing Status")+": "),i.edit_view_ui_dic.df_14.setSourceData(i.state_dc_filing_status_array),i.edit_view_ui_dic.df_14.setField("user_value1"),i.edit_view_ui_dic.df_14.setValue(i.current_edit_record.user_value1),i.attachElement("df_1"),i.edit_view_form_item_dic.df_1.find(".edit-view-form-item-label").text($.i18n._("Exemption Claimed")+": "),i.edit_view_ui_dic.df_1.setField("user_value2"),i.edit_view_ui_dic.df_1.setValue(i.current_edit_record.user_value2);break;case"200-US-NC":i.attachElement("df_14"),i.edit_view_form_item_dic.df_14.find(".edit-view-form-item-label").text($.i18n._("Filing Status")+": "),i.edit_view_ui_dic.df_14.setSourceData(i.state_nc_filing_status_array),i.edit_view_ui_dic.df_14.setField("user_value1"),i.edit_view_ui_dic.df_14.setValue(i.current_edit_record.user_value1),i.attachElement("df_1"),i.edit_view_form_item_dic.df_1.find(".edit-view-form-item-label").text($.i18n._("Allowances")+": "),i.edit_view_ui_dic.df_1.setField("user_value2"),i.edit_view_ui_dic.df_1.setValue(i.current_edit_record.user_value2);break;case"200-US-NJ":i.attachElement("df_14"),i.edit_view_form_item_dic.df_14.find(".edit-view-form-item-label").text($.i18n._("Filing Status")+": "),i.edit_view_ui_dic.df_14.setSourceData(i.state_nj_filing_status_array),i.edit_view_ui_dic.df_14.setField("user_value1"),i.edit_view_ui_dic.df_14.setValue(i.current_edit_record.user_value1),i.attachElement("df_1"),i.edit_view_form_item_dic.df_1.find(".edit-view-form-item-label").text($.i18n._("Allowances")+": "),i.edit_view_ui_dic.df_1.setField("user_value2"),i.edit_view_ui_dic.df_1.setValue(i.current_edit_record.user_value2);break;case"200-US-NM":i.attachElement("df_14"),i.edit_view_form_item_dic.df_14.find(".edit-view-form-item-label").text($.i18n._("Filing Status")+": "),i.edit_view_ui_dic.df_14.setSourceData(i.federal_filing_status_array),i.edit_view_ui_dic.df_14.setField("user_value1"),i.edit_view_ui_dic.df_14.setValue(i.current_edit_record.user_value1),i.attachElement("df_1"),i.edit_view_form_item_dic.df_1.find(".edit-view-form-item-label").text($.i18n._("Allowances")+": "),i.edit_view_ui_dic.df_1.setField("user_value2"),i.edit_view_ui_dic.df_1.setValue(i.current_edit_record.user_value2);break;case"200-US-OK":i.attachElement("df_14"),i.edit_view_form_item_dic.df_14.find(".edit-view-form-item-label").text($.i18n._("Filing Status")+": "),i.edit_view_ui_dic.df_14.setSourceData(i.state_basic_filing_status_array),i.edit_view_ui_dic.df_14.setField("user_value1"),i.edit_view_ui_dic.df_14.setValue(i.current_edit_record.user_value1),i.attachElement("df_1"),i.edit_view_form_item_dic.df_1.find(".edit-view-form-item-label").text($.i18n._("Allowances")+": "),i.edit_view_ui_dic.df_1.setField("user_value2"),i.edit_view_ui_dic.df_1.setValue(i.current_edit_record.user_value2);break;case"200-US-OH":i.attachElement("df_1"),i.edit_view_form_item_dic.df_1.find(".edit-view-form-item-label").text($.i18n._("Allowances")+": "),i.edit_view_ui_dic.df_1.setField("user_value2"),i.edit_view_ui_dic.df_1.setValue(i.current_edit_record.user_value2);break;case"200-US-VA":i.attachElement("df_1"),i.edit_view_form_item_dic.df_1.find(".edit-view-form-item-label").text($.i18n._("Allowances")+": "),i.edit_view_ui_dic.df_1.setField("user_value1"),i.edit_view_ui_dic.df_1.setValue(i.current_edit_record.user_value1),i.attachElement("df_2"),i.edit_view_form_item_dic.df_2.find(".edit-view-form-item-label").text($.i18n._("Age 65/Blind")+": "),i.edit_view_ui_dic.df_2.setField("user_value2"),i.edit_view_ui_dic.df_2.setValue(i.current_edit_record.user_value2);break;case"200-US-WI":i.attachElement("df_14"),i.edit_view_form_item_dic.df_14.find(".edit-view-form-item-label").text($.i18n._("Filing Status")+": "),i.edit_view_ui_dic.df_14.setSourceData(i.state_basic_filing_status_array),i.edit_view_ui_dic.df_14.setField("user_value1"),i.edit_view_ui_dic.df_14.setValue(i.current_edit_record.user_value1),i.attachElement("df_1"),i.edit_view_form_item_dic.df_1.find(".edit-view-form-item-label").text($.i18n._("Allowances")+": "),i.edit_view_ui_dic.df_1.setField("user_value2"),i.edit_view_ui_dic.df_1.setValue(i.current_edit_record.user_value2);break;case"200-US-WV":i.attachElement("df_14"),i.edit_view_form_item_dic.df_14.find(".edit-view-form-item-label").text($.i18n._("Filing Status")+": "),i.edit_view_ui_dic.df_14.setSourceData(i.state_wv_filing_status_array),i.edit_view_ui_dic.df_14.setField("user_value1"),i.edit_view_ui_dic.df_14.setValue(i.current_edit_record.user_value1),i.attachElement("df_1"),i.edit_view_form_item_dic.df_1.find(".edit-view-form-item-label").text($.i18n._("Allowances")+": "),i.edit_view_ui_dic.df_1.setField("user_value2"),i.edit_view_ui_dic.df_1.setValue(i.current_edit_record.user_value2);break;case"300-US":i.attachElement("df_14"),i.edit_view_form_item_dic.df_14.find(".edit-view-form-item-label").text($.i18n._("Filing Status")+": "),i.edit_view_ui_dic.df_14.setSourceData(i.state_filing_status_array),i.edit_view_ui_dic.df_14.setField("user_value1"),i.edit_view_ui_dic.df_14.setValue(i.current_edit_record.user_value1),i.attachElement("df_1"),i.edit_view_form_item_dic.df_1.find(".edit-view-form-item-label").text($.i18n._("Allowances")+": "),i.edit_view_ui_dic.df_1.setField("user_value2"),i.edit_view_ui_dic.df_1.setValue(i.current_edit_record.user_value2);break;case"300-US-IN":i.attachElement("df_1"),i.edit_view_form_item_dic.df_1.find(".edit-view-form-item-label").text($.i18n._("District / County Name")+": "),i.edit_view_ui_dic.df_1.setField("company_value1"),i.edit_view_ui_dic.df_1.setValue(i.current_edit_record.company_value1),i.attachElement("df_2"),i.edit_view_form_item_dic.df_2.find(".edit-view-form-item-label").text($.i18n._("Allowances")+": "),i.edit_view_ui_dic.df_2.setField("user_value1"),i.edit_view_ui_dic.df_2.setValue(i.current_edit_record.user_value1),i.attachElement("df_3"),i.edit_view_form_item_dic.df_3.find(".edit-view-form-item-label").text($.i18n._("Dependents")+": "),i.edit_view_ui_dic.df_3.setField("user_value2"),i.edit_view_ui_dic.df_3.setValue(i.current_edit_record.user_value2),i.attachElement("df_4"),i.edit_view_form_item_dic.df_4.find(".edit-view-form-item-label").text($.i18n._("County Rate")+": "),i.edit_view_ui_dic.df_4.setField("user_value3"),i.edit_view_ui_dic.df_4.setValue(i.current_edit_record.user_value3);break;case"300-US-MD":i.attachElement("df_1"),i.edit_view_form_item_dic.df_1.find(".edit-view-form-item-label").text($.i18n._("District / County Name")+": "),i.edit_view_ui_dic.df_1.setField("company_value1"),i.edit_view_ui_dic.df_1.setValue(i.current_edit_record.company_value1),i.attachElement("df_2"),i.edit_view_form_item_dic.df_2.find(".edit-view-form-item-label").text($.i18n._("County Rate")+": "),i.edit_view_ui_dic.df_2.setField("user_value1"),i.edit_view_ui_dic.df_2.setValue(i.current_edit_record.user_value1),i.attachElement("df_3"),i.edit_view_form_item_dic.df_3.find(".edit-view-form-item-label").text($.i18n._("Allowances")+": "),i.edit_view_ui_dic.df_3.setField("user_value2"),i.edit_view_ui_dic.df_3.setValue(i.current_edit_record.user_value2);break;case"300-US-PERCENT":i.attachElement("df_1"),i.edit_view_form_item_dic.df_1.find(".edit-view-form-item-label").text($.i18n._("District / County Name")+": "),i.edit_view_ui_dic.df_1.setField("company_value1"),i.edit_view_ui_dic.df_1.setValue(i.current_edit_record.company_value1),i.attachElement("df_2"),i.edit_view_form_item_dic.df_2.find(".edit-view-form-item-label").text($.i18n._("District / County Rate")+": "),i.edit_view_ui_dic.df_2.setField("user_value2"),i.edit_view_ui_dic.df_2.setValue(i.current_edit_record.user_value2)}var a=i.getEditViewTabIndex();i.editFieldResize(a),e&&e()}}20==_?(this.detachElement("include_account_amount_type_id"),this.detachElement("exclude_account_amount_type_id")):(this.attachElement("include_account_amount_type_id"),this.attachElement("exclude_account_amount_type_id")),t?this.show_p?(i.hideAllDynamicFields(!0,!0),i.api.getCombinedCalculationID(_,i.current_edit_record.country,i.current_edit_record.province,{onResult:d})):(i.hideAllDynamicFields(!0,!1),i.api.getCombinedCalculationID(_,i.current_edit_record.country,"",{onResult:d})):(this.hideAllDynamicFields(),this.api.isCountryCalculationID(_,{onResult:function(e){!0===e.getResult()?(i.show_c=!0,i.setCountryVisibility(),i.api.isProvinceCalculationID(_,{onResult:function(e){!0===e.getResult()?(i.show_p=!0,i.current_edit_record.country&&i.eSetProvince(i.current_edit_record.country),i.api.isDistrictCalculationID(_,{onResult:function(e){!0===e.getResult()&&(i.show_dc=!0,i.current_edit_record.country&&i.setDistrict(i.current_edit_record.country)),i.api.getCombinedCalculationID(_,i.current_edit_record.country,i.current_edit_record.province,{onResult:d})}})):i.current_edit_record&&i.api.getCombinedCalculationID(_,i.current_edit_record.country,"",{onResult:d})}})):(i.hideAllDynamicFields(),i.api.getCombinedCalculationID(_,"","",{onResult:d}))}}))}onFormW4VersionChange(){100==this.current_edit_record.calculation_id&&this.current_edit_record.country}onApplyFrequencyChange(){10==this.current_edit_record.apply_frequency_id||100==this.current_edit_record.apply_frequency_id||110==this.current_edit_record||120==this.current_edit_record.apply_frequency_id||130==this.current_edit_record.apply_frequency_id?(this.edit_view_ui_dic.apply_frequency_month.parent().parent().css("display","none"),this.edit_view_ui_dic.apply_frequency_day_of_month.parent().parent().css("display","none"),this.edit_view_ui_dic.apply_frequency_quarter_month.parent().parent().css("display","none")):20==this.current_edit_record.apply_frequency_id?(this.edit_view_ui_dic.apply_frequency_month.parent().parent().css("display","block"),this.edit_view_ui_dic.apply_frequency_day_of_month.parent().parent().css("display","block"),this.edit_view_ui_dic.apply_frequency_quarter_month.parent().parent().css("display","none")):25==this.current_edit_record.apply_frequency_id?(this.edit_view_ui_dic.apply_frequency_month.parent().parent().css("display","none"),this.edit_view_ui_dic.apply_frequency_day_of_month.parent().parent().css("display","block"),this.edit_view_ui_dic.apply_frequency_quarter_month.parent().parent().css("display","block")):30==this.current_edit_record.apply_frequency_id&&(this.edit_view_ui_dic.apply_frequency_month.parent().parent().css("display","none"),this.edit_view_ui_dic.apply_frequency_day_of_month.parent().parent().css("display","block"),this.edit_view_ui_dic.apply_frequency_quarter_month.parent().parent().css("display","none")),this.editFieldResize()}onCalculationChange(){}buildEditViewUI(){TTPromise.add("CompanyTaxDeduction","buildEditViewUI"),super.buildEditViewUI();var e=this,t={"tab_tax_deductions":{"label":$.i18n._("Tax / Deductions")},"tab_eligibility":{"label":$.i18n._("Eligibility")},"tab_employee_setting":{"label":$.i18n._("Employee Settings"),"init_callback":"initEmployeeSetting","display_on_mass_edit":!1},"tab5":{"label":$.i18n._("Tax / Deductions"),"display_on_mass_edit":!1},"tab_attachment":!0,"tab_audit":!0};this.setTabModel(t),this.edit_view.children().eq(0).css("min-width",1170),this.navigation.AComboBox({id:this.script_name+"_navigation",api_class:TTAPI.APICompanyDeduction,allow_multiple_selection:!1,layout_name:"global_deduction",navigation_mode:!0,show_search_inputs:!0}),this.setNavigation();var i,_,d,a=this.edit_view_tab.find("#tab_tax_deductions").find(".first-column");this.edit_view_tabs[0]=[],this.edit_view_tabs[0].push(a),(i=Global.loadWidgetByName(FormItemType.COMBO_BOX)).TComboBox({field:"status_id",set_empty:!1}),i.setSourceData(e.status_array),this.addEditFieldToColumn($.i18n._("Status"),i,a,""),(i=Global.loadWidgetByName(FormItemType.COMBO_BOX)).TComboBox({field:"type_id",set_empty:!1}),i.setSourceData(e.type_array),this.addEditFieldToColumn($.i18n._("Type"),i,a),(i=Global.loadWidgetByName(FormItemType.AWESOME_BOX)).TText({field:"legal_entity_id"}),i.AComboBox({api_class:TTAPI.APILegalEntity,allow_multiple_selection:!1,layout_name:"global_legal_entity",show_search_inputs:!1,set_empty:!0,field:"legal_entity_id"}),this.addEditFieldToColumn($.i18n._("Legal Entity"),i,a),(i=Global.loadWidgetByName(FormItemType.AWESOME_BOX)).AComboBox({api_class:TTAPI.APIPayrollRemittanceAgency,allow_multiple_selection:!1,layout_name:"global_payroll_remittance_agency",show_search_inputs:!1,set_empty:!0,field:"payroll_remittance_agency_id"}),this.addEditFieldToColumn($.i18n._("Remittance Agency"),i,a),(i=Global.loadWidgetByName(FormItemType.TEXT_INPUT)).TTextInput({field:"name",width:"100%"}),this.addEditFieldToColumn($.i18n._("Name"),i,a),i.parent().width("45%"),(i=Global.loadWidgetByName(FormItemType.TEXT_AREA)).TTextArea({field:"description",width:"100%"}),this.addEditFieldToColumn($.i18n._("Description"),i,a,"",null,null,!0),i.parent().width("45%"),(i=Global.loadWidgetByName(FormItemType.TEXT_INPUT)).TTextInput({field:"pay_stub_entry_description",width:300}),this.addEditFieldToColumn($.i18n._("Pay Stub Note (Public)"),i,a),(i=Global.loadWidgetByName(FormItemType.SEPARATED_BOX)).SeparatedBox({label:$.i18n._("Calculation Settings")}),this.addEditFieldToColumn(null,i,a,"",null,!0,!1,"separated_2"),(i=Global.loadWidgetByName(FormItemType.COMBO_BOX)).TComboBox({field:"calculation_id",set_empty:!1,width:400}),i.setSourceData(e.calculation_array),this.addEditFieldToColumn($.i18n._("Calculation"),i,a,"",null,!0),(i=Global.loadWidgetByName(FormItemType.COMBO_BOX)).TComboBox({field:"df_15",set_empty:!1}),i.setSourceData(e.tax_formula_type_array),this.addEditFieldToColumn("df_15",i,a,"",null,!0),(i=Global.loadWidgetByName(FormItemType.COMBO_BOX)).TComboBox({field:"country",set_empty:!0}),i.setSourceData(e.country_array),this.addEditFieldToColumn($.i18n._("Country"),i,a,"",null,!0),(i=Global.loadWidgetByName(FormItemType.COMBO_BOX)).TComboBox({field:"province"}),i.setSourceData([]),this.addEditFieldToColumn($.i18n._("Province/State"),i,a,"",null,!0),(i=Global.loadWidgetByName(FormItemType.COMBO_BOX)).TComboBox({field:"district",set_empty:!1}),i.setSourceData([]),this.addEditFieldToColumn($.i18n._("District"),i,a,"",null,!0),(i=Global.loadWidgetByName(FormItemType.TEXT_INPUT)).TTextInput({field:"df_0"}),_=$("<div class='widget-h-box'></div>"),d=$("<span class='widget-right-label'> %</span>"),_.append(i),_.append(d),this.addEditFieldToColumn("df_0",i,a,"",_,!0),(i=Global.loadWidgetByName(FormItemType.COMBO_BOX)).TComboBox({field:"df_20",set_empty:!1}),this.addEditFieldToColumn("df_20",i,a,"",null,!0),(i=Global.loadWidgetByName(FormItemType.COMBO_BOX)).TComboBox({field:"df_14",set_empty:!1}),this.addEditFieldToColumn("df_14",i,a,"",null,!0),(i=Global.loadWidgetByName(FormItemType.TEXT_INPUT)).TTextInput({field:"df_1"}),this.addEditFieldToColumn("df_1",i,a,"",null,!0),(i=Global.loadWidgetByName(FormItemType.TEXT_INPUT)).TTextInput({field:"df_2"}),this.addEditFieldToColumn("df_2",i,a,"",null,!0),(i=Global.loadWidgetByName(FormItemType.TEXT_INPUT)).TTextInput({field:"df_3"}),this.addEditFieldToColumn("df_3",i,a,"",null,!0),(i=Global.loadWidgetByName(FormItemType.TEXT_INPUT)).TTextInput({field:"df_4"}),this.addEditFieldToColumn("df_4",i,a,"",null,!0),(i=Global.loadWidgetByName(FormItemType.TEXT_INPUT)).TTextInput({field:"df_5"}),this.addEditFieldToColumn("df_5",i,a,"",null,!0),(i=Global.loadWidgetByName(FormItemType.TEXT_INPUT)).TTextInput({field:"df_6"}),this.addEditFieldToColumn("df_6",i,a,"",null,!0),(i=Global.loadWidgetByName(FormItemType.TEXT_INPUT)).TTextInput({field:"df_7"}),this.addEditFieldToColumn("df_7",i,a,"",null,!0),(i=Global.loadWidgetByName(FormItemType.TEXT_INPUT)).TTextInput({field:"df_8"}),this.addEditFieldToColumn("df_8",i,a,"",null,!0),(i=Global.loadWidgetByName(FormItemType.TEXT_INPUT)).TTextInput({field:"df_9"}),this.addEditFieldToColumn("df_9",i,a,"",null,!0),(i=Global.loadWidgetByName(FormItemType.TEXT_INPUT)).TTextInput({field:"df_10"}),this.addEditFieldToColumn("df_10",i,a,"",null,!0),Global.getProductEdition()>=15?(TTPromise.add("CompanyTaxDeduction","df_11"),Global.loadScript("global/widgets/formula_builder/FormulaBuilder.js",(function(){(i=Global.loadWidgetByName(FormItemType.FORMULA_BUILDER)).FormulaBuilder({field:"df_11",width:"100%",onFormulaBtnClick:function(){TTAPI.APIReportCustomColumn.getOptions("formula_functions",{onResult:function(t){var i=t.getResult();e.api.getOptions("formula_variables",{onResult:function(t){var _=t.getResult(),d={};d.functions=Global.buildRecordArray(i),d.variables=Global.buildRecordArray(_),d.formula=e.current_edit_record.company_value1,d.current_edit_record=Global.clone(e.current_edit_record),d.api=e.api,IndexViewController.openWizard("FormulaBuilderWizard",d,(function(t){e.current_edit_record.company_value1=t,e.edit_view_ui_dic.df_11.setValue(t)}))}})}})}}),e.addEditFieldToColumn("df_11",i,a,"",null,!0),e.detachElement("df_11"),i.parent().width("45%"),TTPromise.resolve("CompanyTaxDeduction","df_11")}))):((i=Global.loadWidgetByName(FormItemType.TEXT_AREA)).TTextInput({field:"df_11"}),this.addEditFieldToColumn("df_11",i,a,"",null,!0),(i=Global.loadWidgetByName(FormItemType.TEXT)).TText({field:"df_100"}),this.addEditFieldToColumn("Warning",i,a,"",null,!0)),(i=Global.loadWidgetByName(FormItemType.TEXT_INPUT)).TTextInput({field:"df_12",width:30}),_=$("<div class='widget-h-box'></div>"),d=$("<span class='widget-right-label'>   </span>");var l=Global.loadWidgetByName(FormItemType.COMBO_BOX);if(l.TComboBox({field:"df_13"}),l.setSourceData(e.look_back_unit_array),_.append(i),_.append(d),_.append(l),this.addEditFieldToColumn("df_12",[i,l],a,"",_,!0),(i=Global.loadWidgetByName(FormItemType.COMBO_BOX)).TComboBox({field:"df_21",set_empty:!1}),this.addEditFieldToColumn("df_21",i,a,"",null,!0),(i=Global.loadWidgetByName(FormItemType.TEXT_INPUT)).TTextInput({field:"df_22"}),this.addEditFieldToColumn("df_22",i,a,"",null,!0),(i=Global.loadWidgetByName(FormItemType.TEXT_INPUT)).TTextInput({field:"df_23"}),this.addEditFieldToColumn("df_23",i,a,"",null,!0),(i=Global.loadWidgetByName(FormItemType.TEXT_INPUT)).TTextInput({field:"df_24"}),this.addEditFieldToColumn("df_24",i,a,"",null,!0),(i=Global.loadWidgetByName(FormItemType.TEXT_INPUT)).TTextInput({field:"df_25"}),this.addEditFieldToColumn("df_25",i,a,"",null,!0),!this.sub_view_mode){var r={filter_data:{}};r.filter_data.type_id=[10,20,30,50,80],(i=Global.loadWidgetByName(FormItemType.AWESOME_BOX)).AComboBox({api_class:TTAPI.APIPayStubEntryAccount,allow_multiple_selection:!1,layout_name:"global_PayStubAccount",show_search_inputs:!0,set_empty:!0,field:"pay_stub_entry_account_id"}),i.setDefaultArgs(r),this.addEditFieldToColumn($.i18n._("Pay Stub Account"),i,a)}(i=Global.loadWidgetByName(FormItemType.TEXT_INPUT)).TTextInput({field:"calculation_order",width:30}),this.addEditFieldToColumn($.i18n._("Calculation Order"),i,a);var n=$("<div class='v-box'></div>");(i=Global.loadWidgetByName(FormItemType.COMBO_BOX)).TComboBox({field:"include_account_amount_type_id",set_empty:!1}),i.setSourceData(e.account_amount_type_array);var s=this.putInputToInsideFormItem(i,$.i18n._("Pay Stub Account Value"));if(n.append(s),n.append("<div class='clear-both-div'></div>"),!this.sub_view_mode){var u=Global.loadWidgetByName(FormItemType.AWESOME_BOX);u.AComboBox({api_class:TTAPI.APIPayStubEntryAccount,allow_multiple_selection:!0,layout_name:"global_PayStubAccount",show_search_inputs:!0,set_empty:!0,field:"include_pay_stub_entry_account"}),s=this.putInputToInsideFormItem(u,$.i18n._("Selection")),n.append(s),this.addEditFieldToColumn($.i18n._("Include Pay Stub Accounts"),[i,u],a,null,n,!0,!0)}n=$("<div class='v-box'></div>"),(i=Global.loadWidgetByName(FormItemType.COMBO_BOX)).TComboBox({field:"exclude_account_amount_type_id",set_empty:!1}),i.setSourceData(e.account_amount_type_array),s=this.putInputToInsideFormItem(i,$.i18n._("Pay Stub Account Value")),n.append(s),n.append("<div class='clear-both-div'></div>"),this.sub_view_mode||((u=Global.loadWidgetByName(FormItemType.AWESOME_BOX)).AComboBox({api_class:TTAPI.APIPayStubEntryAccount,allow_multiple_selection:!0,layout_name:"global_PayStubAccount",show_search_inputs:!0,set_empty:!0,field:"exclude_pay_stub_entry_account"}),s=this.putInputToInsideFormItem(u,$.i18n._("Selection")),n.append(s),this.addEditFieldToColumn($.i18n._("Exclude Pay Stub Accounts"),[i,u],a,null,n,!0,!0)),this.sub_view_mode||((i=Global.loadWidgetByName(FormItemType.AWESOME_BOX)).AComboBox({api_class:TTAPI.APIUser,allow_multiple_selection:!0,layout_name:"global_user",show_search_inputs:!0,set_empty:!0,field:"user"}),this.addEditFieldToColumn($.i18n._("Employees"),i,a,""));var o=this.edit_view_tab.find("#tab_eligibility").find(".first-column");this.edit_view_tabs[1]=[],this.edit_view_tabs[1].push(o),(i=Global.loadWidgetByName(FormItemType.COMBO_BOX)).TComboBox({field:"apply_frequency_id",set_empty:!1}),i.setSourceData(e.apply_frequency_array),this.addEditFieldToColumn($.i18n._("Apply Frequency"),i,o,""),(i=Global.loadWidgetByName(FormItemType.COMBO_BOX)).TComboBox({field:"apply_frequency_month",set_empty:!1}),i.setSourceData(e.month_of_year_array),this.addEditFieldToColumn($.i18n._("Month"),i,o,"",null,!0),(i=Global.loadWidgetByName(FormItemType.COMBO_BOX)).TComboBox({field:"apply_frequency_day_of_month",set_empty:!1}),i.setSourceData(e.day_of_month_array),this.addEditFieldToColumn($.i18n._("Day of Month"),i,o,"",null,!0),(i=Global.loadWidgetByName(FormItemType.COMBO_BOX)).TComboBox({field:"apply_frequency_quarter_month",set_empty:!1}),i.setSourceData(e.month_of_quarter_array),this.addEditFieldToColumn($.i18n._("Month of Quarter"),i,o,"",null,!0),(i=Global.loadWidgetByName(FormItemType.COMBO_BOX)).TComboBox({field:"apply_payroll_run_type_id",set_empty:!0,customFirstItemLabel:Global.any_item}),i.setSourceData(e.apply_payroll_run_type_array),this.addEditFieldToColumn($.i18n._("Payroll Run Type"),i,o,""),(i=Global.loadWidgetByName(FormItemType.DATE_PICKER)).TDatePicker({field:"start_date"}),_=$("<div class='widget-h-box'></div>"),d=$("<span class='widget-right-label'>"+$.i18n._("(Leave blank for no start date)")+"</span>"),_.append(i),_.append(d),this.addEditFieldToColumn($.i18n._("Start Date"),i,o,"",_),(i=Global.loadWidgetByName(FormItemType.DATE_PICKER)).TDatePicker({field:"end_date"}),_=$("<div class='widget-h-box'></div>"),d=$("<span class='widget-right-label'>"+$.i18n._("(Leave blank for no end date)")+"</span>"),_.append(i),_.append(d),this.addEditFieldToColumn($.i18n._("End Date"),i,o,"",_),(i=Global.loadWidgetByName(FormItemType.TEXT_INPUT)).TTextInput({field:"minimum_length_of_service",width:30}),_=$("<div class='widget-h-box'></div>"),d=$("<span class='widget-right-label'>   </span>"),(l=Global.loadWidgetByName(FormItemType.COMBO_BOX)).TComboBox({field:"minimum_length_of_service_unit_id"}),l.setSourceData(e.length_of_service_unit_array),_.append(i),_.append(d),_.append(l),this.addEditFieldToColumn($.i18n._("Minimum Length Of Service"),[i,l],o,"",_),(i=Global.loadWidgetByName(FormItemType.TEXT_INPUT)).TTextInput({field:"maximum_length_of_service",width:30}),_=$("<div class='widget-h-box'></div>"),d=$("<span class='widget-right-label'>   </span>"),(l=Global.loadWidgetByName(FormItemType.COMBO_BOX)).TComboBox({field:"maximum_length_of_service_unit_id"}),l.setSourceData(e.length_of_service_unit_array),_.append(i),_.append(d),_.append(l),this.addEditFieldToColumn($.i18n._("Maximum Length Of Service"),[i,l],o,"",_),this.sub_view_mode||((i=Global.loadWidgetByName(FormItemType.AWESOME_BOX)).AComboBox({api_class:TTAPI.APIContributingPayCodePolicy,allow_multiple_selection:!1,layout_name:"global_contributing_pay_code_policy",show_search_inputs:!0,set_empty:!0,set_default:!0,field:"length_of_service_contributing_pay_code_policy_id"}),this.addEditFieldToColumn($.i18n._("Length Of Service Hours Based On"),i,o,"",null,!0)),(i=Global.loadWidgetByName(FormItemType.TEXT_INPUT)).TTextInput({field:"minimum_user_age",width:30}),_=$("<div class='widget-h-box'></div>"),d=$("<span class='widget-right-label'>"+$.i18n._("years")+"</span>"),_.append(i),_.append(d),this.addEditFieldToColumn($.i18n._("Minimum Employee Age"),i,o,"",_),(i=Global.loadWidgetByName(FormItemType.TEXT_INPUT)).TTextInput({field:"maximum_user_age",width:30}),_=$("<div class='widget-h-box'></div>"),d=$("<span class='widget-right-label'>"+$.i18n._("years")+"</span>"),_.append(i),_.append(d),this.addEditFieldToColumn($.i18n._("Maximum Employee Age"),i,o,"",_);var c=this.edit_view_tab.find("#tab5").find(".first-column");this.edit_view_tabs[5]=[],this.edit_view_tabs[5].push(c),i=Global.loadWidgetByName(FormItemType.AWESOME_DROPDOWN);var m=ALayoutCache.getDefaultColumn("global_deduction");m=Global.convertColumnsTojGridFormat(m,"global_deduction"),i.ADropDown({field:"company_tax_deduction_ids",display_show_all:!1,id:"company_tax_deduction_ids",key:"id",display_close_btn:!1,allow_drag_to_order:!1,display_column_settings:!1}),i.addClass("splayed-adropdown"),this.addEditFieldToColumn($.i18n._("Taxes / Deductions"),i,c,"",null,!1,!0),i.setColumns(m),TTPromise.resolve("CompanyTaxDeduction","buildEditViewUI")}setEditViewTabHeight(){super.setEditViewTabHeight(),this.edit_view_ui_dic.company_tax_deduction_ids.setHeight(this.edit_view_tab.height()-160)}putInputToInsideFormItem(e,t){var i=$(Global.loadWidgetByName(WidgetNamesDic.EDIT_VIEW_SUB_FORM_ITEM));i.find(".edit-view-form-item-label-div").attr("class","edit-view-form-item-sub-label-div");var _=i.find(".edit-view-form-item-label"),d=i.find(".edit-view-form-item-input-div");return i.addClass("remove-margin"),_.text($.i18n._(t)+": "),d.append(e),i}buildSearchFields(){super.buildSearchFields(),this.search_fields=[new SearchField({label:$.i18n._("Status"),in_column:1,field:"status_id",multiple:!0,basic_search:!0,layout_name:"global_option_column",form_item_type:FormItemType.AWESOME_BOX}),new SearchField({label:$.i18n._("Type"),in_column:1,field:"type_id",multiple:!0,basic_search:!0,layout_name:"global_option_column",form_item_type:FormItemType.AWESOME_BOX}),new SearchField({label:$.i18n._("Name"),in_column:1,field:"name",multiple:!0,basic_search:!0,adv_search:!1,form_item_type:FormItemType.TEXT_INPUT}),new SearchField({label:$.i18n._("Legal Entity"),in_column:1,field:"legal_entity_id",layout_name:"global_legal_entity",api_class:TTAPI.APILegalEntity,multiple:!0,basic_search:!0,adv_search:!1,form_item_type:FormItemType.AWESOME_BOX}),new SearchField({label:$.i18n._("Pay Stub Account"),in_column:1,field:"pay_stub_entry_name_id",layout_name:"global_PayStubAccount",api_class:TTAPI.APIPayStubEntryAccount,multiple:!0,basic_search:!0,adv_search:!1,form_item_type:FormItemType.AWESOME_BOX}),new SearchField({label:$.i18n._("Remittance Agency"),in_column:2,field:"payroll_remittance_agency_id",layout_name:"global_payroll_remittance_agency",api_class:TTAPI.APIPayrollRemittanceAgency,multiple:!0,basic_search:!0,script_name:"PayrollRemittanceAgencyView",form_item_type:FormItemType.AWESOME_BOX}),new SearchField({label:$.i18n._("Calculation"),in_column:2,field:"calculation_id",multiple:!0,basic_search:!0,layout_name:"global_option_column",form_item_type:FormItemType.AWESOME_BOX}),new SearchField({label:$.i18n._("Created By"),in_column:2,field:"created_by",layout_name:"global_user",api_class:TTAPI.APIUser,multiple:!0,basic_search:!0,script_name:"EmployeeView",form_item_type:FormItemType.AWESOME_BOX}),new SearchField({label:$.i18n._("Updated By"),in_column:2,field:"updated_by",layout_name:"global_user",api_class:TTAPI.APIUser,multiple:!0,basic_search:!0,script_name:"EmployeeView",form_item_type:FormItemType.AWESOME_BOX})]}searchDone(){TTPromise.resolve("TaxView","init"),super.searchDone()}}d.loadSubView=function(e,t,i){Global.loadViewSource("CompanyTaxDeduction","SubCompanyTaxDeductionView.html",(function(d){var a=_.template(d);Global.isSet(t)&&t(),Global.isSet(e)&&(e.html(a({})),Global.isSet(i)&&i(sub_company_tax_deduction_view_controller))}))}}}]);
//# sourceMappingURL=payroll-company_tax_deduction-CompanyTaxDeductionViewController.bundle.js.map?v=e4acaf22d79699c0a1c0