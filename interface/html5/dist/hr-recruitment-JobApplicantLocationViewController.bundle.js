(self.webpackChunktimetrex=self.webpackChunktimetrex||[]).push([["hr-recruitment-JobApplicantLocationViewController"],{6436:(t,i,e)=>{"use strict";e.r(i),e.d(i,{"JobApplicantLocationViewController":()=>o});class o extends BaseViewController{constructor(t={}){_.defaults(t,{el:"#job_applicant_location_view_container",country_array:null,province_array:null,e_province_array:null,company_api:null,sub_view_grid_autosize:!0}),super(t)}init(t){this.edit_view_tpl="JobApplicantLocationEditView.html",this.permission_id="job_applicant",this.viewId="JobApplicantLocation",this.script_name="JobApplicantLocationView",this.table_name_key="job_applicant_location",this.context_menu_name=$.i18n._("Job Applicant Location"),this.navigation_label=$.i18n._("Job Applicant Location")+":",this.api=TTAPI.APIJobApplicantLocation,this.company_api=TTAPI.APICompany,this.render(),this.sub_view_mode||this.initData()}showNoResultCover(t){super.showNoResultCover(!!this.sub_view_mode)}onAddClick(){this.sub_view_mode&&this.buildContextMenu(!0),super.onAddClick()}initOptions(){this.initDropDownOption("country","country",this.company_api)}buildEditViewUI(){super.buildEditViewUI();var t={"tab_job_applicant_location":{"label":$.i18n._("Job Applicant Location")},"tab_audit":!0};this.setTabModel(t),this.navigation.AComboBox({api_class:TTAPI.APIJobApplicantLocation,id:this.script_name+"_navigation",allow_multiple_selection:!1,layout_name:"global_job_applicant_location",navigation_mode:!0,show_search_inputs:!0}),this.setNavigation();var i=this.edit_view_tab.find("#tab_job_applicant_location").find(".first-column");this.edit_view_tabs[0]=[],this.edit_view_tabs[0].push(i);var e=Global.loadWidgetByName(FormItemType.TEXT_INPUT);e.TTextInput({field:"address1",width:200}),this.addEditFieldToColumn($.i18n._("Address (Line 1)"),e,i,""),(e=Global.loadWidgetByName(FormItemType.TEXT_INPUT)).TTextInput({field:"address2",width:200}),this.addEditFieldToColumn($.i18n._("Address (Line 2)"),e,i),(e=Global.loadWidgetByName(FormItemType.TEXT_INPUT)).TTextInput({field:"city",width:200}),this.addEditFieldToColumn($.i18n._("City"),e,i),(e=Global.loadWidgetByName(FormItemType.COMBO_BOX)).TComboBox({field:"country",set_empty:!0}),e.setSourceData(this.country_array),this.addEditFieldToColumn($.i18n._("Country"),e,i),(e=Global.loadWidgetByName(FormItemType.COMBO_BOX)).TComboBox({field:"province"}),e.setSourceData([]),this.addEditFieldToColumn($.i18n._("Province/State"),e,i),(e=Global.loadWidgetByName(FormItemType.TEXT_INPUT)).TTextInput({field:"postal_code",width:90}),this.addEditFieldToColumn($.i18n._("Postal/ZIP Code"),e,i),(e=Global.loadWidgetByName(FormItemType.DATE_PICKER)).TDatePicker({field:"start_date"}),this.addEditFieldToColumn($.i18n._("Start Date"),e,i,"",null),(e=Global.loadWidgetByName(FormItemType.DATE_PICKER)).TDatePicker({field:"end_date"}),this.addEditFieldToColumn($.i18n._("End Date"),e,i,"",null),(e=Global.loadWidgetByName(FormItemType.TAG_INPUT)).TTagInput({field:"tag",object_type_id:370}),this.addEditFieldToColumn($.i18n._("Tags"),e,i,"",null,null,!0)}onFormItemChange(t,i){this.setIsChanged(t),this.setMassEditingFieldsWhenFormChange(t);var e=t.getField();switch(this.current_edit_record[e]=t.getValue(),e){case"country":this.edit_view_ui_dic.province.setValue(null)}"country"!==e?i||this.validate():this.onCountryChange()}setCurrentEditRecordData(){for(var t in this.current_edit_record){var i=this.edit_view_ui_dic[t];if(Global.isSet(i))switch(t){case"country":this.setCountryValue(i,t);break;default:i.setValue(this.current_edit_record[t])}}this.collectUIDataToCurrentEditRecord(),this.setEditViewDataDone()}setProvince(t,i){var e=this;t&&"-1"!==t&&"0"!==t?this.company_api.getOptions("province",t,{onResult:function(t){(t=t.getResult())||(t=[]),e.province_array=Global.buildRecordArray(t),e.adv_search_field_ui_dic.province.setSourceData(e.province_array)}}):(e.province_array=[],this.adv_search_field_ui_dic.province.setSourceData([]))}eSetProvince(t,i){var e=this,o=e.edit_view_ui_dic.province;t&&"-1"!==t&&"0"!==t?this.company_api.getOptions("province",t,{onResult:function(t){(t=t.getResult())||(t=[]),e.e_province_array=Global.buildRecordArray(t),i&&e.e_province_array.length>0&&(e.current_edit_record.province=e.e_province_array[0].value,o.setValue(e.current_edit_record.province)),o.setSourceData(e.e_province_array)}}):(e.e_province_array=[],o.setSourceData([]))}onGridSelectRow(){this.sub_view_mode?this.buildContextMenu(!0):this.buildContextMenu(),this.setDefaultMenu()}searchDone(){super.searchDone(),TTPromise.resolve("JobApplicant_History_Tab","JobApplicantLocationViewController")}}o.loadSubView=function(t,i,e){Global.loadViewSource("JobApplicantLocation","SubJobApplicantLocationView.html",(function(o){var a=_.template(o);Global.isSet(i)&&i(),Global.isSet(t)&&(t.html(a({})),Global.isSet(e)&&e(sub_job_applicant_location_view_controller))}))}}}]);
//# sourceMappingURL=hr-recruitment-JobApplicantLocationViewController.bundle.js.map?v=8ff13648ec9af3a566a8