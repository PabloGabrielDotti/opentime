{"version":3,"sources":["webpack://timetrex/./interface/html5/views/company/payroll_remittance_agency/PayrollRemittanceAgencyViewController.js"],"names":["PayrollRemittanceAgencyViewController","BaseViewController","options","_","defaults","el","status_array","type_array","agency_array","country_array","province_array","district_array","remittance_source_account_array","sub_event_view_controller","e_province_array","company_api","remittance_source_account_api","always_week_day_array","date_api","super","this","edit_view_tpl","permission_id","viewId","script_name","table_name_key","context_menu_name","$","i18n","navigation_label","api","TTAPI","APIPayrollRemittanceAgency","APICompany","APITTDate","APIRemittanceSourceAccount","render","buildContextMenu","initData","setSelectRibbonMenuIfNecessary","callback","$this","initDropDownOption","getOptions","onResult","res","getResult","Global","buildRecordArray","record_id","edit_only_mode","initOptions","result","edit_view","initEditViewUI","filter","filter_data","id","getPayrollRemittanceAgency","current_edit_record","initEditView","TAlertManager","showAlert","onCancelClick","openEditView","column_filter","display_columns","grid","getGridParam","len","length","i","name","select_value","search_panel","getSelectTabIndex","basic_search_field_ui_dic","getValue","setProvince","adv_search_field_ui_dic","exclude","ContextMenuIconName","export_excel","include","change","proxy","selectVal","setValue","target","doNotValidate","setIsChanged","setMassEditingFieldsWhenFormChange","key","getField","c_value","toString","onTypeChange","onAgencyIdChange","detachElement","eSetProvince","setDistrict","edit_view_ui_dic","getAgencyOptions","getRemittanceSourceAccount","validate","id_field_array_api_params","agency_id","id_field_array","async","attachElement","edit_view_form_item_dic","find","text","editFieldResize","params","isSet","setSourceData","legal_entity_id","isFalseOrNull","TTUUID","isUUID","source_account_args","filter_columns","arg","c","p","type_id","getDistrictOptions","Object","keys","first_element","label","value","fullValue","orderValue","district","not_exist_id","zero_id","hasOwnProperty","widget","collectUIDataToCurrentEditRecord","setEditViewDataDone","val","refresh","getProvinceOptions","province","buildEditViewUI","tab_model","setTabModel","navigation","AComboBox","api_class","allow_multiple_selection","layout_name","navigation_mode","show_search_inputs","setNavigation","tab_payroll_remittance_agency","edit_view_tab","tab_payroll_remittance_agency_column1","tab_payroll_remittance_agency_column2","edit_view_tabs","push","form_item_input","loadWidgetByName","FormItemType","AWESOME_BOX","APILegalEntity","field","set_empty","addEditFieldToColumn","COMBO_BOX","TComboBox","TEXT_INPUT","TTextInput","width","parent","TEXT_AREA","TTextArea","DATE_PICKER","TDatePicker","APIUser","APIRecurringHoliday","m","buildSearchFields","search_fields","SearchField","in_column","multiple","basic_search","adv_search","form_item_type","setDefaultMenu","parent_value","parent_edit_record","loadScript","firstColumn","trackView","PayrollRemittanceAgencyEventViewController","loadSubView","beforeLoadView","afterLoadView","TTPromise","resolve","subViewController","parent_key","parent_view_controller","postInit","data","is_add","is_mass_editing","payroll_remittance_agency_id","agency_identifier","slice","country"],"mappings":"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","file":"company-payroll_remittance_agency-PayrollRemittanceAgencyViewController.bundle.js?v=d45d0019858c10772212","sourcesContent":["export class PayrollRemittanceAgencyViewController extends BaseViewController {\n\tconstructor( options = {} ) {\n\t\t_.defaults( options, {\n\t\t\tel: '#payroll_remittance_agency_view_container',\n\n\n\n\t\t\tstatus_array: null,\n\t\t\ttype_array: null,\n\t\t\tagency_array: null,\n\t\t\tcountry_array: null,\n\t\t\tprovince_array: null,\n\t\t\tdistrict_array: null,\n\n\t\t\tremittance_source_account_array: null,\n\t\t\tsub_event_view_controller: null,\n\n\t\t\te_province_array: null,\n\t\t\tcompany_api: null,\n\t\t\tremittance_source_account_api: null,\n\t\t\talways_week_day_array: null,\n\n\t\t\tdate_api: null\n\t\t} );\n\n\t\tsuper( options );\n\t}\n\n\tinit() {\n\t\tthis.edit_view_tpl = 'PayrollRemittanceAgencyEditView.html';\n\t\tthis.permission_id = 'payroll_remittance_agency';\n\t\tthis.viewId = 'PayrollRemittanceAgency';\n\t\tthis.script_name = 'PayrollRemittanceAgencyView';\n\t\tthis.table_name_key = 'payroll_remittance_agency';\n\t\tthis.context_menu_name = $.i18n._( 'Remittance Agencies' );\n\t\tthis.navigation_label = $.i18n._( 'Remittance Agency' ) + ':';\n\t\tthis.api = TTAPI.APIPayrollRemittanceAgency;\n\t\tthis.company_api = TTAPI.APICompany;\n\t\tthis.date_api = TTAPI.APITTDate;\n\t\tthis.remittance_source_account_api = TTAPI.APIRemittanceSourceAccount;\n\n\t\tthis.render();\n\t\tthis.buildContextMenu();\n\n\t\tthis.initData();\n\t\tthis.setSelectRibbonMenuIfNecessary();\n\t}\n\n\t//Don't initOptions if edit_only_mode. Do it in sub views\n\tinitOptions( callback ) {\n\t\tvar $this = this;\n\t\tthis.initDropDownOption( 'status' );\n\t\tthis.initDropDownOption( 'type' );\n\t\tthis.initDropDownOption( 'country', 'country', this.company_api );\n\t\tthis.api.getOptions( 'always_week_day', {\n\t\t\tonResult: function( res ) {\n\t\t\t\tres = res.getResult();\n\t\t\t\t$this.always_week_day_array = Global.buildRecordArray( res );\n\t\t\t\tif ( typeof callback == 'function' ) {\n\t\t\t\t\tcallback( res ); // First to initialize drop down options, and then to initialize edit view UI.\n\t\t\t\t}\n\t\t\t}\n\t\t} );\n\t}\n\n\topenEditView( record_id ) {\n\n\t\tvar $this = this;\n\t\tif ( this.edit_only_mode ) {\n\n\t\t\tthis.initOptions( function( result ) {\n\t\t\t\tif ( !$this.edit_view ) {\n\t\t\t\t\t$this.initEditViewUI( $this.viewId, $this.edit_view_tpl );\n\t\t\t\t}\n\n\t\t\t\tvar filter = {};\n\t\t\t\tfilter.filter_data = { id: record_id };\n\n\t\t\t\t$this.api.getPayrollRemittanceAgency( filter, {\n\t\t\t\t\tonResult: function( result ) {\n\t\t\t\t\t\tresult = result.getResult()[0];\n\t\t\t\t\t\t//Error: Uncaught TypeError: Cannot read property 'user_id' of null in interface/html5/#!m=TimeSheet&date=20150915&user_id=42175&show_wage=0 line 79\n\t\t\t\t\t\tif ( !result ) {\n\t\t\t\t\t\t\tTAlertManager.showAlert( $.i18n._( 'Invalid agency id' ) );\n\t\t\t\t\t\t\t$this.onCancelClick();\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t// Waiting for the TTAPI.API returns data to set the current edit record.\n\t\t\t\t\t\t\t$this.current_edit_record = result;\n\n\t\t\t\t\t\t\t$this.initEditView();\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\t\t\t\t} );\n\t\t\t} );\n\t\t} else {\n\t\t\tsuper.openEditView();\n\t\t}\n\t}\n\n\tgetFilterColumnsFromDisplayColumns() {\n\t\tvar column_filter = {};\n\t\tcolumn_filter.is_owner = true;\n\t\tcolumn_filter.id = true;\n\t\tcolumn_filter.is_child = true;\n\t\tcolumn_filter.in_use = true;\n\t\tcolumn_filter.first_name = true;\n\t\tcolumn_filter.last_name = true;\n\t\tcolumn_filter.type_id = true;\n\t\tcolumn_filter.country = true;\n\t\tcolumn_filter.province = true;\n\t\tcolumn_filter.district = true;\n\n\t\t// Error: Unable to get property 'getGridParam' of undefined or null reference\n\t\tvar display_columns = [];\n\t\tif ( this.grid ) {\n\t\t\tdisplay_columns = this.grid.getGridParam( 'colModel' );\n\t\t}\n\t\t//Fixed possible exception -- Error: Unable to get property 'length' of undefined or null reference in /interface/html5/views/BaseViewController.js?v=7.4.3-20140924-090129 line 5031\n\t\tif ( display_columns ) {\n\t\t\tvar len = display_columns.length;\n\n\t\t\tfor ( var i = 0; i < len; i++ ) {\n\t\t\t\tvar column_info = display_columns[i];\n\t\t\t\tcolumn_filter[column_info.name] = true;\n\t\t\t}\n\t\t}\n\n\t\treturn column_filter;\n\t}\n\n\tonSetSearchFilterFinished() {\n\t\tvar combo;\n\t\tvar select_value;\n\t\tif ( this.search_panel.getSelectTabIndex() === 0 ) {\n\t\t\tcombo = this.basic_search_field_ui_dic['country'];\n\t\t\tselect_value = combo.getValue();\n\t\t\tthis.setProvince( select_value );\n\t\t} else if ( this.search_panel.getSelectTabIndex() === 1 ) {\n\t\t\tcombo = this.adv_search_field_ui_dic['country'];\n\t\t\tselect_value = combo.getValue();\n\t\t\tthis.setProvince( select_value );\n\t\t}\n\t}\n\n\tgetCustomContextMenuModel() {\n\t\tvar context_menu_model = {\n\t\t\texclude: [ContextMenuIconName.export_excel],\n\t\t\tinclude: []\n\t\t};\n\n\t\treturn context_menu_model;\n\t}\n\n\tonBuildAdvUIFinished() {\n\n\t\tthis.adv_search_field_ui_dic['country'].change( $.proxy( function() {\n\t\t\tvar combo = this.adv_search_field_ui_dic['country'];\n\t\t\tvar selectVal = combo.getValue();\n\n\t\t\tthis.setProvince( selectVal );\n\n\t\t\tthis.adv_search_field_ui_dic['province'].setValue( null );\n\n\t\t}, this ) );\n\t}\n\n\tonBuildBasicUIFinished() {\n\t\tthis.basic_search_field_ui_dic['country'].change( $.proxy( function() {\n\t\t\tvar combo = this.basic_search_field_ui_dic['country'];\n\t\t\tvar selectVal = combo.getValue();\n\n\t\t\tthis.setProvince( selectVal );\n\n\t\t\tthis.basic_search_field_ui_dic['province'].setValue( null );\n\n\t\t}, this ) );\n\t}\n\n\tonFormItemChange( target, doNotValidate ) {\n\t\tthis.setIsChanged( target );\n\t\tthis.setMassEditingFieldsWhenFormChange( target );\n\t\tvar key = target.getField();\n\t\tvar c_value = target.getValue();\n\n\t\tswitch ( key ) {\n\t\t\tcase 'country':\n\t\t\tcase 'province':\n\t\t\t\tif ( c_value.toString() === this.current_edit_record[key].toString() ) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase 'type_id':\n\t\t\t\tif ( c_value.toString() === this.current_edit_record[key].toString() ) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tthis.onTypeChange( c_value );\n\t\t\t\tbreak;\n\t\t\tcase 'agency_id':\n\t\t\t\tthis.onAgencyIdChange();\n\t\t\t\tbreak;\n\t\t}\n\n\t\tthis.current_edit_record[key] = c_value;\n\n\t\tif ( key === 'country' || key === 'type_id' || key === 'province' || key === 'district' ) {\n\n\t\t\tif ( key != 'province' ) {\n\t\t\t\tthis.detachElement( 'province' );\n\t\t\t\tthis.eSetProvince( this.current_edit_record['country'] );\n\t\t\t}\n\t\t\tif ( key != 'district' ) {\n\t\t\t\tthis.detachElement( 'district' );\n\t\t\t\tthis.setDistrict( this.current_edit_record['country'], this.current_edit_record['province'] );\n\t\t\t}\n\n\t\t\tthis.current_edit_record['type_id'] = this.edit_view_ui_dic['type_id'].getValue();\n\t\t\tthis.current_edit_record['country'] = this.edit_view_ui_dic['country'].getValue();\n\t\t\tthis.current_edit_record['province'] = this.edit_view_ui_dic['province'].getValue() ? this.edit_view_ui_dic['province'].getValue() : '00';\n\t\t\tthis.current_edit_record['district'] = this.edit_view_ui_dic['district'].getValue() ? this.edit_view_ui_dic['district'].getValue() : '00';\n\n\t\t\tthis.getAgencyOptions();\n\t\t}\n\n\t\tif ( key === 'legal_entity_id' ) {\n\t\t\tthis.getRemittanceSourceAccount();\n\t\t}\n\n\t\tif ( !doNotValidate ) {\n\t\t\tthis.validate();\n\t\t}\n\t}\n\n\tonAgencyIdChange() {\n\t\tvar id_field_array_api_params = { 'agency_id': this.edit_view_ui_dic.agency_id.getValue() };\n\t\tvar id_field_array = this.api.getOptions( 'agency_id_field_labels', id_field_array_api_params, { async: false } ).getResult();\n\n\t\tthis.detachElement( 'primary_identification' );\n\t\tthis.detachElement( 'secondary_identification' );\n\t\tthis.detachElement( 'tertiary_identification' );\n\n\t\tfor ( var key in id_field_array ) {\n\t\t\tthis.attachElement( key );\n\t\t\tthis.edit_view_form_item_dic[key].find( '.edit-view-form-item-label' ).text( id_field_array[key] + ': ' );\n\t\t}\n\t\tthis.editFieldResize();\n\t}\n\n\tgetAgencyOptions() {\n\t\tvar params = {\n\t\t\t'type_id': this.current_edit_record['type_id'],\n\t\t\t'country': this.current_edit_record['country'],\n\t\t\t'province': this.current_edit_record['province'],\n\t\t\t'district': this.current_edit_record['district']\n\t\t};\n\t\tvar $this = this;\n\t\tthis.api.getOptions( 'agency', params, {\n\t\t\tasync: false,\n\t\t\tonResult: function( res ) {\n\t\t\t\tvar result = res.getResult();\n\t\t\t\tif ( !result ) {\n\t\t\t\t\tresult = [];\n\t\t\t\t}\n\t\t\t\t$this.agency_array = Global.buildRecordArray( result );\n\n\t\t\t\tif ( Global.isSet( $this.basic_search_field_ui_dic['agency_id'] ) ) {\n\t\t\t\t\t$this.basic_search_field_ui_dic['agency_id'].setSourceData( Global.buildRecordArray( result ) );\n\t\t\t\t}\n\n\t\t\t\tif ( Global.isSet( $this.adv_search_field_ui_dic['agency_id'] ) ) {\n\t\t\t\t\t$this.adv_search_field_ui_dic['agency_id'].setSourceData( Global.buildRecordArray( result ) );\n\t\t\t\t}\n\n\t\t\t\t$this.edit_view_ui_dic['agency_id'].setSourceData( $this.agency_array );\n\t\t\t\tif ( $this.current_edit_record['agency_id'] && res[$this.current_edit_record['agency_id']] ) {\n\t\t\t\t\t$this.edit_view_ui_dic['agency_id'].setValue( $this.current_edit_record['agency_id'] );\n\t\t\t\t} else {\n\t\t\t\t\t$this.current_edit_record['agency_id'] = $this.edit_view_ui_dic['agency_id'].getValue();\n\t\t\t\t}\n\t\t\t\t$this.onAgencyIdChange();\n\t\t\t}\n\t\t} );\n\t}\n\n\tgetRemittanceSourceAccount() {\n\t\tvar $this = this;\n\n\t\tvar legal_entity_id = this.edit_view_ui_dic['legal_entity_id'].getValue();\n\n\t\tif ( !Global.isSet( legal_entity_id ) || Global.isFalseOrNull( legal_entity_id ) ) {\n\t\t\tlegal_entity_id = this.current_edit_record['legal_entity_id'];\n\t\t}\n\n\t\tif ( TTUUID.isUUID( legal_entity_id ) ) {\n\t\t\tvar source_account_args = {};\n\t\t\tsource_account_args.filter_data = {};\n\t\t\tsource_account_args.filter_data.legal_entity_id = legal_entity_id;\n\t\t\tsource_account_args.filter_columns = {};\n\t\t\tsource_account_args.filter_columns.id = true;\n\t\t\tsource_account_args.filter_columns.name = true;\n\n\t\t\t$this.remittance_source_account_api.getRemittanceSourceAccount( source_account_args, {\n\t\t\t\tonResult: function( result ) {\n\t\t\t\t\tresult = result.getResult();\n\t\t\t\t\t$this.remittance_source_account_array = result;\n\t\t\t\t\t$this.edit_view_ui_dic['remittance_source_account_id'].setSourceData( result );\n\t\t\t\t}\n\t\t\t} );\n\t\t}\n\t}\n\n\tonTypeChange( arg ) {\n\t\tif ( !Global.isSet( arg ) || Global.isFalseOrNull( arg ) ) {\n\t\t\tif ( !Global.isSet( this.current_edit_record['type_id'] ) || Global.isFalseOrNull( this.current_edit_record['type_id'] ) ) {\n\t\t\t\tthis.current_edit_record['type_id'] = 10;\n\t\t\t}\n\t\t}\n\n\t\tthis.editFieldResize();\n\t}\n\n\tsetDistrict( c, p ) {\n\t\tvar $this = this;\n\n\t\tif ( this.edit_view_ui_dic.type_id.getValue() == 30 ) {\n\t\t\tthis.api.getDistrictOptions( c, p, {\n\t\t\t\tasync: false, onResult: function( res ) {\n\t\t\t\t\tres = res.getResult();\n\t\t\t\t\t//#2486 When there are no provinces for 3rd party agencies in countries outside those with scripted agencies, we must hide the field\n\t\t\t\t\tif ( Object.keys( res ).length == 0 || Object.keys( res ).length == 1 && res['00'] ) {\n\t\t\t\t\t\t$this.current_edit_record['district'] = '00';\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( !res ) {\n\t\t\t\t\t\tres = [];\n\t\t\t\t\t}\n\t\t\t\t\t$this.attachElement( 'district' );\n\n\t\t\t\t\tvar first_element = null;\n\t\t\t\t\tif ( res.length <= 1 ) {\n\t\t\t\t\t\tfirst_element = {\n\t\t\t\t\t\t\tlabel: '-- ' + $.i18n._( 'Other' ) + ' --',\n\t\t\t\t\t\t\tvalue: '00',\n\t\t\t\t\t\t\tfullValue: '00',\n\t\t\t\t\t\t\torderValue: -1,\n\t\t\t\t\t\t\tid: '00'\n\t\t\t\t\t\t};\n\t\t\t\t\t}\n\t\t\t\t\t$this.district_array = Global.buildRecordArray( res, first_element );\n\n\t\t\t\t\t$this.edit_view_ui_dic['district'].setSourceData( $this.district_array );\n\n\t\t\t\t\tif ( $this.current_edit_record['district'] && res[$this.current_edit_record['district']] ) {\n\t\t\t\t\t\t$this.edit_view_ui_dic['district'].setValue( $this.current_edit_record['district'] );\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tvar district = $this.edit_view_ui_dic['district'].getValue();\n\t\t\t\t\t\tif ( district == TTUUID.not_exist_id || district == TTUUID.zero_id || district == false || district == null ) {\n\t\t\t\t\t\t\tdistrict = '00';\n\t\t\t\t\t\t\t$this.edit_view_ui_dic['district'].setValue( district );\n\t\t\t\t\t\t}\n\t\t\t\t\t\t$this.current_edit_record['district'] = district;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} );\n\t\t} else {\n\t\t\t$this.current_edit_record['district'] = '00';\n\t\t\t$this.edit_view_ui_dic['district'].setValue( '00' );\n\t\t}\n\t}\n\n\tsetCurrentEditRecordData() {\n\t\t//Set current edit record data to all widgets\n\t\tfor ( var key in this.current_edit_record ) {\n\n\t\t\tif ( !this.current_edit_record.hasOwnProperty( key ) ) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tvar widget = this.edit_view_ui_dic[key];\n\t\t\tif ( Global.isSet( widget ) ) {\n\t\t\t\tswitch ( key ) {\n\t\t\t\t\tdefault:\n\t\t\t\t\t\twidget.setValue( this.current_edit_record[key] );\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\n\t\t\t}\n\t\t}\n\n\t\tthis.collectUIDataToCurrentEditRecord();\n\t\tthis.setEditViewDataDone();\n\t}\n\n\teSetProvince( val, refresh ) {\n\t\tvar $this = this;\n\n\t\tif ( this.edit_view_ui_dic.type_id.getValue() > 10 ) {\n\t\t\tthis.api.getProvinceOptions( val, {\n\t\t\t\tasync: false, onResult: function( result ) {\n\t\t\t\t\tresult = result.getResult();\n\n\t\t\t\t\tif ( !result ) {\n\t\t\t\t\t\tresult = [];\n\t\t\t\t\t}\n\n\t\t\t\t\t//#2486 When there are no provinces for 3rd party agencies in countries outside those with scripted agencies, we must hide the field\n\t\t\t\t\tif ( $this.edit_view_ui_dic.type_id.getValue() < 20 || ( Object.keys( result ).length == 0 || Object.keys( result ).length == 1 && result['00'] ) ) {\n\t\t\t\t\t\t$this.current_edit_record['province'] = '00';\n\t\t\t\t\t\t//Field stays hidden. value is set to '00'\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\t$this.attachElement( 'province' );\n\n\t\t\t\t\tvar first_element = null;\n\t\t\t\t\tif ( result.length <= 1 ) {\n\t\t\t\t\t\tfirst_element = {\n\t\t\t\t\t\t\tlabel: '-- ' + $.i18n._( 'Other' ) + ' --',\n\t\t\t\t\t\t\tvalue: '00',\n\t\t\t\t\t\t\tfullValue: '00',\n\t\t\t\t\t\t\torderValue: -1,\n\t\t\t\t\t\t\tid: '00'\n\t\t\t\t\t\t};\n\t\t\t\t\t}\n\t\t\t\t\t$this.province_array = Global.buildRecordArray( result, first_element );\n\t\t\t\t\t$this.edit_view_ui_dic['province'].setSourceData( $this.province_array );\n\n\t\t\t\t\tif ( $this.current_edit_record['province'] && Global.isSet( result[$this.current_edit_record['province']] ) ) {\n\t\t\t\t\t\t$this.edit_view_ui_dic['province'].setValue( $this.current_edit_record['province'] );\n\t\t\t\t\t} else {\n\t\t\t\t\t\tvar province = $this.edit_view_ui_dic['province'].getValue();\n\t\t\t\t\t\tif ( province == TTUUID.not_exist_id || province == TTUUID.zero_id || province == false || province == null ) {\n\t\t\t\t\t\t\tprovince = '00';\n\t\t\t\t\t\t}\n\t\t\t\t\t\t$this.current_edit_record['province'] = province;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\t\t\t} );\n\t\t} else {\n\t\t\t$this.current_edit_record['province'] = '00';\n\t\t\t$this.edit_view_ui_dic['province'].setValue( '00 ' );\n\t\t}\n\t}\n\n\tsetEditViewDataDone() {\n\t\tsuper.setEditViewDataDone();\n\t\tthis.onTypeChange();\n\n\t\tthis.detachElement( 'province' );\n\t\tthis.detachElement( 'district' );\n\t\tthis.eSetProvince( this.current_edit_record['country'] );\n\t\tthis.setDistrict( this.current_edit_record['country'], this.current_edit_record['province'] );\n\n\t\tthis.getAgencyOptions();\n\t}\n\n\tbuildEditViewUI() {\n\t\tsuper.buildEditViewUI();\n\n\t\tvar $this = this;\n\n\t\tvar tab_model = {\n\t\t\t'tab_payroll_remittance_agency': { 'label': $.i18n._( 'Remittance Agency' ) },\n\t\t\t'tab_payroll_remittance_agency_event': {\n\t\t\t\t'label': $.i18n._( 'Events' ),\n\t\t\t\t'init_callback': 'initSubEventView',\n\t\t\t\t'display_on_mass_edit': false\n\t\t\t},\n\t\t\t'tab_audit': true,\n\t\t};\n\t\tthis.setTabModel( tab_model );\n\n\t\tif ( this.navigation ) {\n\t\t\tthis.navigation.AComboBox( {\n\t\t\t\tapi_class: TTAPI.APIPayrollRemittanceAgency,\n\t\t\t\tid: this.script_name + '_navigation',\n\t\t\t\tallow_multiple_selection: false,\n\t\t\t\tlayout_name: 'global_payroll_remittance_agency',\n\t\t\t\tnavigation_mode: true,\n\t\t\t\tshow_search_inputs: true\n\t\t\t} );\n\t\t\tthis.setNavigation();\n\t\t}\n\n\t\tvar tab_payroll_remittance_agency = this.edit_view_tab.find( '#tab_payroll_remittance_agency' );\n\t\tvar tab_payroll_remittance_agency_column1 = tab_payroll_remittance_agency.find( '.first-column' );\n\t\tvar tab_payroll_remittance_agency_column2 = tab_payroll_remittance_agency.find( '.second-column' );\n\n\t\tthis.edit_view_tabs[0] = [];\n\n\t\tthis.edit_view_tabs[0].push( tab_payroll_remittance_agency_column1 );\n\t\tthis.edit_view_tabs[0].push( tab_payroll_remittance_agency_column2 );\n\n\t\t// tab_employee_contact column1\n\n\t\t// Legal Entity\n\t\tvar form_item_input = Global.loadWidgetByName( FormItemType.AWESOME_BOX );\n\t\tform_item_input.AComboBox( {\n\t\t\tapi_class: TTAPI.APILegalEntity,\n\t\t\tallow_multiple_selection: false,\n\t\t\tlayout_name: 'global_legal_entity',\n\t\t\tfield: 'legal_entity_id',\n\t\t\tset_empty: true,\n\t\t\tshow_search_inputs: true\n\t\t} );\n\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Legal Entity' ), form_item_input, tab_payroll_remittance_agency_column1, '' );\n\n\t\t// Status\n\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.COMBO_BOX );\n\t\tform_item_input.TComboBox( {\n\t\t\tfield: 'status_id'\n\t\t} );\n\t\tform_item_input.setSourceData( $this.status_array );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Status' ), form_item_input, tab_payroll_remittance_agency_column1 );\n\n\t\t// Name\n\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.TEXT_INPUT );\n\t\tform_item_input.TTextInput( { field: 'name', width: '100%' } );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Name' ), form_item_input, tab_payroll_remittance_agency_column1 );\n\t\tform_item_input.parent().width( '45%' );\n\n\t\t// Description\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.TEXT_AREA );\n\t\tform_item_input.TTextArea( { field: 'description', width: '100%' } );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Description' ), form_item_input, tab_payroll_remittance_agency_column1 );\n\t\tform_item_input.parent().width( '45%' );\n\n\t\t// Type\n\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.COMBO_BOX );\n\t\tform_item_input.TComboBox( {\n\t\t\tfield: 'type_id'\n\t\t} );\n\t\tform_item_input.setSourceData( $this.type_array );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Type' ), form_item_input, tab_payroll_remittance_agency_column1 );\n\n\t\t// Country\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.COMBO_BOX );\n\t\tform_item_input.TComboBox( {\n\t\t\tset_empty: false,\n\t\t\tfield: 'country'\n\t\t} );\n\t\tform_item_input.setSourceData( $this.country_array );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Country' ), form_item_input, tab_payroll_remittance_agency_column1 );\n\n\t\t// Province/State\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.COMBO_BOX );\n\t\tform_item_input.TComboBox( {\n\t\t\tset_empty: false,\n\t\t\tfield: 'province'\n\t\t} );\n\t\tform_item_input.setSourceData( [] );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Province/State' ), form_item_input, tab_payroll_remittance_agency_column1, '', null, true );\n\n\t\t// District\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.COMBO_BOX );\n\t\tform_item_input.TComboBox( {\n\t\t\tset_empty: false,\n\t\t\tfield: 'district'\n\t\t} );\n\t\tform_item_input.setSourceData( [] );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'District' ), form_item_input, tab_payroll_remittance_agency_column1, '', null, true );\n\n\t\t// Agency\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.COMBO_BOX );\n\t\tform_item_input.TComboBox( {\n\t\t\tset_empty: false,\n\t\t\tfield: 'agency_id'\n\t\t} );\n\t\tform_item_input.setSourceData( [] );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Agency' ), form_item_input, tab_payroll_remittance_agency_column1 );\n\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.TEXT_INPUT );\n\t\tform_item_input.TTextInput( { field: 'primary_identification', width: 200 } );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Primary Identification' ), form_item_input, tab_payroll_remittance_agency_column1, '', null, true );\n\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.TEXT_INPUT );\n\t\tform_item_input.TTextInput( { field: 'secondary_identification', width: 200 } );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Secondary Identification' ), form_item_input, tab_payroll_remittance_agency_column1, '', null, true );\n\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.TEXT_INPUT );\n\t\tform_item_input.TTextInput( { field: 'tertiary_identification', width: 200 } );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Tertiary Identification' ), form_item_input, tab_payroll_remittance_agency_column1, '', null, true );\n\n\t\t//prevent flashing province and district on addclick.\n\t\tthis.detachElement( 'primary_identification' );\n\t\tthis.detachElement( 'secondary_identification' );\n\t\tthis.detachElement( 'tertiary_identification' );\n\n\t\t// column2\n\n\t\t// Start Date\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.DATE_PICKER );\n\t\tform_item_input.TDatePicker( {\n\t\t\tfield: 'start_date'\n\t\t} );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Start Date' ), form_item_input, tab_payroll_remittance_agency_column2 );\n\n\t\t// Start Date\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.DATE_PICKER );\n\t\tform_item_input.TDatePicker( {\n\t\t\tfield: 'end_date'\n\t\t} );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'End Date' ), form_item_input, tab_payroll_remittance_agency_column2 );\n\n\t\t// Contact\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.AWESOME_BOX );\n\t\tform_item_input.AComboBox( {\n\t\t\tapi_class: TTAPI.APIUser,\n\t\t\tallow_multiple_selection: false,\n\t\t\tlayout_name: 'global_user',\n\t\t\tfield: 'contact_user_id',\n\t\t\tset_empty: true,\n\t\t\tshow_search_inputs: true\n\t\t} );\n\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Contact' ), form_item_input, tab_payroll_remittance_agency_column2, '' );\n\n\t\t// Remittance Source Account\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.AWESOME_BOX );\n\t\tform_item_input.AComboBox( {\n\t\t\tapi_class: TTAPI.APIRemittanceSourceAccount,\n\t\t\tallow_multiple_selection: false,\n\t\t\tlayout_name: 'global_remittance_source_account',\n\t\t\tfield: 'remittance_source_account_id',\n\t\t\tset_empty: true,\n\t\t\tshow_search_inputs: true\n\t\t} );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Remittance Source Account' ), form_item_input, tab_payroll_remittance_agency_column2, '' );\n\n\t\t// Always On Business Day\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.COMBO_BOX );\n\t\tform_item_input.TComboBox( { field: 'always_week_day_id' } );\n\t\tform_item_input.setSourceData( this.always_week_day_array );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Events Always On Business Day' ), form_item_input, tab_payroll_remittance_agency_column2 );\n\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.AWESOME_BOX );\n\t\tform_item_input.AComboBox( {\n\t\t\tapi_class: TTAPI.APIRecurringHoliday,\n\t\t\tallow_multiple_selection: true,\n\t\t\tlayout_name: 'global_recurring_holiday',\n\t\t\tshow_search_inputs: true,\n\t\t\tset_empty: true,\n\t\t\tfield: 'recurring_holiday_policy_id'\n\t\t} );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Recurring Holidays' ), form_item_input, tab_payroll_remittance_agency_column2 );\n\n\t\t//prevent flashing province and district on addclick.\n\t\tthis.detachElement( 'province' );\n\t\tthis.detachElement( 'district' );\n\t}\n\n\tsetProvince( val, m ) {\n\t\tvar $this = this;\n\n\t\tif ( !val || val === TTUUID.not_exist_id || val === TTUUID.zero_id ) {\n\t\t\t$this.province_array = [];\n\t\t\tthis.adv_search_field_ui_dic['province'].setSourceData( [] );\n\t\t\tthis.basic_search_field_ui_dic['province'].setSourceData( [] );\n\n\t\t} else {\n\t\t\tthis.company_api.getOptions( 'province', val, {\n\t\t\t\tasync: false,\n\t\t\t\tonResult: function( res ) {\n\t\t\t\t\tres = res.getResult();\n\t\t\t\t\tif ( !res ) {\n\t\t\t\t\t\tres = [];\n\t\t\t\t\t}\n\n\t\t\t\t\t$this.province_array = Global.buildRecordArray( res, {\n\t\t\t\t\t\tlabel: '-- ' + $.i18n._( 'Other' ) + ' --',\n\t\t\t\t\t\tvalue: '00',\n\t\t\t\t\t\tfullValue: '00',\n\t\t\t\t\t\torderValue: -1,\n\t\t\t\t\t\tid: '00'\n\t\t\t\t\t} );\n\t\t\t\t\t$this.adv_search_field_ui_dic['province'].setSourceData( $this.province_array );\n\t\t\t\t\t$this.basic_search_field_ui_dic['province'].setSourceData( $this.province_array );\n\n\t\t\t\t}\n\t\t\t} );\n\t\t}\n\t}\n\n\tbuildSearchFields() {\n\n\t\tsuper.buildSearchFields();\n\t\tthis.search_fields = [\n\t\t\tnew SearchField( {\n\t\t\t\tlabel: $.i18n._( 'Legal Entity' ),\n\t\t\t\tin_column: 1,\n\t\t\t\tfield: 'legal_entity_id',\n\t\t\t\tlayout_name: 'global_legal_entity',\n\t\t\t\tapi_class: TTAPI.APILegalEntity,\n\t\t\t\tmultiple: true,\n\t\t\t\tbasic_search: true,\n\t\t\t\tadv_search: true,\n\t\t\t\tscript_name: 'LegalEntityView',\n\t\t\t\tform_item_type: FormItemType.AWESOME_BOX\n\t\t\t} ),\n\t\t\tnew SearchField( {\n\t\t\t\tlabel: $.i18n._( 'Status' ),\n\t\t\t\tin_column: 1,\n\t\t\t\tfield: 'status_id',\n\t\t\t\tmultiple: true,\n\t\t\t\tbasic_search: true,\n\t\t\t\tadv_search: true,\n\t\t\t\tlayout_name: 'global_option_column',\n\t\t\t\tform_item_type: FormItemType.AWESOME_BOX\n\t\t\t} ),\n\t\t\tnew SearchField( {\n\t\t\t\tlabel: $.i18n._( 'Name' ),\n\t\t\t\tin_column: 1,\n\t\t\t\tfield: 'name',\n\t\t\t\tmultiple: true,\n\t\t\t\tbasic_search: true,\n\t\t\t\tadv_search: true,\n\t\t\t\tform_item_type: FormItemType.TEXT_INPUT\n\t\t\t} ),\n\t\t\tnew SearchField( {\n\t\t\t\tlabel: $.i18n._( 'Country' ),\n\t\t\t\tin_column: 2,\n\t\t\t\tfield: 'country',\n\t\t\t\tmultiple: true,\n\t\t\t\tbasic_search: true,\n\t\t\t\tadv_search: true,\n\t\t\t\tlayout_name: 'global_option_column',\n\t\t\t\tform_item_type: FormItemType.COMBO_BOX\n\t\t\t} ),\n\t\t\tnew SearchField( {\n\t\t\t\tlabel: $.i18n._( 'Province/State' ),\n\t\t\t\tin_column: 2,\n\t\t\t\tfield: 'province',\n\t\t\t\tmultiple: true,\n\t\t\t\tbasic_search: true,\n\t\t\t\tadv_search: true,\n\t\t\t\tlayout_name: 'global_option_column',\n\t\t\t\tform_item_type: FormItemType.AWESOME_BOX\n\t\t\t} ),\n\t\t\tnew SearchField( {\n\t\t\t\tlabel: $.i18n._( 'Created By' ),\n\t\t\t\tin_column: 3,\n\t\t\t\tfield: 'created_by',\n\t\t\t\tlayout_name: 'global_user',\n\t\t\t\tapi_class: TTAPI.APIUser,\n\t\t\t\tmultiple: true,\n\t\t\t\tbasic_search: false,\n\t\t\t\tadv_search: true,\n\t\t\t\tscript_name: 'EmployeeView',\n\t\t\t\tform_item_type: FormItemType.AWESOME_BOX\n\t\t\t} ),\n\n\t\t\tnew SearchField( {\n\t\t\t\tlabel: $.i18n._( 'Updated By' ),\n\t\t\t\tin_column: 3,\n\t\t\t\tfield: 'updated_by',\n\t\t\t\tlayout_name: 'global_user',\n\t\t\t\tapi_class: TTAPI.APIUser,\n\t\t\t\tmultiple: true,\n\t\t\t\tbasic_search: false,\n\t\t\t\tadv_search: true,\n\t\t\t\tscript_name: 'EmployeeView',\n\t\t\t\tform_item_type: FormItemType.AWESOME_BOX\n\t\t\t} )\n\n\t\t];\n\t}\n\n\tinitSubEventView() {\n\t\tvar $this = this;\n\n\t\tif ( !this.current_edit_record.id ) {\n\t\t\tTTPromise.resolve( 'BaseViewController', 'onTabShow' ); //Since search() isn't called in this case, and we just display the \"Please Save This Record ...\" message, resolve the promise.\n\t\t\treturn;\n\t\t}\n\n\t\tif ( this.sub_event_view_controller ) {\n\t\t\tthis.sub_event_view_controller.buildContextMenu( true );\n\t\t\tthis.sub_event_view_controller.setDefaultMenu();\n\t\t\t$this.sub_event_view_controller.parent_value = $this.current_edit_record.id;\n\t\t\t$this.sub_event_view_controller.parent_edit_record = $this.current_edit_record;\n\t\t\t$this.sub_event_view_controller.initData(); //Init data in this parent view\n\t\t\treturn;\n\t\t}\n\n\t\tGlobal.loadScript( 'views/company/payroll_remittance_agency/PayrollRemittanceAgencyEventViewController.js', function() {\n\t\t\tif ( !$this.edit_view_tab ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar tab_event = $this.edit_view_tab.find( '#tab_payroll_remittance_agency_event' );\n\t\t\tvar firstColumn = tab_event.find( '.first-column-sub-view' );\n\t\t\tGlobal.trackView( 'Sub' + 'PayrollRemittanceEvent' + 'View' );\n\t\t\tPayrollRemittanceAgencyEventViewController.loadSubView( firstColumn, beforeLoadView, afterLoadView );\n\n\t\t} );\n\n\t\tfunction beforeLoadView() {\n\n\t\t}\n\n\t\tfunction afterLoadView( subViewController ) {\n\n\t\t\t$this.sub_event_view_controller = subViewController;\n\t\t\t$this.sub_event_view_controller.parent_key = 'payroll_remittance_agency_id';\n\t\t\t$this.sub_event_view_controller.parent_value = $this.current_edit_record.id;\n\t\t\t$this.sub_event_view_controller.parent_edit_record = $this.current_edit_record;\n\t\t\t$this.sub_event_view_controller.parent_view_controller = $this;\n\t\t\t$this.sub_event_view_controller.postInit = function() {\n\t\t\t\tthis.initData();\n\t\t\t};\n\t\t}\n\t}\n\n\tonCancelClick() {\n\t\tsuper.onCancelClick();\n\t\tthis.sub_event_view_controller = null;\n\t}\n\n\tuniformVariable( data ) {\n\t\tif ( data ) {\n\t\t\tsuper.collectUIDataToCurrentEditRecord();\n\n\t\t\tif ( this.is_add ) {\n\t\t\t\tdata.id = false;\n\t\t\t}\n\n\t\t\tif ( this.is_mass_editing != true ) {\n\t\t\t\tdata.payroll_remittance_agency_id = this.parent_value;\n\n\t\t\t\tif ( data.type_id != 30 || data.district == TTUUID.not_exist_id || data.district == TTUUID.zero_id || data.district == false || data.district == null ) {\n\t\t\t\t\tdata.district = '00';\n\t\t\t\t}\n\n\t\t\t\tif ( data.type_id <= 10 || data.province == TTUUID.not_exist_id || data.province == TTUUID.zero_id || data.province == false || data.province == null ) {\n\t\t\t\t\tdata.province = '00';\n\t\t\t\t}\n\n\t\t\t\tvar agency_identifier = '0000';\n\t\t\t\tif ( data.agency_id ) {\n\t\t\t\t\tagency_identifier = data.agency_id.slice( -4 );\n\t\t\t\t}\n\t\t\t\tdata.agency_id = data.type_id + ':' + data.country + ':' + data.province + ':' + data.district + ':' + agency_identifier;\n\t\t\t}\n\t\t}\n\n\t\treturn data;\n\t}\n\n}\n"],"sourceRoot":""}