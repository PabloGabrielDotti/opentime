{"version":3,"sources":["webpack://timetrex/./interface/html5/global/widgets/awesomebox/ADropDown.js"],"names":["$","jQuery","fn","ADropDown","options","start","last","next","end","left_buttons_div","right_buttons_div","left_buttons_enable","right_buttons_enable","field","error_tip_box","box_width","quick_search_timer","opts","extend","defaults","unselect_grid","select_grid","total_display_span","static_source_data","id","key","parent_a_combo_box","a_dropdown_this","this","unselect_grid_header_array","select_grid_header_array","show_search_inputs","unselect_grid_search_map","select_grid_search_map","unselect_grid_sort_map","select_grid_sort_map","select_item","tree_mode","on_tree_grid_row_select","unselect_grid_last_row","select_grid_last_row","allow_multiple_selection","pager_data","paging_widget","real_selected_items","error_string","default_height","unselect_grid_no_result_box","select_grid_no_result_box","focus_in_select_grid","auto_sort","isChanged","api","column_editor","column_option_key","display_column_settings","quick_search_typed_keys","quick_search_dic","max_height","static_height","resize_grids","selectAllInGrid","target","deSelect","resetSelection","source_data","getGridParam","len","length","i","item","Global","isSet","grid","jqGrid","parents","prop","addCss","setIsChanged","val","unSelectAll","getFocusInSeletGrid","selectAll","gridScrollTop","parent","scrollTop","gridScrollDown","getBoxWidth","setErrorStyle","errStr","show","isWarning","addClass","showErrorTip","sec","loadWidgetByName","WidgetNamesDic","ERROR_TOOLTIP","ErrorTipBox","hasClass","hideErrorTip","remove","clearErrorStyle","removeClass","getField","setValue","setSelectGridData","getValue","getSelectItems","getSelectGridSortMap","getUnSelectGridSortMap","getUnSelectGridMap","getUnSelectGrid","getSelectGrid","getSelectGridMap","ids","select_items","push","collectUnselectGridColumns","columns","column_info","column_header","find","name","TGridHeader","column_model","bind","onUnSelectColumnHeaderClick","e","headerE","getAPI","metaKey","ctrlKey","buildSortCondition","setCachedSortFilter","setGridHeaderStyle","onADropDownSearch","reset","targetName","sort_map","nextSort","found","sortItem","headerArray","tGridHeader","getColumnModel","cleanSortStyle","sortArrayLen","j","sortField","getFirstKeyFromObject","setSortStyle","collectSelectGridColumns","onSelectColumnHeaderClick","setCachedSelectedGridSortFilter","setSelectItem","target_grid","content","temp_val","content_key","content_id_key","focus","setTotalDisplaySpan","getUnSelectGridData","getSelectItem","retval","isArray","Array","setRealSelectItems","all_records","selected_ids","TTUUID","zero_id","n","indexOf","getAllowMultipleSelection","getResizeGrids","setResizeGrids","setGridColumnsWidths","getTreeMode","setUnselectedGridData","reSetUnSelectGridTreeData","setData","setUnSelectGridDragAble","setGridsHeight","primary_grid","secondary_grid","p_data","getData","s_data","temp","max_grid_width","bodyWidth","offset","left","default_width","setGridColumnsWidth","colModel","width","total_headers_width","widthOrg","setGridWidth","resizeUnSelectSearchInputs","resizeSelectSearchInputs","getPagerData","setPagerData","value","LocalCacheData","paging_type","css","append","click","$this","onPaging","is_last_page","last_page_number","is_first_page","scroll_position","col_model","is","TTGrid","attr","container_selector","altRows","datastr","datatype","sortable","onResizeGrid","colNames","rowNum","ondblClickRow","onUnSelectGridDoubleClick","gridview","treeGrid","treeGridModel","treedatatype","ExpandColumn","multiselect","multiselectPosition","winMultiSelect","onCellSelect","k","el","convertToNumberIfPossible","each","index","currently_collapsing_navigation_tree_element","trigger","beforeSelectRow","iRow","$td","closest","iCol","cellIndex","p","cm","jsonReader","repeatitems","root","obj","page","total","records","setGridHeight","top_offset","top","bottom_offset","bodyHeight","new_height","getStaticSourceData","source_height","setPosition","onTreeCellFormat","cell_value","related_data","row","selected_items","m","setColumns","a","resizable","unselect_grid_search_div","select_grid_search_div","gridWidth","tree_columns","_","map","clone","formatter","maxHeight","onUnSelectGridSelectRow","onSelectRow","data","keep_scroll_place","multiboxonly","viewrecords","editurl","resizeStop","buildUnSelectSearchInputs","onSelectGridDoubleClick","buildSelectSearchInputs","search_div","first_column_width","search_input_array","header","search_input","getWidth","on","preventDefault","ASearchInput","setFilter","searchVal","setCachedSelectGridSearchInputsFilter","close_btn","getRealImagePath","prepend","clearValue","search_inputs","unselect_grid_width","unselect_grid_search_div_width","outer_box_width","inner_box_width","max_width","newWidth","setCachedSearchInputsFilter","setSelectGridSearchResult","slice","searchResult","formatGridData","key_name","Object","prototype","toString","call","tmp_select_items","all_columns_len","all_columns","selectItemLen","fromAllColumn","hasOwnProperty","splice","setSelectGridDragAble","setUnSelectGridHighlight","array","showNoResultCover","removeNoResultCover","grid_div","no_result_box","NO_RESULT_BOX","NoResultBox","related_view_controller","setSelectGridHighlight","highlight_Rows","trs","unbind","event","container","clone_row","children","eq","i18n","originalEvent","dataTransfer","setDragImage","stopPropagation","grid_selected_id_array","moveItems","$$this","selectRow","parent_grid_container","firstTr","rows","target_row_index","drag_item_index","rowIndex","insertAfter","itemLabel","innerHTML","index1","value1","rowLabel","totalInfo","totalRows","unselect_grid_length","total_rows","current_page","rows_per_page","selected_count","text","left_to_right","target_row_id","editable_unselect_items","tr_id","saveRow","editable_select_items","moved_items_array","source_grid","target_data","reverse","selected_item_id","from_all_columns_item","target_data_len","y","addRowData","unshift","updateRealSelectItemsIfNecessary","moved_items","current_items_in_selected_grid","setHeight","height","edit_icon_div","edit_icon","setLabels","unselected_items_label","un_deselect_all_btn","unselect_all_btn","un_clear_btn","show_all_check_box_label","selectedItemsLabel","delete_all_btn","select_all_btn","clear_btn","selectNextItem","next_index","keyCode","clearTimeout","focus_target","setTimeout","KEYCODES","which","td","search_index","tds","filter","toLowerCase","next_select_item","grid_data","z","getItemByIndex","o","meta","search_input_filter","select_grid_search_input_filter","default_sort_filter","default_select_grid_sort_filter","PAGING","select_grid_div","left_and_right_div","selected_items_label","allow_drag_to_order","display_show_all","show_all_check_box","show_all","undefined","show_all_checked","checked","onShowAll","comboBox","getEnabled","getOptions","onResult","columns_result","loadWidget","ColumnEditor","parent_awesome_box","columns_result_data","getResult","setAllColumns","buildColumnArray","setDisplayColumnsForEditor","buildDisplayColumnsForEditor","hide","unselect_grid_data","sortname","right_arrow","left_arrow","un_deselect_all_Btn","cleanAllInGrid","select_grid_close_btn","unselect_grid_close_btn","finalArray","clearGridData","concat","display_close_btn"],"mappings":"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","file":"awesomebox-ADropDown.bundle.js?v=425c6760ccb9de84ca93","sourcesContent":["( function( $ ) {\n\n\t$.fn.ADropDown = function( options ) {\n\t\tvar opts = $.extend( {}, $.fn.ADropDown.defaults, options );\n\n\t\tvar unselect_grid = null;\n\n\t\tvar select_grid = null;\n\n\t\tvar total_display_span = null;\n\n\t\tvar static_source_data = null; //Always use this to help to set Select data\n\n\t\tvar id = null;\n\n\t\tvar key = 'id';\n\n\t\tvar parent_a_combo_box = null;\n\n\t\tvar a_dropdown_this = this;\n\n\t\tvar unselect_grid_header_array = [];\n\n\t\tvar select_grid_header_array = [];\n\n\t\tvar show_search_inputs = false;\n\n\t\tvar unselect_grid_search_map = null;\n\n\t\tvar select_grid_search_map = null;\n\n\t\tvar unselect_grid_sort_map = null;\n\n\t\tvar select_grid_sort_map = null;\n\n\t\tvar select_item = null;\n\n\t\tvar tree_mode = false;\n\n\t\tvar on_tree_grid_row_select = false; //#2566 - added select row callback so that trees can be used for edit-view navigation\n\n\t\tvar unselect_grid_last_row = '';\n\n\t\tvar select_grid_last_row = '';\n\n\t\tvar allow_multiple_selection = true;\n\n\t\tvar allow_drag_to_order = false;\n\n\t\tvar pager_data = null;\n\n\t\tvar paging_widget = null;\n\n\t\tvar real_selected_items = null; //Set this after search in select grid;\n\n\t\tvar start;\n\n\t\tvar last;\n\n\t\tvar next;\n\n\t\tvar end;\n\n\t\tvar paging_selector;\n\n\t\tvar left_buttons_div;\n\n\t\tvar right_buttons_div;\n\n\t\tvar left_buttons_enable;\n\n\t\tvar right_buttons_enable;\n\n\t\tvar field;\n\n\t\tvar error_tip_box;\n\n\t\tvar error_string = '';\n\n\t\tvar default_height = 150;\n\n\t\tvar unselect_grid_no_result_box = null;\n\n\t\tvar select_grid_no_result_box = null;\n\n\t\tvar box_width;\n\n\t\tvar focus_in_select_grid = false;\n\n\t\tvar auto_sort = false;\n\n\t\tvar isChanged = false;\n\n\t\tvar api = null; //Pass from owner\n\n\t\tvar column_editor = null;\n\n\t\tvar column_option_key = null;\n\n\t\tvar display_column_settings = true;\n\n\t\tvar quick_search_timer;\n\n\t\tvar quick_search_typed_keys = '';\n\n\t\tvar quick_search_dic = {};\n\n\t\tvar max_height = false;\n\t\tvar static_height = false;\n\n\t\tvar resize_grids = false;\n\n\t\t//Select all records in target grid\n\t\tvar selectAllInGrid = function( target, deSelect ) {\n\t\t\ttarget.resetSelection();\n\t\t\tif ( !deSelect ) {\n\t\t\t\tvar source_data = target.getGridParam( 'data' );\n\t\t\t\tvar len = source_data.length;\n\t\t\t\tfor ( var i = 0; i < len; i++ ) {\n\t\t\t\t\tvar item = source_data[i];\n\t\t\t\t\tif ( Global.isSet( item.id ) ) {\n\t\t\t\t\t\ttarget.grid.jqGrid( 'setSelection', item.id, false );\n\t\t\t\t\t} else {\n\t\t\t\t\t\ttarget.grid.jqGrid( 'setSelection', i + 1, false );\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\ttarget.grid.parents( '.cbox-header' ).prop( 'checked', true );\n\t\t\t}\n\t\t};\n\n\t\tGlobal.addCss( 'global/widgets/awesomebox/ADropDown.css' );\n\n\t\tthis.isChanged = function() {\n\t\t\treturn isChanged;\n\t\t};\n\n\t\tthis.setIsChanged = function( val ) {\n\t\t\tisChanged = val;\n\t\t};\n\n\t\tthis.unSelectAll = function( target ) {\n\t\t\tselectAllInGrid( target, true );\n\t\t};\n\n\t\tthis.getFocusInSeletGrid = function() {\n\t\t\treturn focus_in_select_grid;\n\t\t};\n\n\t\tthis.selectAll = function() {\n\n\t\t\tif ( focus_in_select_grid ) {\n\t\t\t\tselectAllInGrid( select_grid );\n\t\t\t} else {\n\t\t\t\tselectAllInGrid( unselect_grid );\n\t\t\t}\n\n\t\t};\n\n\t\tthis.gridScrollTop = function() {\n\n\t\t\tunselect_grid.grid.parent().parent().scrollTop( 0 );\n\t\t};\n\n\t\tthis.gridScrollDown = function() {\n\n\t\t\tunselect_grid.grid.parent().parent().scrollTop( 10000 );\n\t\t};\n\n\t\tthis.getBoxWidth = function() {\n\t\t\treturn box_width;\n\t\t};\n\n\t\tthis.setErrorStyle = function( errStr, show, isWarning ) {\n\t\t\tif ( isWarning ) {\n\t\t\t\t$( this ).addClass( 'warning-tip' );\n\t\t\t} else {\n\t\t\t\t$( this ).addClass( 'error-tip' );\n\t\t\t}\n\t\t\terror_string = errStr;\n\n\t\t\tif ( show ) {\n\t\t\t\tthis.showErrorTip();\n\t\t\t}\n\t\t};\n\n\t\tthis.showErrorTip = function( sec ) {\n\n\t\t\tif ( !Global.isSet( sec ) ) {\n\t\t\t\tsec = 2;\n\t\t\t}\n\n\t\t\tif ( !error_tip_box ) {\n\t\t\t\terror_tip_box = Global.loadWidgetByName( WidgetNamesDic.ERROR_TOOLTIP );\n\t\t\t\terror_tip_box = error_tip_box.ErrorTipBox();\n\t\t\t}\n\t\t\tif ( $( this ).hasClass( 'warning-tip' ) ) {\n\t\t\t\terror_tip_box.show( this, error_string, sec, true );\n\t\t\t} else {\n\t\t\t\terror_tip_box.show( this, error_string, sec );\n\t\t\t}\n\t\t};\n\n\t\tthis.hideErrorTip = function() {\n\n\t\t\tif ( Global.isSet( error_tip_box ) ) {\n\t\t\t\terror_tip_box.remove();\n\t\t\t}\n\n\t\t};\n\n\t\tthis.clearErrorStyle = function() {\n\t\t\t$( this ).removeClass( 'error-tip' );\n\t\t\t$( this ).removeClass( 'warning-tip' );\n\t\t\tthis.hideErrorTip();\n\t\t\terror_string = '';\n\t\t};\n\n\t\tthis.getField = function() {\n\t\t\treturn field;\n\t\t};\n\n\t\t// Must call after setUnSelectGridData\n\t\tthis.setValue = function( val ) {\n\t\t\tthis.setSelectGridData( val );\n\t\t};\n\n\t\tthis.getValue = function() {\n\t\t\treturn this.getSelectItems();\n\t\t};\n\n\t\tthis.getSelectGridSortMap = function() {\n\t\t\treturn select_grid_sort_map;\n\t\t};\n\n\t\tthis.getUnSelectGridSortMap = function() {\n\t\t\treturn unselect_grid_sort_map;\n\t\t};\n\n\t\tthis.getUnSelectGridMap = function() {\n\n\t\t\tif ( !unselect_grid_search_map ) {\n\t\t\t\tunselect_grid_search_map = {};\n\t\t\t}\n\n\t\t\treturn unselect_grid_search_map;\n\t\t};\n\n\t\tthis.getUnSelectGrid = function() {\n\t\t\treturn unselect_grid;\n\t\t};\n\n\t\tthis.getSelectGrid = function() {\n\t\t\treturn select_grid;\n\t\t};\n\n\t\tthis.getSelectGridMap = function() {\n\n\t\t\tif ( !select_grid_search_map ) {\n\t\t\t\tselect_grid_search_map = {};\n\t\t\t}\n\n\t\t\tvar ids = [];\n\t\t\tif ( allow_multiple_selection ) {\n\t\t\t\tvar select_items = a_dropdown_this.getSelectItems();\n\t\t\t\tfor ( var i = 0; i < select_items.length; i++ ) {\n\t\t\t\t\tids.push( select_items[i][key] );\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif ( ids.length > 0 ) {\n\t\t\t\tselect_grid_search_map.id = ids;\n\t\t\t} else {\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\treturn select_grid_search_map;\n\t\t};\n\n\t\tthis.collectUnselectGridColumns = function() {\n\t\t\tvar columns = unselect_grid.getGridParam( 'colModel' );\n\n\t\t\tvar len = ( ( columns ) ? columns.length : 0 );\n\n\t\t\tunselect_grid_header_array = [];\n\n\t\t\tfor ( var i = 0; i < len; i++ ) {\n\t\t\t\tvar column_info = columns[i];\n\t\t\t\tvar column_header = $( this ).find( 'div #jqgh_unselect_grid_' + id + '_' + column_info.name );\n\n\t\t\t\tunselect_grid_header_array.push( column_header.TGridHeader( { column_model: column_info } ) );\n\n\t\t\t\tcolumn_header.bind( 'headerClick', onUnSelectColumnHeaderClick );\n\t\t\t}\n\n\t\t\ta_dropdown_this.setGridHeaderStyle( 'unselect_grid' );\n\n\t\t\tfunction onUnSelectColumnHeaderClick( e, headerE, column_model ) {\n\n\t\t\t\t//Error: Uncaught TypeError: Cannot read property 'setCachedSortFilter' of null in /interface/html5/global/widgets/awesomebox/ADropDown.js?v=7.4.6-20141027-072624 line 286\n\t\t\t\tif ( !parent_a_combo_box || !parent_a_combo_box.getAPI() ) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tvar field = column_model.name;\n\n\t\t\t\tif ( field === 'cb' ) { //first column, check box column.\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tif ( headerE.metaKey || headerE.ctrlKey ) {\n\t\t\t\t\ta_dropdown_this.buildSortCondition( false, field, 'unselect_grid' );\n\t\t\t\t} else {\n\t\t\t\t\ta_dropdown_this.buildSortCondition( true, field, 'unselect_grid' );\n\n\t\t\t\t}\n\n\t\t\t\tparent_a_combo_box.setCachedSortFilter( unselect_grid_sort_map );\n\t\t\t\ta_dropdown_this.setGridHeaderStyle( 'unselect_grid' );\n\t\t\t\tparent_a_combo_box.onADropDownSearch( 'unselect_grid' );\n\n\t\t\t}\n\t\t};\n\n\t\tthis.buildSortCondition = function( reset, field, targetName ) {\n\n\t\t\tvar sort_map = null;\n\t\t\tvar nextSort = 'desc';\n\n\t\t\tif ( targetName === 'unselect_grid' ) {\n\t\t\t\tsort_map = unselect_grid_sort_map;\n\t\t\t} else {\n\t\t\t\tsort_map = select_grid_sort_map;\n\t\t\t}\n\n\t\t\tif ( reset ) {\n\n\t\t\t\tif ( sort_map && sort_map.length > 0 ) {\n\t\t\t\t\tvar len = sort_map.length;\n\t\t\t\t\tvar found = false;\n\t\t\t\t\tfor ( i = 0; i < len; i++ ) {\n\t\t\t\t\t\tvar sortItem = sort_map[i];\n\t\t\t\t\t\tfor ( var key in sortItem ) {\n\t\t\t\t\t\t\tif ( key === field ) {\n\t\t\t\t\t\t\t\tif ( sortItem[key] === 'asc' ) {\n\t\t\t\t\t\t\t\t\tnextSort = 'desc';\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tnextSort = 'asc';\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tfound = true;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif ( found ) {\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\tsort_map = [\n\t\t\t\t\t{}\n\t\t\t\t];\n\t\t\t\tsort_map[0][field] = nextSort;\n\n\t\t\t} else {\n\t\t\t\tif ( !sort_map ) {\n\t\t\t\t\tsort_map = [\n\t\t\t\t\t\t{}\n\t\t\t\t\t];\n\t\t\t\t\tsort_map[0][field] = 'desc';\n\t\t\t\t} else {\n\t\t\t\t\tlen = sort_map.length;\n\t\t\t\t\tfound = false;\n\t\t\t\t\tfor ( var i = 0; i < len; i++ ) {\n\t\t\t\t\t\tsortItem = sort_map[i];\n\t\t\t\t\t\tfor ( var key in sortItem ) {\n\t\t\t\t\t\t\tif ( key === field ) {\n\t\t\t\t\t\t\t\tif ( sortItem[key] === 'asc' ) {\n\t\t\t\t\t\t\t\t\tsortItem[key] = 'desc';\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tsortItem[key] = 'asc';\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tfound = true;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif ( found ) {\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( !found ) {\n\t\t\t\t\t\tsort_map.push( {} );\n\t\t\t\t\t\tsort_map[len][field] = 'desc';\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tif ( targetName === 'unselect_grid' ) {\n\t\t\t\tunselect_grid_sort_map = sort_map;\n\t\t\t} else {\n\t\t\t\tselect_grid_sort_map = sort_map;\n\t\t\t}\n\n\t\t};\n\n\t\tthis.setGridHeaderStyle = function( targetName ) {\n\n\t\t\tvar headerArray = [];\n\t\t\tvar sort_map = [];\n\n\t\t\tif ( targetName === 'unselect_grid' ) {\n\t\t\t\theaderArray = unselect_grid_header_array;\n\t\t\t\tsort_map = unselect_grid_sort_map;\n\t\t\t} else {\n\t\t\t\theaderArray = select_grid_header_array;\n\t\t\t\tsort_map = select_grid_sort_map;\n\t\t\t}\n\n\t\t\tvar len = headerArray.length;\n\n\t\t\tfor ( var i = 0; i < len; i++ ) {\n\t\t\t\tvar tGridHeader = headerArray[i];\n\t\t\t\tvar field = tGridHeader.getColumnModel().name;\n\n\t\t\t\ttGridHeader.cleanSortStyle();\n\n\t\t\t\tif ( sort_map ) {\n\t\t\t\t\tvar sortArrayLen = sort_map.length;\n\n\t\t\t\t\tfor ( var j = 0; j < sortArrayLen; j++ ) {\n\t\t\t\t\t\tvar sortItem = sort_map[j];\n\t\t\t\t\t\tvar sortField = Global.getFirstKeyFromObject( sortItem );\n\t\t\t\t\t\tif ( sortField === field ) {\n\n\t\t\t\t\t\t\tif ( sortArrayLen > 1 ) {\n\t\t\t\t\t\t\t\ttGridHeader.setSortStyle( sortItem[sortField], j + 1 );\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\ttGridHeader.setSortStyle( sortItem[sortField], 0 );\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t};\n\n\t\tthis.collectSelectGridColumns = function() {\n\t\t\tvar columns = select_grid.getGridParam( 'colModel' );\n\n\t\t\tvar len = ( ( columns ) ? columns.length : 0 );\n\n\t\t\tselect_grid_header_array = [];\n\n\t\t\tfor ( var i = 0; i < len; i++ ) {\n\t\t\t\tvar column_info = columns[i];\n\t\t\t\tvar column_header = $( this ).find( 'div #jqgh_select_grid_' + id + '_' + column_info.name );\n\n\t\t\t\tselect_grid_header_array.push( column_header.TGridHeader( { column_model: column_info } ) );\n\n\t\t\t\tcolumn_header.bind( 'headerClick', onSelectColumnHeaderClick );\n\n\t\t\t}\n\t\t\ta_dropdown_this.setGridHeaderStyle( 'select_grid' );\n\n\t\t\tfunction onSelectColumnHeaderClick( e, headerE, column_model ) {\n\n\t\t\t\tif ( !parent_a_combo_box || !parent_a_combo_box.getAPI() ) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tvar field = column_model.name;\n\n\t\t\t\tif ( field === 'cb' ) { //first column, check box column.\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tif ( headerE.metaKey || headerE.ctrlKey ) {\n\t\t\t\t\ta_dropdown_this.buildSortCondition( false, field, 'select_grid' );\n\t\t\t\t} else {\n\t\t\t\t\ta_dropdown_this.buildSortCondition( true, field, 'select_grid' );\n\n\t\t\t\t}\n\t\t\t\tparent_a_combo_box.setCachedSelectedGridSortFilter( select_grid_sort_map );\n\t\t\t\ta_dropdown_this.setGridHeaderStyle( 'select_grid' );\n\t\t\t\tparent_a_combo_box.onADropDownSearch( 'select_grid' );\n\n\t\t\t}\n\n\t\t};\n\n\t\t//HightLight select item in UnSelect grid when !allow_multiple_selection\n\t\tthis.setSelectItem = function( val, target_grid ) {\n\t\t\tif ( !target_grid ) {\n\t\t\t\ttarget_grid = unselect_grid;\n\t\t\t}\n\t\t\tvar source_data = target_grid.getGridParam( 'data' );\n\t\t\tval && ( select_item = val );\n\t\t\tif ( source_data && source_data.length > 0 ) {\n\t\t\t\tfor ( var i = 0; i < source_data.length; i++ ) {\n\t\t\t\t\tvar content = source_data[i];\n\t\t\t\t\tvar temp_val = val;\n\t\t\t\t\t!val && ( temp_val = source_data[0] );\n\n\t\t\t\t\tvar content_key = key;\n\t\t\t\t\tif ( tree_mode && key == 'id' ) {\n\t\t\t\t\t\tcontent_key = '_id_';\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( content[content_key] == temp_val[key] ) {  //Some times 0, sometimes '0'\n\n\t\t\t\t\t\tvar content_id_key = 'id';\n\t\t\t\t\t\tif ( tree_mode ) {\n\t\t\t\t\t\t\tcontent_id_key = '_id_';\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t//Always use id to set select row, all record array should have id\n\t\t\t\t\t\ttarget_grid.grid.find( 'tr[id=\"' + content[content_id_key] + '\"]' ).focus();\n\t\t\t\t\t\tif ( target_grid.grid.hasClass( 'unselect-grid' ) ) {\n\t\t\t\t\t\t\tif ( unselect_grid_last_row ) {\n\t\t\t\t\t\t\t\ttarget_grid.grid.jqGrid( 'saveRow', unselect_grid_last_row );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tunselect_grid_last_row = content[content_id_key];\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tif ( select_grid_last_row ) {\n\t\t\t\t\t\t\t\ttarget_grid.grid.jqGrid( 'saveRow', select_grid_last_row );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tselect_grid_last_row = content[content_id_key];\n\t\t\t\t\t\t}\n\t\t\t\t\t\ttarget_grid.grid.jqGrid( 'setSelection', content[content_id_key], false );\n\t\t\t\t\t\ttarget_grid.grid.jqGrid( 'editRow', content[content_id_key], true );\n\t\t\t\t\t\tval && ( select_item = content );\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tthis.setTotalDisplaySpan();\n\t\t\t}\n\t\t};\n\n\t\tthis.getUnSelectGridData = function() {\n\t\t\treturn unselect_grid.getGridParam( 'data' );\n\t\t};\n\n\t\tthis.getSelectItem = function() {\n\t\t\treturn select_item;\n\t\t};\n\n\t\tthis.getSelectItems = function() {\n\t\t\t//Save last edit row if there is editable row in grid cell;\n\t\t\tif ( unselect_grid_last_row.length > 0 ) {\n\t\t\t\tunselect_grid.grid.jqGrid( 'saveRow', unselect_grid_last_row );\n\t\t\t\tunselect_grid_last_row = '';\n\t\t\t}\n\n\t\t\tif ( select_grid_last_row.length > 0 ) {\n\t\t\t\tselect_grid.grid.jqGrid( 'saveRow', select_grid_last_row );\n\t\t\t\tselect_grid_last_row = '';\n\t\t\t}\n\n\t\t\tvar retval = null;\n\t\t\tif ( show_search_inputs && real_selected_items && real_selected_items.length > 0 ) {\n\t\t\t\tretval = real_selected_items;\n\t\t\t} else {\n\t\t\t\tretval = select_grid.getGridParam( 'data' ); //Set this when setSelectGridItems\n\t\t\t}\n\n\t\t\t//Make sure we never return null, and always at least an empty array. This helps prevent JS excptions when we run .length on the return value.\n\t\t\tif ( Global.isArray( retval ) == false ) {\n\t\t\t\treturn Array();\n\t\t\t}\n\n\t\t\treturn retval;\n\t\t};\n\n\t\tthis.setRealSelectItems = function( all_records, selected_ids ) {\n\t\t\treal_selected_items = [];\n\t\t\tif ( selected_ids != TTUUID.zero_id && selected_ids.length > 0 ) {\n\t\t\t\tfor ( var n = 0; n < all_records.length; n++ ) {\n\t\t\t\t\tif ( selected_ids.indexOf( all_records[n].id ) != -1 ) {\n\t\t\t\t\t\treal_selected_items.push( all_records[n] );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn real_selected_items;\n\t\t};\n\n\t\tthis.getAllowMultipleSelection = function() {\n\t\t\treturn allow_multiple_selection;\n\t\t};\n\n\t\tthis.getResizeGrids = function() {\n\t\t\treturn resize_grids;\n\t\t};\n\n\t\tthis.setResizeGrids = function( val ) {\n\t\t\tresize_grids = val;\n\t\t\tif ( val ) {\n\t\t\t\tthis.setGridColumnsWidths();\n\t\t\t}\n\t\t};\n\n\t\tthis.getTreeMode = function() {\n\t\t\treturn tree_mode;\n\t\t};\n\n\t\t//Must Set this after set Columns\n\t\tthis.setUnselectedGridData = function( val ) {\n\t\t\tstatic_source_data = val;\n\n\t\t\tif ( !tree_mode ) {\n\t\t\t\tunselect_grid.setData( val );\n\n\t\t\t\tthis.setTotalDisplaySpan();\n\n\t\t\t} else {\n\t\t\t\tthis.reSetUnSelectGridTreeData( val );\n\n\t\t\t}\n\n\t\t\tthis.setUnSelectGridDragAble();\n\n\t\t\tthis.setGridsHeight();\n\t\t};\n\n\t\t/**\n\t\t * This function calculates the optimal widths for awesomebox columns\n\t\t * and whether they should overflow or shrink to fit\n\t\t */\n\t\tthis.setGridColumnsWidths = function() {\n\t\t\tvar primary_grid = unselect_grid;\n\t\t\tvar secondary_grid = select_grid;\n\n\t\t\t//don't swap the grids. always size on left grid.\n\t\t\tvar p_data = primary_grid.getData();\n\t\t\tvar s_data = secondary_grid.getData();\n\t\t\tif ( s_data && s_data.length != 0 && p_data && p_data.length == 0 ) {\n\t\t\t\t//swap grids if no data in primary.\n\t\t\t\tvar temp = primary_grid;\n\t\t\t\tprimary_grid = secondary_grid;\n\t\t\t\tsecondary_grid = temp;\n\t\t\t}\n\n\t\t\t//Make sure what dropdown is expanded, we do not spill over the right edge of the browser causing scrollbars to appear.\n\t\t\tvar max_grid_width = ( ( ( ( Global.bodyWidth() - $( this ).offset().left ) - 100 ) / 2 ) );\n\n\t\t\tvar default_width = primary_grid.setGridColumnsWidth( null, { max_grid_width: max_grid_width } );\n\t\t\tvar colModel = primary_grid.getColumnModel();\n\n\t\t\tsecondary_grid.setGridColumnsWidth( colModel );\n\n\t\t\tvar width = 200;\n\t\t\tvar offset = 28;\n\t\t\t//awesomeboxes with more than 1 column need to adjust for td borders.\n\n\t\t\tvar total_headers_width = 0;\n\t\t\tif ( colModel ) {\n\t\t\t\tfor ( var i = 0; i < colModel.length; i++ ) {\n\t\t\t\t\ttotal_headers_width += colModel[i].widthOrg + 1; //collect the (calculated) column widths (+1 for border\n\t\t\t\t}\n\n\t\t\t\tif ( colModel[0].name == 'cb' ) {\n\t\t\t\t\toffset += 2;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif ( tree_mode ) {\n\t\t\t\toffset = 26;\n\t\t\t} else {\n\t\t\t\toffset = 22;\n\t\t\t}\n\n\t\t\t//only shrink smaller grids to fit container\n\t\t\tif ( total_headers_width <= ( width ) || colModel.length < 5 ) {\n\t\t\t\t//prevent resize on search.\n\t\t\t\twidth = primary_grid.grid.parents( '.unselect-grid-div, .select-grid-div' ).width() - offset;\n\t\t\t} else {\n\t\t\t\twidth = total_headers_width; //primary_grid.grid.parents( '.unselect-grid-div' ).width() - offset;\n\t\t\t\tif ( default_width > width ) {\n\t\t\t\t\twidth = default_width;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tprimary_grid.setGridWidth( width );\n\t\t\tsecondary_grid.setGridWidth( width );\n\n\t\t\tthis.resizeUnSelectSearchInputs();\n\t\t\tthis.resizeSelectSearchInputs();\n\t\t};\n\n\t\tthis.getPagerData = function() {\n\t\t\treturn pager_data;\n\t\t};\n\n\t\t//Always setPager data no matter static options or api.\n\t\tthis.setPagerData = function( value ) {\n\n\t\t\tpager_data = value;\n\n\t\t\tif ( LocalCacheData.paging_type === 0 ) {\n\t\t\t\tif ( paging_widget.parent().length > 0 ) {\n\t\t\t\t\tpaging_widget.remove();\n\t\t\t\t}\n\n\t\t\t\tpaging_widget.css( 'width', unselect_grid.width() );\n\t\t\t\tunselect_grid.append( paging_widget );\n\n\t\t\t\tpaging_widget.click( function() {\n\t\t\t\t\t$this.onPaging();\n\t\t\t\t} );\n\n\t\t\t\tif ( !pager_data || pager_data.is_last_page || pager_data.last_page_number < 0 ) {\n\t\t\t\t\tpaging_widget.css( 'display', 'none' );\n\t\t\t\t} else {\n\t\t\t\t\tpaging_widget.css( 'display', 'inline-block' );\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\tif ( !pager_data || pager_data.last_page_number < 0 ) {\n\t\t\t\t\tleft_buttons_div.css( 'display', 'none' );\n\t\t\t\t\tright_buttons_div.css( 'display', 'none' );\n\n\t\t\t\t} else {\n\t\t\t\t\tleft_buttons_div.css( 'display', 'inline-block' );\n\t\t\t\t\tright_buttons_div.css( 'display', 'inline-block' );\n\n\t\t\t\t\tif ( pager_data.is_last_page === true ) {\n\t\t\t\t\t\tright_buttons_div.addClass( 'disabled' );\n\t\t\t\t\t\tright_buttons_div.addClass( 'disabled-image' );\n\t\t\t\t\t\tright_buttons_enable = false;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tright_buttons_div.removeClass( 'disabled' );\n\t\t\t\t\t\tright_buttons_div.removeClass( 'disabled-image' );\n\t\t\t\t\t\tright_buttons_enable = true;\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( pager_data.is_first_page ) {\n\t\t\t\t\t\tleft_buttons_div.addClass( 'disabled' );\n\t\t\t\t\t\tleft_buttons_div.addClass( 'disabled-image' );\n\t\t\t\t\t\tleft_buttons_enable = false;\n\n\t\t\t\t\t} else {\n\t\t\t\t\t\tleft_buttons_div.removeClass( 'disabled' );\n\t\t\t\t\t\tleft_buttons_div.removeClass( 'disabled-image' );\n\t\t\t\t\t\tleft_buttons_enable = true;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\ta_dropdown_this.setTotalDisplaySpan();\n\t\t};\n\n\t\tthis.onPaging = function() {\n\t\t\tparent_a_combo_box.onADropDownSearch( 'unselect_grid', 'next' );\n\t\t};\n\n\t\tthis.reSetUnSelectGridTreeData = function( val ) {\n\t\t\tvar scroll_position = unselect_grid.grid.parent().parent().scrollTop();\n\t\t\tvar grid_data = unselect_grid.getData();\n\t\t\tif ( grid_data.length > 0 && val.length > 0 ) {\n\t\t\t\t//If in tree_mode, don't clear the unselected grid, since we just bold/unbold the selected items otherwise the \"tree\" layout would be lost.\n\t\t\t\tunselect_grid.setData( val, !tree_mode );\n\t\t\t} else {\n\t\t\t\tvar col_model = unselect_grid.getGridParam( 'colModel' );\n\n\t\t\t\tif ( !unselect_grid.grid.is( ':visible' ) ) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tunselect_grid.grid.jqGrid( 'GridUnload' );\n\t\t\t\tunselect_grid = $( this ).find( '.unselect-grid' );\n\t\t\t\tunselect_grid = unselect_grid.grid = new TTGrid( $( this ).find( '.unselect-grid' ).attr( 'id' ), {\n\t\t\t\t\tcontainer_selector: '.unselect-grid-div',\n\t\t\t\t\taltRows: true,\n\t\t\t\t\tdatastr: val,\n\t\t\t\t\tdatatype: 'jsonstring',\n\t\t\t\t\tsortable: false,\n\t\t\t\t\twidth: 440,\n\t\t\t\t\tonResizeGrid: resize_grids,\n\t\t\t\t\t//maxHeight: default_height,\n\t\t\t\t\tcolNames: [],\n\t\t\t\t\trowNum: 10000,\n\t\t\t\t\tcolModel: col_model,\n\t\t\t\t\tondblClickRow: a_dropdown_this.onUnSelectGridDoubleClick,\n\t\t\t\t\tgridview: true,\n\t\t\t\t\ttreeGrid: true,\n\t\t\t\t\ttreeGridModel: 'adjacency',\n\t\t\t\t\ttreedatatype: 'local',\n\t\t\t\t\tExpandColumn: 'name',\n\t\t\t\t\tmultiselect: allow_multiple_selection,\n\t\t\t\t\tmultiselectPosition: 'none',\n\t\t\t\t\twinMultiSelect: allow_multiple_selection,\n\t\t\t\t\tonCellSelect: function( id, k, el, e ) {\n\t\t\t\t\t\tif ( $( e.target ).prop( 'class' ).indexOf( 'ui-icon-triangle' ) != -1 ) {\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tid = Global.convertToNumberIfPossible( id );\n\n\t\t\t\t\t\tif ( !allow_multiple_selection ) {\n\t\t\t\t\t\t\tvar source_data = unselect_grid.getGridParam( 'data' );\n\t\t\t\t\t\t\t$.each( source_data, function( index, content ) {\n\t\t\t\t\t\t\t\tif ( tree_mode && key == 'id' ) {\n\t\t\t\t\t\t\t\t\tkey = '_id_';\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tif ( content[key] == id ) {\n\t\t\t\t\t\t\t\t\tselect_item = content;\n\t\t\t\t\t\t\t\t\tisChanged = true;\n\t\t\t\t\t\t\t\t\tif ( !LocalCacheData.currently_collapsing_navigation_tree_element ) { //#2583 - must allow null or false\n\t\t\t\t\t\t\t\t\t\ta_dropdown_this.trigger( 'close', [a_dropdown_this] );\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif ( on_tree_grid_row_select ) {\n\t\t\t\t\t\t\ton_tree_grid_row_select( id, LocalCacheData.currently_collapsing_navigation_tree_element );\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tbeforeSelectRow: function( iRow, e ) {\n\t\t\t\t\t\tvar $td = $( e.target ).closest( 'tr.jqgrow>td' ),\n\t\t\t\t\t\t\tiCol = $td.length > 0 ? $td[0].cellIndex : -1,\n\t\t\t\t\t\t\tp = $( this ).jqGrid( 'getGridParam' ),\n\t\t\t\t\t\t\tcm = iCol >= 0 ? p.colModel[iCol] : null;\n\n\t\t\t\t\t\tif ( cm != null && cm.name === p.ExpandColumn &&\n\t\t\t\t\t\t\t$( e.target ).closest( '.tree-wrap' ).length > 0 ) {\n\n\t\t\t\t\t\t\treturn false; // prevent row selection\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t},\n\t\t\t\t\tjsonReader: {\n\t\t\t\t\t\trepeatitems: false,\n\t\t\t\t\t\troot: function( obj ) {\n\t\t\t\t\t\t\treturn obj;\n\t\t\t\t\t\t},\n\t\t\t\t\t\tpage: function( obj ) {\n\t\t\t\t\t\t\treturn 1;\n\t\t\t\t\t\t},\n\t\t\t\t\t\ttotal: function( obj ) {\n\t\t\t\t\t\t\treturn 1;\n\t\t\t\t\t\t},\n\t\t\t\t\t\trecords: function( obj ) {\n\t\t\t\t\t\t\treturn obj.length;\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tonResizeGrid: resize_grids\n\t\t\t\t}, col_model );\n\t\t\t}\n\t\t\tscroll_position > 0 && unselect_grid.grid.parent().parent().scrollTop( scroll_position );\n\t\t\tthis.setGridsHeight();\n\n\t\t\tvar select_items = this.getSelectItems();\n\t\t\t$( this ).find( 'tr' ).removeClass( 'selected-tree-cell' );\n\t\t\tfor ( var i = ( select_items.length - 1 ); i >= 0; i-- ) {\n\t\t\t\t$( this ).find( '.unselect-grid-div' ).find( 'tr#' + select_items[i].id ).addClass( 'selected-tree-cell' );\n\t\t\t}\n\t\t};\n\n\t\tthis.setGridsHeight = function() {\n\t\t\t//Calculate the max possible size of awesomebox.\n\n\t\t\tif ( static_height ) {\n\t\t\t\tunselect_grid.grid.setGridHeight( static_height );\n\t\t\t\tif ( allow_multiple_selection ) {\n\t\t\t\t\tselect_grid.grid.setGridHeight( static_height );\n\t\t\t\t}\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif ( !parent_a_combo_box ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar top_offset = parent_a_combo_box.offset().top;\n\t\t\tvar bottom_offset = Global.bodyHeight() - top_offset - 30;\n\t\t\tvar new_height = top_offset > bottom_offset ? top_offset : bottom_offset;\n\n\t\t\tnew_height = new_height - 130;\n\n\t\t\tvar source_data = parent_a_combo_box.getStaticSourceData();\n\n\t\t\tif ( !source_data ) {\n\t\t\t\tnew_height = default_height;\n\t\t\t} else {\n\t\t\t\tvar source_height = source_data.length * 23;\n\n\t\t\t\tif ( source_height < default_height ) {\n\t\t\t\t\tnew_height = default_height;\n\t\t\t\t} else if ( source_height > default_height && source_height < new_height ) {\n\t\t\t\t\tnew_height = source_height;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif ( max_height && max_height < new_height ) {\n\t\t\t\tnew_height = max_height;\n\t\t\t}\n\n\t\t\tunselect_grid.grid.setGridHeight( new_height );\n\t\t\tif ( allow_multiple_selection ) {\n\t\t\t\tselect_grid.grid.setGridHeight( new_height );\n\t\t\t}\n\n\t\t\tthis.setPosition( top_offset, new_height );\n\n\t\t};\n\n\t\tthis.setPosition = function( top_offset, new_height ) {\n\n\t\t\tif ( top_offset + new_height + 130 < Global.bodyHeight() ) {\n\t\t\t\ta_dropdown_this.parent().css( 'top', top_offset + 25 );\n\t\t\t} else {\n\n\t\t\t\tif ( new_height != default_height ) {\n\t\t\t\t\ta_dropdown_this.parent().css( 'top', ( top_offset - new_height - 125 ) );\n\t\t\t\t} else {\n\t\t\t\t\ta_dropdown_this.parent().css( 'top', ( top_offset - new_height - 125 ) );\n\t\t\t\t}\n\n\t\t\t}\n\t\t};\n\n\t\tthis.onTreeCellFormat = function( cell_value, related_data, row ) {\n\t\t\tvar selected_items = a_dropdown_this.getSelectItems();\n\t\t\tfor ( var i = 0, m = selected_items.length; i < m; i++ ) {\n\t\t\t\tvar item = selected_items[i];\n\t\t\t\tif ( item.name === cell_value ) {\n\t\t\t\t\treturn '<span class=\"selected-tree-cell\">' + cell_value + '</span>';\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn cell_value;\n\t\t};\n\n\t\t//Do this before set data\n\t\tthis.setColumns = function( val ) {\n\n\t\t\tfor ( var a = 0; a < val.length; a++ ) {\n\t\t\t\tval[a].resizable = false;\n\t\t\t}\n\n\t\t\tunselect_grid.grid.jqGrid( 'GridUnload' );\n\t\t\tunselect_grid = $( this ).find( '.unselect-grid' );\n\t\t\tunselect_grid.getGridParam();\n\t\t\tvar unselect_grid_search_div = $( this ).find( '.unselect-grid-search-div' );\n\t\t\tvar select_grid_search_div = $( this ).find( '.select-grid-search-div' );\n\n\t\t\tvar gridWidth = $( '.unselect-grid-border-div' ).width() - 2; // single-column width\n\t\t\tif ( show_search_inputs ) {\n\t\t\t\tgridWidth -= 15;\n\t\t\t}\n\n\t\t\tgridWidth = val.length * 125;\n\t\t\tif ( gridWidth < 438 ) {\n\t\t\t\tbox_width = gridWidth = 438;\n\t\t\t}\n\t\t\tif ( val.length > 1 ) {\n\n\t\t\t\tbox_width = gridWidth;\n\t\t\t\tif ( allow_multiple_selection && gridWidth > ( Global.bodyWidth() / 2 - 30 - 15 ) ) {\n\t\t\t\t\tbox_width = ( Global.bodyWidth() / 2 - 30 - 15 );\n\t\t\t\t} else if ( !allow_multiple_selection && gridWidth > ( Global.bodyWidth() - 30 - 15 ) ) {\n\t\t\t\t\tbox_width = ( Global.bodyWidth() - 30 - 15 );\n\t\t\t\t}\n\n\t\t\t\tthis.find( '.unselect-grid-div' ).width( null );\n\t\t\t\tthis.find( '.unselect-grid-border-div' ).width( null );\n\n\t\t\t\tthis.find( '.select-grid-div' ).width( null );\n\t\t\t\tthis.find( '.select-grid-border-div' ).width( null );\n\n\t\t\t\tif ( show_search_inputs ) {\n\t\t\t\t\tunselect_grid_search_div.css( 'width', null );\n\t\t\t\t\tselect_grid_search_div.css( 'width', null );\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tbox_width = gridWidth;\n\t\t\t}\n\n\t\t\tif ( !tree_mode ) {\n\t\t\t\tunselect_grid = new TTGrid( $( unselect_grid ).attr( 'id' ), {\n\t\t\t\t\tcontainer_selector: '.unselect-grid-div',\n\t\t\t\t\taltRows: true,\n\t\t\t\t\tdata: [],\n\t\t\t\t\tdatatype: 'local',\n\t\t\t\t\tsortable: false,\n\t\t\t\t\twidth: gridWidth,\n\t\t\t\t\t//maxHeight: default_height,\n\t\t\t\t\tcolNames: [],\n\t\t\t\t\trowNum: 10000,\n\t\t\t\t\tkeep_scroll_place: true,\n\t\t\t\t\tondblClickRow: a_dropdown_this.onUnSelectGridDoubleClick,\n\t\t\t\t\tcolModel: val,\n\t\t\t\t\tmultiselect: allow_multiple_selection,\n\t\t\t\t\tmultiboxonly: allow_multiple_selection,\n\t\t\t\t\tviewrecords: true,\n\t\t\t\t\tediturl: 'clientArray',\n\t\t\t\t\tresizeStop: function() {\n\t\t\t\t\t\ta_dropdown_this.resizeUnSelectSearchInputs();\n\t\t\t\t\t},\n\t\t\t\t\tonCellSelect: function( id ) {\n\t\t\t\t\t\tid = Global.convertToNumberIfPossible( id );\n\n\t\t\t\t\t\tif ( !allow_multiple_selection ) {\n\n\t\t\t\t\t\t\tvar source_data = unselect_grid.getGridParam( 'data' );\n\n\t\t\t\t\t\t\t$.each( source_data, function( index, content ) {\n\n\t\t\t\t\t\t\t\tif ( key !== 'id' ) {\n\t\t\t\t\t\t\t\t\tif ( content['id'] == id ) {\n\t\t\t\t\t\t\t\t\t\tselect_item = content;\n\t\t\t\t\t\t\t\t\t\tisChanged = true;\n\t\t\t\t\t\t\t\t\t\ta_dropdown_this.trigger( 'close', [a_dropdown_this] );\n\t\t\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tif ( content[key] == id ) {\n\t\t\t\t\t\t\t\t\t\tselect_item = content;\n\t\t\t\t\t\t\t\t\t\tisChanged = true;\n\t\t\t\t\t\t\t\t\t\ta_dropdown_this.trigger( 'close', [a_dropdown_this] );\n\t\t\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t} );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif ( unselect_grid_last_row ) {\n\t\t\t\t\t\t\tunselect_grid.grid.jqGrid( 'saveRow', unselect_grid_last_row );\n\t\t\t\t\t\t}\n\t\t\t\t\t\tunselect_grid.grid.jqGrid( 'editRow', id, true );\n\t\t\t\t\t\tunselect_grid_last_row = id;\n\n\t\t\t\t\t\ta_dropdown_this.setTotalDisplaySpan();\n\n\t\t\t\t\t\tfunction getSelectValue() {\n\t\t\t\t\t\t\tvar len = source_data.length;\n\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tonResizeGrid: resize_grids\n\t\t\t\t}, val );\n\n\t\t\t} else {\n\t\t\t\tif ( tree_mode ) {\n\t\t\t\t\tvar tree_columns = _.map( val, _.clone );\n\t\t\t\t\t_.map( tree_columns, function( item ) {\n\t\t\t\t\t\titem.formatter = a_dropdown_this.onTreeCellFormat;\n\t\t\t\t\t} );\n\t\t\t\t}\n\t\t\t\tunselect_grid = new TTGrid( $( unselect_grid ).attr( 'id' ), {\n\t\t\t\t\tcontainer_selector: '.unselect-grid-div',\n\t\t\t\t\taltRows: true,\n\t\t\t\t\tdatastr: [],\n\t\t\t\t\tdatatype: 'jsonstring',\n\t\t\t\t\tsortable: false,\n\t\t\t\t\twidth: gridWidth,\n\t\t\t\t\tmaxHeight: default_height,\n\t\t\t\t\tcolNames: [],\n\t\t\t\t\trowNum: 10000,\n\t\t\t\t\tcolModel: tree_columns,\n\t\t\t\t\tondblClickRow: a_dropdown_this.onUnSelectGridDoubleClick,\n\t\t\t\t\tonCellSelect: function() {\n\t\t\t\t\t\ta_dropdown_this.onUnSelectGridSelectRow();\n\t\t\t\t\t},\n\t\t\t\t\tgridview: true,\n\t\t\t\t\ttreeGrid: true,\n\t\t\t\t\ttreeGridModel: 'adjacency',\n\t\t\t\t\ttreedatatype: 'local',\n\t\t\t\t\tExpandColumn: 'name',\n\t\t\t\t\tmultiselect: false, //allow_multiple_selection,\n\n\t\t\t\t\tjsonReader: {\n\t\t\t\t\t\trepeatitems: false,\n\t\t\t\t\t\troot: function( obj ) {\n\t\t\t\t\t\t\treturn obj;\n\t\t\t\t\t\t},\n\t\t\t\t\t\tpage: function( obj ) {\n\t\t\t\t\t\t\treturn 1;\n\t\t\t\t\t\t},\n\t\t\t\t\t\ttotal: function( obj ) {\n\t\t\t\t\t\t\treturn 1;\n\t\t\t\t\t\t},\n\t\t\t\t\t\trecords: function( obj ) {\n\t\t\t\t\t\t\treturn obj.length;\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\n\t\t\t\t\tonSelectRow: function( id ) {\n\t\t\t\t\t\tif ( on_tree_grid_row_select ) {\n\t\t\t\t\t\t\ton_tree_grid_row_select( id );\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tid = Global.convertToNumberIfPossible( id );\n\n\t\t\t\t\t},\n\n\t\t\t\t\tonResizeGrid: resize_grids\n\t\t\t\t}, tree_columns );\n\t\t\t}\n\n\t\t\tthis.collectUnselectGridColumns(); //Make each column as THeader plugin and save them\n\n\t\t\tif ( show_search_inputs && parent_a_combo_box.getAPI() ) {\n\t\t\t\tthis.buildUnSelectSearchInputs(); //Build search input above columns\n\t\t\t}\n\n\t\t\tselect_grid.grid.jqGrid( 'GridUnload' );\n\t\t\tselect_grid = $( this ).find( '.select-grid' );\n\t\t\tselect_grid = new TTGrid( $( select_grid ).attr( 'id' ), {\n\t\t\t\tcontainer_selector: '.select-grid-div',\n\t\t\t\taltRows: true,\n\t\t\t\tdata: [],\n\t\t\t\tdatatype: 'local',\n\t\t\t\tsortable: false,\n\t\t\t\twidth: gridWidth,\n\t\t\t\t//maxHeight: default_height,\n\t\t\t\tcolNames: [],\n\t\t\t\trowNum: 10000,\n\t\t\t\tondblClickRow: this.onSelectGridDoubleClick,\n\t\t\t\tcolModel: val,\n\t\t\t\tmultiselect: allow_multiple_selection,\n\t\t\t\tmultiboxonly: allow_multiple_selection,\n\t\t\t\tviewrecords: true,\n\t\t\t\tkeep_scroll_place: true,\n\t\t\t\tresizeStop: function() {\n\t\t\t\t\ta_dropdown_this.resizeSelectSearchInputs();\n\t\t\t\t},\n\t\t\t\tonCellSelect: function( id ) {\n\t\t\t\t\tif ( id ) {\n\n\t\t\t\t\t\tif ( select_grid_last_row ) {\n\t\t\t\t\t\t\tselect_grid.grid.jqGrid( 'saveRow', select_grid_last_row );\n\t\t\t\t\t\t}\n\t\t\t\t\t\tselect_grid.grid.jqGrid( 'editRow', id, true );\n\t\t\t\t\t\tselect_grid_last_row = id;\n\t\t\t\t\t}\n\n\t\t\t\t},\n\t\t\t\tonResizeGrid: resize_grids\n\t\t\t}, val );\n\n\t\t\tthis.collectSelectGridColumns(); //Make each column as THeader plugin and save them\n\t\t\tif ( show_search_inputs && parent_a_combo_box.getAPI() ) {\n\t\t\t\tthis.buildSelectSearchInputs(); //Build search input above columns\n\t\t\t}\n\n\t\t};\n\n\t\tthis.buildSelectSearchInputs = function() {\n\t\t\tvar len = select_grid_header_array.length;\n\n\t\t\tvar search_div = $( this ).find( '.select-grid-search-div' );\n\t\t\tvar first_column_width = 0;\n\t\t\tvar search_input_array = [];\n\t\t\tfor ( var i = 0; i < len; i++ ) {\n\t\t\t\tvar header = select_grid_header_array[i];\n\n\t\t\t\tif ( i === 0 ) {\n\t\t\t\t\tfirst_column_width = header.getWidth();\n\t\t\t\t\tcontinue;\n\t\t\t\t} else if ( allow_multiple_selection && i === 1 ) {\n\t\t\t\t\tvar search_input = $( '<input type=\\'text\\' class=\\'search-input\\'>' );\n\t\t\t\t\tsearch_input.css( 'width', header.getWidth() + first_column_width );\n\t\t\t\t} else {\n\t\t\t\t\tsearch_input = $( '<input type=\\'text\\' class=\\'search-input\\'>' );\n\t\t\t\t\tsearch_input.css( 'width', header.getWidth() );\n\t\t\t\t}\n\n\t\t\t\tsearch_input.on( 'drop', function( e ) {\n\t\t\t\t\te.preventDefault();\n\t\t\t\t} );\n\n\t\t\t\tsearch_input.ASearchInput( { column_model: header.getColumnModel() } ); //Make it as ASearchInout Widget;\n\n\t\t\t\tsearch_div.append( search_input );\n\t\t\t\tsearch_input_array.push( search_input );\n\t\t\t\t//Set cached seach_input data back, usually in navigation_mode\n\t\t\t\tif ( select_grid_search_map ) {\n\t\t\t\t\tsearch_input.setFilter( select_grid_search_map );\n\n\t\t\t\t}\n\n\t\t\t\tsearch_input.bind( 'searchEnter', function( e, searchVal, field ) {\n\n\t\t\t\t\tif ( a_dropdown_this.getValue().length < 1 ) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( !select_grid_search_map ) {\n\t\t\t\t\t\tselect_grid_search_map = {};\n\t\t\t\t\t}\n\n\t\t\t\t\tdelete select_grid_search_map.id;\n\n\t\t\t\t\tif ( !searchVal ) {\n\t\t\t\t\t\tdelete select_grid_search_map[field];\n\t\t\t\t\t} else {\n\t\t\t\t\t\tselect_grid_search_map[field] = searchVal;\n\t\t\t\t\t}\n\n\t\t\t\t\tparent_a_combo_box.setCachedSelectGridSearchInputsFilter( Global.clone( select_grid_search_map ) );\n\n\t\t\t\t\tparent_a_combo_box.onADropDownSearch();\n\t\t\t\t} );\n\n\t\t\t}\n\n\t\t\tvar close_btn = $( '<button class=\"close-btn\"><img src=\"' + Global.getRealImagePath( 'images/close.png' ) + '\"></img></button>' );\n\n\t\t\t//close_btn.width( unselect_grid_header_array[0].getWidth() + 2 );\n\t\t\t//close_btn.width( 22 );\n\t\t\tsearch_div.prepend( close_btn );\n\t\t\tvar $this = this;\n\t\t\tclose_btn.click( function() { //clear search inputs for select box\n\t\t\t\tselect_grid_search_map = {};\n\t\t\t\tparent_a_combo_box.setCachedSelectGridSearchInputsFilter( select_grid_search_map );\n\t\t\t\tparent_a_combo_box.onADropDownSearch();\n\n\t\t\t\tfor ( var i = 0; i < search_input_array.length; i++ ) {\n\t\t\t\t\tvar s_i = search_input_array[i];\n\t\t\t\t\ts_i.clearValue();\n\t\t\t\t}\n\t\t\t} );\n\t\t};\n\n\t\tthis.resizeUnSelectSearchInputs = function() {\n\t\t\tvar search_div = $( this ).find( '.unselect-grid-search-div' );\n\n\t\t\tvar search_inputs = search_div.find( '.search-input' );\n\t\t\tvar first_column_width;\n\t\t\tvar unselect_grid_search_div = $( this ).find( '.unselect-grid-search-div' );\n\n\t\t\tvar len = search_inputs.length;\n\t\t\tvar header;\n\t\t\tvar search_input;\n\t\t\tif ( allow_multiple_selection ) {\n\t\t\t\tfirst_column_width = unselect_grid_header_array[0].width();\n\n\t\t\t\tif ( len == 1 ) {\n\t\t\t\t\theader = unselect_grid_header_array[1];\n\t\t\t\t\tsearch_input = $( search_inputs[0] );\n\t\t\t\t\tsearch_input.css( 'width', header.getWidth() );\n\t\t\t\t} else {\n\t\t\t\t\tfor ( var i = 0; i < len; i++ ) {\n\t\t\t\t\t\theader = unselect_grid_header_array[i + 1];\n\t\t\t\t\t\tsearch_input = $( search_inputs[i] );\n\t\t\t\t\t\tif ( i == ( len - 1 ) ) {\n\t\t\t\t\t\t\tsearch_input.css( 'width', header.getWidth() );\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tsearch_input.css( 'width', header.getWidth() + 1 );\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tfor ( i = 0; i < len; i++ ) {\n\t\t\t\t\theader = unselect_grid_header_array[i];\n\t\t\t\t\tsearch_input = $( search_inputs[i] );\n\t\t\t\t\tif ( i === 0 ) {\n\t\t\t\t\t\tsearch_input.css( 'width', header.getWidth() - 22 );\n\t\t\t\t\t} else if ( i == ( len - 1 ) ) {\n\t\t\t\t\t\tsearch_input.css( 'width', header.getWidth() + 1 );\n\t\t\t\t\t} else {\n\t\t\t\t\t\tsearch_input.css( 'width', header.getWidth() + 1 );\n\t\t\t\t\t}\n\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tvar unselect_grid_width = unselect_grid.grid.parents( '.ui-jqgrid-jquery-ui' ).width() ? unselect_grid.grid.parent().parent().width() : 100;\n\t\t\tunselect_grid.setGridWidth( unselect_grid_width );\n\t\t\t//var unselect_grid_width = unselect_grid.getWidth();\n\t\t\tvar unselect_grid_search_div_width = unselect_grid_width;\n\t\t\tif ( tree_mode ) {\n\t\t\t\tunselect_grid_width = unselect_grid.getWidth();\n\t\t\t}\n\n\t\t\tvar outer_box_width = unselect_grid_width + 22;\n\t\t\tvar inner_box_width = unselect_grid_width + 4;\n\t\t\tvar max_width = ( $( 'body' ).width() - 30 );\n\t\t\tif ( allow_multiple_selection ) {\n\t\t\t\tmax_width = ( ( $( 'body' ).width() / 2 ) - 30 );\n\t\t\t}\n\n\t\t\tif ( outer_box_width > max_width ) {\n\t\t\t\touter_box_width = max_width;\n\t\t\t\tinner_box_width = max_width - 17;\n\t\t\t}\n\n\t\t\tunselect_grid.grid.parents( '.unselect-grid-div' ).css( 'width', outer_box_width ); //outer blue box width\n\t\t\tunselect_grid.grid.parents( '.unselect-grid-border-div' ).css( 'width', inner_box_width ); //red border div.\n\t\t\tunselect_grid_search_div.css( 'width', unselect_grid_search_div_width );\n\t\t};\n\n\t\tthis.resizeSelectSearchInputs = function() {\n\t\t\tvar search_div = $( this ).find( '.select-grid-search-div' );\n\n\t\t\tvar search_inputs = search_div.find( '.search-input' );\n\t\t\tvar first_column_width;\n\t\t\tvar select_grid_search_div = $( this ).find( '.select-grid-search-div' );\n\n\t\t\tvar len = search_inputs.length;\n\n\t\t\tfirst_column_width = select_grid_header_array[0].width() + 5;\n\t\t\tif ( len == 1 ) {\n\t\t\t\theader = unselect_grid_header_array[1];\n\t\t\t\tsearch_input = $( search_inputs[0] );\n\t\t\t\tsearch_input.css( 'width', header.getWidth() );\n\t\t\t} else {\n\t\t\t\tfor ( var i = 0; i < len; i++ ) {\n\t\t\t\t\tvar header = select_grid_header_array[i + 1];\n\t\t\t\t\tvar search_input = $( search_inputs[i] );\n\t\t\t\t\tif ( i == ( len - 1 ) ) {\n\t\t\t\t\t\tsearch_input.css( 'width', header.getWidth() );\n\t\t\t\t\t} else {\n\t\t\t\t\t\tsearch_input.css( 'width', header.getWidth() + 1 );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tvar newWidth = select_grid.grid.parents( '.ui-jqgrid-jquery-ui' ).width() ? select_grid.grid.parent().parent().width() : 100;\n\t\t\tselect_grid.setGridWidth( newWidth );\n\n\t\t\tvar outer_box_width = newWidth + 22;\n\t\t\tvar inner_box_width = newWidth + 4;\n\n\t\t\tvar max_width = ( ( $( 'body' ).width() / 2 ) - 30 );\n\n\t\t\tif ( outer_box_width > max_width ) {\n\t\t\t\touter_box_width = max_width;\n\t\t\t\tinner_box_width = max_width - 17;\n\t\t\t}\n\n\t\t\tselect_grid.grid.parents( '.select-grid-div' ).css( 'width', outer_box_width ); //outer blue box width\n\t\t\tselect_grid.grid.parents( '.select-grid-border-div' ).css( 'width', inner_box_width ); //red border div.\n\t\t\tselect_grid_search_div.css( 'width', newWidth );\n\t\t};\n\n\t\tthis.buildUnSelectSearchInputs = function() {\n\t\t\tvar len = unselect_grid_header_array.length;\n\n\t\t\tvar search_div = $( this ).find( '.unselect-grid-search-div' );\n\t\t\tvar first_column_width = 0;\n\t\t\tvar search_input_array = [];\n\t\t\tfor ( var i = 0; i < len; i++ ) {\n\t\t\t\tvar header = unselect_grid_header_array[i];\n\n\t\t\t\tif ( allow_multiple_selection && i === 0 ) {\n\t\t\t\t\tfirst_column_width = header.getWidth();\n\t\t\t\t\tcontinue;\n\t\t\t\t} else if ( allow_multiple_selection && i === 1 ) {\n\t\t\t\t\tvar search_input = $( '<input type=\\'text\\' class=\\'search-input unselect-grid-search-input\\'>' );\n\t\t\t\t\tvar width = header.getWidth() + first_column_width - 2;\n\t\t\t\t\tsearch_input.css( 'width', width );\n\t\t\t\t} else {\n\t\t\t\t\tsearch_input = $( '<input type=\\'text\\' class=\\'search-input\\'>' );\n\t\t\t\t\tif ( i == ( len - 1 ) ) {\n\t\t\t\t\t\tsearch_input.css( 'width', header.getWidth() + 1 + 'px' );\n\t\t\t\t\t} else {\n\t\t\t\t\t\tsearch_input.css( 'width', header.getWidth() + 'px' );\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tsearch_input.on( 'drop', function( e ) {\n\t\t\t\t\te.preventDefault();\n\t\t\t\t} );\n\n\t\t\t\tsearch_input.ASearchInput( { column_model: header.getColumnModel() } ); //Make it as ASearchInout Widget;\n\n\t\t\t\tsearch_div.append( search_input );\n\t\t\t\tsearch_input_array.push( search_input );\n\n\t\t\t\t//Set cached seach_input data back, unsualy in navigation_mode\n\t\t\t\tif ( unselect_grid_search_map ) {\n\t\t\t\t\tsearch_input.setFilter( unselect_grid_search_map );\n\n\t\t\t\t}\n\n\t\t\t\t//Do Column Search\n\t\t\t\tsearch_input.bind( 'searchEnter', function( e, searchVal, field ) {\n\n\t\t\t\t\tif ( !unselect_grid_search_map ) {\n\t\t\t\t\t\tunselect_grid_search_map = {};\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( !searchVal ) {\n\t\t\t\t\t\tdelete unselect_grid_search_map[field];\n\t\t\t\t\t} else {\n\t\t\t\t\t\tunselect_grid_search_map[field] = searchVal;\n\t\t\t\t\t}\n\n\t\t\t\t\tparent_a_combo_box.setCachedSearchInputsFilter( unselect_grid_search_map );\n\n\t\t\t\t\tparent_a_combo_box.onADropDownSearch( 'unselect_grid' );\n\t\t\t\t} );\n\n\t\t\t}\n\n\t\t\tvar close_btn = $( '<button class=\"close-btn\"><img src=\"' + Global.getRealImagePath( 'images/close.png' ) + '\"></img></button>' );\n\n\t\t\tif ( allow_multiple_selection ) {\n\t\t\t\t//close_btn.width( 22 )\n\t\t\t} else {\n\t\t\t\t//close_btn.width( 14 );\n\t\t\t}\n\n\t\t\tsearch_div.prepend( close_btn );\n\t\t\tclose_btn.click( function() {\n\n\t\t\t\tunselect_grid_search_map = {};\n\t\t\t\tparent_a_combo_box.setCachedSearchInputsFilter( unselect_grid_search_map );\n\t\t\t\tparent_a_combo_box.onADropDownSearch( 'unselect_grid' );\n\n\t\t\t\tfor ( var i = 0; i < search_input_array.length; i++ ) {\n\n\t\t\t\t\tvar s_i = search_input_array[i];\n\t\t\t\t\ts_i.clearValue();\n\t\t\t\t}\n\n\t\t\t} );\n\n\t\t};\n\n\t\t//Set select item when not allow multiple selection\n\t\t// *IMPORTANT* This cannot be defined as this.setSelectItem() as it will break.\n\t\tsetSelectItem = function( val ) {\n\t\t\tselect_item = val;\n\t\t};\n\n\t\t//Search Reesult in select grid. it's not effect the selectitems when getSelectItems\n\t\tthis.setSelectGridSearchResult = function( val ) {\n\n\t\t\tif ( !real_selected_items || real_selected_items.length == 0 ) {\n\t\t\t\t//Clone the array with .slice(), this fixes the bug where you have an empty dropdown (no selected items)\n\t\t\t\t//You move 5 items to the right side, then search within those items to show only 1, then clear the search, and only 1 item would still be shown.\n\t\t\t\treal_selected_items = this.getSelectItems().slice();\n\t\t\t}\n\t\t\tselect_grid.setData( val );\n\t\t};\n\n\t\t//Must Set this after setUnselectedGridData for now\n\t\t//Remove select items form allColumn array\n\t\tthis.setSelectGridData = function( val, searchResult ) {\n\t\t\tif ( parent_a_combo_box && parent_a_combo_box.getAPI() ) {\n\t\t\t\tval = Global.formatGridData( val, parent_a_combo_box.getAPI().key_name );\n\t\t\t}\n\t\t\tif ( Object.prototype.toString.call( static_source_data ) !== '[object Array]' || static_source_data.length < 1 ) {\n\t\t\t\tstatic_source_data = [];\n\t\t\t}\n\t\t\t//Uncaught TypeError: Cannot read property 'length' of undefined\n\t\t\tif ( !val ) {\n\t\t\t\tval = [];\n\t\t\t}\n\t\t\tvar all_columns = static_source_data.slice(); //Copy from Static data\n\t\t\tvar i;\n\t\t\tvar j;\n\t\t\tvar select_item;\n\t\t\tvar tmp_select_items;\n\t\t\tvar all_columns_len;\n\t\t\tif ( all_columns && all_columns.length > 0 ) {\n\t\t\t\tvar selectItemLen = val.length;\n\t\t\t\tif ( !auto_sort ) {\n\n\t\t\t\t\tfor ( i = 0; i < selectItemLen; i++ ) {\n\t\t\t\t\t\tselect_item = val[i];\n\t\t\t\t\t\tif ( !Global.isSet( select_item[key] ) ) {\n\t\t\t\t\t\t\tselect_item = [];\n\t\t\t\t\t\t\tselect_item[key] = val[i];\n\t\t\t\t\t\t\tif ( !Global.isSet( tmp_select_items ) ) {\n\t\t\t\t\t\t\t\ttmp_select_items = [];\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tall_columns_len = all_columns.length;\n\t\t\t\t\t\tfor ( j = 0; j < all_columns_len; j++ ) {\n\t\t\t\t\t\t\tvar fromAllColumn = all_columns[j];\n\t\t\t\t\t\t\tif ( fromAllColumn[key] == select_item[key] ) {\n\t\t\t\t\t\t\t\t//saved search select items may don't have ids if it's saved from flex, so set it back\n\t\t\t\t\t\t\t\tif ( !select_item.hasOwnProperty( 'id' ) && fromAllColumn.hasOwnProperty( 'id' ) ) {\n\t\t\t\t\t\t\t\t\tselect_item.id = fromAllColumn.id;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tif ( Global.isSet( tmp_select_items ) ) {\n\t\t\t\t\t\t\t\t\ttmp_select_items.push( fromAllColumn );\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tif ( !tree_mode ) {\n\t\t\t\t\t\t\t\t\tall_columns.splice( j, 1 );\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\t\t\t\t\tall_columns_len = all_columns.length;\n\t\t\t\t\tfor ( j = 0; j < all_columns_len; j++ ) {\n\t\t\t\t\t\tfromAllColumn = all_columns[j];\n\t\t\t\t\t\tfor ( i = 0; i < selectItemLen; i++ ) {\n\t\t\t\t\t\t\tselect_item = val[i];\n\t\t\t\t\t\t\tif ( !Global.isSet( select_item[key] ) ) {\n\t\t\t\t\t\t\t\tselect_item = [];\n\t\t\t\t\t\t\t\tselect_item[key] = val[i];\n\t\t\t\t\t\t\t\tif ( !Global.isSet( tmp_select_items ) ) {\n\t\t\t\t\t\t\t\t\ttmp_select_items = [];\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t// we have both string case and number case. sometimes number will be 'xx'. So use == make sure all match\n\t\t\t\t\t\t\tif ( fromAllColumn[key] == select_item[key] ) {\n\t\t\t\t\t\t\t\t//saved search select items may don't have ids if it's saved from flex, so set it back\n\t\t\t\t\t\t\t\tif ( !select_item.hasOwnProperty( 'id' ) && fromAllColumn.hasOwnProperty( 'id' ) ) {\n\t\t\t\t\t\t\t\t\tselect_item.id = fromAllColumn.id;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tif ( Global.isSet( tmp_select_items ) ) {\n\t\t\t\t\t\t\t\t\ttmp_select_items.push( fromAllColumn );\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tif ( !tree_mode ) {\n\t\t\t\t\t\t\t\t\tall_columns.splice( j, 1 );\n\t\t\t\t\t\t\t\t\tall_columns_len = all_columns_len - 1;\n\t\t\t\t\t\t\t\t\tj = j - 1;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t}\n\t\t\t// for all static options, that don't need get reald data, the length should always be match, use temp array because val don't\n\t\t\t//contains full info.\n\t\t\tif ( tmp_select_items && tmp_select_items.length === val.length ||\n\t\t\t\t( val.length > 0 && !val[0].hasOwnProperty( key ) ) ) {\n\t\t\t\tval = tmp_select_items;\n\t\t\t}\n//\t\t\tval = ( Global.isSet( tmp_select_items ) ) ? tmp_select_items : val;\n\n\t\t\t//don't refresh select grid if it's calling from onDropDownsearch whcih doing search in search input\n\t\t\tif ( !searchResult ) {\n\t\t\t\t//select_grid.clearGridData();\n\t\t\t\t//FIXES BUG #1998: The api call returns true when the data it's looking for is deleted. This causes the grid to add a blank row to the unselected side when clear is clicked.\n\t\t\t\tif ( typeof val === 'object' ) {\n\t\t\t\t\tselect_grid.setData( val );\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif ( !tree_mode ) {\n\t\t\t\tunselect_grid.setData( all_columns );\n\t\t\t\tthis.setTotalDisplaySpan();\n\t\t\t} else {\n\t\t\t\ta_dropdown_this.reSetUnSelectGridTreeData( all_columns );\n\t\t\t}\n\t\t\ta_dropdown_this.setSelectGridDragAble();\n\t\t\ta_dropdown_this.setUnSelectGridDragAble();\n\n\t\t};\n\n\t\tthis.setUnSelectGridHighlight = function( array ) {\n\t\t\tunselect_grid.resetSelection();\n\t\t\t$.each( array, function( index, content ) {\n\t\t\t\tunselect_grid.grid.jqGrid( 'setSelection', content, false );\n\t\t\t} );\n\n\t\t};\n\n\t\tthis.showNoResultCover = function( target_grid ) {\n\n\t\t\tthis.removeNoResultCover( target_grid );\n\n\t\t\tvar no_result_box = Global.loadWidgetByName( WidgetNamesDic.NO_RESULT_BOX );\n\t\t\tno_result_box.NoResultBox( { related_view_controller: this } );\n\t\t\tvar grid_div;\n\n\t\t\tif ( target_grid === 'unselect_grid' ) {\n\t\t\t\tno_result_box.attr( 'id', id + target_grid + '_no_result_box' );\n\n\t\t\t\tgrid_div = $( this ).find( '#gbox_unselect_grid_' + id );\n\n\t\t\t\tunselect_grid_no_result_box = no_result_box;\n\n\t\t\t} else {\n\t\t\t\tno_result_box.attr( 'id', id + target_grid + '_no_result_box' );\n\n\t\t\t\tgrid_div = $( this ).find( '#gbox_select_grid_' + id );\n\n\t\t\t\tselect_grid_no_result_box = no_result_box;\n\n\t\t\t}\n\n\t\t\tgrid_div.append( no_result_box );\n\n\t\t};\n\n\t\tthis.removeNoResultCover = function( target_grid ) {\n\t\t\tif ( target_grid === 'unselect_grid' ) {\n\n\t\t\t\tif ( unselect_grid_no_result_box ) {\n\t\t\t\t\tunselect_grid_no_result_box.remove();\n\t\t\t\t\tunselect_grid_no_result_box = null;\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\tif ( select_grid_no_result_box ) {\n\t\t\t\t\tselect_grid_no_result_box.remove();\n\t\t\t\t\tselect_grid_no_result_box = null;\n\t\t\t\t}\n\n\t\t\t}\n\t\t};\n\n\t\tthis.setSelectGridHighlight = function( array ) {\n\t\t\tselect_grid.resetSelection();\n\t\t\t$.each( array, function( index, content ) {\n\t\t\t\tselect_grid.grid.jqGrid( 'setSelection', content, false );\n\t\t\t} );\n\n\t\t};\n\n\t\tthis.setUnSelectGridDragAble = function() {\n\n\t\t\tvar highlight_Rows = null;\n\n\t\t\tvar trs = unselect_grid.grid.find( 'tr.ui-widget-content' ).attr( 'draggable', 'true' );\n\n\t\t\ttrs.unbind( 'dragstart' ).bind( 'dragstart', function( event ) {\n\t\t\t\tvar target = $( event.target );\n\n\t\t\t\tvar container = $( '<table class=\\'drag-holder-table\\'></table>' );\n\t\t\t\thighlight_Rows = unselect_grid.grid.find( 'tr.ui-state-highlight' );\n\t\t\t\tvar cloneRows = [];\n\t\t\t\tvar len = highlight_Rows.length;\n\t\t\t\tif ( len === 0 ) {\n\t\t\t\t\tlen = 1;\n\t\t\t\t\tunselect_grid.grid.jqGrid( 'setSelection', target.attr( 'id' ), false );\n\t\t\t\t} else if ( !target.hasClass( 'ui-state-highlight' ) ) {\n\t\t\t\t\tselectAllInGrid( unselect_grid, true );\n\t\t\t\t\tunselect_grid.grid.jqGrid( 'setSelection', target.attr( 'id' ), false );\n\t\t\t\t\tlen = 1;\n\t\t\t\t}\n\n\t\t\t\tif ( len === 1 ) {\n\t\t\t\t\thighlight_Rows = unselect_grid.grid.find( 'tr.ui-state-highlight' );\n\t\t\t\t\tvar clone_row = $( highlight_Rows[0] ).clone();\n\n\t\t\t\t\tclone_row.children().eq( 0 ).remove();\n\t\t\t\t\tclone_row.find( 'td' ).css( 'padding-right', 10 );\n\t\t\t\t\tclone_row.find( 'td' ).css( 'padding-left', 10 );\n\n\t\t\t\t\tcontainer.append( clone_row );\n\t\t\t\t} else {\n\t\t\t\t\tcontainer.append( len + ' ' + $.i18n._( 'item(s) selected' ) );\n\t\t\t\t}\n\n\t\t\t\t$( 'body' ).find( '.drag-holder-table' ).remove();\n\n\t\t\t\t$( 'body' ).append( container );\n\n\t\t\t\tevent.originalEvent.dataTransfer.setData( 'Text', 'un_select_grid' );//JUST ELEMENT references is ok here NO ID\n\n\t\t\t\tif ( event.originalEvent.dataTransfer.setDragImage ) {\n\t\t\t\t\tevent.originalEvent.dataTransfer.setDragImage( container[0], -10, 0 );\n\t\t\t\t}\n\n\t\t\t\treturn true;\n\t\t\t} );\n\n\t\t\tunselect_grid.grid.parent().parent().unbind( 'dragover' ).bind( 'dragover', function( event ) {\n\t\t\t\tevent.preventDefault();\n\t\t\t} );\n\n\t\t\tunselect_grid.grid.parent().parent().unbind( 'drop' ).bind( 'drop', function( event ) {\n\n\t\t\t\tevent.preventDefault();\n\t\t\t\tif ( event.stopPropagation ) {\n\t\t\t\t\tevent.stopPropagation(); // stops the browser from redirecting.\n\t\t\t\t}\n\t\t\t\t$( '.drag-holder-table' ).remove();\n\t\t\t\t//drag from left to right\n\t\t\t\tif ( event.originalEvent.dataTransfer.getData( 'Text' ) === 'select_grid' ) {\n\t\t\t\t\tvar grid_selected_id_array = select_grid.grid.jqGrid( 'getGridParam', 'selarrrow' );\n\t\t\t\t\tvar grid_selected_length = grid_selected_id_array.length;\n\n\t\t\t\t\tif ( grid_selected_length > 0 ) {\n\t\t\t\t\t\ta_dropdown_this.moveItems( false, grid_selected_id_array );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} );\n\n\t\t\ttrs.unbind( 'dragend' ).bind( 'dragend', function( event ) {\n\t\t\t\t$( '.drag-holder-table' ).remove();\n\t\t\t} );\n\n\t\t\tunselect_grid.grid.parent().parent().unbind( 'dragend' ).bind( 'dragend', function( event ) {\n\t\t\t\t$( '.drag-holder-table' ).remove();\n\t\t\t} );\n\n\t\t};\n\n\t\t//Start Drag\n\t\tthis.setSelectGridDragAble = function() {\n\n\t\t\tvar highlight_Rows = null;\n\t\t\tvar $$this = this;\n\n\t\t\tvar trs = select_grid.grid.find( 'tr.ui-widget-content' ).attr( 'draggable', 'true' );\n\n\t\t\ttrs.attr( 'draggable', true );\n\n\t\t\ttrs.unbind( 'dragstart' ).bind( 'dragstart', function( event ) {\n\t\t\t\tvar target = $( event.target );\n\t\t\t\tvar container = $( '<table class=\\'drag-holder-table\\' from=\\'select_grid\\'></table>' );\n\t\t\t\thighlight_Rows = select_grid.grid.find( 'tr.ui-state-highlight' );\n\t\t\t\tvar cloneRows = [];\n\t\t\t\tvar len = highlight_Rows.length;\n\n\t\t\t\tif ( len === 0 ) {\n\t\t\t\t\tlen = 1;\n\t\t\t\t\tselect_grid.grid.jqGrid( 'setSelection', target.attr( 'id' ), false );\n\t\t\t\t} else if ( !target.hasClass( 'ui-state-highlight' ) ) {\n\t\t\t\t\tselectAllInGrid( select_grid, true );\n\t\t\t\t\tselect_grid.grid.jqGrid( 'setSelection', target.attr( 'id' ), false );\n\t\t\t\t\tlen = 1;\n\t\t\t\t}\n\n\t\t\t\tif ( len === 1 ) {\n\t\t\t\t\thighlight_Rows = select_grid.grid.find( 'tr.ui-state-highlight' );\n\n\t\t\t\t\tvar clone_row = $( highlight_Rows[0] ).clone();\n\n\t\t\t\t\tclone_row.children().eq( 0 ).remove();\n\t\t\t\t\tclone_row.find( 'td' ).css( 'padding-right', 10 );\n\t\t\t\t\tclone_row.find( 'td' ).css( 'padding-left', 10 );\n\n\t\t\t\t\tcontainer.append( clone_row );\n\t\t\t\t} else {\n\t\t\t\t\tcontainer.append( len + ' ' + $.i18n._( 'item(s) selected' ) );\n\t\t\t\t}\n\n\t\t\t\t$( '.drag-holder-table' ).remove();\n\n\t\t\t\t$( 'body' ).append( container );\n\n\t\t\t\tevent.originalEvent.dataTransfer.setData( 'Text', 'select_grid' );//JUST ELEMENT references is ok here NO ID\n\n\t\t\t\tif ( event.originalEvent.dataTransfer.setDragImage ) {\n\t\t\t\t\tevent.originalEvent.dataTransfer.setDragImage( container[0], -10, 0 );\n\t\t\t\t}\n\t\t\t\treturn true;\n\n\t\t\t} );\n\n\t\t\tselect_grid.grid.parent().parent().unbind( 'dragover' ).bind( 'dragover', function( event ) {\n\t\t\t\tevent.preventDefault();\n\t\t\t} );\n\n\t\t\tselect_grid.grid.parent().parent().unbind( 'drop' ).bind( 'drop', function( event ) {\n\t\t\t\tevent.preventDefault();\n\t\t\t\tif ( event.stopPropagation ) {\n\t\t\t\t\tevent.stopPropagation(); // stops the browser from redirecting.\n\t\t\t\t}\n\t\t\t\t$( '.drag-holder-table' ).remove();\n\t\t\t\t//drag from left to right\n\t\t\t\tif ( event.originalEvent.dataTransfer.getData( 'Text' ) === 'un_select_grid' ) {\n\t\t\t\t\tif ( !tree_mode ) {\n\t\t\t\t\t\tvar grid_selected_id_array = unselect_grid.grid.jqGrid( 'getGridParam', 'selarrrow' );\n\t\t\t\t\t\tvar grid_selected_length = grid_selected_id_array.length;\n\t\t\t\t\t\tif ( grid_selected_length > 0 ) {\n\t\t\t\t\t\t\ta_dropdown_this.moveItems( true, grid_selected_id_array );\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tvar selectRow = unselect_grid.grid.jqGrid( 'getGridParam', 'selrow' );\n\t\t\t\t\t\ta_dropdown_this.moveItems( true, [selectRow] );\n\t\t\t\t\t}\n\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t} );\n\n\t\t\t//when drag item to the header row, put them as first row\n\t\t\tvar parent_grid_container = select_grid.grid.parent().parent().parent();\n\t\t\tparent_grid_container = parent_grid_container.find( '.ui-jqgrid-labels' );\n\n\t\t\tparent_grid_container.unbind( 'dragover' ).bind( 'dragover', function( event ) {\n\t\t\t\tevent.preventDefault();\n\t\t\t\t$( this ).addClass( 'drag-over-bottom' );\n\t\t\t} );\n\n\t\t\tparent_grid_container.unbind( 'dragleave' ).bind( 'dragleave', function( event ) {\n\t\t\t\t$( this ).removeClass( 'drag-over-bottom' );\n\n\t\t\t} );\n\n\t\t\ttrs.unbind( 'dragend' ).bind( 'dragend', function( event ) {\n\t\t\t\t$( '.drag-holder-table' ).remove();\n\t\t\t} );\n\n\t\t\tselect_grid.grid.parent().parent().unbind( 'dragend' ).bind( 'dragend', function( event ) {\n\t\t\t\t$( '.drag-holder-table' ).remove();\n\t\t\t} );\n\n\t\t\tparent_grid_container.unbind( 'dragend' ).bind( 'dragend', function( event ) {\n\t\t\t\t$( '.drag-holder-table' ).remove();\n\t\t\t} );\n\n\t\t\t//when dropping on th/divs at top of grid.\n\t\t\tparent_grid_container.unbind( 'drop' ).bind( 'drop', function( event ) {\n\t\t\t\tevent.preventDefault();\n\t\t\t\tif ( event.stopPropagation ) {\n\t\t\t\t\tevent.stopPropagation(); // stops the browser from redirecting.\n\t\t\t\t}\n\n\t\t\t\t$( '.drag-holder-table' ).remove();\n\t\t\t\t$( this ).removeClass( 'drag-over-bottom' );\n\t\t\t\tif ( event.originalEvent.dataTransfer.getData( 'Text' ) === 'select_grid' ) {\n\n\t\t\t\t\tvar firstTr = select_grid.grid.find( 'tr.ui-widget-content' )[0];\n\t\t\t\t\tif ( !firstTr ) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tvar rows = select_grid.grid.find( 'tr.ui-state-highlight' );\n\n\t\t\t\t\tvar len = rows.length;\n\n\t\t\t\t\tfor ( var i = len - 1; i >= 0; i-- ) {\n\n\t\t\t\t\t\tvar value = rows[i];\n\t\t\t\t\t\tvar row = $( value );\n\n\t\t\t\t\t\tvar target_row_index = 0;\n\t\t\t\t\t\tvar select_items = a_dropdown_this.getSelectItems();\n\t\t\t\t\t\tvar drag_item_index = value.rowIndex - 1;\n\n\t\t\t\t\t\tselect_items.splice( target_row_index, 0, select_items.splice( drag_item_index, 1 )[0] );\n\n\t\t\t\t\t\t$( row ).insertAfter( firstTr ); // insert after sizerow.\n\t\t\t\t\t}\n\n\t\t\t\t\tvar scroll_position = select_grid.grid.parents( '.ui-jqgrid-bdiv' ).scrollTop();\n\t\t\t\t\tisChanged = true;\n\t\t\t\t\tselect_grid.grid.trigger( 'reloadGrid' );\n\n\t\t\t\t\t$$this.setSelectGridDragAble();\n\n\t\t\t\t\trows = select_grid.grid.find( 'tr.ui-widget-content' );\n\n\t\t\t\t\t$.each( highlight_Rows, function( index, value ) {\n\n\t\t\t\t\t\tvar item = value;\n\t\t\t\t\t\tvar itemLabel = $( item ).find( 'td' )[1].innerHTML;\n\n\t\t\t\t\t\t$.each( rows, function( index1, value1 ) {\n\t\t\t\t\t\t\tvar row = value1;\n\n\t\t\t\t\t\t\tvar rowLabel = $( row ).find( 'td' )[1].innerHTML;\n\t\t\t\t\t\t\tif ( itemLabel === rowLabel ) {\n\t\t\t\t\t\t\t\tselect_grid.grid.jqGrid( 'setSelection', $( row ).attr( 'id' ), false );\n\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} );\n\n\t\t\t\t\t} );\n\n\t\t\t\t\tselect_grid.grid.parents( '.ui-jqgrid-bdiv' ).scrollTop( scroll_position );\n\t\t\t\t} else if ( event.originalEvent.dataTransfer.getData( 'Text' ) === 'un_select_grid' ) {\n\t\t\t\t\ttarget_row_index = -1;\n\t\t\t\t\tvar grid_selected_id_array = unselect_grid.grid.jqGrid( 'getGridParam', 'selarrrow' );\n\t\t\t\t\tvar grid_selected_length = grid_selected_id_array.length;\n\t\t\t\t\tif ( grid_selected_length > 0 ) {\n\t\t\t\t\t\ta_dropdown_this.moveItems( true, grid_selected_id_array, target_row_index );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\ta_dropdown_this.trigger( 'formItemChange', [a_dropdown_this] );\n\n\t\t\t} );\n\n\t\t\ttrs.unbind( 'dragover' ).bind( 'dragover', function( event ) {\n\t\t\t\t$( this ).addClass( 'drag-over-bottom' );\n\t\t\t} );\n\n\t\t\ttrs.unbind( 'dragleave' ).bind( 'dragleave', function( event ) {\n\t\t\t\t$( this ).removeClass( 'drag-over-bottom' );\n\t\t\t} );\n\n\t\t\ttrs.unbind( 'drop' ).bind( 'drop', function( event ) {\n\n\t\t\t\tevent.preventDefault();\n\t\t\t\tif ( event.stopPropagation ) {\n\t\t\t\t\tevent.stopPropagation(); // stops the browser from redirecting.\n\t\t\t\t}\n\n\t\t\t\t$( this ).removeClass( 'drag-over-bottom' );\n\n\t\t\t\tvar $this = this;\n\t\t\t\t// Dont do drag to order\n\t\t\t\tif ( event.originalEvent.dataTransfer.getData( 'Text' ) === 'select_grid' ) {\n\t\t\t\t\tvar rows = select_grid.grid.find( 'tr.ui-state-highlight' );\n\n\t\t\t\t\tvar len = rows.length;\n\n\t\t\t\t\tfor ( var i = len - 1; i >= 0; i-- ) {\n\n\t\t\t\t\t\tvar value = rows[i];\n\t\t\t\t\t\tvar row = $( value );\n\n\t\t\t\t\t\tif ( value === this ) {\n\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tvar target_row_index = $this.rowIndex - 1;\n\t\t\t\t\t\tvar select_items = a_dropdown_this.getSelectItems();\n\t\t\t\t\t\tvar drag_item_index = value.rowIndex - 1;\n\n\t\t\t\t\t\tif ( target_row_index >= drag_item_index ) {\n\t\t\t\t\t\t\tselect_items.splice( target_row_index, 0, select_items.splice( drag_item_index, 1 )[0] );\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tselect_items.splice( target_row_index + 1, 0, select_items.splice( drag_item_index, 1 )[0] );\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t$( row ).insertAfter( $this );\n\t\t\t\t\t}\n\t\t\t\t\tisChanged = true;\n\t\t\t\t\tvar scroll_position = select_grid.grid.closest( '.ui-jqgrid-bdiv' ).scrollTop();\n\t\t\t\t\tselect_grid.grid.trigger( 'reloadGrid' );\n\n\t\t\t\t\t$$this.setSelectGridDragAble();\n\n\t\t\t\t\trows = select_grid.grid.find( 'tr.ui-widget-content' );\n\n\t\t\t\t\t$.each( highlight_Rows, function( index, value ) {\n\n\t\t\t\t\t\tvar item = value;\n\t\t\t\t\t\tvar itemLabel = $( item ).find( 'td' )[1].innerHTML;\n\n\t\t\t\t\t\t$.each( rows, function( index1, value1 ) {\n\t\t\t\t\t\t\trow = value1;\n\n\t\t\t\t\t\t\tvar rowLabel = $( row ).find( 'td' )[1].innerHTML;\n\t\t\t\t\t\t\tif ( itemLabel === rowLabel ) {\n\t\t\t\t\t\t\t\tselect_grid.grid.jqGrid( 'setSelection', $( row ).attr( 'id' ), false );\n\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} );\n\n\t\t\t\t\t} );\n\n\t\t\t\t\tselect_grid.grid.closest( '.ui-jqgrid-bdiv' ).scrollTop( scroll_position );\n\t\t\t\t} else if ( event.originalEvent.dataTransfer.getData( 'Text' ) === 'un_select_grid' ) {\n\n\t\t\t\t\tif ( !tree_mode ) {\n\t\t\t\t\t\ttarget_row_index = $this.rowIndex - 1;\n\t\t\t\t\t\tvar grid_selected_id_array = unselect_grid.grid.jqGrid( 'getGridParam', 'selarrrow' );\n\t\t\t\t\t\tvar grid_selected_length = grid_selected_id_array.length;\n\t\t\t\t\t\tif ( grid_selected_length > 0 ) {\n\t\t\t\t\t\t\ta_dropdown_this.moveItems( true, grid_selected_id_array, target_row_index, $( $this ).attr( 'id' ) );\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tvar selectRow = unselect_grid.grid.jqGrid( 'getGridParam', 'selrow' );\n\t\t\t\t\t\ta_dropdown_this.moveItems( true, [selectRow] );\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\t//Need to dirty the form when changing order of selected items\n\t\t\t\ta_dropdown_this.trigger( 'formItemChange', [a_dropdown_this] );\n\t\t\t} );\n\t\t};\n\n\t\tthis.setTotalDisplaySpan = function() {\n\t\t\tvar grid_selected_id_array;\n\n\t\t\tif ( allow_multiple_selection ) {\n\t\t\t\tgrid_selected_id_array = unselect_grid.grid.jqGrid( 'getGridParam', 'selarrrow' );\n\t\t\t} else {\n\t\t\t\tgrid_selected_id_array = unselect_grid.grid.jqGrid( 'getGridParam', 'selrow' ) ? [unselect_grid.grid.jqGrid( 'getGridParam', 'selrow' )] : [];\n\t\t\t}\n\n\t\t\tvar grid_selected_length = 0;\n\t\t\t//Uncaught TypeError: Cannot read property 'length' of undefined\n\t\t\tif ( grid_selected_id_array ) {\n\t\t\t\tgrid_selected_length = grid_selected_id_array.length;\n\t\t\t}\n\n\t\t\tvar totalRows = 0;\n\t\t\tvar start = 0;\n\t\t\tvar end = 0;\n\t\t\tvar unselect_grid_length = ( ( unselect_grid && Global.isArray( unselect_grid.getGridParam( 'data' ) ) ) ? unselect_grid.getGridParam( 'data' ).length : 0 );\n\n\t\t\t// CLICK TO SHOW MORE MODE OR SHOW ALL\n\t\t\tif ( LocalCacheData.paging_type === 0 || !pager_data || ( pager_data && pager_data.last_page_number < 0 ) ) {\n\t\t\t\tif ( pager_data ) {\n\t\t\t\t\ttotalRows = pager_data.total_rows;\n\t\t\t\t\tstart = 1;\n\t\t\t\t\tend = unselect_grid_length;\n\t\t\t\t} else {\n\t\t\t\t\ttotalRows = unselect_grid_length;\n\t\t\t\t\tstart = 1;\n\t\t\t\t\tend = unselect_grid_length;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif ( pager_data ) {\n\t\t\t\t\ttotalRows = pager_data.total_rows;\n\t\t\t\t\tstart = 0;\n\t\t\t\t\tend = 0;\n\n\t\t\t\t\tif ( pager_data.last_page_number > 1 ) {\n\t\t\t\t\t\tif ( !pager_data.is_last_page ) {\n\t\t\t\t\t\t\tstart = ( pager_data.current_page - 1 ) * pager_data.rows_per_page + 1;\n\t\t\t\t\t\t\tend = start + pager_data.rows_per_page - 1;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tstart = totalRows - unselect_grid_length + 1;\n\t\t\t\t\t\t\tend = totalRows;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t} else {\n\t\t\t\t\t\tstart = 1;\n\t\t\t\t\t\tend = totalRows;\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\t\t\t\t\ttotalRows = 0;\n\t\t\t\t\tstart = 0;\n\t\t\t\t\tend = 0;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tvar totalInfo;\n\t\t\tif ( allow_multiple_selection ) {\n\n\t\t\t\tvar selected_count = this.getSelectItems().length;\n\n\t\t\t\tvar remain_count = unselect_grid_length;\n\n\t\t\t\tif ( remain_count === 0 ) {\n\t\t\t\t\tend = 0;\n\t\t\t\t\tstart = 0;\n\t\t\t\t} else {\n\t\t\t\t\tend = ( remain_count + start );\n\t\t\t\t\tif ( start === 1 ) {\n\t\t\t\t\t\tend = end - 1;\n\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif ( totalRows ) {\n\n\t\t\t\t\t//If there is manually added item\n\t\t\t\t\tif ( end > totalRows ) {\n\t\t\t\t\t\ttotalRows = end;\n\t\t\t\t\t}\n\n\t\t\t\t\ttotalInfo = start + ' - ' + end + ' ' + $.i18n._( 'of' ) + ' ' + totalRows + ' ' + $.i18n._( 'total' ) + '. ';\n\n\t\t\t\t} else {\n\t\t\t\t\ttotalInfo = start + ' - ' + end + '.';\n\t\t\t\t}\n\n\t\t\t\ttotal_display_span.text( $.i18n._( 'Displaying' ) + ' ' + totalInfo + ' ' + $.i18n._( 'Selected' ) + ': ' + selected_count );\n\n\t\t\t} else {\n\n\t\t\t\tif ( end === 0 ) {\n\t\t\t\t\tstart = 0;\n\t\t\t\t}\n\t\t\t\tif ( totalRows ) {\n\n\t\t\t\t\t//If there is manually added item\n\t\t\t\t\tif ( end > totalRows ) {\n\t\t\t\t\t\ttotalRows = end;\n\t\t\t\t\t}\n\n\t\t\t\t\ttotalInfo = start + ' - ' + end + ' ' + $.i18n._( 'of' ) + ' ' + totalRows + ' ' + $.i18n._( 'total' ) + '. ';\n\t\t\t\t} else {\n\t\t\t\t\ttotalInfo = start + ' - ' + end + '.';\n\t\t\t\t}\n\n\t\t\t\ttotal_display_span.text( $.i18n._( 'Displaying' ) + ' ' + totalInfo );\n\t\t\t}\n\n\t\t};\n\n\t\tthis.onUnSelectGridSelectRow = function() {\n\t\t\tthis.setTotalDisplaySpan();\n\t\t};\n\n\t\tthis.onUnSelectGridDoubleClick = function() {\n\t\t\tif ( allow_multiple_selection ) {\n\t\t\t\tif ( !tree_mode ) {\n\t\t\t\t\tvar grid_selected_id_array = unselect_grid.grid.jqGrid( 'getGridParam', 'selarrrow' );\n\t\t\t\t\tvar grid_selected_length = grid_selected_id_array.length;\n\t\t\t\t\tif ( grid_selected_length > 0 ) {\n\t\t\t\t\t\ta_dropdown_this.moveItems( true, grid_selected_id_array );\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tvar selectRow = unselect_grid.grid.jqGrid( 'getGridParam', 'selrow' );\n\t\t\t\t\ta_dropdown_this.moveItems( true, [selectRow] );\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\tthis.onSelectGridDoubleClick = function() {\n\t\t\tvar grid_selected_id_array = select_grid.grid.jqGrid( 'getGridParam', 'selarrrow' );\n\t\t\tvar grid_selected_length = grid_selected_id_array.length;\n\n\t\t\tif ( grid_selected_length > 0 ) {\n\t\t\t\ta_dropdown_this.moveItems( false, grid_selected_id_array );\n\t\t\t}\n\n\t\t};\n\n\t\t//Move items between 2 grids\n\t\tthis.moveItems = function( left_to_right, array, index, target_row_id ) {\n\t\t\tthis.removeNoResultCover( 'unselect_grid' );\n\t\t\tthis.removeNoResultCover( 'select_grid' );\n\t\t\tvar added_items = [];\n\t\t\tvar removed_items = [];\n\t\t\tisChanged = true;\n\n\t\t\tvar editable_unselect_items = $( unselect_grid.grid ).find( '.editable' );\n\t\t\tfor ( var i = 0; i < editable_unselect_items.length; i++ ) {\n\t\t\t\tvar $el = $( editable_unselect_items[i] );\n\t\t\t\tvar tr_id = $el.parents( 'tr' ).prop( 'id' );\n\t\t\t\tunselect_grid.grid.saveRow( tr_id );\n\t\t\t}\n\n\t\t\tvar editable_select_items = $( select_grid.grid ).find( '.editable' );\n\t\t\tfor ( var i = 0; i < editable_select_items.length; i++ ) {\n\t\t\t\tvar $el = $( editable_select_items[i] );\n\t\t\t\tvar tr_id = $el.parents( 'tr' ).prop( 'id' );\n\t\t\t\tselect_grid.grid.saveRow( tr_id );\n\t\t\t}\n\n\t\t\tvar moved_items_array = array.slice();\n\n\t\t\tif ( left_to_right ) {\n\t\t\t\tvar source_grid = unselect_grid;\n\t\t\t\tvar target_grid = select_grid;\n\t\t\t\tvar source_data = unselect_grid.getGridParam( 'data' );\n\t\t\t\tvar target_data = select_grid.getGridParam( 'data' );\n\t\t\t} else {\n\t\t\t\tsource_grid = select_grid;\n\t\t\t\ttarget_grid = unselect_grid;\n\t\t\t\tsource_data = select_grid.getGridParam( 'data' );\n\t\t\t\ttarget_data = unselect_grid.getGridParam( 'data' );\n\t\t\t}\n\n\t\t\tif ( !Global.isArray( target_data ) ) {\n\t\t\t\ttarget_data = [];\n\t\t\t}\n\n\t\t\tif ( source_data[0] && source_data[0].hasOwnProperty( 'id' ) ) {\n\t\t\t\tif ( !Global.isSet( index ) ) {\n\t\t\t\t\tarray = array.reverse();\n\t\t\t\t}\n\n\t\t\t\tfor ( var i = array.length - 1; i >= 0; i-- ) {\n\t\t\t\t\tvar selected_item_id = array[i];\n\n\t\t\t\t\tfor ( var j = 0; j < source_data.length; j++ ) {\n\t\t\t\t\t\tvar from_all_columns_item = source_data[j];\n\t\t\t\t\t\tif ( from_all_columns_item.id == selected_item_id ) {  //html number is string, compare string numbers with number number\n\t\t\t\t\t\t\tvar select_item = from_all_columns_item;\n\n\t\t\t\t\t\t\tif ( !tree_mode || !left_to_right ) { //Don't remove item from list if tree mode\n\t\t\t\t\t\t\t\tsource_grid.grid.jqGrid( 'delRowData', selected_item_id );\n\t\t\t\t\t\t\t\ti = i + 1;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif ( !tree_mode || left_to_right ) {\n\t\t\t\t\t\t\t\tif ( tree_mode ) {\n\t\t\t\t\t\t\t\t\t//Make sure only one item can be add to right when tree mode\n\t\t\t\t\t\t\t\t\tvar target_data_len = target_data.length;\n\t\t\t\t\t\t\t\t\tvar find = false;\n\t\t\t\t\t\t\t\t\tfor ( var y = 0; y < target_data_len; y++ ) {\n\t\t\t\t\t\t\t\t\t\tvar existed_item = target_data[y];\n\t\t\t\t\t\t\t\t\t\tif ( existed_item[key] === select_item[key] ) {\n\t\t\t\t\t\t\t\t\t\t\tfind = true;\n\t\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\tif ( !find ) {\n\n\t\t\t\t\t\t\t\t\t\tif ( index >= 0 ) {\n\t\t\t\t\t\t\t\t\t\t\ttarget_grid.grid.addRowData( selected_item_id, select_item, 'after', target_row_id );\n\t\t\t\t\t\t\t\t\t\t\ttarget_data.splice( target_data.length - 1, 1 );\n\t\t\t\t\t\t\t\t\t\t\ttarget_data.splice( index + 1, 0, select_item );\n\n\t\t\t\t\t\t\t\t\t\t} else if ( index === -1 ) { // add to first row\n\t\t\t\t\t\t\t\t\t\t\ttarget_grid.grid.addRowData( selected_item_id, select_item, 'first' );\n\t\t\t\t\t\t\t\t\t\t\ttarget_data.splice( target_data.length - 1, 1 );\n\t\t\t\t\t\t\t\t\t\t\ttarget_data.unshift( select_item );\n\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\ttarget_grid.grid.addRowData( selected_item_id, select_item );\n\t\t\t\t\t\t\t\t\t\t\ttarget_data[target_data.length - 1] = select_item; //need this since we need full data, addRowData only keep data which shown on UI\n\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t\t\tif ( index >= 0 ) {\n\t\t\t\t\t\t\t\t\t\ttarget_grid.grid.addRowData( selected_item_id, select_item, 'after', target_row_id );\n\t\t\t\t\t\t\t\t\t\ttarget_data.splice( target_data.length - 1, 1 );\n\t\t\t\t\t\t\t\t\t\ttarget_data.splice( index + 1, 0, select_item );\n\n\t\t\t\t\t\t\t\t\t} else if ( index === -1 ) { // add to first row\n\t\t\t\t\t\t\t\t\t\ttarget_grid.grid.addRowData( selected_item_id, select_item, 'first' );\n\t\t\t\t\t\t\t\t\t\ttarget_data.splice( target_data.length - 1, 1 );\n\t\t\t\t\t\t\t\t\t\ttarget_data.unshift( select_item );\n\t\t\t\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t\t\t\ttarget_grid.grid.addRowData( selected_item_id, select_item );\n\t\t\t\t\t\t\t\t\t\ttarget_data[target_data.length - 1] = select_item; //\n\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif ( !tree_mode ) {\n\t\t\t\ttarget_grid.grid.trigger( 'reloadGrid' );\n\t\t\t\t// if ( left_to_right ) {\n\t\t\t\t// \ta_dropdown_this.resizeSelectSearchInputs();\n\t\t\t\t// }\n\t\t\t} else {\n\t\t\t\tif ( left_to_right ) {\n\t\t\t\t\ta_dropdown_this.reSetUnSelectGridTreeData( source_data );\n\t\t\t\t} else {\n\t\t\t\t\ta_dropdown_this.reSetUnSelectGridTreeData( target_data );\n\t\t\t\t}\n\t\t\t}\n\n\t\t\ta_dropdown_this.setSelectGridDragAble();\n\t\t\ta_dropdown_this.setUnSelectGridDragAble();\n\t\t\ta_dropdown_this.updateRealSelectItemsIfNecessary( left_to_right, moved_items_array );\n\t\t\ta_dropdown_this.setTotalDisplaySpan();\n\n\t\t\tif ( !parent_a_combo_box ) {\n\t\t\t\ta_dropdown_this.trigger( 'formItemChange', [a_dropdown_this] );\n\t\t\t}\n\t\t};\n\n\t\tthis.updateRealSelectItemsIfNecessary = function( left_to_right, moved_items ) {\n\t\t\tif ( !real_selected_items || real_selected_items.length == 0 ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif ( left_to_right ) {\n\t\t\t\tvar current_items_in_selected_grid = select_grid.getGridParam( 'data' );\n\t\t\t\t$.each( moved_items, function( index, value ) {\n\t\t\t\t\t$.each( current_items_in_selected_grid, function( index1, value1 ) {\n\t\t\t\t\t\tif ( value1[key] == value ) { //use == to match '' or number of id\n\t\t\t\t\t\t\treal_selected_items.push( value1 );\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t}\n\t\t\t\t\t} );\n\t\t\t\t} );\n\t\t\t} else {\n\t\t\t\t$.each( moved_items, function( index, value ) {\n\t\t\t\t\t$.each( real_selected_items, function( index1, value1 ) {\n\t\t\t\t\t\tif ( value1[key] == value ) { //use == to match '' or number of id\n\t\t\t\t\t\t\treal_selected_items.splice( index1, 1 );\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t}\n\t\t\t\t\t} );\n\t\t\t\t} );\n\t\t\t}\n\n\t\t};\n\n\t\tthis.setHeight = function( height ) {\n\t\t\tif ( max_height && max_height < height ) {\n\t\t\t\theight = max_height;\n\t\t\t}\n\t\t\tunselect_grid.grid.setGridHeight( height );\n\t\t\tif ( allow_multiple_selection ) {\n\t\t\t\tselect_grid.grid.setGridHeight( height );\n\t\t\t}\n\t\t};\n\n\t\tvar initColumnSettingsBtn = function() {\n\t\t\tvar edit_icon_div = $( a_dropdown_this ).find( '.edit-columnIcon-div' );\n\t\t\tvar edit_icon = $( a_dropdown_this ).find( '.edit_column_icon' );\n\t\t\tif ( !display_column_settings || tree_mode ) {\n\t\t\t\tedit_icon_div.hide();\n\t\t\t\treturn;\n\t\t\t} else {\n\t\t\t\tedit_icon_div.show();\n\t\t\t}\n\n\t\t\tedit_icon_div.css( 'display', 'inline-block' );\n\t\t\tedit_icon.attr( 'src', Global.getRealImagePath( 'images/edit.png' ) );\n\n\t\t\t//OPen Column editor\n\t\t\tedit_icon_div.click( function( e ) {\n\t\t\t\te.preventDefault();\n\t\t\t\te.stopPropagation();\n\n\t\t\t\tif ( !parent_a_combo_box.getEnabled() ) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tapi.getOptions( column_option_key, {\n\t\t\t\t\tonResult: function( columns_result ) {\n\n\t\t\t\t\t\tcolumn_editor = Global.loadWidget( 'global/widgets/column_editor/ColumnEditor.html' );\n\t\t\t\t\t\tcolumn_editor = $( column_editor );\n\t\t\t\t\t\tcolumn_editor.find( '#save_btn' ).text( $.i18n._( 'Save and Close' ) );\n\t\t\t\t\t\tcolumn_editor.find( '#close_btn' ).text( $.i18n._( 'Close' ) );\n\t\t\t\t\t\tcolumn_editor.find( '.rows-per-page' ).text( $.i18n._( 'Rows Per Page' ) + ':' );\n\t\t\t\t\t\tcolumn_editor.find( '.choose-layout' ).text( $.i18n._( 'Choose Layout' ) + ':' );\n\n\t\t\t\t\t\tcolumn_editor = column_editor.ColumnEditor( { parent_awesome_box: parent_a_combo_box } );\n\n\t\t\t\t\t\tvar columns_result_data = columns_result.getResult();\n\t\t\t\t\t\tparent_a_combo_box.setAllColumns( Global.buildColumnArray( columns_result_data ) );\n\t\t\t\t\t\tparent_a_combo_box.setDisplayColumnsForEditor( parent_a_combo_box.buildDisplayColumnsForEditor() );\n\n\t\t\t\t\t\t//Open Column Editor;\n\t\t\t\t\t\tcolumn_editor.show();\n\n\t\t\t\t\t}\n\t\t\t\t} );\n\t\t\t} );\n\t\t};\n\n\t\tvar setLabels = function() {\n\t\t\tvar unselected_items_label = a_dropdown_this.find( '#unSelectedItemsLabel' );\n\t\t\tvar un_deselect_all_btn = a_dropdown_this.find( '#unDeselectAllBtn' );\n\t\t\tvar unselect_all_btn = a_dropdown_this.find( '#unselect_all_btn' );\n\t\t\tvar un_clear_btn = a_dropdown_this.find( '#un_clear_btn' );\n\t\t\tvar show_all_check_box_label = a_dropdown_this.find( '#show_all_check_box_label' );\n\n\t\t\tif ( allow_multiple_selection ) {\n\t\t\t\tunselected_items_label.text( $.i18n._( 'UNSELECTED ITEMS' ) );\n\t\t\t} else {\n\t\t\t\tunselected_items_label.text( $.i18n._( 'PLEASE SELECT ITEM' ) );\n\t\t\t}\n\t\t\tun_deselect_all_btn.text( $.i18n._( 'Deselect All' ) );\n\t\t\tunselect_all_btn.text( $.i18n._( 'Select All' ) );\n\t\t\tun_clear_btn.text( $.i18n._( 'Move All' ) );\n\t\t\tshow_all_check_box_label.text( $.i18n._( 'Show All' ) );\n\n\t\t\tvar selectedItemsLabel = a_dropdown_this.find( '#selectedItemsLabel' );\n\t\t\tvar delete_all_btn = a_dropdown_this.find( '#delete_all_btn' );\n\t\t\tvar select_all_btn = a_dropdown_this.find( '#select_all_btn' );\n\t\t\tvar clear_btn = a_dropdown_this.find( '#clear_btn' );\n\n\t\t\tselectedItemsLabel.text( $.i18n._( 'SELECTED ITEMS' ) );\n\t\t\tdelete_all_btn.text( $.i18n._( 'Deselect All' ) );\n\t\t\tselect_all_btn.text( $.i18n._( 'Select All' ) );\n\t\t\tclear_btn.text( $.i18n._( 'Move All' ) );\n\n\t\t};\n\n\t\tthis.selectNextItem = function( e ) {\n\t\t\tvar next_index;\n\t\t\tvar target_grid;\n\t\t\tvar next_select_item;\n\t\t\tif ( e.keyCode === 39 ) { //right\n\t\t\t\tif ( allow_multiple_selection && !$( e.target ).hasClass( 'search-input' ) ) {\n\t\t\t\t\te.preventDefault();\n\t\t\t\t\ta_dropdown_this.onUnSelectGridDoubleClick();\n\t\t\t\t}\n\t\t\t} else if ( e.keyCode === 37 ) { //left\n\t\t\t\tif ( allow_multiple_selection && !$( e.target ).hasClass( 'search-input' ) ) {\n\t\t\t\t\te.preventDefault();\n\t\t\t\t\ta_dropdown_this.onSelectGridDoubleClick();\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif ( quick_search_timer ) {\n\t\t\t\t\tclearTimeout( quick_search_timer );\n\t\t\t\t}\n\t\t\t\tvar focus_target = $( ':focus' );\n\t\t\t\tif ( focus_target.length > 0 && $( focus_target[0] ).hasClass( 'search-input' ) ) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tquick_search_timer = setTimeout( function() {\n\t\t\t\t\tquick_search_typed_keys = '';\n\t\t\t\t}, 200 );\n\t\t\t\te.preventDefault();\n\t\t\t\tquick_search_typed_keys = quick_search_typed_keys + Global.KEYCODES[e.which];\n\t\t\t\tif ( allow_multiple_selection || tree_mode ) {\n\t\t\t\t\tif ( quick_search_typed_keys ) {\n\t\t\t\t\t\ttarget_grid = a_dropdown_this.getFocusInSeletGrid() ? a_dropdown_this.getSelectGrid() : a_dropdown_this.getUnSelectGrid();\n\t\t\t\t\t\tvar search_index = quick_search_dic[quick_search_typed_keys] ? quick_search_dic[quick_search_typed_keys] : 0;\n\t\t\t\t\t\tvar tds = $( target_grid.grid.find( 'tr' ).find( 'td:eq(1)' ).filter( function() {\n\t\t\t\t\t\t\treturn $.text( [this] ).toLowerCase().indexOf( quick_search_typed_keys ) == 0;\n\t\t\t\t\t\t} ) );\n\t\t\t\t\t\tvar td;\n\t\t\t\t\t\tif ( search_index < 0 || search_index > tds.length ) {\n\t\t\t\t\t\t\tsearch_index = 0;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\ttd = $( tds[search_index] );\n\t\t\t\t\t\ta_dropdown_this.unSelectAll( target_grid.grid, true );\n\n\t\t\t\t\t\tnext_index = td.parent().index() - 1;\n\n\t\t\t\t\t\tvar next_select_item = false;\n\t\t\t\t\t\tvar grid_data = target_grid.getData();\n\t\t\t\t\t\tfor ( var z = 0; z < grid_data.length; z++ ) {\n\t\t\t\t\t\t\tif ( grid_data[z].id == td.parents( 'tr' ).attr( 'id' ) ) {\n\t\t\t\t\t\t\t\tnext_select_item = grid_data[z];\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tselect_item = next_select_item;\n\t\t\t\t\t\ta_dropdown_this.setSelectItem( next_select_item, target_grid );\n\t\t\t\t\t\tquick_search_dic = {};\n\t\t\t\t\t\tquick_search_dic[quick_search_typed_keys] = search_index + 1;\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\t\t\t\t\tif ( quick_search_typed_keys ) {\n\t\t\t\t\t\tsearch_index = quick_search_dic[quick_search_typed_keys] ? quick_search_dic[quick_search_typed_keys] : 0;\n\t\t\t\t\t\ttds = $( a_dropdown_this.getUnSelectGrid().find( 'tr' ).find( 'td:first' ).filter( function() {\n\t\t\t\t\t\t\treturn $.text( [this] ).toLowerCase().indexOf( quick_search_typed_keys ) == 0;\n\t\t\t\t\t\t} ) );\n\t\t\t\t\t\tif ( search_index > 0 && search_index < tds.length ) {\n\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tsearch_index = 0;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\ttd = $( tds[search_index] );\n\n\t\t\t\t\t\tnext_index = td.parent().index() - 1;\n\t\t\t\t\t\tnext_select_item = this.getItemByIndex( next_index );\n\t\t\t\t\t\tselect_item = next_select_item;\n\t\t\t\t\t\ta_dropdown_this.setSelectItem( next_select_item );\n\n\t\t\t\t\t\tquick_search_dic = {};\n\t\t\t\t\t\tquick_search_dic[quick_search_typed_keys] = search_index + 1;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t};\n\n\t\t//For multiple items like .xxx could contains a few widgets.\n\t\t//#2353 removed $.each because it's slower\n\t\tfor ( var i = 0; i < this.length; i++ ) {\n\t\t\tvar obj = $( this[i] ); //#2353 - caching the lookup to speed this part up.\n\t\t\tvar o = $.meta ? $.extend( {}, opts, obj.data() ) : opts;\n\n\t\t\tif ( o.default_height > 150 ) {\n\t\t\t\tdefault_height = o.default_height;\n\t\t\t}\n\n\t\t\tfield = o.field;\n\n\t\t\tif ( o.search_input_filter ) {\n\t\t\t\tunselect_grid_search_map = o.search_input_filter;\n\t\t\t}\n\n\t\t\tif ( o.select_grid_search_input_filter ) {\n\t\t\t\tselect_grid_search_map = o.select_grid_search_input_filter;\n\t\t\t}\n\n\t\t\tif ( o.default_sort_filter ) {\n\t\t\t\tunselect_grid_sort_map = o.default_sort_filter;\n\t\t\t}\n\n\t\t\tif ( o.default_select_grid_sort_filter ) {\n\t\t\t\tselect_grid_sort_map = o.default_select_grid_sort_filter;\n\t\t\t}\n\n\t\t\tif ( o.auto_sort ) {\n\t\t\t\tauto_sort = o.auto_sort;\n\t\t\t}\n\n\t\t\tif ( Global.isSet( o.allow_multiple_selection ) ) {\n\t\t\t\tallow_multiple_selection = o.allow_multiple_selection;\n\t\t\t}\n\n\t\t\tif ( o.column_option_key ) {\n\t\t\t\tcolumn_option_key = o.column_option_key;\n\t\t\t}\n\n\t\t\tif ( o.api ) {\n\t\t\t\tapi = o.api;\n\t\t\t}\n\n\t\t\tif ( o.hasOwnProperty( 'display_column_settings' ) ) {\n\t\t\t\tdisplay_column_settings = o.display_column_settings;\n\t\t\t}\n\n\t\t\tif ( o.resize_grids ) {\n\t\t\t\tresize_grids = o.resize_grids;\n\t\t\t} else {\n\t\t\t\tresize_grids = false;\n\t\t\t}\n\n\t\t\t//Init paging widget\n\n\t\t\tleft_buttons_div = obj.find( '.left-buttons-div' );\n\t\t\tright_buttons_div = obj.find( '.right-buttons-div' );\n\n\t\t\tstart = obj.find( '.start' );\n\t\t\tlast = obj.find( '.last' );\n\t\t\tnext = obj.find( '.next' );\n\t\t\tend = obj.find( '.end' );\n\n\t\t\tstart.text( $.i18n._( 'Start' ) );\n\t\t\tlast.text( $.i18n._( 'Previous' ) );\n\n\t\t\tnext.text( $.i18n._( 'Next' ) );\n\t\t\tend.text( $.i18n._( 'End' ) );\n\n\t\t\tstart.click( function() {\n\t\t\t\tif ( left_buttons_enable ) {\n\t\t\t\t\tparent_a_combo_box.onADropDownSearch( 'unselect_grid', 'start' );\n\t\t\t\t}\n\t\t\t} );\n\n\t\t\tlast.click( function() {\n\t\t\t\tif ( left_buttons_enable ) {\n\t\t\t\t\tparent_a_combo_box.onADropDownSearch( 'unselect_grid', 'last' );\n\t\t\t\t}\n\t\t\t} );\n\n\t\t\tnext.click( function() {\n\t\t\t\tif ( right_buttons_enable ) {\n\t\t\t\t\tparent_a_combo_box.onADropDownSearch( 'unselect_grid', 'next' );\n\t\t\t\t}\n\t\t\t} );\n\n\t\t\tend.click( function() {\n\t\t\t\tif ( right_buttons_enable ) {\n\t\t\t\t\tparent_a_combo_box.onADropDownSearch( 'unselect_grid', 'end' );\n\t\t\t\t}\n\t\t\t} );\n\n\t\t\tleft_buttons_div.css( 'display', 'none' );\n\t\t\tright_buttons_div.css( 'display', 'none' );\n\n\t\t\tif ( LocalCacheData.paging_type !== 10 ) {\n\t\t\t\t//Click to show more button below the last row\n\t\t\t\tpaging_widget = Global.loadWidgetByName( WidgetNamesDic.PAGING );\n\t\t\t}\n\n\t\t\t//Display 'Displaying XX of xx, Selected: xxx'\n\t\t\ttotal_display_span = obj.find( '.total-number-span' );\n\n\t\t\tif ( allow_multiple_selection ) {\n\t\t\t\ttotal_display_span.text( $.i18n._( 'Displaying' ) + ' 0 ' + $.i18n._( 'of' ) + ' 0 ' + $.i18n._( 'total' ) );\n\t\t\t} else {\n\t\t\t\ttotal_display_span.text( $.i18n._( 'Displaying' ) + ' 0 - 0 ' + $.i18n._( 'of' ) + ' 0 ' + $.i18n._( 'total' ) + '. ' + $.i18n._( 'Selected' ) + ': 0' );\n\t\t\t}\n\n\t\t\tif ( !allow_multiple_selection ) {\n\t\t\t\tvar unselect_grd_border_div = obj.find( '.unselect-grid-border-div' );\n\t\t\t\tunselect_grd_border_div.addClass( 'single-mode-border' );\n\n\t\t\t}\n\n\t\t\tvar unselect_grd_div = obj.find( '.unselect-grid-div' );\n\n\t\t\tunselect_grd_div.bind( 'click', function() {\n\t\t\t\tfocus_in_select_grid = false;\n\n\t\t\t} );\n\n\t\t\tvar select_grid_div = obj.find( '.select-grid-div' );\n\t\t\tvar left_and_right_div = obj.find( '.left-and-right-div' );\n\t\t\tvar unselected_items_label = obj.find( '#unselected_items_label' );\n\t\t\tvar selected_items_label = obj.find( '#selected_items_label' );\n\n\t\t\tselect_grid_div.bind( 'click', function() {\n\t\t\t\tfocus_in_select_grid = true;\n\n\t\t\t} );\n\n\t\t\tif ( !allow_multiple_selection ) {\n\t\t\t\tselect_grid_div.css( 'display', 'none' );\n\t\t\t\tleft_and_right_div.css( 'display', 'none' );\n\t\t\t\tunselected_items_label.text( $.i18n._( 'SELECT AN ITEM' ) );\n\t\t\t} else {\n\t\t\t\tselect_grid_div.css( 'display', 'inline-block' );\n\t\t\t\tleft_and_right_div.css( 'display', 'inline-block' );\n\t\t\t\tunselected_items_label.text( $.i18n._( 'UNSELECTED ITEMS' ) );\n\t\t\t\tselected_items_label.text( $.i18n._( 'SELECTED ITEMS' ) );\n\t\t\t}\n\n\t\t\tif ( Global.isSet( o.allow_drag_to_order ) ) {\n\t\t\t\tallow_drag_to_order = o.allow_drag_to_order;\n\t\t\t}\n\n\t\t\t//Set UI visibility\n\t\t\tif ( o.display_show_all === true ) {\n\n\t\t\t\tvar show_all_check_box = obj.find( '#show_all_check_box' );\n\n\t\t\t\tshow_all_check_box.css( 'display', 'normal' );\n\t\t\t\tobj.find( '#show_all_check_box_label' ).css( 'display', 'normal' );\n\n\t\t\t\tif ( o.show_all === true ) {\n\t\t\t\t\tshow_all_check_box.prop( 'checked', 'true' );\n\t\t\t\t} else {\n\t\t\t\t\tshow_all_check_box.prop( 'checked', undefined );\n\t\t\t\t}\n\n\t\t\t\tobj.find( '#show_all_check_box' ).click( function() {\n\t\t\t\t\tvar show_all_checked = false;\n\t\t\t\t\tif ( show_all_check_box.prop( 'checked' ) === 'checked' || show_all_check_box[0].checked === true ) {\n\t\t\t\t\t\tshow_all_checked = true;\n\t\t\t\t\t}\n\n\t\t\t\t\tparent_a_combo_box.onShowAll( show_all_checked );\n\n\t\t\t\t} );\n\n\t\t\t} else {\n\t\t\t\tobj.find( '#show_all_check_box' ).css( 'display', 'none' );\n\t\t\t\tobj.find( '#show_all_check_box_label' ).css( 'display', 'none' );\n\n\t\t\t}\n\n\t\t\tif ( o.comboBox ) {\n\t\t\t\tparent_a_combo_box = o.comboBox;\n\n\t\t\t\tif ( parent_a_combo_box.allow_multiple_selection ) {\n\t\t\t\t\tobj.css( 'min-Width', 958 );\n\t\t\t\t} else {\n\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tobj.css( 'min-Width', 958 );\n\t\t\t}\n\n\t\t\tid = o.id;\n\n\t\t\tobj.attr( 'id', o.id + 'ADropDown' );\n\n\t\t\tif ( o.max_height ) {\n\t\t\t\tmax_height = o.max_height;\n\t\t\t}\n\n\t\t\tif ( o.static_height ) {\n\t\t\t\tstatic_height = o.static_height;\n\t\t\t\tmax_height = o.static_height;\n\t\t\t}\n\n\t\t\tif ( o.key ) {\n\t\t\t\tkey = o.key;\n\t\t\t}\n\n\t\t\tif ( o.show_search_inputs ) {\n\t\t\t\tshow_search_inputs = o.show_search_inputs;\n\t\t\t}\n\n\t\t\tif ( o.tree_mode ) {\n\t\t\t\ttree_mode = o.tree_mode;\n\t\t\t}\n\n\t\t\tif ( o.on_tree_grid_row_select ) {\n\t\t\t\ton_tree_grid_row_select = o.on_tree_grid_row_select;\n\t\t\t}\n\n\t\t\t//All options set, NOW we init the label and column settings button\n\t\t\tsetLabels();\n\t\t\tinitColumnSettingsBtn();\n\n\t\t\tunselect_grid = obj.find( '.unselect-grid' ); //Must add id for them\n\n\t\t\tunselect_grid.attr( 'id', 'unselect_grid' + '_' + id );\n\t\t\tvar unselect_grid_data = {};\n\t\t\tif ( !tree_mode ) {\n\t\t\t\tunselect_grid_data = {\n\t\t\t\t\twidth: 440,\n\t\t\t\t\t//maxHeight: default_height,\n\t\t\t\t\tonCellSelect: a_dropdown_this.onUnSelectGridSelectRow,\n\t\t\t\t\tondblClickRow: a_dropdown_this.onUnSelectGridDoubleClick,\n\t\t\t\t\tmultiselect: allow_multiple_selection,\n\t\t\t\t\twinMultiSelect: allow_multiple_selection,\n\t\t\t\t\tmultiboxonly: allow_multiple_selection\n\t\t\t\t};\n\t\t\t} else {\n\t\t\t\tunselect_grid_data = {\n\n\t\t\t\t\twidth: 440,\n\t\t\t\t\t//maxHeight: default_height,\n\t\t\t\t\tsortname: 'id',\n\t\t\t\t\tonCellSelect: a_dropdown_this.onUnSelectGridSelectRow,\n\t\t\t\t\tondblClickRow: a_dropdown_this.onUnSelectGridDoubleClick,\n\t\t\t\t\tmultiselect: allow_multiple_selection,\n\t\t\t\t\twinMultiSelect: allow_multiple_selection,\n\t\t\t\t\tgridview: true,\n\t\t\t\t\ttreeGrid: true,\n\t\t\t\t\ttreeGridModel: 'adjacency',\n\t\t\t\t\ttreedatatype: 'local',\n\t\t\t\t\tExpandColumn: 'name',\n\t\t\t\t\tjsonReader: {\n\t\t\t\t\t\trepeatitems: false,\n\t\t\t\t\t\troot: function( obj ) {\n\t\t\t\t\t\t\treturn obj;\n\t\t\t\t\t\t},\n\t\t\t\t\t\tpage: function( obj ) {\n\t\t\t\t\t\t\treturn 1;\n\t\t\t\t\t\t},\n\t\t\t\t\t\ttotal: function( obj ) {\n\t\t\t\t\t\t\treturn 1;\n\t\t\t\t\t\t},\n\t\t\t\t\t\trecords: function( obj ) {\n\t\t\t\t\t\t\treturn obj.length;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t}\n\t\t\tif ( max_height ) {\n\t\t\t\tunselect_grid_data.maxHeight = max_height;\n\t\t\t}\n\n\t\t\tif ( static_height ) {\n\t\t\t\tunselect_grid_data.static_height = static_height;\n\t\t\t}\n\n\t\t\tunselect_grid = new TTGrid( 'unselect_grid' + '_' + id, unselect_grid_data, [] );\n\n\t\t\tselect_grid = obj.find( '.select-grid' );\n\n\t\t\tselect_grid.attr( 'id', 'select_grid' + '_' + id );\n\n\t\t\tselect_grid = new TTGrid( 'select_grid' + '_' + id, {\n\t\t\t\tcontainer_selector: '.select-grid-div',\n\t\t\t\taltRows: true,\n\t\t\t\tdata: [],\n\t\t\t\tdatatype: 'local',\n\t\t\t\tsortable: false,\n\t\t\t\twidth: 440,\n\t\t\t\t//maxHeight: default_height,\n\t\t\t\trowNum: 10000,\n\t\t\t\tcolNames: [],\n\t\t\t\tcolModel: [],\n\t\t\t\tondblClickRow: a_dropdown_this.onSelectGridDoubleClick,\n\t\t\t\tmultiselect: allow_multiple_selection,\n\t\t\t\twinMultiSelect: allow_multiple_selection,\n\t\t\t\tmultiboxonly: true,\n\t\t\t\tviewrecords: true,\n\t\t\t\tonResizeGrid: resize_grids,\n\t\t\t\tmaxHeight: max_height,\n\t\t\t\tstatic_height: static_height ? static_height : null\n\n\t\t\t}, [] );\n\n\t\t\tvar right_arrow = obj.find( '.a-grid-right-arrow' );\n\t\t\tvar left_arrow = obj.find( '.a-grid-left-arrow' );\n\n\t\t\tright_arrow.attr( 'src', Global.getRealImagePath( 'css/global/widgets/awesomebox/images/nav_right.png' ) );\n\t\t\tleft_arrow.attr( 'src', Global.getRealImagePath( 'css/global/widgets/awesomebox/images/nav_left.png' ) );\n\n\t\t\tright_arrow.click( function() {\n\n\t\t\t\tif ( !tree_mode ) {\n\t\t\t\t\tvar grid_selected_id_array = unselect_grid.grid.jqGrid( 'getGridParam', 'selarrrow' );\n\t\t\t\t\tvar grid_selected_length = grid_selected_id_array.length;\n\t\t\t\t\tif ( grid_selected_length > 0 ) {\n\t\t\t\t\t\ta_dropdown_this.moveItems( true, grid_selected_id_array );\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tvar selectRow = unselect_grid.grid.jqGrid( 'getGridParam', 'selrow' );\n\t\t\t\t\ta_dropdown_this.moveItems( true, [selectRow] );\n\t\t\t\t}\n\n\t\t\t} );\n\n\t\t\tleft_arrow.click( function() {\n\t\t\t\tvar grid_selected_id_array = select_grid.grid.jqGrid( 'getGridParam', 'selarrrow' );\n\t\t\t\tvar grid_selected_length = grid_selected_id_array.length;\n\n\t\t\t\tif ( grid_selected_length > 0 ) {\n\t\t\t\t\ta_dropdown_this.moveItems( false, grid_selected_id_array );\n\t\t\t\t}\n\n\t\t\t} );\n\n\t\t\t//Set Action  Buttons\n\n\t\t\t//UnSelect grid\n\t\t\tvar unselect_all_btn = obj.find( '#unselect_all_btn' );\n\n\t\t\tunselect_all_btn.click( function() {\n\t\t\t\tselectAllInGrid( unselect_grid );\n\t\t\t} );\n\n\t\t\tvar un_deselect_all_Btn = obj.find( '#unDeselectAllBtn' );\n\n\t\t\tun_deselect_all_Btn.click( function() {\n\t\t\t\tselectAllInGrid( unselect_grid, true );\n\n\t\t\t} );\n\n\t\t\tvar un_clear_btn = obj.find( '#un_clear_btn' );\n\n\t\t\tun_clear_btn.click( function() {\n\t\t\t\tcleanAllInGrid( unselect_grid, true );\n\n\t\t\t} );\n\n\t\t\tif ( tree_mode || !allow_multiple_selection ) {\n\t\t\t\tunselect_all_btn.css( 'display', 'none' );\n\t\t\t\tun_deselect_all_Btn.css( 'display', 'none' );\n\t\t\t\tun_clear_btn.css( 'display', 'none' );\n\t\t\t} else {\n\t\t\t\tunselect_all_btn.css( 'display', 'inline-block' );\n\t\t\t\tun_deselect_all_Btn.css( 'display', 'inline-block' );\n\t\t\t\tun_clear_btn.css( 'display', 'inline-block' );\n\t\t\t}\n\n\t\t\t//Select Grid\n\t\t\tvar select_all_btn = obj.find( '#select_all_btn' );\n\n\t\t\tselect_all_btn.click( function() {\n\t\t\t\tselectAllInGrid( select_grid );\n\n\t\t\t} );\n\n\t\t\tvar delete_all_btn = obj.find( '#delete_all_btn' );\n\n\t\t\tdelete_all_btn.click( function() {\n\t\t\t\tselectAllInGrid( select_grid, true );\n\n\t\t\t} );\n\n\t\t\tvar clear_btn = obj.find( '#clear_btn' );\n\n\t\t\tclear_btn.click( function() {\n\t\t\t\tcleanAllInGrid( select_grid );\n\t\t\t} );\n\n\t\t\tvar select_grid_close_btn = obj.find( '#select_grid_close_btn' );\n\t\t\tvar unselect_grid_close_btn = obj.find( '#unselect_grid_close_btn' );\n\n\t\t\tif ( allow_multiple_selection ) {\n\t\t\t\tunselect_grid_close_btn.css( 'display', 'none' );\n\t\t\t} else {\n\t\t\t\tunselect_grid_close_btn.css( 'display', 'inline-block' );\n\t\t\t\tunselect_grid_close_btn.click( function() {\n\t\t\t\t\ta_dropdown_this.trigger( 'close', [a_dropdown_this] );\n\t\t\t\t} );\n\t\t\t}\n\t\t\tif ( Global.isSet( o.display_close_btn ) && !o.display_close_btn ) {\n\t\t\t\tselect_grid_close_btn.css( 'display', 'none' );\n\t\t\t} else {\n\t\t\t\tselect_grid_close_btn.css( 'display', 'inline-block' );\n\t\t\t\tselect_grid_close_btn.click( function() {\n\t\t\t\t\ta_dropdown_this.trigger( 'close', [a_dropdown_this] );\n\t\t\t\t} );\n\t\t\t}\n\n\t\t\t//Move all records from target grid to another\n\t\t\tfunction cleanAllInGrid( target, left_to_right ) {\n\n\t\t\t\ta_dropdown_this.removeNoResultCover( 'unselect_grid' );\n\t\t\t\ta_dropdown_this.removeNoResultCover( 'select_grid' );\n\n\t\t\t\tisChanged = true;\n\t\t\t\tvar finalArray = [];\n\t\t\t\tif ( left_to_right ) {\n\t\t\t\t\tvar source_grid = unselect_grid;\n\t\t\t\t\tvar target_grid = select_grid;\n\t\t\t\t\tvar source_data = unselect_grid.getData();\n\t\t\t\t\tvar target_data = select_grid.getData();\n\t\t\t\t} else {\n\t\t\t\t\tsource_grid = select_grid;\n\t\t\t\t\ttarget_grid = unselect_grid;\n\t\t\t\t\tsource_data = select_grid.getData();\n\t\t\t\t\ttarget_data = unselect_grid.getData();\n\t\t\t\t}\n\n\t\t\t\tif ( tree_mode ) {\n\t\t\t\t\tsource_grid.clearGridData();\n\t\t\t\t\tsource_grid.grid.trigger( 'reloadGrid' );\n\t\t\t\t\ta_dropdown_this.setTotalDisplaySpan();\n\t\t\t\t\ta_dropdown_this.getUnSelectGrid().grid.find( 'tr' ).removeClass( 'selected-tree-cell' );\n\t\t\t\t} else {\n\t\t\t\t\tfinalArray = target_data.concat( source_data );\n\t\t\t\t\ttarget_grid.setData( finalArray );\n\n\t\t\t\t\t//#2721 - This helps fixes a bug where if you expand a awesomebox (ie: Edit Policy Group, Absence Policys), on right-hand side click clear search. Click Move All on right-hand side. Collapse, expand, click move All left-hand side. Both sides are now blank.\n\t\t\t\t\tif ( left_to_right ) {\n\t\t\t\t\t\treal_selected_items = finalArray; // Fixes #2721\n\t\t\t\t\t} else {\n\t\t\t\t\t\treal_selected_items = [];\n\t\t\t\t\t}\n\n\t\t\t\t\tsource_grid.clearGridData();\n\t\t\t\t\tsource_grid.grid.trigger( 'reloadGrid' );\n\t\t\t\t\ta_dropdown_this.setTotalDisplaySpan();\n\t\t\t\t}\n\t\t\t\tif ( !parent_a_combo_box ) {\n\t\t\t\t\ta_dropdown_this.trigger( 'formItemChange', [a_dropdown_this] );\n\t\t\t\t}\n\n\t\t\t\ta_dropdown_this.setSelectGridDragAble();\n\t\t\t\ta_dropdown_this.setUnSelectGridDragAble();\n\t\t\t}\n\n\t\t}\n\n\t\treturn this;\n\n\t};\n\n\t$.fn.ADropDown.defaults = {};\n\n} )( jQuery );\n"],"sourceRoot":""}