(self.webpackChunktimetrex=self.webpackChunktimetrex||[]).push([["wizard-process_payroll-ProcessPayrollWizardController"],{5630:(e,t,i)=>{"use strict";i.r(t),i.d(t,{"ProcessPayrollWizardController":()=>a});class a extends BaseWizardController{constructor(e={}){_.defaults(e,{el:".wizard-bg",all_columns:null,pay_stub_transaction_columns:null,api_pay_period:null,api_pay_stub:null,api_pay_stub_transaction:null,alert_message:$.i18n._("Please select one or more pay periods in the list above to enable icons."),transaction_source_data:null}),super(e)}init(e){this.title=$.i18n._("Payroll Processing Wizard"),this.steps=9,this.current_step=1,this.script_name="wizard_process_payroll",this.wizard_id="ProcessPayrollWizard",this.api_pay_period=TTAPI.APIPayPeriod,this.api_pay_stub=TTAPI.APIPayStub,this.api_pay_stub_transaction=TTAPI.APIPayStubTransaction,this.render()}render(){super.render(),this.initUserGenericData()}setButtonsStatus(){Global.setWidgetEnabled(this.done_btn,!1),Global.setWidgetEnabled(this.close_btn,!0),1===this.current_step?Global.setWidgetEnabled(this.back_btn,!1):Global.setWidgetEnabled(this.back_btn,!0),this.current_step!==this.steps?(Global.setWidgetEnabled(this.done_btn,!1),Global.setWidgetEnabled(this.next_btn,!0),this.stepsWidgetDic[1]&&(!this.stepsWidgetDic[1].pay_period_id.getValue()||this.stepsWidgetDic[1].pay_period_id.getValue().length<1)&&Global.setWidgetEnabled(this.next_btn,!1)):(Global.setWidgetEnabled(this.done_btn,!0),Global.setWidgetEnabled(this.next_btn,!1))}buildCurrentStepUI(){var e=this;switch(this.content_div.empty(),this.current_step){case 1:var t=this.getLabel();t.text($.i18n._("Select one or more pay periods to process payroll for")+":");var i=this.getAComboBox(TTAPI.APIPayPeriod,!0,"global_Pay_period","pay_period_id"),a=$("<div class='wizard-acombobox-div'></div>");a.append(i),i.unbind("formItemChange").bind("formItemChange",(function(){e.setButtonsStatus()})),this.stepsWidgetDic[this.current_step]={},this.stepsWidgetDic[this.current_step][i.getField()]=i,this.content_div.append(t),this.content_div.append(a);break;case 2:(t=this.getLabel()).text($.i18n._("Confirm all requests are authorized")+":"),this.content_div.append(t),this.stepsWidgetDic[this.current_step]={};var s="pending_request",n=$("<div class='grid-div wizard-grid-div'> <table id='"+s+"'></table></div>");this.setGrid(s,n,!0);var r=this.getRibbonButtonBox(),o=this.getRibbonButton(ContextMenuIconName.request,Global.getRibbonIconRealPath(Icons.request),$.i18n._("Requests"));o.unbind("click").bind("click",(function(){e.onNavigationClick(ContextMenuIconName.request)})),r.children().eq(0).append(o),this.content_div.append(r);break;case 3:(t=this.getLabel()).text($.i18n._("Confirm that no critical exceptions exist")+":"),this.content_div.append(t),this.stepsWidgetDic[this.current_step]={},s="exceptions",n=$("<div class='grid-div wizard-grid-div'> <table id='"+s+"'></table></div>"),this.setGrid(s,n,!0),r=this.getRibbonButtonBox();var l=this.getRibbonButton(ContextMenuIconName.exceptions,Global.getRibbonIconRealPath(Icons.exceptions),$.i18n._("Exceptions"));l.unbind("click").bind("click",(function(){e.onNavigationClick(ContextMenuIconName.exceptions)})),r.children().eq(0).append(l),this.content_div.append(r);break;case 4:(t=this.getLabel()).text($.i18n._("Confirm timesheets are verified")+":"),this.content_div.append(t),this.stepsWidgetDic[this.current_step]={},s="timesheet",n=$("<div class='grid-div wizard-grid-div'> <table id='"+s+"'></table></div>"),this.setGrid(s,n,!0),r=this.getRibbonButtonBox(),l=this.getRibbonButton(ContextMenuIconName.timesheet_reports,Global.getRibbonIconRealPath(Icons.timesheet_reports),$.i18n._("TimeSheet<br>Summary"));var d=this.getRibbonButton(ContextMenuIconName.authorization_timesheet,Global.getRibbonIconRealPath(Icons.authorization_timesheet),$.i18n._("TimeSheet<br>Authorizations"));l.unbind("click").bind("click",(function(){e.onNavigationClick(ContextMenuIconName.timesheet_reports)})),d.unbind("click").bind("click",(function(){e.onNavigationClick(ContextMenuIconName.authorization_timesheet)})),r.children().eq(0).append(l),r.children().eq(0).append(d),this.content_div.append(r);break;case 5:(t=this.getLabel()).text($.i18n._("Lock pay periods to prevent changes")+":"),this.content_div.append(t),this.stepsWidgetDic[this.current_step]={},s="lock_pay_period",n=$("<div class='grid-div wizard-grid-div'> <table id='"+s+"'></table></div>"),this.setGrid(s,n,!0),r=this.getRibbonButtonBox(),l=this.getRibbonButton(ContextMenuIconName.lock,Global.getRibbonIconRealPath(Icons.lock),$.i18n._("Lock")),d=this.getRibbonButton(ContextMenuIconName.unlock,Global.getRibbonIconRealPath(Icons.unlock),$.i18n._("UnLock")),l.unbind("click").bind("click",(function(){$(this).hasClass("disable-image")?TAlertManager.showAlert(e.alert_message):e.onNavigationClick(ContextMenuIconName.lock)})),d.unbind("click").bind("click",(function(){$(this).hasClass("disable-image")?TAlertManager.showAlert(e.alert_message):e.onNavigationClick(ContextMenuIconName.unlock)})),this.stepsWidgetDic[this.current_step].lock=l,this.stepsWidgetDic[this.current_step].unlock=d,r.children().eq(0).append(l),r.children().eq(0).append(d),this.content_div.append(r);break;case 6:(t=this.getLabel()).text($.i18n._("Create any necessary pay stub amendments")+":"),this.content_div.append(t),this.stepsWidgetDic[this.current_step]={},s="pay_stub_amendments",n=$("<div class='grid-div wizard-grid-div'> <table id='"+s+"'></table></div>"),this.setGrid(s,n,!0),r=this.getRibbonButtonBox(),(l=this.getRibbonButton(ContextMenuIconName.pay_stub_amendment,Global.getRibbonIconRealPath(Icons.pay_stub_amendment),$.i18n._("Pay Stub<br>Amendments"))).unbind("click").bind("click",(function(){e.onNavigationClick(ContextMenuIconName.pay_stub_amendment)})),r.children().eq(0).append(l),this.content_div.append(r);break;case 7:(t=this.getLabel()).text($.i18n._("Generate pay stubs")+":"),this.content_div.append(t),this.stepsWidgetDic[this.current_step]={},s="pay_stub_generate",n=$("<div class='grid-div wizard-grid-div'> <table id='"+s+"'></table></div>"),this.setGrid(s,n,!0),r=this.getRibbonButtonBox(),l=this.getRibbonButton(ContextMenuIconName.generate_pay_stub,Global.getRibbonIconRealPath(Icons.re_cal_pay_stub),$.i18n._("Generate<br>Pay Stubs")),d=this.getRibbonButton(ContextMenuIconName.pay_stub,Global.getRibbonIconRealPath(Icons.pay_stubs),$.i18n._("Pay<br>Stubs"));var c=this.getRibbonButton(ContextMenuIconName.pay_stub_summary,Global.getRibbonIconRealPath(Icons.pay_stub_account),$.i18n._("Pay Stub<br>Summary"));l.unbind("click").bind("click",(function(){$(this).hasClass("disable-image")?TAlertManager.showAlert(e.alert_message):e.onNavigationClick(ContextMenuIconName.generate_pay_stub)})),d.unbind("click").bind("click",(function(){e.onNavigationClick(ContextMenuIconName.pay_stub)})),c.unbind("click").bind("click",(function(){e.onNavigationClick(ContextMenuIconName.pay_stub_summary)})),this.stepsWidgetDic[this.current_step].generate_pay_stub=l,r.children().eq(0).append(l),r.children().eq(0).append(d),r.children().eq(0).append(c),this.content_div.append(r);break;case 8:(t=this.getLabel()).text($.i18n._("Process transactions")+":"),this.content_div.append(t),this.stepsWidgetDic[this.current_step]={},$(".wizard .content").css("opacity",0),TTPromise.add("wizard","step8"),TTPromise.wait("wizard","step8",(function(){$(".wizard .content").css("opacity",1)})),s="pay_stub_transfer",n=$("<div class='grid-div wizard-grid-div'> <table id='"+s+"'></table></div> <hr>"),this.setGrid(s,n,!0),s="pay_stub_transaction",n=$("<div class='grid-div wizard-grid-div'> <table id='"+s+"'></table></div>"),this.setGrid(s,n,!1).setGridHeight(Math.floor((this.content_div.height()-150)/2)),r=this.getRibbonButtonBox();var _=this.getRibbonButton(ContextMenuIconName.direct_deposit,Global.getRibbonIconRealPath("direct_deposit-35x35.png"),$.i18n._("Process<br>Transactions"));d=this.getRibbonButton(ContextMenuIconName.pay_stub_transaction_summary,Global.getRibbonIconRealPath(Icons.payroll_export_report),$.i18n._("Pay Stub<br>Transaction Summary")),c=this.getRibbonButton(ContextMenuIconName.payroll_export_report,Global.getRibbonIconRealPath(Icons.payroll_export_report),$.i18n._("Payroll Export")),_.unbind("click").bind("click",(function(){e.onNavigationClick(ContextMenuIconName.direct_deposit)})),d.unbind("click").bind("click",(function(){e.onNavigationClick(ContextMenuIconName.pay_stub_transaction_summary)})),c.unbind("click").bind("click",(function(){e.onNavigationClick(ContextMenuIconName.payroll_export_report)})),r.children().eq(0).append(_),r.children().eq(0).append(d),r.children().eq(0).append(c),this.content_div.append(r);break;case 9:(t=this.getLabel()).text($.i18n._("Close pay period")+":"),this.content_div.append(t),this.stepsWidgetDic[this.current_step]={},s="pay_stub_close",n=$("<div class='grid-div wizard-grid-div'> <table id='"+s+"'></table></div>"),this.setGrid(s,n,!0),r=this.getRibbonButtonBox(),(l=this.getRibbonButton(ContextMenuIconName.close_pay_period,Global.getRibbonIconRealPath(Icons.close_pay_period),$.i18n._("Close"))).unbind("click").bind("click",(function(){$(this).hasClass("disable-image")?TAlertManager.showAlert(e.alert_message):e.onNavigationClick(ContextMenuIconName.close_pay_period)})),this.stepsWidgetDic[this.current_step].close=l,r.children().eq(0).append(l),this.content_div.append(r)}}onNextClick(){if(this.saveCurrentStep(),1===this.current_step){var e=this.stepsWidgetDic[this.current_step].pay_period_id.getValue();if(!e||0==e.length||e==TTUUID.zero_id||1==e.length&&e[0]==TTUUID.zero_id)return void TAlertManager.showAlert($.i18n._("Please choose a Pay Period"))}this.current_step=this.current_step+1,this.initCurrentStep()}onDoneClick(){this.cleanStepsData(),LocalCacheData.current_open_wizard_controller=null,this.saveAllStepsToUserGenericData((function(){})),this.call_back&&this.call_back(),$(this.el).remove(),$().TFeedback({source:this.wizard_id})}getGridColumns(e,t){var i=this;if("pay_stub_transaction"!=e)if(this.all_columns)l();else{s=this.api_pay_period.getOptions("columns",{async:!1}).getResult();i.all_columns=Global.buildColumnArray(s),l()}else{var a=[],s=this.api_pay_stub_transaction.getOptions("columns",{"payroll_wizard":!0},{async:!1}).getResult();for(var n in i.pay_stub_transaction_columns=Global.buildColumnArray(s),i.pay_stub_transaction_columns){var r=i.pay_stub_transaction_columns[n];if("remittance_source_account"==r.value||"remittance_source_account_type"==r.value||"currency"==r.value||"total_transactions"==r.value||"total_amount"==r.value){var o={resizable:!1,name:r.value,index:r.value,label:r.label,width:100,sortable:!1,title:!1};a.push(o)}}t(a)}function l(){var a=i.all_columns.length,s=[];switch(e){case"pending_request":for(var n=0;n<a;n++){var r=i.all_columns[n];if("start_date"==r.value||"end_date"==r.value||"transaction_date"==r.value||"pending_requests"==r.value){var o={resizable:!1,name:r.value,index:r.value,label:r.label,width:100,sortable:!1,title:!1};s.push(o)}}break;case"exceptions":for(n=0;n<a;n++)"start_date"!=(r=i.all_columns[n]).value&&"end_date"!=r.value&&"transaction_date"!=r.value&&"exceptions_high"!=r.value&&"exceptions_medium"!=r.value&&"exceptions_low"!=r.value&&"exceptions_critical"!=r.value||("exceptions_high"==r.value||"exceptions_medium"==r.value||"exceptions_low"==r.value||"exceptions_critical"==r.value?(o={resizable:!1,name:r.value,index:r.value,label:r.label,width:50,sortable:!1,title:!1},s.push(o)):(o={resizable:!1,name:r.value,index:r.value,label:r.label,width:100,sortable:!1,title:!1},s.push(o)));break;case"timesheet":for(n=0;n<a;n++)"start_date"!=(r=i.all_columns[n]).value&&"end_date"!=r.value&&"transaction_date"!=r.value&&"verified_timesheets"!=r.value&&"pending_timesheets"!=r.value&&"total_timesheets"!=r.value||("verified_timesheets"==r.value||"pending_timesheets"==r.value||"total_timesheets"==r.value?(o={resizable:!1,name:r.value,index:r.value,label:r.label,width:50,sortable:!1,title:!1},s.push(o)):(o={resizable:!1,name:r.value,index:r.value,label:r.label,width:100,sortable:!1,title:!1},s.push(o)));break;case"lock_pay_period":for(n=0;n<a;n++)"start_date"!=(r=i.all_columns[n]).value&&"end_date"!=r.value&&"transaction_date"!=r.value&&"status"!=r.value||(o={resizable:!1,name:r.value,index:r.value,label:r.label,width:100,sortable:!1,title:!1},s.push(o));break;case"pay_stub_amendments":for(n=0;n<a;n++)"start_date"!=(r=i.all_columns[n]).value&&"end_date"!=r.value&&"transaction_date"!=r.value&&"ps_amendments"!=r.value||(o={resizable:!1,name:r.value,index:r.value,label:r.label,width:100,sortable:!1,title:!1},s.push(o));break;case"pay_stub_generate":case"pay_stub_transfer":for(n=0;n<a;n++)"start_date"!=(r=i.all_columns[n]).value&&"end_date"!=r.value&&"transaction_date"!=r.value&&"pay_stubs_open"!=r.value||(o={resizable:!1,name:r.value,index:r.value,label:r.label,width:100,sortable:!1,title:!1},s.push(o));break;case"pay_stub_close":for(n=0;n<a;n++)"status"!=(r=i.all_columns[n]).value&&"start_date"!=r.value&&"end_date"!=r.value&&"transaction_date"!=r.value&&"pay_stubs_open"!=r.value||(o={resizable:!1,name:r.value,index:r.value,label:r.label,width:100,sortable:!1,title:!1},s.push(o))}t(s)}}setGridGroupColumns(e){if("exceptions"===e||"timesheet"===e){var t=$($(this.el).find("table[aria-labelledby=gbox_"+e+"]")[0]),i=$('<tr class="group-column-tr" ></tr>'),a=$('<th class="group-column-th"  ><span class="group-column-label"></span></th>');switch(e){case"exceptions":var s=t.children(0).children(0).children(),n=a.clone();n.attr("colspan","1"),n.width(s.eq(0).width()),i.append(n),(n=a.clone()).attr("colspan","3"),n.width(3*s.eq(1).width()),i.append(n),(n=a.clone()).attr("colspan","4"),n.width(4*s.eq(4).width()),n.children(0).text($.i18n._("Exceptions"));break;case"timesheet":s=t.children(0).children(0).children(),(n=a.clone()).attr("colspan","1"),n.width(s.eq(0).width()),i.append(n),(n=a.clone()).attr("colspan","3"),n.width(3*s.eq(1).width()),i.append(n),(n=a.clone()).attr("colspan","3"),n.width(3*s.eq(4).width()),n.children(0).text($.i18n._("Timesheets"))}i.append(n),t.find("thead").prepend(i)}}onNavigationClick(e){var t,i,a,s=this,n=this.stepsWidgetDic[this.current_step];switch(e){case ContextMenuIconName.exceptions:a={filter_data:{}};var r={value:t=n.exceptions.grid.jqGrid("getGridParam","selarrrow")};a.filter_data.pay_period_id=r,Global.addViewTab(this.wizard_id,$.i18n._("Process Payroll"),window.location.href),this.onCloseClick(),IndexViewController.goToView("Exception",a);break;case ContextMenuIconName.request:Global.addViewTab(this.wizard_id,$.i18n._("Process Payroll"),window.location.href),IndexViewController.goToView("Request"),this.onCloseClick();break;case ContextMenuIconName.timesheet_reports:Global.addViewTab(this.wizard_id,$.i18n._("Process Payroll"),window.location.href),this.onCloseClick(),LocalCacheData.default_filter_for_next_open_view={template:"by_pay_period_by_employee+verified_time_sheet"},IndexViewController.openReport(LocalCacheData.current_open_primary_controller,"TimesheetSummaryReport");break;case ContextMenuIconName.lock:t=n.lock_pay_period.grid.jqGrid("getGridParam","selarrrow"),i=[];for(var o=0;o<t.length;o++){(d={}).id=t[o],d.status_id=12,i.push(d)}ProgressBar.showOverlay(),this.api_pay_period.setPayPeriod(i,{onResult:function(e){e.isValid()?s.buildCurrentStepData():TAlertManager.showErrorAlert(e)}});break;case ContextMenuIconName.unlock:t=n.lock_pay_period.grid.jqGrid("getGridParam","selarrrow"),i=[];for(o=0;o<t.length;o++)(d={}).id=t[o],d.status_id=10,i.push(d);ProgressBar.showOverlay(),this.api_pay_period.setPayPeriod(i,{onResult:function(e){e.isValid()?s.buildCurrentStepData():TAlertManager.showErrorAlert(e)}});break;case ContextMenuIconName.pay_stub_amendment:Global.addViewTab(this.wizard_id,$.i18n._("Process Payroll"),window.location.href),this.onCloseClick(),a={filter_data:{pay_period_id:{value:t=n.pay_stub_amendments.grid.jqGrid("getGridParam","selarrrow")}}},IndexViewController.goToView("PayStubAmendment",a);break;case ContextMenuIconName.generate_pay_stub:t=n.pay_stub_generate.grid.jqGrid("getGridParam","selarrrow"),ProgressBar.showOverlay(),TTAPI.APIPayStub.setIsIdempotent(!0),TTAPI.APIPayStub.generatePayStubs(t,{onResult:function(e){if(e.isValid()){var t=e.getAttributeInAPIDetails("user_generic_status_batch_id");t&&TTUUID.isUUID(t)&&t!=TTUUID.zero_id&&t!=TTUUID.not_exist_id&&UserGenericStatusWindowController.open(t,[],(function(){s.buildCurrentStepData()}))}else TAlertManager.showErrorAlert(e)}});break;case ContextMenuIconName.pay_stub:Global.addViewTab(this.wizard_id,$.i18n._("Process Payroll"),window.location.href),this.onCloseClick(),a={filter_data:{pay_period_id:{value:t=(7===this.current_step?n.pay_stub_generate:n.pay_stub_transfer).grid.jqGrid("getGridParam","selarrrow")}}},IndexViewController.goToView("PayStub",a);break;case ContextMenuIconName.pay_stub_summary:Global.addViewTab(this.wizard_id,$.i18n._("Process Payroll"),window.location.href),this.onCloseClick(),IndexViewController.openReport(LocalCacheData.current_open_primary_controller,"PayStubSummaryReport");break;case ContextMenuIconName.pay_stub_transaction_summary:Global.addViewTab(this.wizard_id,$.i18n._("Process Payroll"),window.location.href),this.onCloseClick(),IndexViewController.openReport(LocalCacheData.current_open_primary_controller,"PayStubTransactionSummaryReport");break;case ContextMenuIconName.payroll_export_report:Global.addViewTab(this.wizard_id,$.i18n._("Process Payroll"),window.location.href),this.onCloseClick(),IndexViewController.openReport(LocalCacheData.current_open_primary_controller,"PayrollExportReport");break;case ContextMenuIconName.close_pay_period:t=n.pay_stub_close.grid.jqGrid("getGridParam","selarrrow"),i=[];for(o=0;o<t.length;o++)(d={}).id=t[o],d.status_id=20,i.push(d);ProgressBar.showOverlay(),this.api_pay_period.setPayPeriod(i,{onResult:function(e){e.isValid()?s.buildCurrentStepData():TAlertManager.showErrorAlert(e)}});break;case ContextMenuIconName.authorization_timesheet:Global.addViewTab(this.wizard_id,$.i18n._("Process Payroll"),window.location.href),IndexViewController.goToView("TimeSheetAuthorization"),this.onCloseClick();break;case ContextMenuIconName.direct_deposit:Global.addViewTab(this.wizard_id,$.i18n._("Process Payroll"),window.location.href);var l=n.pay_stub_transfer,d={transaction_source_data:s.transaction_source_data,filter_data:{pay_period_id:l.grid.jqGrid("getGridParam","selarrrow")}};IndexViewController.openWizardController("ProcessTransactionsWizardController",d),this.onCloseClick()}}onGridSelectRow(e){this.stepsDataDic[this.current_step];var t=this.stepsWidgetDic[this.current_step];if(5===this.current_step)(r=t.lock_pay_period).grid.jqGrid("getGridParam","selarrrow").length<1?(t.lock.addClass("disable-image"),t.unlock.addClass("disable-image")):(t.lock.removeClass("disable-image"),t.unlock.removeClass("disable-image"));else if(7===this.current_step)(r=t.pay_stub_generate).grid.jqGrid("getGridParam","selarrrow").length<1?t.generate_pay_stub.addClass("disable-image"):t.generate_pay_stub.removeClass("disable-image");else if(8===this.current_step){var i=t.pay_stub_transfer,a=t.pay_stub_transaction,s=i.grid.jqGrid("getGridParam","selarrrow");if(s.length<1){this.content_div.find("#directDepositIcon").addClass("disable-image"),(r=t.pay_stub_transaction).grid.trigger("reloadGrid"),this.setGridAutoHeight(r,this.transaction_source_data.length),this.showNoResultCover(r.grid.parents(".grid-div")),a.grid.show()}else{this.content_div.find("#directDepositIcon").removeClass("disable-image");var n=this,r=t.pay_stub_transaction;this.api_pay_stub_transaction.getPayPeriodTransactionSummary({pay_period_id:s},{onResult:function(e){n.transaction_source_data=e.getResult(),n.transaction_source_data.length>0?(n.removeNoResultCover(r.grid.parents(".grid-div")),r.setData(n.transaction_source_data),n.setGridAutoHeight(r,n.transaction_source_data.length)):n.showNoResultCover(r),a.grid.show()}})}}else 9===this.current_step&&((r=t.pay_stub_close).grid.jqGrid("getGridParam","selarrrow").length<1?t.close.addClass("disable-image"):t.close.removeClass("disable-image"))}setGridAutoHeight(e,t){t>0&&t<10?e.grid.setGridHeight(23*t):t>10&&e.grid.setGridHeight(230)}buildCurrentStepData(){if(this.stepsDataDic[1]){var e=this.stepsDataDic[1].pay_period_id;e&&0!=e.length||(e=[0]);var t,i,a={},s=this,n=this.stepsWidgetDic[this.current_step];switch(this.current_step){case 2:a.filter_columns={},a.filter_columns.id=!0,a.filter_columns.start_date=!0,a.filter_columns.end_date=!0,a.filter_columns.transaction_date=!0,a.filter_columns.pending_requests=!0,a.filter_data={},a.filter_data.id=e,this.api_pay_period.getPayPeriod(a,!0,{onResult:function(e){i=e.getResult(),(t=n.pending_request).setData(i),s.setGridSelection(t,i),s.setGridAutoHeight(t,i.length)}});break;case 3:a.filter_columns={},a.filter_columns.id=!0,a.filter_columns.start_date=!0,a.filter_columns.end_date=!0,a.filter_columns.transaction_date=!0,a.filter_columns.exceptions_high=!0,a.filter_columns.exceptions_medium=!0,a.filter_columns.exceptions_low=!0,a.filter_columns.exceptions_critical=!0,a.filter_data={},a.filter_data.id=e,this.api_pay_period.getPayPeriod(a,!0,{onResult:function(e){i=e.getResult(),(t=n.exceptions).setData(i),s.setGridSelection(t,i),s.setGridAutoHeight(t,i.length)}});break;case 4:a.filter_columns={},a.filter_columns.id=!0,a.filter_columns.start_date=!0,a.filter_columns.end_date=!0,a.filter_columns.transaction_date=!0,a.filter_columns.verified_timesheets=!0,a.filter_columns.pending_timesheets=!0,a.filter_columns.total_timesheets=!0,a.filter_data={},a.filter_data.id=e,this.api_pay_period.getPayPeriod(a,!0,{onResult:function(e){i=e.getResult(),(t=n.timesheet).setData(i),s.setGridSelection(t,i),s.setGridAutoHeight(t,i.length)}});break;case 5:a.filter_columns={},a.filter_columns.id=!0,a.filter_columns.start_date=!0,a.filter_columns.end_date=!0,a.filter_columns.transaction_date=!0,a.filter_columns.status=!0,a.filter_data={},a.filter_data.id=e,this.api_pay_period.getPayPeriod(a,!0,{onResult:function(e){i=e.getResult(),(t=n.lock_pay_period).setData(i),s.setGridSelection(t,i),s.setGridAutoHeight(t,i.length)}});break;case 6:a.filter_columns={},a.filter_columns.id=!0,a.filter_columns.start_date=!0,a.filter_columns.end_date=!0,a.filter_columns.transaction_date=!0,a.filter_columns.ps_amendments=!0,a.filter_data={},a.filter_data.id=e,this.api_pay_period.getPayPeriod(a,!0,{onResult:function(e){i=e.getResult(),(t=n.pay_stub_amendments).setData(i),s.setGridSelection(t,i),s.setGridAutoHeight(t,i.length)}});break;case 7:a.filter_columns={},a.filter_columns.id=!0,a.filter_columns.start_date=!0,a.filter_columns.end_date=!0,a.filter_columns.transaction_date=!0,a.filter_columns.pay_stubs_open=!0,a.filter_data={},a.filter_data.id=e,this.api_pay_period.getPayPeriod(a,!0,{onResult:function(e){i=e.getResult(),(t=n.pay_stub_generate).setData(i),s.setGridSelection(t,i),s.setGridAutoHeight(t,i.length)}});break;case 8:a.filter_columns={},a.filter_columns.id=!0,a.filter_columns.start_date=!0,a.filter_columns.end_date=!0,a.filter_columns.transaction_date=!0,a.filter_columns.pay_stubs_open=!0,a.filter_data={},a.filter_data.id=e,TTUUID.isUUID(e)&&e!=TTUUID.zero_id&&this.api_pay_period.getPayPeriod(a,!0,{onResult:function(e){i=e.getResult(),(t=n.pay_stub_transfer).setData(i),s.setGridSelection(t,i),s.setGridAutoHeight(t,i.length);var a=[];for(var r in i)a.push(i[r].id);s.api_pay_stub_transaction.getPayPeriodTransactionSummary({pay_period_id:a},{onResult:function(e){s.transaction_source_data=e.getResult(),t=n.pay_stub_transaction,"object"==typeof s.transaction_source_data&&s.transaction_source_data.length>0?t.setData(s.transaction_source_data):(t.setData([]),s.showNoResultCover(t.grid.parents(".grid-div"))),s.setGridAutoHeight(t,s.transaction_source_data.length),t.grid.find(".cbox").prop("checked",!0),TTPromise.resolve("wizard","step8")}})}});break;case 9:a.filter_columns={},a.filter_columns.id=!0,a.filter_columns.status=!0,a.filter_columns.start_date=!0,a.filter_columns.end_date=!0,a.filter_columns.transaction_date=!0,a.filter_columns.pay_stubs_open=!0,a.filter_data={},a.filter_data.id=e,this.api_pay_period.getPayPeriod(a,!0,{onResult:function(e){i=e.getResult(),(t=n.pay_stub_close).setData(i),s.setGridSelection(t,i),s.setGridAutoHeight(t,i.length)}})}}}setCurrentStepValues(){if(this.stepsDataDic[this.current_step]){var e=this.stepsDataDic[this.current_step],t=this.stepsWidgetDic[this.current_step];switch(this.current_step){case 1:e.pay_period_id&&t.pay_period_id.setValue(e.pay_period_id)}}}setGridSelection(e,t){if(t)for(var i=0;i<t.length;i++){var a=t[i];e.grid.jqGrid("setSelection",a.id,!1)}}saveCurrentStep(){this.stepsDataDic[this.current_step]={};var e=this.stepsDataDic[this.current_step],t=this.stepsWidgetDic[this.current_step];if(t)switch(this.current_step){case 1:e.pay_period_id=t.pay_period_id.getValue()}}setDefaultDataToSteps(){if(!this.default_data)return null}}}}]);
//# sourceMappingURL=wizard-process_payroll-ProcessPayrollWizardController.bundle.js.map?v=23f1e3c1da3d460f0afb