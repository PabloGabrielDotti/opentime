{"version":3,"sources":["webpack://timetrex/./interface/html5/views/hr/recruitment/JobApplicantReferenceViewController.js"],"names":["JobApplicantReferenceViewController","BaseViewController","options","_","defaults","el","type_array","country_array","province_array","e_province_array","company_api","sub_view_grid_autosize","super","this","edit_view_tpl","permission_id","viewId","script_name","table_name_key","context_menu_name","$","i18n","navigation_label","api","TTAPI","APIJobApplicantReference","APICompany","render","sub_view_mode","initData","show_new_btn","showNoResultCover","buildContextMenu","onAddClick","initDropDownOption","buildEditViewUI","tab_model","setTabModel","navigation","AComboBox","api_class","id","allow_multiple_selection","layout_name","navigation_mode","show_search_inputs","setNavigation","form_item_input","widgetContainer","label","tab_job_applicant_reference_column1","edit_view_tab","find","edit_view_tabs","push","Global","loadWidgetByName","FormItemType","COMBO_BOX","TComboBox","field","setSourceData","addEditFieldToColumn","TEXT_INPUT","TTextInput","width","set_empty","DATE_PICKER","TDatePicker","LocalCacheData","getLoginUserPreference","date_format_display","append","TAG_INPUT","TTagInput","object_type_id","target","doNotValidate","setIsChanged","setMassEditingFieldsWhenFormChange","key","getField","current_edit_record","getValue","edit_view_ui_dic","setValue","validate","onCountryChange","widget","isSet","setCountryValue","collectUIDataToCurrentEditRecord","setEditViewDataDone","val","m","$this","getOptions","onResult","res","getResult","buildRecordArray","adv_search_field_ui_dic","refresh","province_widget","length","province","value","setDefaultMenu","searchDone","TTPromise","resolve","loadSubView","container","beforeViewLoadedFun","afterViewLoadedFun","loadViewSource","result","template","html","sub_job_applicant_reference_view_controller"],"mappings":"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","file":"hr-recruitment-JobApplicantReferenceViewController.bundle.js?v=cfc769cfe70be811fe3e","sourcesContent":["export class JobApplicantReferenceViewController extends BaseViewController {\n\tconstructor( options = {} ) {\n\t\t_.defaults( options, {\n\t\t\tel: '#job_applicant_reference_view_container',\n\n\t\t\ttype_array: null,\n\t\t\tcountry_array: null,\n\t\t\tprovince_array: null,\n\t\t\te_province_array: null,\n\n\t\t\tcompany_api: null,\n\n\t\t\tsub_view_grid_autosize: true\n\t\t} );\n\n\t\tsuper( options );\n\t}\n\n\tinit( options ) {\n\n\t\t//this._super('initialize', options );\n\t\tthis.edit_view_tpl = 'JobApplicantReferenceEditView.html';\n\t\tthis.permission_id = 'job_applicant';\n\t\tthis.viewId = 'JobApplicantReference';\n\t\tthis.script_name = 'JobApplicantReferenceView';\n\t\tthis.table_name_key = 'job_applicant_reference';\n\t\tthis.context_menu_name = $.i18n._( 'Reference' );\n\t\tthis.navigation_label = $.i18n._( 'Job Applicant Reference' ) + ':';\n\t\tthis.api = TTAPI.APIJobApplicantReference;\n\t\tthis.company_api = TTAPI.APICompany;\n\t\tthis.render();\n\n\t\t//call init data in parent view\n\t\tif ( !this.sub_view_mode ) {\n\t\t\tthis.initData();\n\t\t}\n\n\t\t//this.setSelectRibbonMenuIfNecessary( 'UserContact' )\n\t}\n\n\tshowNoResultCover( show_new_btn ) {\n\t\tsuper.showNoResultCover( ( this.sub_view_mode ) ? true : false );\n\t}\n\n\tonAddClick() {\n\n\t\tif ( this.sub_view_mode ) {\n\t\t\tthis.buildContextMenu( true );\n\t\t}\n\n\t\tsuper.onAddClick();\n\t}\n\n\tinitOptions() {\n\t\tvar $this = this;\n\n\t\tthis.initDropDownOption( 'type' );\n\n\t\tthis.initDropDownOption( 'country', 'country', this.company_api );\n\t}\n\n\tbuildEditViewUI() {\n\t\tsuper.buildEditViewUI();\n\n\t\tvar $this = this;\n\n\t\tvar tab_model = {\n\t\t\t'tab_job_applicant_reference': { 'label': $.i18n._( 'Job Applicant Reference' ) },\n\t\t\t'tab_audit': true,\n\t\t};\n\t\tthis.setTabModel( tab_model );\n\n\t\tthis.navigation.AComboBox( {\n\t\t\tapi_class: TTAPI.APIJobApplicantReference,\n\t\t\tid: this.script_name + '_navigation',\n\t\t\tallow_multiple_selection: false,\n\t\t\tlayout_name: 'global_job_applicant_reference',\n\t\t\tnavigation_mode: true,\n\t\t\tshow_search_inputs: true\n\t\t} );\n\n\t\tthis.setNavigation();\n\n\t\tvar tab_job_applicant_reference = this.edit_view_tab.find( '#tab_job_applicant_reference' );\n\t\tvar tab_job_applicant_reference_column1 = tab_job_applicant_reference.find( '.first-column' );\n\n\t\tthis.edit_view_tabs[0] = [];\n\n\t\tthis.edit_view_tabs[0].push( tab_job_applicant_reference_column1 );\n\n\t\tvar form_item_input;\n\t\tvar widgetContainer;\n\t\tvar label;\n\n\t\t// tab_job_applicant_reference column1\n\n\t\t// Type\n\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.COMBO_BOX );\n\t\tform_item_input.TComboBox( { field: 'type_id' } );\n\t\tform_item_input.setSourceData( $this.type_array );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Type' ), form_item_input, tab_job_applicant_reference_column1, '' );\n\n\t\t// First Name\n\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.TEXT_INPUT );\n\t\tform_item_input.TTextInput( {\n\t\t\tfield: 'first_name',\n\t\t\twidth: 200\n\t\t} );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'First Name' ), form_item_input, tab_job_applicant_reference_column1 );\n\n\t\t// Last Name\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.TEXT_INPUT );\n\t\tform_item_input.TTextInput( {\n\t\t\tfield: 'last_name',\n\t\t\twidth: 200\n\t\t} );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Last Name' ), form_item_input, tab_job_applicant_reference_column1 );\n\n\t\t// Title\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.TEXT_INPUT );\n\t\tform_item_input.TTextInput( {\n\t\t\tfield: 'title',\n\t\t\twidth: 200\n\t\t} );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Title' ), form_item_input, tab_job_applicant_reference_column1 );\n\n\t\t// Address (Line 1)\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.TEXT_INPUT );\n\t\tform_item_input.TTextInput( {\n\t\t\tfield: 'address1',\n\t\t\twidth: 200\n\t\t} );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Address (Line 1)' ), form_item_input, tab_job_applicant_reference_column1 );\n\n\t\t// Address (Line 2)\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.TEXT_INPUT );\n\t\tform_item_input.TTextInput( {\n\t\t\tfield: 'address2',\n\t\t\twidth: 200\n\t\t} );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Address (Line 2)' ), form_item_input, tab_job_applicant_reference_column1 );\n\n\t\t// City\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.TEXT_INPUT );\n\t\tform_item_input.TTextInput( { field: 'city', width: 200 } );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'City' ), form_item_input, tab_job_applicant_reference_column1 );\n\n\t\t// Country\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.COMBO_BOX );\n\t\tform_item_input.TComboBox( { field: 'country', set_empty: true } );\n\t\tform_item_input.setSourceData( $this.country_array );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Country' ), form_item_input, tab_job_applicant_reference_column1 );\n\n\t\t// Province/State\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.COMBO_BOX );\n\t\tform_item_input.TComboBox( { field: 'province' } );\n\t\tform_item_input.setSourceData( [] );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Province/State' ), form_item_input, tab_job_applicant_reference_column1 );\n\n\t\t// Postal / ZIP Code\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.TEXT_INPUT );\n\t\tform_item_input.TTextInput( { field: 'postal_code', width: 90 } );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Postal/ZIP Code' ), form_item_input, tab_job_applicant_reference_column1 );\n\n\t\t// Known Since\n\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.DATE_PICKER );\n\n\t\tform_item_input.TDatePicker( { field: 'start_date' } );\n\n\t\twidgetContainer = $( '<div class=\\'widget-h-box\\'></div>' );\n\t\tlabel = $( '<span class=\\'widget-right-label\\'> ' + $.i18n._( 'ie' ) + ' : ' + LocalCacheData.getLoginUserPreference().date_format_display + '</span>' );\n\n\t\twidgetContainer.append( form_item_input );\n\t\twidgetContainer.append( label );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Known Since' ), form_item_input, tab_job_applicant_reference_column1, '', widgetContainer );\n\n\t\t// Work Phone\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.TEXT_INPUT );\n\t\tform_item_input.TTextInput( { field: 'work_phone', width: 200 } );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Work Phone' ), form_item_input, tab_job_applicant_reference_column1 );\n\n\t\t// Home Phone\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.TEXT_INPUT );\n\t\tform_item_input.TTextInput( { field: 'home_phone', width: 200 } );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Home Phone' ), form_item_input, tab_job_applicant_reference_column1 );\n\n\t\t// Mobile Phone\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.TEXT_INPUT );\n\t\tform_item_input.TTextInput( { field: 'mobile_phone', width: 200 } );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Mobile Phone' ), form_item_input, tab_job_applicant_reference_column1 );\n\n\t\t// Work Email\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.TEXT_INPUT );\n\t\tform_item_input.TTextInput( { field: 'work_email', width: 200 } );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Work Email' ), form_item_input, tab_job_applicant_reference_column1 );\n\n\t\t// Home Email\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.TEXT_INPUT );\n\t\tform_item_input.TTextInput( { field: 'home_email', width: 200 } );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Home Email' ), form_item_input, tab_job_applicant_reference_column1 );\n\n\t\t//Tags\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.TAG_INPUT );\n\n\t\tform_item_input.TTagInput( { field: 'tag', object_type_id: 390 } );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Tags' ), form_item_input, tab_job_applicant_reference_column1, '', null, null, true );\n\t}\n\n\tonFormItemChange( target, doNotValidate ) {\n\t\tthis.setIsChanged( target );\n\t\tthis.setMassEditingFieldsWhenFormChange( target );\n\t\tvar key = target.getField();\n\n\t\tthis.current_edit_record[key] = target.getValue();\n\n\t\tswitch ( key ) {\n\n\t\t\tcase 'country':\n\t\t\t\tvar widget = this.edit_view_ui_dic['province'];\n\t\t\t\twidget.setValue( null );\n\t\t\t\tbreak;\n\n\t\t}\n\n\t\tif ( key === 'country' ) {\n\t\t\tthis.onCountryChange();\n\t\t\treturn;\n\t\t}\n\n\t\tif ( !doNotValidate ) {\n\t\t\tthis.validate();\n\t\t}\n\t}\n\n\tsetCurrentEditRecordData() {\n\n\t\t//Set current edit record data to all widgets\n\t\t//Set current edit record data to all widgets\n\t\tfor ( var key in this.current_edit_record ) {\n\t\t\tvar widget = this.edit_view_ui_dic[key];\n\t\t\tif ( Global.isSet( widget ) ) {\n\t\t\t\tswitch ( key ) {\n\t\t\t\t\tcase 'country': //popular case\n\t\t\t\t\t\tthis.setCountryValue( widget, key );\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tdefault:\n\t\t\t\t\t\twidget.setValue( this.current_edit_record[key] );\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\n\t\t\t}\n\t\t}\n\n\t\tthis.collectUIDataToCurrentEditRecord();\n\t\tthis.setEditViewDataDone();\n\t}\n\n\tsetProvince( val, m ) {\n\t\tvar $this = this;\n\n\t\tif ( !val || val === '-1' || val === '0' ) {\n\t\t\t$this.province_array = [];\n\t\t\tthis.adv_search_field_ui_dic['province'].setSourceData( [] );\n\t\t} else {\n\n\t\t\tthis.company_api.getOptions( 'province', val, {\n\t\t\t\tonResult: function( res ) {\n\t\t\t\t\tres = res.getResult();\n\t\t\t\t\tif ( !res ) {\n\t\t\t\t\t\tres = [];\n\t\t\t\t\t}\n\n\t\t\t\t\t$this.province_array = Global.buildRecordArray( res );\n\t\t\t\t\t$this.adv_search_field_ui_dic['province'].setSourceData( $this.province_array );\n\n\t\t\t\t}\n\t\t\t} );\n\t\t}\n\t}\n\n\teSetProvince( val, refresh ) {\n\t\tvar $this = this;\n\t\tvar province_widget = $this.edit_view_ui_dic['province'];\n\n\t\tif ( !val || val === '-1' || val === '0' ) {\n\t\t\t$this.e_province_array = [];\n\t\t\tprovince_widget.setSourceData( [] );\n\t\t} else {\n\t\t\tthis.company_api.getOptions( 'province', val, {\n\t\t\t\tonResult: function( res ) {\n\t\t\t\t\tres = res.getResult();\n\t\t\t\t\tif ( !res ) {\n\t\t\t\t\t\tres = [];\n\t\t\t\t\t}\n\n\t\t\t\t\t$this.e_province_array = Global.buildRecordArray( res );\n\t\t\t\t\tif ( refresh && $this.e_province_array.length > 0 ) {\n\t\t\t\t\t\t$this.current_edit_record.province = $this.e_province_array[0].value;\n\t\t\t\t\t\tprovince_widget.setValue( $this.current_edit_record.province );\n\t\t\t\t\t}\n\t\t\t\t\tprovince_widget.setSourceData( $this.e_province_array );\n\n\t\t\t\t}\n\t\t\t} );\n\t\t}\n\t}\n\n\tonGridSelectRow() {\n\t\tif ( this.sub_view_mode ) {\n\t\t\tthis.buildContextMenu( true );\n\t\t} else {\n\t\t\tthis.buildContextMenu();\n\t\t}\n\t\tthis.setDefaultMenu();\n\t}\n\n\tsearchDone() {\n\n\t\tsuper.searchDone();\n\n\t\tTTPromise.resolve( 'JobApplicant_History_Tab', 'JobApplicantReferenceViewController' );\n\n\t}\n\n}\n\nJobApplicantReferenceViewController.loadSubView = function( container, beforeViewLoadedFun, afterViewLoadedFun ) {\n\tGlobal.loadViewSource( 'JobApplicantReference', 'SubJobApplicantReferenceView.html', function( result ) {\n\t\tvar args = {};\n\t\tvar template = _.template( result );\n\n\t\tif ( Global.isSet( beforeViewLoadedFun ) ) {\n\t\t\tbeforeViewLoadedFun();\n\t\t}\n\t\tif ( Global.isSet( container ) ) {\n\t\t\tcontainer.html( template( args ) );\n\t\t\tif ( Global.isSet( afterViewLoadedFun ) ) {\n\t\t\t\tafterViewLoadedFun( sub_job_applicant_reference_view_controller );\n\t\t\t}\n\t\t}\n\t} );\n};"],"sourceRoot":""}