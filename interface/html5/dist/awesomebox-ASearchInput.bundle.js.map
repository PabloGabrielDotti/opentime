{"version":3,"sources":["webpack://timetrex/./interface/html5/global/widgets/awesomebox/ASearchInput.js"],"names":["$","jQuery","fn","ASearchInput","options","opts","extend","ADropDown","defaults","column_model","search_timer","$this","this","default_tooltip","i18n","_","setFilter","filters","field","name","Global","isSet","val","addClass","clearValue","removeClass","each","o","meta","data","focusin","focusout","bind","e","clearTimeout","keyCode","ctrlKey","metaKey","setTimeout","trigger"],"mappings":"uGAAA,IAAYA,KAqFPC,QAnFFC,GAAGC,aAAe,SAAUC,GAC7B,IAAIC,EAAOL,EAAEM,OAAQ,GAAIN,EAAEE,GAAGK,UAAUC,SAAUJ,GAE9CK,EAAe,KAEfC,EAAe,KAEfC,EAAQC,KACRC,EAAkBb,EAAEc,KAAKC,EAAG,mBAqEhC,OAnEAH,KAAKI,UAAY,SAAUC,GAC1B,IAAIC,EAAQT,EAAaU,KAEpBC,OAAOC,MAAOJ,EAAQC,MAC1BlB,EAAGY,MAAOU,IAAKL,EAAQC,IACvBlB,EAAGY,MAAOW,SAAU,2BAItBX,KAAKY,WAAa,WACjBxB,EAAGY,MAAOU,IAAKT,GACfb,EAAGY,MAAOa,YAAa,yBACvBzB,EAAGY,MAAOW,SAAU,2BAGrBX,KAAKc,MAAM,WAEV,IAAIC,EAAI3B,EAAE4B,KAAO5B,EAAEM,OAAQ,GAAID,EAAML,EAAGY,MAAOiB,QAAWxB,EAErDsB,EAAElB,eAENA,EAAekB,EAAElB,cAGlBT,EAAGY,MAAOW,SAAU,0BAEpBvB,EAAGY,MAAOU,IAAKT,GAEfb,EAAGY,MAAOkB,SAAS,WAEb9B,EAAGY,MAAOU,QAAUT,IACxBb,EAAGY,MAAOU,IAAK,IACftB,EAAGY,MAAOW,SAAU,6BAKtBvB,EAAGY,MAAOmB,UAAU,WACM,KAApB/B,EAAGY,MAAOU,QACdtB,EAAGY,MAAOU,IAAKT,GACfb,EAAGY,MAAOa,YAAa,6BAKzBzB,EAAGY,MAAOoB,KAAM,wBAAwB,SAAUC,GAE5CvB,GACJwB,aAAcxB,GAGI,KAAduB,EAAEE,SAAkBF,EAAEG,SAAWH,EAAEI,SAAyB,KAAdJ,EAAEE,UAIrDzB,EAAe4B,YAAY,WAE1B,IAAIhB,EAAQX,EAAMW,QAAUT,EAAoB,GAAKF,EAAMW,MAE3DX,EAAM4B,QAAS,cAAe,CAACjB,EAAKb,EAAaU,SAE/C,YAMEP,MAIRZ,EAAEE,GAAGC,aAAaK,SAAW","file":"awesomebox-ASearchInput.bundle.js?v=1cb2626afb56d2773628","sourcesContent":["( function( $ ) {\n\n\t$.fn.ASearchInput = function( options ) {\n\t\tvar opts = $.extend( {}, $.fn.ADropDown.defaults, options );\n\n\t\tvar column_model = null;\n\n\t\tvar search_timer = null;\n\n\t\tvar $this = this;\n\t\tvar default_tooltip = $.i18n._( 'click to search' );\n\n\t\tthis.setFilter = function( filters ) {\n\t\t\tvar field = column_model.name;\n\n\t\t\tif ( Global.isSet( filters[field] ) ) {\n\t\t\t\t$( this ).val( filters[field] );\n\t\t\t\t$( this ).addClass( 'search-input-focus-in' );\n\t\t\t}\n\t\t};\n\n\t\tthis.clearValue = function() {\n\t\t\t$( this ).val( default_tooltip );\n\t\t\t$( this ).removeClass( 'search-input-focus-in' );\n\t\t\t$( this ).addClass( 'search-input-focus-out' );\n\t\t};\n\n\t\tthis.each( function() {\n\n\t\t\tvar o = $.meta ? $.extend( {}, opts, $( this ).data() ) : opts;\n\n\t\t\tif ( o.column_model ) {\n\n\t\t\t\tcolumn_model = o.column_model;\n\t\t\t}\n\n\t\t\t$( this ).addClass( 'search-input-focus-out' );\n\n\t\t\t$( this ).val( default_tooltip );\n\n\t\t\t$( this ).focusin( function() {\n\n\t\t\t\tif ( $( this ).val() === default_tooltip ) {\n\t\t\t\t\t$( this ).val( '' );\n\t\t\t\t\t$( this ).addClass( 'search-input-focus-in' );\n\t\t\t\t}\n\n\t\t\t} );\n\n\t\t\t$( this ).focusout( function() {\n\t\t\t\tif ( $( this ).val() === '' ) {\n\t\t\t\t\t$( this ).val( default_tooltip );\n\t\t\t\t\t$( this ).removeClass( 'search-input-focus-in' );\n\t\t\t\t}\n\n\t\t\t} );\n\n\t\t\t$( this ).bind( 'input propertychange', function( e ) {\n\n\t\t\t\tif ( search_timer ) {\n\t\t\t\t\tclearTimeout( search_timer );\n\t\t\t\t}\n\n\t\t\t\tif ( e.keyCode === 91 || e.ctrlKey || e.metaKey || e.keyCode === 17 ) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tsearch_timer = setTimeout( function() {\n\n\t\t\t\t\tvar val = ( $this.val() === default_tooltip ) ? '' : $this.val();\n\n\t\t\t\t\t$this.trigger( 'searchEnter', [val, column_model.name] );\n\n\t\t\t\t}, 500 );\n\n\t\t\t} );\n\n\t\t} );\n\n\t\treturn this;\n\n\t};\n\n\t$.fn.ASearchInput.defaults = {};\n\n} )( jQuery );"],"sourceRoot":""}