{"version":3,"sources":["webpack://timetrex/./interface/html5/views/employees/user_default/UserDefaultViewController.js"],"names":["UserDefaultViewController","BaseViewController","options","_","defaults","company_api","user_preference_api","country_array","province_array","e_province_array","language_array","date_format_array","time_format_array","time_unit_format_array","distance_format_array","time_zone_array","start_week_day_array","super","this","permission_id","viewId","script_name","table_name_key","context_menu_name","$","i18n","api","TTAPI","APIUserDefault","APICompany","APIUserPreference","render","buildContextMenu","initData","callBack","option_name","field_name","initDropDownOptions","result","exclude","include","ContextMenuIconName","save","cancel","$this","key_name","onResult","result_data","getResult","Global","isSet","edit_only_mode","initOptions","edit_view","initEditViewUI","getUserDefaultData","current_edit_record","initEditView","target","doNotValidate","setIsChanged","setMassEditingFieldsWhenFormChange","key","getField","c_value","getValue","edit_view_ui_dic","setValue","validate","onCountryChange","len","context_menu_array","length","i","context_btn","id","find","attr","removeClass","addClass","val","m","getOptions","res","buildRecordArray","refresh","province_widget","province","value","setSourceData","buildEditViewUI","tab_model","setTabModel","form_item_input","tab_employee_id_column1","edit_view_tab","edit_view_tabs","push","loadWidgetByName","FormItemType","AWESOME_BOX","AComboBox","api_class","APILegalEntity","allow_multiple_selection","layout_name","show_search_inputs","field","addEditFieldToColumn","APIPermissionControl","set_empty","APIPayPeriodSchedule","APIPolicyGroup","APICurrency","APIUserTitle","APIBranch","APIDepartment","tab_contact_info_column1","TEXT_INPUT","TTextInput","width","COMBO_BOX","TComboBox","css","tab_employee_preference_column1","tab_email_info_column1","CHECKBOX","TCheckbox","tab_tax_deduction_column1","APICompanyDeduction"],"mappings":"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","file":"employees-user_default-UserDefaultViewController.bundle.js?v=8152369f59d680ca3d9e","sourcesContent":["export class UserDefaultViewController extends BaseViewController {\n\tconstructor( options = {} ) {\n\t\t_.defaults( options, {\n\n\t\t\tcompany_api: null,\n\t\t\tuser_preference_api: null,\n\n\t\t\tcountry_array: null,\n\t\t\tprovince_array: null,\n\n\t\t\te_province_array: null,\n\t\t\tlanguage_array: null,\n\t\t\tdate_format_array: null,\n\t\t\ttime_format_array: null,\n\t\t\ttime_unit_format_array: null,\n\t\t\tdistance_format_array: null,\n\t\t\ttime_zone_array: null,\n\t\t\tstart_week_day_array: null\n\t\t} );\n\n\t\tsuper( options );\n\t}\n\n\tinit( options ) {\n\n\t\t//this._super('initialize', options );\n\n\t\tthis.permission_id = 'user';\n\t\tthis.viewId = 'UserDefault';\n\t\tthis.script_name = 'UserDefaultView';\n\t\tthis.table_name_key = 'user_default';\n\t\tthis.context_menu_name = $.i18n._( 'New Hire Defaults' );\n\t\tthis.api = TTAPI.APIUserDefault;\n\t\tthis.company_api = TTAPI.APICompany;\n\t\tthis.user_preference_api = TTAPI.APIUserPreference;\n\n\t\tthis.render();\n\t\tthis.buildContextMenu();\n\n\t\tthis.initData();\n\t}\n\n\trender() {\n\t\tsuper.render();\n\t}\n\n\tinitOptions( callBack ) {\n\n\t\tvar options = [\n\t\t\t{ option_name: 'language', field_name: 'language', api: this.user_preference_api },\n\t\t\t{ option_name: 'date_format', field_name: 'date_format', api: this.user_preference_api },\n\t\t\t{ option_name: 'time_format', field_name: 'time_format', api: this.user_preference_api },\n\t\t\t{ option_name: 'time_unit_format', field_name: 'time_unit_format', api: this.user_preference_api },\n\t\t\t{ option_name: 'distance_format', field_name: 'distance_format', api: this.user_preference_api },\n\t\t\t{ option_name: 'time_zone', field_name: 'time_zone', api: this.user_preference_api },\n\t\t\t{ option_name: 'start_week_day', field_name: 'start_week_day', api: this.user_preference_api },\n\t\t\t{ option_name: 'country', field_name: 'country', api: this.company_api }\n\t\t];\n\n\t\tthis.initDropDownOptions( options, function( result ) {\n\t\t\tif ( callBack ) {\n\t\t\t\tcallBack( result ); // First to initialize drop down options, and then to initialize edit view UI.\n\t\t\t}\n\t\t} );\n\t}\n\n\tgetCustomContextMenuModel() {\n\t\tvar context_menu_model = {\n\t\t\texclude: ['default'],\n\t\t\tinclude: [\n\t\t\t\tContextMenuIconName.save,\n\t\t\t\tContextMenuIconName.cancel\n\t\t\t]\n\t\t};\n\n\t\treturn context_menu_model;\n\t}\n\n\tgetUserDefaultData( callBack ) {\n\t\tvar $this = this;\n\n\t\t// First to get current company's user default data, if no have any data to get the default data which has been set up in TTAPI.APIUserDefault.\n\n\t\t$this.api['get' + $this.api.key_name]( {\n\t\t\tonResult: function( result ) {\n\t\t\t\tvar result_data = result.getResult();\n\t\t\t\tif ( Global.isSet( result_data[0] ) ) {\n\t\t\t\t\tcallBack( result_data[0] );\n\t\t\t\t} else {\n\t\t\t\t\t$this.api['get' + $this.api.key_name + 'DefaultData']( {\n\t\t\t\t\t\tonResult: function( result ) {\n\t\t\t\t\t\t\tvar result_data = result.getResult();\n\t\t\t\t\t\t\tcallBack( result_data );\n\t\t\t\t\t\t}\n\t\t\t\t\t} );\n\t\t\t\t}\n\n\t\t\t}\n\t\t} );\n\t}\n\n\topenEditView() {\n\n\t\tvar $this = this;\n\n\t\tif ( $this.edit_only_mode ) {\n\n\t\t\t$this.initOptions( function( result ) {\n\n\t\t\t\tif ( !$this.edit_view ) {\n\t\t\t\t\t$this.initEditViewUI( 'UserDefault', 'UserDefaultEditView.html' );\n\t\t\t\t}\n\n\t\t\t\t$this.getUserDefaultData( function( result ) {\n\t\t\t\t\t// Waiting for the TTAPI.API returns data to set the current edit record.\n\t\t\t\t\t$this.current_edit_record = result;\n\n\t\t\t\t\t$this.initEditView();\n\n\t\t\t\t} );\n\n\t\t\t} );\n\n\t\t} else {\n\t\t\tif ( !this.edit_view ) {\n\t\t\t\tthis.initEditViewUI( 'UserTitle', 'UserTitleEditView.html' );\n\t\t\t}\n\n\t\t}\n\t}\n\n\tonFormItemChange( target, doNotValidate ) {\n\n\t\tthis.setIsChanged( target );\n\t\tthis.setMassEditingFieldsWhenFormChange( target );\n\t\tvar key = target.getField();\n\t\tvar c_value = target.getValue();\n\t\tthis.current_edit_record[key] = c_value;\n\n\t\tswitch ( key ) {\n\n\t\t\tcase 'country':\n\t\t\t\tvar widget = this.edit_view_ui_dic['province'];\n\t\t\t\twidget.setValue( null );\n\t\t\t\tbreak;\n\t\t}\n\n\t\tif ( key === 'country' ) {\n\t\t\tthis.onCountryChange();\n\t\t\treturn;\n\t\t}\n\n\t\tif ( !doNotValidate ) {\n\t\t\tthis.validate();\n\t\t}\n\t}\n\n\tsetErrorMenu() {\n\n\t\tvar len = this.context_menu_array.length;\n\n\t\tfor ( var i = 0; i < len; i++ ) {\n\t\t\tvar context_btn = $( this.context_menu_array[i] );\n\t\t\tvar id = $( context_btn.find( '.ribbon-sub-menu-icon' ) ).attr( 'id' );\n\t\t\tcontext_btn.removeClass( 'disable-image' );\n\n\t\t\tswitch ( id ) {\n\t\t\t\tcase ContextMenuIconName.cancel:\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tcontext_btn.addClass( 'disable-image' );\n\t\t\t\t\tbreak;\n\t\t\t}\n\n\t\t}\n\t}\n\n\tsetProvince( val, m ) {\n\t\tvar $this = this;\n\n\t\tif ( !val || val === '-1' || val === '0' ) {\n\t\t\t$this.province_array = [];\n\n\t\t} else {\n\n\t\t\tthis.company_api.getOptions( 'province', val, {\n\t\t\t\tonResult: function( res ) {\n\t\t\t\t\tres = res.getResult();\n\t\t\t\t\tif ( !res ) {\n\t\t\t\t\t\tres = [];\n\t\t\t\t\t}\n\n\t\t\t\t\t$this.province_array = Global.buildRecordArray( res );\n\n\t\t\t\t}\n\t\t\t} );\n\t\t}\n\t}\n\n\teSetProvince( val, refresh ) {\n\t\tvar $this = this;\n\t\tvar province_widget = $this.edit_view_ui_dic['province'];\n\n\t\tif ( !val || val === '-1' || val === '0' ) {\n\t\t\t$this.e_province_array = [];\n\t\t\tprovince_widget.setSourceData( [] );\n\t\t} else {\n\t\t\tthis.company_api.getOptions( 'province', val, {\n\t\t\t\tonResult: function( res ) {\n\t\t\t\t\tres = res.getResult();\n\t\t\t\t\tif ( !res ) {\n\t\t\t\t\t\tres = [];\n\t\t\t\t\t}\n\n\t\t\t\t\t$this.e_province_array = Global.buildRecordArray( res );\n\t\t\t\t\tif ( refresh && $this.e_province_array.length > 0 ) {\n\t\t\t\t\t\t$this.current_edit_record.province = $this.e_province_array[0].value;\n\t\t\t\t\t\tprovince_widget.setValue( $this.current_edit_record.province );\n\t\t\t\t\t}\n\t\t\t\t\tprovince_widget.setSourceData( $this.e_province_array );\n\n\t\t\t\t}\n\t\t\t} );\n\t\t}\n\t}\n\n\tbuildEditViewUI() {\n\t\tvar $this = this;\n\t\tsuper.buildEditViewUI();\n\n\t\tvar tab_model = {\n\t\t\t'tab_employee_id': { 'label': $.i18n._( 'Employee Identification' ) },\n\t\t\t'tab_contact_info': { 'label': $.i18n._( 'Contact Information' ) },\n\t\t\t'tab_employee_preference': { 'label': $.i18n._( 'Employee Preferences' ) },\n\t\t\t'tab_email_info': { 'label': $.i18n._( 'Email Notifications' ) },\n\t\t\t'tab_tax_deduction': { 'label': $.i18n._( 'Employee Tax / Deductions' ) },\n\n\t\t\t'tab_audit': true,\n\t\t};\n\t\tthis.setTabModel( tab_model );\n\n\t\t//Tab 0 start\n\n\t\tvar tab_employee_id = this.edit_view_tab.find( '#tab_employee_id' );\n\n\t\tvar tab_employee_id_column1 = tab_employee_id.find( '.first-column' );\n\n\t\tthis.edit_view_tabs[0] = [];\n\n\t\tthis.edit_view_tabs[0].push( tab_employee_id_column1 );\n\n\t\t//Legal Entity\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.AWESOME_BOX );\n\t\tform_item_input.AComboBox( {\n\t\t\tapi_class: TTAPI.APILegalEntity,\n\t\t\tallow_multiple_selection: false,\n\t\t\tlayout_name: 'global_legal_entity',\n\t\t\tshow_search_inputs: true,\n//\t\t\tset_empty: true,\n\t\t\tfield: 'legal_entity_id'\n\t\t} );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Legal Entity' ), form_item_input, tab_employee_id_column1 );\n\n\t\t//Permission Group\n\t\tvar form_item_input = Global.loadWidgetByName( FormItemType.AWESOME_BOX );\n\n\t\tform_item_input.AComboBox( {\n\t\t\tapi_class: TTAPI.APIPermissionControl,\n\t\t\tallow_multiple_selection: false,\n\t\t\tlayout_name: 'global_permission_control',\n\t\t\tset_empty: true,\n\t\t\tshow_search_inputs: true,\n\t\t\tfield: 'permission_control_id'\n\t\t} );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Permission Group' ), form_item_input, tab_employee_id_column1, '' );\n\n\t\t//Terminated Permission Group\n\t\tvar form_item_input = Global.loadWidgetByName( FormItemType.AWESOME_BOX );\n\t\tform_item_input.AComboBox( {\n\t\t\tapi_class: TTAPI.APIPermissionControl,\n\t\t\tallow_multiple_selection: false,\n\t\t\tlayout_name: 'global_permission_control',\n\t\t\tset_empty: true,\n\t\t\tshow_search_inputs: true,\n\t\t\tfield: 'terminated_permission_control_id'\n\t\t} );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Terminated Permission Group' ), form_item_input, tab_employee_id_column1, '' );\n\n\t\t// Pay Period Schedule\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.AWESOME_BOX );\n\t\tform_item_input.AComboBox( {\n\t\t\tapi_class: TTAPI.APIPayPeriodSchedule,\n\t\t\tallow_multiple_selection: false,\n\t\t\tlayout_name: 'global_pay_period_schedule',\n\t\t\tshow_search_inputs: true,\n\t\t\tset_empty: true,\n\t\t\tfield: 'pay_period_schedule_id'\n\t\t} );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Pay Period Schedule' ), form_item_input, tab_employee_id_column1 );\n\n\t\t//Policy Group\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.AWESOME_BOX );\n\t\tform_item_input.AComboBox( {\n\t\t\tapi_class: TTAPI.APIPolicyGroup,\n\t\t\tallow_multiple_selection: false,\n\t\t\tlayout_name: 'global_policy_group',\n\t\t\tshow_search_inputs: true,\n\t\t\tset_empty: true,\n\t\t\tfield: 'policy_group_id'\n\t\t} );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Policy Group' ), form_item_input, tab_employee_id_column1 );\n\n\t\t//Currency\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.AWESOME_BOX );\n\n\t\tform_item_input.AComboBox( {\n\t\t\tapi_class: TTAPI.APICurrency,\n\t\t\tallow_multiple_selection: false,\n\t\t\tlayout_name: 'global_currency',\n\t\t\tshow_search_inputs: true,\n\t\t\tset_empty: true,\n\t\t\tfield: 'currency_id'\n\t\t} );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Currency' ), form_item_input, tab_employee_id_column1 );\n\n\t\t//Title\n\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.AWESOME_BOX );\n\n\t\tform_item_input.AComboBox( {\n\t\t\tapi_class: TTAPI.APIUserTitle,\n\t\t\tallow_multiple_selection: false,\n\t\t\tlayout_name: 'global_job_title',\n\t\t\tshow_search_inputs: true,\n\t\t\tset_empty: true,\n\t\t\tfield: 'title_id'\n\t\t} );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Title' ), form_item_input, tab_employee_id_column1 );\n\n\t\t//Employee Number\n\t\t// form_item_input = Global.loadWidgetByName( FormItemType.TEXT_INPUT );\n\t\t//\n\t\t// form_item_input.TTextInput( { field: 'employee_number', width: 149 } );\n\t\t// this.addEditFieldToColumn( $.i18n._( 'Employee Number' ), form_item_input, tab_employee_id_column1 );\n\n\t\t//Hire Date\n\t\t// form_item_input = Global.loadWidgetByName( FormItemType.DATE_PICKER );\n\t\t//\n\t\t// form_item_input.TDatePicker( { field: 'hire_date' } );\n\t\t// this.addEditFieldToColumn( $.i18n._( 'Hire Date' ), form_item_input, tab_employee_id_column1 );\n\n\t\t//Default Branch\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.AWESOME_BOX );\n\n\t\tform_item_input.AComboBox( {\n\t\t\tapi_class: TTAPI.APIBranch,\n\t\t\tallow_multiple_selection: false,\n\t\t\tlayout_name: 'global_branch',\n\t\t\tshow_search_inputs: true,\n\t\t\tset_empty: true,\n\t\t\tfield: 'default_branch_id'\n\t\t} );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Default Branch' ), form_item_input, tab_employee_id_column1 );\n\n\t\t//Default Department\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.AWESOME_BOX );\n\n\t\tform_item_input.AComboBox( {\n\t\t\tapi_class: TTAPI.APIDepartment,\n\t\t\tallow_multiple_selection: false,\n\t\t\tlayout_name: 'global_department',\n\t\t\tshow_search_inputs: true,\n\t\t\tset_empty: true,\n\t\t\tfield: 'default_department_id'\n\t\t} );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Default Department' ), form_item_input, tab_employee_id_column1, '' );\n\n\t\t//Tab 1 start\n\n\t\tvar tab_contact_info = this.edit_view_tab.find( '#tab_contact_info' );\n\n\t\tvar tab_contact_info_column1 = tab_contact_info.find( '.first-column' );\n\n\t\tthis.edit_view_tabs[1] = [];\n\n\t\tthis.edit_view_tabs[1].push( tab_contact_info_column1 );\n\t\t//City\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.TEXT_INPUT );\n\n\t\tform_item_input.TTextInput( { field: 'city', width: 149 } );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'City' ), form_item_input, tab_contact_info_column1, '' );\n\n\t\t//Country\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.COMBO_BOX );\n\n\t\tform_item_input.TComboBox( { field: 'country', set_empty: true } );\n\t\tform_item_input.setSourceData( $this.country_array );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Country' ), form_item_input, tab_contact_info_column1 );\n\n\t\t//Province / State\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.COMBO_BOX );\n\n\t\tform_item_input.TComboBox( { field: 'province' } );\n\t\tform_item_input.setSourceData( [] );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Province / State' ), form_item_input, tab_contact_info_column1 );\n\n\t\t//Work Phone\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.TEXT_INPUT );\n\n\t\tform_item_input.TTextInput( { field: 'work_phone', width: 149 } );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Work Phone' ), form_item_input, tab_contact_info_column1 );\n\n\t\t//Work Phone Ext\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.TEXT_INPUT );\n\n\t\tform_item_input.TTextInput( { field: 'work_phone_ext' } );\n\t\tform_item_input.css( 'width', '50' );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Work Phone Ext' ), form_item_input, tab_contact_info_column1 );\n\n\t\t//Work Email\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.TEXT_INPUT );\n\n\t\tform_item_input.TTextInput( { field: 'work_email', width: 219 } );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Work Email' ), form_item_input, tab_contact_info_column1, '' );\n\n\t\t//Tab 2 start\n\n\t\tvar tab_employee_preference = this.edit_view_tab.find( '#tab_employee_preference' );\n\n\t\tvar tab_employee_preference_column1 = tab_employee_preference.find( '.first-column' );\n\n\t\tthis.edit_view_tabs[2] = [];\n\n\t\tthis.edit_view_tabs[2].push( tab_employee_preference_column1 );\n\n\t\t// Language\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.COMBO_BOX );\n\t\tform_item_input.TComboBox( { field: 'language', set_empty: true } );\n\t\tform_item_input.setSourceData( $this.language_array );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Language' ), form_item_input, tab_employee_preference_column1, '' );\n\n\t\t// Date Format\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.COMBO_BOX );\n\t\tform_item_input.TComboBox( { field: 'date_format', set_empty: true } );\n\t\tform_item_input.setSourceData( $this.date_format_array );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Date Format' ), form_item_input, tab_employee_preference_column1 );\n\n\t\t// Time Format\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.COMBO_BOX );\n\t\tform_item_input.TComboBox( { field: 'time_format', set_empty: true } );\n\t\tform_item_input.setSourceData( $this.time_format_array );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Time Format' ), form_item_input, tab_employee_preference_column1 );\n\n\t\t// Time Units\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.COMBO_BOX );\n\t\tform_item_input.TComboBox( { field: 'time_unit_format', set_empty: true } );\n\t\tform_item_input.setSourceData( $this.time_unit_format_array );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Time Units' ), form_item_input, tab_employee_preference_column1 );\n\n\t\t// Distance Units\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.COMBO_BOX );\n\t\tform_item_input.TComboBox( { field: 'distance_format', set_empty: true } );\n\t\tform_item_input.setSourceData( $this.distance_format_array );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Distance Units' ), form_item_input, tab_employee_preference_column1 );\n\n\t\t// Time Zone\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.COMBO_BOX );\n\t\tform_item_input.TComboBox( { field: 'time_zone', set_empty: true } );\n\t\tform_item_input.setSourceData( $this.time_zone_array );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Time Zone' ), form_item_input, tab_employee_preference_column1 );\n\n\t\t// Start Weeks on\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.COMBO_BOX );\n\t\tform_item_input.TComboBox( { field: 'start_week_day' } );\n\t\tform_item_input.setSourceData( $this.start_week_day_array );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Calendar Starts On' ), form_item_input, tab_employee_preference_column1 );\n\n\t\t// Rows per page\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.TEXT_INPUT );\n\t\tform_item_input.TTextInput( { field: 'items_per_page', width: 50 } );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Rows per page' ), form_item_input, tab_employee_preference_column1, '' );\n\n\t\t//Tab 3 start\n\n\t\tvar tab_email_info = this.edit_view_tab.find( '#tab_email_info' );\n\n\t\tvar tab_email_info_column1 = tab_email_info.find( '.first-column' );\n\n\t\tthis.edit_view_tabs[3] = [];\n\n\t\tthis.edit_view_tabs[3].push( tab_email_info_column1 );\n\n\t\t// Exceptions\n\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.CHECKBOX );\n\t\tform_item_input.TCheckbox( { field: 'enable_email_notification_exception' } );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Exceptions' ), form_item_input, tab_email_info_column1, '' );\n\n\t\t// Messages\n\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.CHECKBOX );\n\t\tform_item_input.TCheckbox( { field: 'enable_email_notification_message' } );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Messages' ), form_item_input, tab_email_info_column1 );\n\n\t\t// Pay Stubs\n\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.CHECKBOX );\n\t\tform_item_input.TCheckbox( { field: 'enable_email_notification_pay_stub' } );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Pay Stubs' ), form_item_input, tab_email_info_column1 );\n\n\t\t// Send Notifications to Home Email\n\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.CHECKBOX );\n\t\tform_item_input.TCheckbox( { field: 'enable_email_notification_home' } );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Send Notifications to Home Email' ), form_item_input, tab_email_info_column1, '' );\n\n\t\t//Tab 4 start\n\n\t\tvar tab_tax_deduction = this.edit_view_tab.find( '#tab_tax_deduction' );\n\n\t\tvar tab_tax_deduction_column1 = tab_tax_deduction.find( '.first-column' );\n\n\t\tthis.edit_view_tabs[4] = [];\n\n\t\tthis.edit_view_tabs[4].push( tab_tax_deduction_column1 );\n\n\t\t// Tax / Deductions\n\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.AWESOME_BOX );\n\t\tform_item_input.AComboBox( {\n\t\t\tfield: 'company_deduction',\n\t\t\tlayout_name: 'global_deduction',\n\t\t\tapi_class: TTAPI.APICompanyDeduction,\n\t\t\tallow_multiple_selection: true,\n\t\t\tset_empty: true\n\t\t} );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Tax / Deductions' ), form_item_input, tab_tax_deduction_column1, 'first_last' );\n\n\t}\n\n}\n"],"sourceRoot":""}