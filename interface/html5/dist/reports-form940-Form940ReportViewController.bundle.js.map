{"version":3,"sources":["webpack://timetrex/./interface/html5/views/reports/form940/Form940ReportViewController.js"],"names":["Form940ReportViewController","ReportBaseViewController","options","_","defaults","return_type_array","exempt_payment_array","state_array","province_array","super","this","script_name","viewId","context_menu_name","$","i18n","navigation_label","view_file","api","TTAPI","APIForm940Report","include_form_setup","callBack","$this","initDropDownOptions","option_name","result","APICompany","getOptions","onResult","provinceResult","Global","buildRecordArray","getResult","groups","form","label","id","exclude","include","ContextMenuIconName","view_form","group","icon","Icons","view","save_setup","form_item_input","form_item","tab3_column1","edit_view_tab","find","edit_view_tabs","push","loadWidgetByName","FormItemType","AWESOME_BOX","AComboBox","field","set_empty","allow_multiple_selection","layout_name","key","setSourceData","addEditFieldToColumn","v_box","api_class","APIPayStubEntryAccount","show_search_inputs","putInputToInsideFormItem","append","form_item_input_1","CHECKBOX","TCheckbox","TEXT_INPUT","TTextInput","other","exempt_payments","include_pay_stub_entry_account","current_edit_record","exempt_payments_include_pay_stub_entry_account","exclude_pay_stub_entry_account","exempt_payments_exclude_pay_stub_entry_account","return_type","exempt_payment","line_9","line_10","tax_deposited","res_Data","show_empty_message","edit_view_ui_dic","setValue","line_11"],"mappings":"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","file":"reports-form940-Form940ReportViewController.bundle.js?v=51fdad540a5613237f1a","sourcesContent":["export class Form940ReportViewController extends ReportBaseViewController {\n\tconstructor( options = {} ) {\n\t\t_.defaults( options, {\n\n\t\t\treturn_type_array: null,\n\t\t\texempt_payment_array: null,\n\t\t\tstate_array: null,\n\t\t\tprovince_array: null\n\t\t} );\n\n\t\tsuper( options );\n\t}\n\n\tinitReport( options ) {\n\t\tthis.script_name = 'Form940Report';\n\t\tthis.viewId = 'Form940Report';\n\t\tthis.context_menu_name = $.i18n._( 'Form 940' );\n\t\tthis.navigation_label = $.i18n._( 'Saved Report' ) + ':';\n\t\tthis.view_file = 'Form940ReportView.html';\n\t\tthis.api = TTAPI.APIForm940Report;\n\t\tthis.include_form_setup = true;\n\t}\n\n\tinitOptions( callBack ) {\n\t\tvar $this = this;\n\t\tvar options = [\n\t\t\t{ option_name: 'page_orientation' },\n\t\t\t{ option_name: 'font_size' },\n\t\t\t{ option_name: 'chart_display_mode' },\n\t\t\t{ option_name: 'chart_type' },\n\t\t\t{ option_name: 'templates' },\n\t\t\t{ option_name: 'setup_fields' },\n\t\t\t{ option_name: 'return_type' },\n\t\t\t{ option_name: 'exempt_payment' },\n\t\t\t{ option_name: 'state' },\n\t\t\t{ option_name: 'auto_refresh' }\n\t\t];\n\n\t\tthis.initDropDownOptions( options, function( result ) {\n\t\t\tTTAPI.APICompany.getOptions( 'province', 'US', {\n\t\t\t\tonResult: function( provinceResult ) {\n\t\t\t\t\t$this.province_array = Global.buildRecordArray( provinceResult.getResult() );\n\n\t\t\t\t\tcallBack( result ); // First to initialize drop down options, and then to initialize edit view UI.\n\t\t\t\t}\n\t\t\t} );\n\n\t\t} );\n\t}\n\n\tgetCustomContextMenuModel() {\n\t\tvar context_menu_model = {\n\t\t\tgroups: {\n\t\t\t\tform: {\n\t\t\t\t\tlabel: $.i18n._( 'Form' ),\n\t\t\t\t\tid: this.viewId + 'Form'\n\t\t\t\t}\n\t\t\t},\n\t\t\texclude: [],\n\t\t\tinclude: [\n\t\t\t\t{\n\t\t\t\t\tlabel: $.i18n._( 'View' ),\n\t\t\t\t\tid: ContextMenuIconName.view_form,\n\t\t\t\t\tgroup: 'form',\n\t\t\t\t\ticon: Icons.view\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tlabel: $.i18n._( 'Save Setup' ),\n\t\t\t\t\tid: ContextMenuIconName.save_setup,\n\t\t\t\t\tgroup: 'form',\n\t\t\t\t\ticon: Icons.save_setup\n\t\t\t\t}\n\t\t\t]\n\t\t};\n\n\t\treturn context_menu_model;\n\t}\n\n\tbuildFormSetupUI() {\n\n\t\tvar $this = this;\n\n\t\tvar tab3 = this.edit_view_tab.find( '#tab_form_setup' );\n\n\t\tvar tab3_column1 = tab3.find( '.first-column' );\n\n\t\tthis.edit_view_tabs[3] = [];\n\n\t\tthis.edit_view_tabs[3].push( tab3_column1 );\n\n\t\tvar form_item_input;\n\t\tvar form_item;\n\n\t\t//Type of Return\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.AWESOME_BOX );\n\n\t\tform_item_input = form_item_input.AComboBox( {\n\t\t\tfield: 'return_type',\n\t\t\tset_empty: true,\n\t\t\tallow_multiple_selection: true,\n\t\t\tlayout_name: 'global_option_column',\n\t\t\tkey: 'value'\n\t\t} );\n\n\t\tform_item_input.setSourceData( $this.return_type_array );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Type of Return' ), form_item_input, tab3_column1, '' );\n\n\t\t//Exempt Payments\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.AWESOME_BOX );\n\n\t\tform_item_input = form_item_input.AComboBox( {\n\t\t\tfield: 'exempt_payment',\n\t\t\tset_empty: true,\n\t\t\tallow_multiple_selection: true,\n\t\t\tlayout_name: 'global_option_column',\n\t\t\tkey: 'value'\n\t\t} );\n\n\t\tform_item_input.setSourceData( $this.exempt_payment_array );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Exempt Payment Types' ), form_item_input, tab3_column1 );\n\n\t\t//Total Payments (Line 3)\n\t\t// var v_box = $( \"<div class='v-box'></div>\" );\n\t\t//\n\t\t// //Selection Type\n\t\t// form_item_input = Global.loadWidgetByName( FormItemType.AWESOME_BOX );\n\t\t// form_item_input.AComboBox( {\n\t\t// \tapi_class: TTAPI.APIPayStubEntryAccount,\n\t\t// \tallow_multiple_selection: true,\n\t\t// \tlayout_name: 'global_PayStubAccount',\n\t\t// \tshow_search_inputs: true,\n\t\t// \tset_empty: true,\n\t\t// \tfield: 'total_payments_include_pay_stub_entry_account'\n\t\t// } );\n\t\t//\n\t\t// var form_item = this.putInputToInsideFormItem( form_item_input, $.i18n._( 'Include' ) );\n\t\t//\n\t\t// v_box.append( form_item );\n\t\t// v_box.append( \"<div class='clear-both-div'></div>\" );\n\t\t//\n\t\t// //Selection\n\t\t// var form_item_input_1 = Global.loadWidgetByName( FormItemType.AWESOME_BOX );\n\t\t//\n\t\t// form_item_input_1.AComboBox( {\n\t\t// \tapi_class: TTAPI.APIPayStubEntryAccount,\n\t\t// \tallow_multiple_selection: true,\n\t\t// \tlayout_name: 'global_PayStubAccount',\n\t\t// \tshow_search_inputs: true,\n\t\t// \tset_empty: true,\n\t\t// \tfield: 'total_payments_exclude_pay_stub_entry_account'\n\t\t// } );\n\t\t//\n\t\t// form_item = this.putInputToInsideFormItem( form_item_input_1, $.i18n._( 'Exclude' ) );\n\t\t//\n\t\t// v_box.append( form_item );\n\t\t//\n\t\t// this.addEditFieldToColumn( $.i18n._( 'Total Payments (Line 3)' ), [form_item_input, form_item_input_1], tab3_column1, '', v_box, false, true );\n\n\t\t//Exempt Payments (Line 4)\n\t\tvar v_box = $( '<div class=\\'v-box\\'></div>' );\n\n\t\t//Selection Type\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.AWESOME_BOX );\n\t\tform_item_input.AComboBox( {\n\t\t\tapi_class: TTAPI.APIPayStubEntryAccount,\n\t\t\tallow_multiple_selection: true,\n\t\t\tlayout_name: 'global_PayStubAccount',\n\t\t\tshow_search_inputs: true,\n\t\t\tset_empty: true,\n\t\t\tfield: 'exempt_payments_include_pay_stub_entry_account'\n\t\t} );\n\n\t\tform_item = this.putInputToInsideFormItem( form_item_input, $.i18n._( 'Include' ) );\n\n\t\tv_box.append( form_item );\n\t\tv_box.append( '<div class=\\'clear-both-div\\'></div>' );\n\n\t\t//Selection\n\t\tvar form_item_input_1 = Global.loadWidgetByName( FormItemType.AWESOME_BOX );\n\n\t\tform_item_input_1.AComboBox( {\n\t\t\tapi_class: TTAPI.APIPayStubEntryAccount,\n\t\t\tallow_multiple_selection: true,\n\t\t\tlayout_name: 'global_PayStubAccount',\n\t\t\tshow_search_inputs: true,\n\t\t\tset_empty: true,\n\t\t\tfield: 'exempt_payments_exclude_pay_stub_entry_account'\n\t\t} );\n\n\t\tform_item = this.putInputToInsideFormItem( form_item_input_1, $.i18n._( 'Exclude' ) );\n\n\t\tv_box.append( form_item );\n\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Exempt Payments (Line 4)' ), [form_item_input, form_item_input_1], tab3_column1, '', v_box, false, true );\n\n\t\t//Credit Reduction (Line 9)\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.CHECKBOX );\n\n\t\tform_item_input.TCheckbox( { field: 'line_9' } );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Were ALL taxable FUTA wages excluded from State UI? (Line 9)' ), form_item_input, tab3_column1 );\n\n\t\t//Wages Excluded From State Unemployement Tax (Line 10)\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.TEXT_INPUT );\n\n\t\tform_item_input.TTextInput( { field: 'line_10' } );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Wages Excluded From State Unemployement Tax (Line 10)' ), form_item_input, tab3_column1 );\n\n\t\t// //Credit Reduction (Line 11)\n\t\t// form_item_input = Global.loadWidgetByName( FormItemType.TEXT_INPUT );\n\t\t//\n\t\t// form_item_input.TTextInput( {field: 'line_11'} );\n\t\t// this.addEditFieldToColumn( $.i18n._( 'Credit Reduction (Line 11)' ), form_item_input, tab3_column1 );\n\n\t\t//FUTA Tax Deposited For The Year (Line 13)\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.TEXT_INPUT );\n\n\t\tform_item_input.TTextInput( { field: 'tax_deposited' } );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'FUTA Tax Deposited For The Year (Line 13)' ), form_item_input, tab3_column1 );\n\t}\n\n\tgetFormSetupData() {\n\t\tvar other = {};\n\n\t\t//other.total_payments = {include_pay_stub_entry_account: this.current_edit_record.total_payments_include_pay_stub_entry_account, exclude_pay_stub_entry_account: this.current_edit_record.total_payments_exclude_pay_stub_entry_account};\n\t\tother.exempt_payments = {\n\t\t\tinclude_pay_stub_entry_account: this.current_edit_record.exempt_payments_include_pay_stub_entry_account,\n\t\t\texclude_pay_stub_entry_account: this.current_edit_record.exempt_payments_exclude_pay_stub_entry_account\n\t\t};\n\n\t\tother.return_type = this.current_edit_record.return_type;\n\t\tother.exempt_payment = this.current_edit_record.exempt_payment;\n\t\tother.line_9 = this.current_edit_record.line_9;\n\t\tother.line_10 = this.current_edit_record.line_10;\n\t\t//other.line_11 = this.current_edit_record.line_11;\n\t\tother.tax_deposited = this.current_edit_record.tax_deposited;\n\n\t\treturn other;\n\t}\n\n\t/* jshint ignore:start */\n\tsetFormSetupData( res_Data ) {\n\n\t\tif ( !res_Data ) {\n\t\t\tthis.show_empty_message = true;\n\t\t}\n\n\t\tif ( res_Data ) {\n\t\t\t// if ( res_Data.total_payments ) {\n\t\t\t//     this.edit_view_ui_dic.total_payments_exclude_pay_stub_entry_account.setValue( res_Data.total_payments.exclude_pay_stub_entry_account );\n\t\t\t//     this.edit_view_ui_dic.total_payments_include_pay_stub_entry_account.setValue( res_Data.total_payments.include_pay_stub_entry_account );\n\t\t\t//\n\t\t\t//     this.current_edit_record.total_payments_include_pay_stub_entry_account = res_Data.total_payments.include_pay_stub_entry_account;\n\t\t\t//     this.current_edit_record.total_payments_exclude_pay_stub_entry_account = res_Data.total_payments.exclude_pay_stub_entry_account;\n\t\t\t// }\n\n\t\t\tif ( res_Data.exempt_payments ) {\n\t\t\t\tthis.edit_view_ui_dic.exempt_payments_exclude_pay_stub_entry_account.setValue( res_Data.exempt_payments.exclude_pay_stub_entry_account );\n\t\t\t\tthis.edit_view_ui_dic.exempt_payments_include_pay_stub_entry_account.setValue( res_Data.exempt_payments.include_pay_stub_entry_account );\n\n\t\t\t\tthis.current_edit_record.exempt_payments_include_pay_stub_entry_account = res_Data.exempt_payments.include_pay_stub_entry_account;\n\t\t\t\tthis.current_edit_record.exempt_payments_exclude_pay_stub_entry_account = res_Data.exempt_payments.exclude_pay_stub_entry_account;\n\t\t\t}\n\n\t\t\tif ( res_Data.return_type ) {\n\t\t\t\tthis.edit_view_ui_dic.return_type.setValue( res_Data.return_type );\n\n\t\t\t\tthis.current_edit_record.return_type = res_Data.return_type;\n\t\t\t}\n\n\t\t\tif ( res_Data.exempt_payment ) {\n\t\t\t\tthis.edit_view_ui_dic.exempt_payment.setValue( res_Data.exempt_payment );\n\n\t\t\t\tthis.current_edit_record.exempt_payment = res_Data.exempt_payment;\n\t\t\t}\n\n\t\t\tif ( res_Data.line_9 ) {\n\t\t\t\tthis.edit_view_ui_dic.line_9.setValue( res_Data.line_9 );\n\n\t\t\t\tthis.current_edit_record.line_9 = res_Data.line_9;\n\t\t\t}\n\n\t\t\tif ( res_Data.line_10 ) {\n\t\t\t\tthis.edit_view_ui_dic.line_10.setValue( res_Data.line_10 );\n\n\t\t\t\tthis.current_edit_record.line_10 = res_Data.line_10;\n\t\t\t}\n\n\t\t\tif ( res_Data.line_11 ) {\n\t\t\t\tthis.edit_view_ui_dic.line_11.setValue( res_Data.line_11 );\n\n\t\t\t\tthis.current_edit_record.line_11 = res_Data.line_11;\n\t\t\t}\n\n\t\t\tif ( res_Data.tax_deposited ) {\n\t\t\t\tthis.edit_view_ui_dic.tax_deposited.setValue( res_Data.tax_deposited );\n\n\t\t\t\tthis.current_edit_record.tax_deposited = res_Data.tax_deposited;\n\t\t\t}\n\t\t}\n\t}\n\n\t/* jshint ignore:end */\n}"],"sourceRoot":""}