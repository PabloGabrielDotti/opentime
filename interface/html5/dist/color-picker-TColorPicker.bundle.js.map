{"version":3,"sources":["webpack://timetrex/./interface/html5/framework/widgets/color-picker/colors.js","webpack://timetrex/./interface/html5/framework/widgets/color-picker/color-picker.js","webpack://timetrex/./interface/html5/global/widgets/color-picker/TColorPicker.js"],"names":["window","undefined","_valueRanges","rgb","r","g","b","hsv","h","s","v","hsl","l","alpha","HEX","_Math","Math","_round","round","_instance","_colors","grey","luminance","Colors","options","this","colors","RND","color","valueRanges","initInstance","THIS","customBG","_options","option","focusInstance","ColorConverter","txt2color","setColor","type","save","n","limitValue","convertColors","colorObj","modes","SAVE","SMART","convert","ranges","mode","from","exceptions","RGB","typ","RGB2HEX","equivalentGrey","webSave","getClosestWebColor","webSmart","saveColor","hueRGB","hue2RGB","background","rgbaMixBlack","mixColors","rgbaMixWhite","getLuminance","rgbaMixCustom","saveAsBackground","rgbaMixBGMixCustom","rgb1","rgb2","nominal","WCAG2Ratio","lum1","lum2","ratio","getWCAG2Ratio","luminanceDelta","abs","hueDelta","max","RGBLuminance","HUELuminance","convertCallback","prototype","newCol","setCustomBackground","col","toString","colorMode","forceAlpha","color2text","toLowerCase","txt","parts","replace","split","values","substr","m","charAt","HEX2rgb","hasAlpha","HSL","shouldBeHex","isHex","innerText","toUpperCase","hue","mod","i","rgb2hsv","chroma","min","k","hsv2rgb","f","p","q","t","hsv2hsl","rgb2hsl","dependent","hsl2rgb","sextant","vsf","val","out","tmp","half","normalized","div","length","pow","topColor","bottomColor","topAlpha","bottomAlpha","newColor","alphaTop","alphaBottom","a","value","$","_colorPicker","_color","_$trigger","_$UI","_$z_slider","_$xy_slider","_$xy_cursor","_$z_cursor","_$alpha","_$alpha_cursor","$document","document","_pointerdown","_GPU","_animate","requestAnimationFrame","webkitRequestAnimationFrame","cb","_html","_css","ColorPicker","extractValue","elm","getAttribute","css","resolveEventType","event","originalEvent","touches","findElement","$elm","find","doRender","toggle","$this","position","offset","$window","gap","_colorMode","data","$trigger","cssPrepend","cssAddon","margin","appendTo","show","$UI","GPU","buildCallback","call","prepend","children","eq","width","_width","offsetWidth","_height","offsetHeight","hide","positionCallback","_left","left","scrollLeft","_top","top","outerHeight","scrollTop","height","animationSpeed","opacity","preRender","off","on","pointerdown","e","action","className","button","which","preventDefault","returnValue","_offset","xy_slider","z_slider","x","pageX","y","pageY","z","toggled","dark","light","colorText","HUEContrast","alphaContrast","translate3d","triggerValue","hasNoValue","hasAttribute","backgroundColor","transform","borderColor","text","render","renderCallback","fn","colorPicker","_this","noop","extend","body","scrollResize","add","target","index","each","attr","preventFocus","destroy","TColorPicker","field","error_tip_box","color_picker_instance","opts","defaults","error_string","check_box","enabled","clearErrorStyle","getEnabled","setEnabled","removeAttr","setCheckBox","checked","isChecked","setMassEditMode","insertBefore","change","trigger","remove","setErrorStyle","errStr","isWarning","addClass","showErrorTip","sec","Global","isSet","loadWidgetByName","WidgetNamesDic","ERROR_TOOLTIP","ErrorTipBox","cancelRemove","hasClass","hideErrorTip","removeClass","getField","getValue","substring","setValue","o","meta","unbind","bind","self","jQuery"],"mappings":"kIAcA,QAAe,SAAUA,EAAQC,GAGhC,IAAIC,EAAe,CACjBC,IAAO,CAACC,EAAG,CAAC,EAAG,KAAMC,EAAG,CAAC,EAAG,KAAMC,EAAG,CAAC,EAAG,MACzCC,IAAO,CAACC,EAAG,CAAC,EAAG,KAAMC,EAAG,CAAC,EAAG,KAAMC,EAAG,CAAC,EAAG,MACzCC,IAAO,CAACH,EAAG,CAAC,EAAG,KAAMC,EAAG,CAAC,EAAG,KAAMG,EAAG,CAAC,EAAG,MACzCC,MAAO,CAACA,MAAO,CAAC,EAAG,IACnBC,IAAO,CAACA,IAAK,CAAC,EAAG,YAGlBC,EAAQf,EAAOgB,KACfC,EAASF,EAAMG,MAEfC,EAAY,GACZC,EAAU,GAEVC,EAAO,CAACjB,EAAG,QAAUC,EAAG,QAAUC,EAAG,SACrCgB,EAAY,CAAClB,EAAG,MAAQC,EAAG,MAAQC,EAAG,OAEtCiB,EAAS,SAASC,GACjBC,KAAKC,OAAS,CAACC,IAAK,IACpBF,KAAKD,QAAU,CACdI,MAAO,gBACPP,KAAMA,EACNC,UAAWA,EACXO,YAAa3B,GAKd4B,EAAaL,KAAMD,GAAW,KAE/BM,EAAe,SAASC,EAAMP,GAC7B,IAECQ,EADAC,EAAWF,EAAKP,QAIjB,IAAK,IAAIU,KADTC,EAAcJ,GACKP,EACdA,EAAQU,KAAYjC,IAAWgC,EAASC,GAAUV,EAAQU,IAE/DF,EAAWC,EAASD,SACpBC,EAASD,SAAgC,iBAAbA,EAAyBI,EAAeC,UAAUL,GAAU7B,IAAM6B,EAC9FZ,EAAUkB,EAASP,EAAKL,OAAQO,EAASL,MAAO3B,GAAW,IAE5DkC,EAAgB,SAASJ,GACpBZ,IAAcY,IACjBZ,EAAYY,EACZX,EAAUW,EAAKL,SAqClB,SAASY,EAASZ,EAAQE,EAAOW,EAAMC,EAAM3B,GAC5C,GAAqB,iBAAVe,EAEVW,GADIX,EAAQQ,EAAeC,UAAUT,IACxBW,KACbnB,EAAQmB,GAAQX,EAAMW,GACtB1B,EAAQA,IAAUZ,EAAYY,EAAQe,EAAMf,WACtC,GAAIe,EACV,IAAK,IAAIa,KAAKb,EACbF,EAAOa,GAAME,GAAKC,EAAWd,EAAMa,GAAKvC,EAAaqC,GAAME,GAAG,GAAI,EAAI,GAMxE,OAHI5B,IAAUZ,IACbyB,EAAOb,MAAQ6B,GAAY7B,EAAO,EAAG,IAE/B8B,EAAcJ,EAAMC,EAAOd,EAASzB,GA2B5C,SAAS0C,EAAcJ,EAAMK,GAE5B,IAMCC,EAEeC,EAAMC,EARlBrB,EAASkB,GAAYxB,EACxB4B,EAAUZ,EACVZ,EAAUL,EAAUK,QACpByB,EAAS/C,EACTyB,EAAMD,EAAOC,IAENuB,EAAO,GAAIC,EAAO,GACzBC,EAAa,CAACzC,IAAK,MAAOR,IAAKoC,GAC/Bc,EAAM1B,EAAIxB,IAEX,GAAa,UAAToC,EAAkB,CACrB,IAAK,IAAIe,KAAOL,EACf,IAAKA,EAAOK,GAAKA,GAQhB,IAAIJ,KAPAX,IAASe,IACZH,EAAOC,EAAWE,IAAQ,MAC1B5B,EAAO4B,GAAON,EAAQG,EAAO,IAAMG,GAAK5B,EAAOyB,KAG3CxB,EAAI2B,KAAM3B,EAAI2B,GAAO,IAC1BT,EAAQnB,EAAO4B,GAEd3B,EAAI2B,GAAKJ,GAAQjC,EAAO4B,EAAMK,GAAQD,EAAOK,GAAKJ,GAAM,IAK3DG,EAAM1B,EAAIxB,IACVuB,EAAOZ,IAAMkC,EAAQO,QAAQF,GAC7B3B,EAAO8B,eACNhC,EAAQH,KAAKjB,EAAIsB,EAAOvB,IAAIC,EAC5BoB,EAAQH,KAAKhB,EAAIqB,EAAOvB,IAAIE,EAC5BmB,EAAQH,KAAKf,EAAIoB,EAAOvB,IAAIG,EAC7BoB,EAAO+B,QAAUX,EAAOY,EAAmBL,EAAK,IAEhD3B,EAAOiC,SAAWZ,EAAQW,EAAmBL,EAAK,IAElD3B,EAAOkC,UACNP,EAAIjD,IAAM0C,EAAK1C,GAAKiD,EAAIhD,IAAMyC,EAAKzC,GAAKgD,EAAI/C,IAAMwC,EAAKxC,EAAK,WAC3D+C,EAAIjD,IAAM2C,EAAM3C,GAAKiD,EAAIhD,IAAM0C,EAAM1C,GAAKgD,EAAI/C,IAAMyC,EAAMzC,EAAK,YAAc,GAC/EoB,EAAOmC,OAASzB,EAAe0B,QAAQpC,EAAOnB,IAAIC,GAE9CoC,IACHlB,EAAOqC,WApEV,SAA0BV,EAAKlD,EAAKU,GACnC,IAAIQ,EAAOF,EAAUK,QAAQH,KAC5BO,EAAQ,GAmBT,OAjBAA,EAAMyB,IAAM,CAACjD,EAAGiD,EAAIjD,EAAGC,EAAGgD,EAAIhD,EAAGC,EAAG+C,EAAI/C,GACxCsB,EAAMzB,IAAM,CAACC,EAAGD,EAAIC,EAAGC,EAAGF,EAAIE,EAAGC,EAAGH,EAAIG,GACxCsB,EAAMf,MAAQA,EAEde,EAAM4B,eAAiBvC,EAAOI,EAAKjB,EAAIiD,EAAIjD,EAAIiB,EAAKhB,EAAIgD,EAAIhD,EAAIgB,EAAKf,EAAI+C,EAAI/C,GAE7EsB,EAAMoC,aAAeC,EAAU9D,EAAK,CAACC,EAAG,EAAGC,EAAG,EAAGC,EAAG,GAAIO,EAAO,GAC/De,EAAMsC,aAAeD,EAAU9D,EAAK,CAACC,EAAG,EAAGC,EAAG,EAAGC,EAAG,GAAIO,EAAO,GAC/De,EAAMoC,aAAa1C,UAAY6C,EAAavC,EAAMoC,cAAc,GAChEpC,EAAMsC,aAAa5C,UAAY6C,EAAavC,EAAMsC,cAAc,GAE5D/C,EAAUK,QAAQQ,WACrBJ,EAAMwC,cAAgBH,EAAU9D,EAAKgB,EAAUK,QAAQQ,SAAUnB,EAAO,GACxEe,EAAMwC,cAAc9C,UAAY6C,EAAavC,EAAMwC,eAAe,GAClEjD,EAAUK,QAAQQ,SAASV,UAAY6C,EAAahD,EAAUK,QAAQQ,UAAU,IAG1EJ,EA+CeyC,CAAiBhB,EAAK3B,EAAOvB,IAAKuB,EAAOb,QAI/D,IAICmD,EAAcE,EACmCI,EAyN9BC,EAAMC,EAAMC,EA9N5BtE,EAAMuB,EAAOvB,IAChBU,EAAQa,EAAOb,MAEfkD,EAAarC,EAAOqC,WAmCrB,OA/BAC,EAAeC,EAAU9D,EAAK,CAACC,EAAG,EAAGC,EAAG,EAAGC,EAAG,GAAIO,EAAO,IACnC,UAAIsD,EAAaH,GAAc,GACrDtC,EAAOsC,aAAeA,GAEtBE,EAAeD,EAAU9D,EAAK,CAACC,EAAG,EAAGC,EAAG,EAAGC,EAAG,GAAIO,EAAO,IACnC,UAAIsD,EAAaD,GAAc,GACrDxC,EAAOwC,aAAeA,EAElB1C,EAAQQ,YACXsC,EAAqBL,EAAU9D,EAAK4D,EAAWK,cAAevD,EAAO,IACzC,UAAIsD,EAAaG,GAAoB,GACjEA,EAAmBI,WA0OrB,SAAuBC,EAAMC,GAC5B,IAAIC,EAAQ,EAGXA,EADGF,GAAQC,GACFD,EAAO,MAASC,EAAO,MAEvBA,EAAO,MAASD,EAAO,KAEjC,OAAO1D,EAAe,IAAR4D,GAAe,IAlPIC,CAAcR,EAA4B,UACzEP,EAAWK,cAAuB,WACnC1C,EAAO4C,mBAAqBA,EAE5BA,EAAmBS,eAAiBhE,EAAMiE,IACzCV,EAA4B,UAAIP,EAAWK,cAAuB,WACnEE,EAAmBW,UAsMAV,EAtMuBR,EAAWK,cAsM5BI,EAtM2CF,EAsMrCG,GAtMyD,GAuMjF1D,EAAMmE,IAAIX,EAAKnE,EAAIoE,EAAKpE,EAAGoE,EAAKpE,EAAImE,EAAKnE,GAChDW,EAAMmE,IAAIX,EAAKlE,EAAImE,EAAKnE,EAAGmE,EAAKnE,EAAIkE,EAAKlE,GACzCU,EAAMmE,IAAIX,EAAKjE,EAAIkE,EAAKlE,EAAGkE,EAAKlE,EAAIiE,EAAKjE,KAAOmE,EAAU,IAAM,GAAK,MArMtE/C,EAAOyD,aAAehB,EAAad,GACnC3B,EAAO0D,aAAejB,EAAazC,EAAOmC,QAGtCrC,EAAQ6D,iBACX7D,EAAQ6D,gBAAgB3D,EAAQa,GAK1Bb,EAhKRH,EAAO+D,UAAUhD,SAAW,SAASiD,EAAQhD,EAAM1B,GAElD,OADAsB,EAAcV,MACV8D,EACIjD,EAASb,KAAKC,OAAQ6D,EAAQhD,EAAMtC,EAAWY,IAElDA,IAAUZ,IACbwB,KAAKC,OAAOb,MAAQ6B,EAAW7B,EAAO,EAAG,IAEnC8B,EAAcJ,KAIvBhB,EAAO+D,UAAUE,oBAAsB,SAASC,GAI/C,OAHAtD,EAAcV,MACdA,KAAKD,QAAQQ,SAA2B,iBAARyD,EAAoBrD,EAAeC,UAAUoD,GAAKtF,IAAMsF,EAEjFnD,EAASb,KAAKC,OAAQzB,EAAW,QAGzCsB,EAAO+D,UAAUjB,iBAAmB,WAGnC,OAFAlC,EAAcV,MAEPa,EAASb,KAAKC,OAAQzB,EAAW,OAAO,IAGhDsB,EAAO+D,UAAUI,SAAW,SAASC,EAAWC,GAC/C,OAAOxD,EAAeyD,YAAYF,GAAa,OAAOG,cAAerE,KAAKC,OAAQkE,IA8InF,IAAIxD,EAAiB,CACpBC,UAAW,SAAS0D,GACnB,IAAInE,EAAQ,GACXoE,EAAQD,EAAIE,QAAQ,cAAe,IAAIC,MAAM,KAC7CC,GAAUH,EAAM,IAAM,IAAIE,MAAM,QAChC3D,EAAOyD,EAAM,GAAKA,EAAM,GAAGI,OAAO,EAAG,GAAK,MAC1CC,EAAI,GAIL,GAFAzE,EAAMW,KAAOA,EACbX,EAAMW,GAAQ,GACVyD,EAAM,GACT,IAAK,IAAIvD,EAAI,EAAGA,KACf4D,EAAI9D,EAAKE,IAAMF,EAAK+D,OAAO7D,GAC3Bb,EAAMW,GAAM8D,IAAMF,EAAO1D,GAAKvC,EAAaqC,GAAM8D,GAAG,QAGrDzE,EAAMzB,IAAMiC,EAAemE,QAAQP,EAAM,IAK1C,OAFApE,EAAMf,MAAQsF,EAAO,IAAMA,EAAO,GAAK,EAEhCvE,GAGRiE,WAAY,SAASF,EAAWjE,EAAQkE,GACvC,IAAI/E,GAAuB,IAAf+E,GAAwB3E,EAAsB,IAAfS,EAAOb,OAAe,IAChE2F,EAA4B,iBAAV3F,IACF,IAAf+E,IAAyBA,GAAwB,IAAV/E,GACxCwC,EAAM3B,EAAOC,IAAIxB,IACjBsG,EAAM/E,EAAOC,IAAIhB,IACjB+F,EAA4B,QAAdf,GAAuBa,EACrCG,EAAsB,QAAdhB,IAAwBe,EAEhCE,EADsB,QAAdjB,GAAuBe,EACXrD,EAAIjD,EAAI,KAAOiD,EAAIhD,EAAI,KAAOgD,EAAI/C,EACpDqG,EACA,IAAMjF,EAAOZ,IADL2F,EAAIjG,EAAI,KAAOiG,EAAIhG,EAAI,MAAQgG,EAAI7F,EAAI,IAGlD,OAAO+F,EAAQC,GAAaF,EAAc,MAAQf,IAChDa,EAAW,IAAM,IAAM,IAAMI,GAC7BJ,EAAW,KAAO3F,EAAQ,IAAM,KAGnC0C,QAAS,SAASF,GACjB,QACEA,EAAIjD,EAAI,GAAK,IAAM,IAAMiD,EAAIjD,EAAEsF,SAAS,KACxCrC,EAAIhD,EAAI,GAAK,IAAM,IAAMgD,EAAIhD,EAAEqF,SAAS,KACxCrC,EAAI/C,EAAI,GAAK,IAAM,IAAM+C,EAAI/C,EAAEoF,SAAS,KACxCmB,eAGHN,QAAS,SAASzF,GAEjB,MAAO,CACNV,IAAK,MAFNU,EAAMA,EAAIoF,MAAM,KAEC,GAAKpF,EAAIA,EAAI,GAAK,EAAI,IAAM,IAC5CT,IAAK,KAAOS,EAAIA,EAAI,GAAK,EAAI,IAAMA,EAAI,IAAMA,EAAI,KAAO,IACxDR,IAAK,MAAQQ,EAAI,IAAMA,EAAI,KAAOA,EAAI,IAAMA,EAAI,KAAO,MAIzDgD,QAAS,SAASgD,GACjB,IAAItG,EAAU,EAANsG,EACPC,IAAQvG,EAAI,EACZwG,EAAU,IAANxG,EAAU,EAAKA,EAAIuG,EAExB,MAAO,CACN3G,EAAGa,EAAqC,IAA9B,CAAC,EAAG,EAAI+F,EAAG,EAAG,EAAGA,EAAG,GAAGD,IACjC1G,EAAGY,EAAqC,IAA9B,CAAC+F,EAAG,EAAG,EAAG,EAAIA,EAAG,EAAG,GAAGD,IACjCzG,EAAGW,EAAqC,IAA9B,CAAC,EAAG,EAAG+F,EAAG,EAAG,EAAG,EAAIA,GAAGD,MAMnCE,QAAS,SAAS9G,GACjB,IAGQ+G,EAAQC,EAHZ/G,EAAID,EAAIC,EACXC,EAAIF,EAAIE,EACRC,EAAIH,EAAIG,EACR8G,EAAI,EAcL,OAZI/G,EAAIC,IACPD,EAAIC,GAAKA,EAAID,EAAG,GAChB+G,GAAK,GAEND,EAAM7G,EACFF,EAAIC,IACPD,EAAIC,GAAKA,EAAID,EAAG,GAChBgH,GAAK,EAAI,EAAIA,EACbD,EAAMpG,EAAMoG,IAAI9G,EAAGC,IAEpB4G,EAAS9G,EAAI+G,EAEN,CACN3G,GAFGJ,EAAK8G,EAAS9G,EAAK,GAEf,MAAUgB,GAAWA,EAAQT,KAAOS,EAAQT,IAAIH,GAAM,EAC5D0G,EAASnG,EAAMiE,IAAIoC,GAAK/G,EAAIC,IAAM,EAAI4G,IAAW,EAClDzG,EAAGL,EAAK8G,EAAS9G,EAAOgB,GAAWA,EAAQb,KAAOa,EAAQb,IAAIE,GAAM,EACpEC,EAAGN,IAILiH,QAAS,SAAS9G,GACjB,IAAIC,EAAY,EAARD,EAAIC,EACXC,EAAIF,EAAIE,EACRC,EAAIH,EAAIG,EACRsG,IAAMxG,EACN8G,EAAI9G,EAAIwG,EACRO,EAAI7G,GAAK,EAAID,GACb+G,EAAI9G,GAAK,EAAI4G,EAAI7G,GACjBgH,EAAI/G,GAAK,GAAK,EAAI4G,GAAK7G,GACvBsG,EAAMC,EAAI,EAEX,MAAO,CACN5G,EAAG,CAACM,EAAG8G,EAAGD,EAAGA,EAAGE,EAAG/G,GAAGqG,GACtB1G,EAAG,CAACoH,EAAG/G,EAAGA,EAAG8G,EAAGD,EAAGA,GAAGR,GACtBzG,EAAG,CAACiH,EAAGA,EAAGE,EAAG/G,EAAGA,EAAG8G,GAAGT,KAMxBW,QAAS,SAASnH,GACjB,IAAIK,GAAK,EAAIL,EAAIE,GAAKF,EAAIG,EACzBD,EAAIF,EAAIE,EAAIF,EAAIG,EAIjB,OAFAD,EAAKF,EAAIE,EAAQG,EAAI,EAAKA,EAAIH,EAAIG,EAAI,EAAKH,GAAK,EAAIG,GAAvC,EAEN,CACNJ,EAAGD,EAAIC,EACPC,EAAIF,EAAIG,GAAMD,EAAuDA,EAAjDW,GAAWA,EAAQT,KAAOS,EAAQT,IAAIF,GAAM,EAChEG,EAAGA,EAAI,IAIT+G,QAAS,SAASxH,EAAKyH,GACtB,IAAIrH,EAAM6B,EAAe6E,QAAQ9G,GAEjC,OAAOiC,EAAesF,QAAQE,EAAYrH,EAAOa,EAAQb,IAAMA,IAGhEsH,QAAS,SAASlH,GACjB,IAAIH,EAAY,EAARG,EAAIH,EACXC,EAAIE,EAAIF,EACRG,EAAID,EAAIC,EACRF,EAAIE,EAAI,GAAMA,GAAK,EAAIH,GAAMG,EAAIH,EAAMA,EAAIG,EAC3CyF,EAAIzF,EAAIA,EAAIF,EAEZoH,IAAYtH,EAEZuH,EAAMrH,GAHDA,GAAMA,EAAI2F,GAAK3F,EAAK,IAEjBF,EAAIsH,GAEZL,EAAIpB,EAAI0B,EACRP,EAAI9G,EAAIqH,EACRhB,EAAMe,EAAU,EAEjB,MAAO,CACN1H,EAAG,CAACM,EAAG8G,EAAGnB,EAAGA,EAAGoB,EAAG/G,GAAGqG,GACtB1G,EAAG,CAACoH,EAAG/G,EAAGA,EAAG8G,EAAGnB,EAAGA,GAAGU,GACtBzG,EAAG,CAAC+F,EAAGA,EAAGoB,EAAG/G,EAAGA,EAAG8G,GAAGT,MASzB,SAASrD,EAAmBL,EAAK2E,GAChC,IAAIC,EAAM,GACTC,EAAM,EACNC,EAAOH,EAAM,EAEd,IAAK,IAAIvF,KAAKY,EACb6E,EAAM7E,EAAIZ,GAAKuF,EACfC,EAAIxF,GAAKY,EAAIZ,IAAMyF,EAAMC,EAAOH,EAAME,GAAOA,GAE9C,OAAOD,EASR,SAAS9D,EAAahE,EAAKiI,GAK1B,IAJA,IAAIC,EAAMD,EAAa,EAAI,IAC1B/E,EAAM,CAAClD,EAAIC,EAAIiI,EAAKlI,EAAIE,EAAIgI,EAAKlI,EAAIG,EAAI+H,GACzC/G,EAAYH,EAAUK,QAAQF,UAEtB0F,EAAI3D,EAAIiF,OAAQtB,KACxB3D,EAAI2D,GAAK3D,EAAI2D,IAAM,OAAU3D,EAAI2D,GAAK,MAAQjG,EAAMwH,KAAMlF,EAAI2D,GAAK,MAAS,MAAQ,KAErF,OAAS1F,EAAUlB,EAAIiD,EAAI,GAAO/B,EAAUjB,EAAIgD,EAAI,GAAO/B,EAAUhB,EAAI+C,EAAI,GAG9E,SAASY,EAAUuE,EAAUC,EAAaC,EAAUC,GACnD,IAAIC,EAAW,GACdC,EAAYH,IAAazI,EAAYyI,EAAW,EAChDI,EAAeH,IAAgB1I,EAAY0I,EAAc,EACzD9H,EAAQgI,EAAWC,GAAe,EAAID,GAEvC,IAAI,IAAIpG,KAAK+F,EACZI,EAASnG,IAAM+F,EAAS/F,GAAKoG,EAAWJ,EAAYhG,GAAKqG,GAAe,EAAID,IAAahI,EAG1F,OADA+H,EAASG,EAAIlI,EACN+H,EAcR,SAASlG,EAAWsG,EAAO7B,EAAKjC,GAE/B,OAAQ8D,EAAQ9D,EAAMA,EAAM8D,EAAQ7B,EAAMA,EAAM6B,EAGjD,OAAOzH,EA3bR,CA4bGvB,YAAQC,ICzbX,SAAUD,EAAQiJ,EAAG1H,EAAQtB,GAG5B,IAECiJ,EACAC,EACAlH,EAEAmH,EAAWC,EACXC,EAAYC,EACZC,EAAaC,EAAaC,EAAUC,EARjCC,EAAYX,EAAEY,UACjB1I,EAAY8H,IAUZa,EAAe,+CAEfC,GAAO,EACPC,EAAWhK,EAAOiK,uBACjBjK,EAAOkK,6BAA+B,SAASC,GAAIA,KACpDC,EAAQ,+PAKRC,EAAO,ynCAmBPC,EAAc,SAAS9I,GACtB2H,EAAS1H,KAAKG,MAAQ,IAAIL,EAAOC,GACjCS,EAAWkH,EAAO3H,QAClB0H,EAAezH,MAQjB,SAAS8I,EAAaC,GACrB,OAAOA,EAAIxB,OAASwB,EAAIC,aAAa,UACpCxB,EAAEuB,GAAKE,IAAI,qBAAuB,OAGpC,SAASC,EAAiBC,GAIzB,OAHAA,EAAQA,EAAMC,eAAiBD,EAAMC,cAAcC,QAClDF,EAAMC,cAAcC,QAAQ,GAAKF,GAErBC,cAAgBD,EAAMC,cAAgBD,EAGpD,SAASG,EAAYC,GACpB,OAAO/B,EAAE+B,EAAKC,KAAKhJ,EAASiJ,UAAU,IAAMF,EAAK,IAGlD,SAASG,EAAOP,GACf,IAAIQ,EAAQnC,EAAExH,MACb4J,EAAWD,EAAME,SACjBC,EAAUtC,EAAEjJ,GACZwL,EAAMvJ,EAASuJ,IAEZZ,IACHxB,EAAY2B,EAAYK,IACdK,WAAarC,EAAUsC,KAAK,aAEtCxC,EAAayC,SAAWP,GAEvB/B,IAiCFJ,EAAE,QAAQhH,EAAS2J,WAAa,UAAY,UAC3C,sDACC3J,EAASyI,KAAOL,IAASpI,EAAS4J,UAAY,IAAM,YAE/C5C,EAAEmB,GAAOM,IAAI,CAAC,SAAUzI,EAAS6J,SACtCC,SAAS,QACTC,KAAK,GAAG,WACR9C,EAAa+C,IAAM5C,EAAOJ,EAAExH,MAE5BsI,EAAO9H,EAASiK,KAAO7C,EAAKqB,IAAI,iBAAmBzK,EACnDqJ,EAAaL,EAAE,eAAgBxH,MAC/B8H,EAAcN,EAAE,gBAAiBxH,MACjC+H,EAAcP,EAAE,gBAAiBxH,MACjCgI,EAAaR,EAAE,eAAgBxH,MAC/BiI,EAAUT,EAAE,YAAaxH,MACzBkI,EAAiBV,EAAE,mBAAoBxH,MACvCQ,EAASkK,cAAcC,KAAKlD,EAAcG,GAC1CA,EAAKgD,QAAQ,SAASC,WAAWC,GAAG,GAAG7B,IAAI,QAC1CrB,EAAKiD,WAAWC,GAAG,GAAGC,SACvBnD,EAAKoD,OAAShL,KAAKiL,YACnBrD,EAAKsD,QAAUlL,KAAKmL,gBAClBC,SAtDenC,IACjBzI,EAAS6K,iBAAiBV,KAAKlD,EAAckC,IAC7C,CAAC,QAAS/B,EAAK0D,MAAQ1B,EAAS2B,QAC5B3D,EAAK0D,OAAS1D,EAAKoD,QACnBlB,EAAQ0B,aAAe1B,EAAQiB,UAAYhB,EAAM,EAClDnC,EAAK0D,MAAQvB,EAAM,GACrB,OAAQnC,EAAK6D,KAAO7B,EAAS8B,IAAM/B,EAAMgC,iBACtC/D,EAAK6D,MAAQ7D,EAAKsD,SAClBpB,EAAQ8B,YAAc9B,EAAQ+B,WAAa9B,EAAM,EAClDnC,EAAK6D,KAAO1B,EAAM,KAClBQ,KAAK/J,EAASsL,gBAAgB,YACnB,IAAV3C,IAGJlB,EAAQyB,SAASlJ,EAASuL,SAASf,OAAS/C,EAAQ8C,QACpDjD,EAAYkD,OAASlD,EAAYiD,QACjCjD,EAAYoD,QAAUpD,EAAY+D,SAClChE,EAAWqD,QAAUrD,EAAWgE,SAChCnE,EAAO7G,SAASiI,EAAanB,EAAU,KAEvCqE,GAAU,OAETC,IAAI,QAAQC,GAAG7D,EAChB,uCAAwC8D,IAC/B1E,EAAayC,UACvB1C,EAAEI,GAAMwD,KAAK5K,EAASsL,gBAAgB,WACrCE,GAAU,GACVvE,EAAayC,SAAW,QACtB+B,IAAI,QA6BT,SAASE,EAAYC,GACpB,IAAIC,EAASrM,KAAKsM,UAChB9H,QAAQ,oBAAqB,MAAMA,QAAQ,IAAK,MAE7C4H,EAAEG,QAAUH,EAAEI,OAAS,IAE5BJ,EAAEK,gBAAkBL,EAAEK,iBACtBL,EAAEM,aAAc,EAEhB/E,EAAUgF,QAAUnF,EAAExH,MAAM6J,UAE3BwC,EAAoB,cAAXA,EAAyBO,EACvB,aAAXP,EAAwBQ,EAAWzN,GAAOgN,GAC3CJ,IAEA7D,EAAU+D,GA3IG,0CA2IY,SAASE,GACjCjE,EAAU8D,IAAI,WACZC,GA/IY,+CA+IK,SAASE,GAC5BC,EAAOD,GACPJ,QAIF,SAASY,EAAUzD,GAClB,IAAIiD,EAAIlD,EAAiBC,GACxB2D,EAAIV,EAAEW,MAAQpF,EAAUgF,QAAQpB,KAChCyB,EAAIZ,EAAEa,MAAQtF,EAAUgF,QAAQjB,IAEjChE,EAAO7G,SAAS,CACf7B,EAAG8N,EAAIhF,EAAYkD,OAAS,IAC5B/L,EAAG,IAAO+N,EAAIlF,EAAYoD,QAAU,KAClC,OAGJ,SAAS2B,EAAS1D,GACjB,IAAI+D,EAAIhE,EAAiBC,GAAO8D,MAAQtF,EAAUgF,QAAQjB,IAE1DhE,EAAO7G,SAAS,CAAC9B,EAAG,IAAOmO,EAAIrF,EAAWqD,QAAU,KAAO,OAG5D,SAAS9L,EAAM+J,GACd,IACC/J,GADO8J,EAAiBC,GAAO4D,MAAQpF,EAAUgF,QAAQpB,MAC7CtD,EAAQ+C,OAErBtD,EAAO7G,SAAS,GAAI,MAAOzB,GAG5B,SAAS4M,EAAUmB,GAClB,IAAIlN,EAASyH,EAAOzH,OACnBmC,EAASnC,EAAOmC,OAGhBgL,GAFMnN,EAAOC,IAAIxB,IACXuB,EAAOC,IAAIhB,IACVsB,EAAS4M,MAChBC,EAAQ7M,EAAS6M,MACjBC,EAAY5F,EAAOzD,SAAS0D,EAAUqC,WAAYxJ,EAAS2D,YAC3DoJ,EAActN,EAAO0D,aAAe,IAAOyJ,EAAOC,EAClDG,EAAgBvN,EAAOsC,aAAa1C,UAAY,IAAOuN,EAAOC,EAC9DtO,GAAK,EAAIkB,EAAOnB,IAAIC,GAAK8I,EAAWqD,QACpClM,EAAIiB,EAAOnB,IAAIE,EAAI8I,EAAYkD,OAC/B/L,GAAK,EAAIgB,EAAOnB,IAAIG,GAAK6I,EAAYoD,QACrC5D,EAAIrH,EAAOb,MAAQ6I,EAAQ+C,OAC3ByC,EAAcnF,EAAO,cAAgB,GACrCoF,EAAe/F,EAAU,GAAGJ,MAC5BoG,EAAahG,EAAU,GAAGiG,aAAa,UACrB,KAAjBF,GAAuBP,IAAY3O,EAErCsJ,EAAYc,KAAO,CAClBiF,gBAAiB,OAChBzL,EAAOzD,EAAI,IAAMyD,EAAOxD,EAAI,IAAMwD,EAAOvD,EAAI,KAC/CkJ,EAAYa,KAAO,CAClBkF,UAAWL,EAAc,IAAMzO,EAAI,OAASC,EAAI,SAChDsM,KAAOjD,EAAW,GAAJtJ,EACd0M,IAAMpD,EAAW,GAAJrJ,EACb8O,YAAc9N,EAAOyD,aAAe,IAAO0J,EAAOC,GAEnDrF,EAAWY,KAAO,CACjBkF,UAAWL,EAAc,OAAS1O,EAAI,SACtC2M,IAAMpD,EAAW,GAAJvJ,EACbgP,YAAc,eAAiBR,GAEhCtF,EAAQW,KAAO,CAACiF,gBAAiB,IAAM5N,EAAOZ,KAC9C6I,EAAeU,KAAO,CACrBkF,UAAWL,EAAc,IAAMnG,EAAI,YACnCiE,KAAOjD,EAAW,GAAJhB,EACdyG,YAAcP,EAAgB,gBAE/B7F,EAAUiB,KAAO,CAChBiF,gBAAkBF,EAAa,GAAKL,EACpCnN,MAAOwN,EAAa,GACnB1N,EAAO4C,mBAAmBhD,UAAY,IAAOuN,EAAOC,GAEtD1F,EAAUqG,KAAOL,EAAa,GAAKD,IAAiBJ,EAAYA,EAAY,GAE5EH,IAAY3O,EAAYyP,EAAOd,GAAW5E,EAAS0F,GAQpD,SAASA,EAAOd,GACfrF,EAAYmB,IAAInB,EAAYc,MAC5Bb,EAAYkB,IAAIlB,EAAYa,MAC5BZ,EAAWiB,IAAIjB,EAAWY,MAC1BX,EAAQgB,IAAIhB,EAAQW,MACpBV,EAAee,IAAIf,EAAeU,MAElCpI,EAASiJ,UAAY9B,EAAUsB,IAAItB,EAAUiB,MAC7CjB,EAAUqG,MAAQrG,EAAUpB,IAAIoB,EAAUqG,MAE1CxN,EAAS0N,eAAevD,KACvBlD,EACAE,EACmB,kBAAZwF,EAAwBA,EAAU3O,GA5M3CqK,EAAYhF,UAAY,CACvBoK,OAAQjC,EACRtC,OAAQA,GA8MTlC,EAAE2G,GAAGC,YAAc,SAASrO,GAC3B,IAAIsO,EAAQrO,KACXsO,EAAO,aAuCR,OArCAvO,EAAUyH,EAAE+G,OAAO,CAClBzC,eAAgB,IAChBrB,KAAK,EACLhB,UAAU,EACVlJ,SAAU,OACVwL,SAAS,EACTmC,eAAgBI,EAChB5D,cAAe4D,EACfjD,iBAAkBiD,EAClBE,KAAMpG,SAASoG,KACfC,cAAc,EACd1E,IAAK,EACLqD,KAAM,OACNC,MAAO,QAOLtN,IAEF0H,GAAgB1H,EAAQ0O,cAAgBjH,EAAEjJ,GACzC2N,GAAG,yBAAyB,WACxBzE,EAAayC,UAChBzC,EAAaiC,OAAOiB,KAAKlD,EAAayC,SAAS,IAAI,MAGtDxK,EAAYA,EAAUgP,IAAI1O,MAC1BA,KAAKoO,YAAc3G,GAAgB,IAAIoB,EAAY9I,GACnDC,KAAKD,QAAUA,EAEfyH,EAAEzH,EAAQyO,MAAMvC,IAAI,QAAQC,GAAG7D,GAAc,SAAS+D,IAEhC,IADrB1M,EAAUgP,IAAI9G,GAAM8G,IAAIlH,EAAEI,GAAM4B,KAAK4C,EAAEuC,SACvCC,MAAMxC,EAAEuC,SAAkBjF,OAGpB1J,KAAKkM,GAAG,yBAAyB,SAAS/C,GAChD1B,EAAatH,MAAMJ,QAClByH,EAAE+G,OAAO9G,EAAatH,MAAMJ,QAASS,EAAW6N,EAAMtO,SACvD2J,EAAOiB,KAAK3K,KAAMmJ,MAEjB+C,GAAG,cAAc,WACjBxE,EAAO7G,SAASb,KAAKuH,OAAS,QAC9B8G,EAAMD,YAAYH,QAAO,MAEzBY,MAAK,WACL,IAAItH,EAAQuB,EAAa9I,MACxByB,EAAO8F,EAAM9C,MAAM,KACnB8E,EAAOD,EAAY9B,EAAExH,OAEtBuJ,EAAKU,KAAK,YAAaxI,EAAK,GAAKA,EAAK,GAAGkD,OAAO,EAAG,GAAK,OACtDmK,KAAK,WAAYtO,EAASuO,cAC5BhP,EAAQ0J,UACRF,EAAKN,IAAI,CAAC,mBAAoB1B,EAC7B,QAAS,WACR,OAAOG,EAAO7G,SAAS0G,GACrB1E,mBAAmBhD,UAAY,IAChCE,EAAQqN,KAAOrN,EAAQsN,aAM7B7F,EAAE2G,GAAGC,YAAYY,QAAU,WAC1BxH,EAAE,KAAKyE,IAAI,QACXxE,EAAaiC,QAAO,GACpBhK,EAAY8H,KAxUd,CA4UGjJ,OAAQiJ,EAAG,OAAQhJ,GC3VtB,SAAYgJ,GAEXA,EAAE2G,GAAGc,aAAe,SAAUlP,GAC7B,IAEImP,EAEAC,EAIAC,EARAC,EAAO7H,EAAE+G,OAAQ,GAAI/G,EAAE2G,GAAGc,aAAaK,SAAUvP,GACjD4J,EAAQ3J,KAERuP,EAAe,GAGfC,EAAY,KACZC,GAAU,EA2Kd,OAxKAzP,KAAK0P,gBAAkB,aAIvB1P,KAAK2P,WAAa,WACjB,OAAOF,GAGRzP,KAAK4P,WAAa,SAAUrJ,GAC3BkJ,EAAUlJ,GACG,IAARA,GAAyB,KAARA,EACrBoD,EAAMmF,KAAM,WAAY,QAExBnF,EAAMkG,WAAY,aAKpB7P,KAAK8P,YAAc,SAAUvJ,GACvBiJ,IACJA,EAAU3E,WAAWC,GAAI,GAAI,GAAGiF,QAAUxJ,IAI5CvG,KAAKgQ,UAAY,WAChB,SAAKR,IAC6C,IAA5CA,EAAU3E,WAAWC,GAAI,GAAI,GAAGiF,UAQvC/P,KAAKiQ,gBAAkB,SAAU1J,GACfA,IAGhBiJ,EAAYhI,EAAG,oOAEL0I,aAAc1I,EAAGxH,OAC3BwP,EAAUW,QAAQ,WACjBxG,EAAMyG,QAAS,iBAAkB,CAACzG,QAI9B6F,IACJA,EAAUa,SACVb,EAAY,OAMfxP,KAAKsQ,cAAgB,SAAUC,EAAQhG,EAAMiG,GACvCA,EACJhJ,EAAGxH,MAAOyQ,SAAU,eAEpBjJ,EAAGxH,MAAOyQ,SAAU,aAErBlB,EAAegB,EAEVhG,GACJvK,KAAK0Q,gBAIP1Q,KAAK0Q,aAAe,SAAUC,GACvBC,OAAOC,MAAOF,KACnBA,EAAM,GAGDxB,IAELA,GADAA,EAAgByB,OAAOE,iBAAkBC,eAAeC,gBAC1BC,eAE/B9B,EAAc+B,eACT1J,EAAGxH,MAAOmR,SAAU,eACxBhC,EAAc5E,KAAMvK,KAAMuP,EAAcoB,GAAK,GAE7CxB,EAAc5E,KAAMvK,KAAMuP,EAAcoB,IAI1C3Q,KAAKoR,aAAe,WACdR,OAAOC,MAAO1B,IAClBA,EAAckB,UAIhBrQ,KAAK0P,gBAAkB,WACtBlI,EAAGxH,MAAOqR,YAAa,aACvB7J,EAAGxH,MAAOqR,YAAa,eACvBrR,KAAKoR,eACL7B,EAAe,IAGhBvP,KAAKsR,SAAW,WACf,OAAOpC,GAGRlP,KAAKuR,SAAW,WACf,OAAOnC,EAAsB7I,MAAMiL,UAAW,IAG/CxR,KAAKyR,SAAW,SAAUlL,GACzBA,GAAO6I,EAAsB7I,IAAK,IAAMA,EAAInB,gBAAmBgK,EAAsBnG,IAAK,aAAc,IAAM1C,IAC7GA,GAAO6I,EAAsB7I,IAAK,YAAe6I,EAAsBnG,IAAK,aAAc,YAG5FjJ,KAAK6O,MAAM,WACV,IAAI6C,EAAIlK,EAAEmK,KAAOnK,EAAE+G,OAAQ,GAAIc,EAAM7H,EAAGxH,MAAOiK,QAAWoF,EAC1DH,EAAQwC,EAAExC,MAEL1H,EAAG,oBAAqBX,OAAS,GACrCW,IAAI4G,YAAa,WAGlB5G,EAAGxH,MAAO4R,OAAQ,oBAAqBC,KAAM,oBAAoB,WAChElI,EAAMyG,QAAS,iBAAkB,CAACzG,OAEnCyF,EAAwB5H,EAAGxH,MAAOoO,YAAa,CAC9C3E,SAAU,UACVyE,eAAgB,SAAU3E,EAAM4D,GAE/B,IAAI2E,EAAO9R,KAIPC,EAASD,KAAKG,MAAMF,OAAOC,IAC9BkB,EAAQ,CACPzC,EAAGsB,EAAOvB,IAAIC,EAAGC,EAAGqB,EAAOvB,IAAIE,EAAGC,EAAGoB,EAAOvB,IAAIG,EAChDE,EAAGkB,EAAOnB,IAAIC,EAAGC,EAAGiB,EAAOnB,IAAIE,EAAGC,EAAGgB,EAAOnB,IAAIG,EAChDI,IAAKW,KAAKG,MAAMF,OAAOZ,KAGzBkK,EAAKsF,MAAM,WACV7O,KAAKuH,MAAQ,IAAMnG,EAAMpB,KAAKsM,UAAU3H,OAAQ,OAGjD4E,EAAKqI,OAAQ,YAAaC,KAAM,YAAY,SAAUzF,GACrD0F,EAAKtH,IAAId,QAAQ,GACZ8F,GACJ7F,EAAMmG,aAAa,GAEpBtI,EAAGxH,MAAOoQ,QAAS,6BAuBhBpQ,MAIRwH,EAAE2G,GAAGc,aAAaK,SAAW,GAzL9B,CA2LKyC","file":"color-picker-TColorPicker.bundle.js?v=25a224375b933865d9a1","sourcesContent":["// Modified for use with Webpack 4, from https://github.com/PitPik/tinyColorPicker\n\n// (function (root, factory) {\n// \tif (typeof exports === 'object') {\n// \t\tmodule.exports = factory(root);\n// \t} else if (typeof define === 'function' && define.amd) {\n// \t\tdefine('colors', [], function () {\n// \t\t\treturn factory(root);\n// \t\t});\n// \t} else {\n// \t\troot.Colors = factory(root);\n// \t}\n// }(this, function(window, undefined) {\n\nexport default (function(window, undefined) {\n\t\"use strict\"\n\n\tvar _valueRanges = {\n\t\t\trgb:   {r: [0, 255], g: [0, 255], b: [0, 255]},\n\t\t\thsv:   {h: [0, 360], s: [0, 100], v: [0, 100]},\n\t\t\thsl:   {h: [0, 360], s: [0, 100], l: [0, 100]},\n\t\t\talpha: {alpha: [0, 1]},\n\t\t\tHEX:   {HEX: [0, 16777215]} // maybe we don't need this\n\t\t},\n\n\t\t_Math = window.Math,\n\t\t_round = _Math.round,\n\n\t\t_instance = {},\n\t\t_colors = {},\n\n\t\tgrey = {r: 0.298954, g: 0.586434, b: 0.114612}, // CIE-XYZ 1931\n\t\tluminance = {r: 0.2126, g: 0.7152, b: 0.0722}, // W3C 2.0\n\n\t\tColors = function(options) {\n\t\t\tthis.colors = {RND: {}};\n\t\t\tthis.options = {\n\t\t\t\tcolor: 'rgba(0,0,0,0)', // init value(s)...\n\t\t\t\tgrey: grey,\n\t\t\t\tluminance: luminance,\n\t\t\t\tvalueRanges: _valueRanges\n\t\t\t\t// customBG: '#808080'\n\t\t\t\t// convertCallback: undefined,\n\t\t\t\t// allMixDetails: false\n\t\t\t};\n\t\t\tinitInstance(this, options || {});\n\t\t},\n\t\tinitInstance = function(THIS, options) {\n\t\t\tvar importColor,\n\t\t\t\t_options = THIS.options,\n\t\t\t\tcustomBG;\n\n\t\t\tfocusInstance(THIS);\n\t\t\tfor (var option in options) {\n\t\t\t\tif (options[option] !== undefined) _options[option] = options[option];\n\t\t\t}\n\t\t\tcustomBG = _options.customBG;\n\t\t\t_options.customBG = (typeof customBG === 'string') ? ColorConverter.txt2color(customBG).rgb : customBG;\n\t\t\t_colors = setColor(THIS.colors, _options.color, undefined, true); // THIS.colors = _colors =\n\t\t},\n\t\tfocusInstance = function(THIS) {\n\t\t\tif (_instance !== THIS) {\n\t\t\t\t_instance = THIS;\n\t\t\t\t_colors = THIS.colors;\n\t\t\t}\n\t\t};\n\n\tColors.prototype.setColor = function(newCol, type, alpha) {\n\t\tfocusInstance(this);\n\t\tif (newCol) {\n\t\t\treturn setColor(this.colors, newCol, type, undefined, alpha);\n\t\t} else {\n\t\t\tif (alpha !== undefined) {\n\t\t\t\tthis.colors.alpha = limitValue(alpha, 0, 1);\n\t\t\t}\n\t\t\treturn convertColors(type);\n\t\t}\n\t};\n\n\tColors.prototype.setCustomBackground = function(col) { // wild gues,... check again...\n\t\tfocusInstance(this); // needed???\n\t\tthis.options.customBG = (typeof col === 'string') ? ColorConverter.txt2color(col).rgb : col;\n\t\t// return setColor(this.colors, this.options.customBG, 'rgb', true); // !!!!RGB\n\t\treturn setColor(this.colors, undefined, 'rgb'); // just recalculate existing\n\t};\n\n\tColors.prototype.saveAsBackground = function() { // alpha\n\t\tfocusInstance(this); // needed???\n\t\t// return setColor(this.colors, this.colors.RND.rgb, 'rgb', true);\n\t\treturn setColor(this.colors, undefined, 'rgb', true);\n\t};\n\n\tColors.prototype.toString = function(colorMode, forceAlpha) {\n\t\treturn ColorConverter.color2text((colorMode || 'rgb').toLowerCase(), this.colors, forceAlpha);\n\t};\n\n\t// ------------------------------------------------------ //\n\t// ---------- Color calculation related stuff  ---------- //\n\t// -------------------------------------------------------//\n\n\tfunction setColor(colors, color, type, save, alpha) { // color only full range\n\t\tif (typeof color === 'string') {\n\t\t\tvar color = ColorConverter.txt2color(color); // new object\n\t\t\ttype = color.type;\n\t\t\t_colors[type] = color[type];\n\t\t\talpha = alpha !== undefined ? alpha : color.alpha;\n\t\t} else if (color) {\n\t\t\tfor (var n in color) {\n\t\t\t\tcolors[type][n] = limitValue(color[n] / _valueRanges[type][n][1], 0 , 1);\n\t\t\t}\n\t\t}\n\t\tif (alpha !== undefined) {\n\t\t\tcolors.alpha = limitValue(+alpha, 0, 1);\n\t\t}\n\t\treturn convertColors(type, save ? colors : undefined);\n\t}\n\n\tfunction saveAsBackground(RGB, rgb, alpha) {\n\t\tvar grey = _instance.options.grey,\n\t\t\tcolor = {};\n\n\t\tcolor.RGB = {r: RGB.r, g: RGB.g, b: RGB.b};\n\t\tcolor.rgb = {r: rgb.r, g: rgb.g, b: rgb.b};\n\t\tcolor.alpha = alpha;\n\t\t// color.RGBLuminance = getLuminance(RGB);\n\t\tcolor.equivalentGrey = _round(grey.r * RGB.r + grey.g * RGB.g + grey.b * RGB.b);\n\n\t\tcolor.rgbaMixBlack = mixColors(rgb, {r: 0, g: 0, b: 0}, alpha, 1);\n\t\tcolor.rgbaMixWhite = mixColors(rgb, {r: 1, g: 1, b: 1}, alpha, 1);\n\t\tcolor.rgbaMixBlack.luminance = getLuminance(color.rgbaMixBlack, true);\n\t\tcolor.rgbaMixWhite.luminance = getLuminance(color.rgbaMixWhite, true);\n\n\t\tif (_instance.options.customBG) {\n\t\t\tcolor.rgbaMixCustom = mixColors(rgb, _instance.options.customBG, alpha, 1);\n\t\t\tcolor.rgbaMixCustom.luminance = getLuminance(color.rgbaMixCustom, true);\n\t\t\t_instance.options.customBG.luminance = getLuminance(_instance.options.customBG, true);\n\t\t}\n\n\t\treturn color;\n\t}\n\n\tfunction convertColors(type, colorObj) {\n\t\t// console.time('convertColors');\n\t\tvar colors = colorObj || _colors,\n\t\t\tconvert = ColorConverter,\n\t\t\toptions = _instance.options,\n\t\t\tranges = _valueRanges,\n\t\t\tRND = colors.RND,\n\t\t\t// type = colorType, // || _mode.type,\n\t\t\tmodes, mode = '', from = '', // value = '',\n\t\t\texceptions = {hsl: 'hsv', rgb: type},\n\t\t\tRGB = RND.rgb, SAVE, SMART;\n\n\t\tif (type !== 'alpha') {\n\t\t\tfor (var typ in ranges) {\n\t\t\t\tif (!ranges[typ][typ]) { // no alpha|HEX\n\t\t\t\t\tif (type !== typ) {\n\t\t\t\t\t\tfrom = exceptions[typ] || 'rgb';\n\t\t\t\t\t\tcolors[typ] = convert[from + '2' + typ](colors[from]);\n\t\t\t\t\t}\n\n\t\t\t\t\tif (!RND[typ]) RND[typ] = {};\n\t\t\t\t\tmodes = colors[typ];\n\t\t\t\t\tfor(mode in modes) {\n\t\t\t\t\t\tRND[typ][mode] = _round(modes[mode] * ranges[typ][mode][1]);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tRGB = RND.rgb;\n\t\t\tcolors.HEX = convert.RGB2HEX(RGB);\n\t\t\tcolors.equivalentGrey =\n\t\t\t\toptions.grey.r * colors.rgb.r +\n\t\t\t\toptions.grey.g * colors.rgb.g +\n\t\t\t\toptions.grey.b * colors.rgb.b;\n\t\t\tcolors.webSave = SAVE = getClosestWebColor(RGB, 51);\n\t\t\t// colors.webSave.HEX = convert.RGB2HEX(colors.webSave);\n\t\t\tcolors.webSmart = SMART = getClosestWebColor(RGB, 17);\n\t\t\t// colors.webSmart.HEX = convert.RGB2HEX(colors.webSmart);\n\t\t\tcolors.saveColor =\n\t\t\t\tRGB.r === SAVE.r && RGB.g === SAVE.g && RGB.b === SAVE.b  ? 'web save' :\n\t\t\t\t\tRGB.r === SMART.r && RGB.g === SMART.g && RGB.b === SMART.b  ? 'web smart' : '';\n\t\t\tcolors.hueRGB = ColorConverter.hue2RGB(colors.hsv.h);\n\n\t\t\tif (colorObj) {\n\t\t\t\tcolors.background = saveAsBackground(RGB, colors.rgb, colors.alpha);\n\t\t\t}\n\t\t} // else RGB = RND.rgb;\n\n\t\tvar rgb = colors.rgb, // for better minification...\n\t\t\talpha = colors.alpha,\n\t\t\tluminance = 'luminance',\n\t\t\tbackground = colors.background,\n\t\t\trgbaMixBlack, rgbaMixWhite, rgbaMixCustom,\n\t\t\trgbaMixBG, rgbaMixBGMixBlack, rgbaMixBGMixWhite, rgbaMixBGMixCustom;\n\n\t\trgbaMixBlack = mixColors(rgb, {r: 0, g: 0, b: 0}, alpha, 1);\n\t\trgbaMixBlack[luminance] = getLuminance(rgbaMixBlack, true);\n\t\tcolors.rgbaMixBlack = rgbaMixBlack;\n\n\t\trgbaMixWhite = mixColors(rgb, {r: 1, g: 1, b: 1}, alpha, 1);\n\t\trgbaMixWhite[luminance] = getLuminance(rgbaMixWhite, true);\n\t\tcolors.rgbaMixWhite = rgbaMixWhite;\n\n\t\tif (options.customBG) {\n\t\t\trgbaMixBGMixCustom = mixColors(rgb, background.rgbaMixCustom, alpha, 1);\n\t\t\trgbaMixBGMixCustom[luminance] = getLuminance(rgbaMixBGMixCustom, true);\n\t\t\trgbaMixBGMixCustom.WCAG2Ratio = getWCAG2Ratio(rgbaMixBGMixCustom[luminance],\n\t\t\t\tbackground.rgbaMixCustom[luminance]);\n\t\t\tcolors.rgbaMixBGMixCustom = rgbaMixBGMixCustom;\n\t\t\t/* ------ */\n\t\t\trgbaMixBGMixCustom.luminanceDelta = _Math.abs(\n\t\t\t\trgbaMixBGMixCustom[luminance] - background.rgbaMixCustom[luminance]);\n\t\t\trgbaMixBGMixCustom.hueDelta = getHueDelta(background.rgbaMixCustom, rgbaMixBGMixCustom, true);\n\t\t\t/* ------ */\n\t\t}\n\n\t\tcolors.RGBLuminance = getLuminance(RGB);\n\t\tcolors.HUELuminance = getLuminance(colors.hueRGB);\n\n\t\t// renderVars.readyToRender = true;\n\t\tif (options.convertCallback) {\n\t\t\toptions.convertCallback(colors, type); //, convert); //, _mode);\n\t\t}\n\n\t\t// console.timeEnd('convertColors')\n\t\t// if (colorObj)\n\t\treturn colors;\n\t}\n\n\n\t// ------------------------------------------------------ //\n\t// ------------------ color conversion ------------------ //\n\t// -------------------------------------------------------//\n\n\tvar ColorConverter = {\n\t\ttxt2color: function(txt) {\n\t\t\tvar color = {},\n\t\t\t\tparts = txt.replace(/(?:#|\\)|%)/g, '').split('('),\n\t\t\t\tvalues = (parts[1] || '').split(/,\\s*/),\n\t\t\t\ttype = parts[1] ? parts[0].substr(0, 3) : 'rgb',\n\t\t\t\tm = '';\n\n\t\t\tcolor.type = type;\n\t\t\tcolor[type] = {};\n\t\t\tif (parts[1]) {\n\t\t\t\tfor (var n = 3; n--; ) {\n\t\t\t\t\tm = type[n] || type.charAt(n); // IE7\n\t\t\t\t\tcolor[type][m] = +values[n] / _valueRanges[type][m][1];\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tcolor.rgb = ColorConverter.HEX2rgb(parts[0]);\n\t\t\t}\n\t\t\t// color.color = color[type];\n\t\t\tcolor.alpha = values[3] ? +values[3] : 1;\n\n\t\t\treturn color;\n\t\t},\n\n\t\tcolor2text: function(colorMode, colors, forceAlpha) {\n\t\t\tvar alpha = forceAlpha !== false && _round(colors.alpha * 100) / 100,\n\t\t\t\thasAlpha = typeof alpha === 'number' &&\n\t\t\t\t\tforceAlpha !== false && (forceAlpha || alpha !== 1),\n\t\t\t\tRGB = colors.RND.rgb,\n\t\t\t\tHSL = colors.RND.hsl,\n\t\t\t\tshouldBeHex = colorMode === 'hex' && hasAlpha,\n\t\t\t\tisHex = colorMode === 'hex' && !shouldBeHex,\n\t\t\t\tisRgb = colorMode === 'rgb' || shouldBeHex,\n\t\t\t\tinnerText = isRgb ? RGB.r + ', ' + RGB.g + ', ' + RGB.b :\n\t\t\t\t\t!isHex ? HSL.h + ', ' + HSL.s + '%, ' + HSL.l + '%' :\n\t\t\t\t\t\t'#' + colors.HEX;\n\n\t\t\treturn isHex ? innerText : (shouldBeHex ? 'rgb' : colorMode) +\n\t\t\t\t(hasAlpha ? 'a' : '') + '(' + innerText +\n\t\t\t\t(hasAlpha ? ', ' + alpha : '') + ')';\n\t\t},\n\n\t\tRGB2HEX: function(RGB) {\n\t\t\treturn (\n\t\t\t\t(RGB.r < 16 ? '0' : '') + RGB.r.toString(16) +\n\t\t\t\t(RGB.g < 16 ? '0' : '') + RGB.g.toString(16) +\n\t\t\t\t(RGB.b < 16 ? '0' : '') + RGB.b.toString(16)\n\t\t\t).toUpperCase();\n\t\t},\n\n\t\tHEX2rgb: function(HEX) {\n\t\t\tHEX = HEX.split(''); // IE7\n\t\t\treturn {\n\t\t\t\tr: +('0x' + HEX[0] + HEX[HEX[3] ? 1 : 0]) / 255,\n\t\t\t\tg: +('0x' + HEX[HEX[3] ? 2 : 1] + (HEX[3] || HEX[1])) / 255,\n\t\t\t\tb: +('0x' + (HEX[4] || HEX[2]) + (HEX[5] || HEX[2])) / 255\n\t\t\t};\n\t\t},\n\n\t\thue2RGB: function(hue) {\n\t\t\tvar h = hue * 6,\n\t\t\t\tmod = ~~h % 6, // _Math.floor(h) -> faster in most browsers\n\t\t\t\ti = h === 6 ? 0 : (h - mod);\n\n\t\t\treturn {\n\t\t\t\tr: _round([1, 1 - i, 0, 0, i, 1][mod] * 255),\n\t\t\t\tg: _round([i, 1, 1, 1 - i, 0, 0][mod] * 255),\n\t\t\t\tb: _round([0, 0, i, 1, 1, 1 - i][mod] * 255)\n\t\t\t};\n\t\t},\n\n\t\t// ------------------------ HSV ------------------------ //\n\n\t\trgb2hsv: function(rgb) { // faster\n\t\t\tvar r = rgb.r,\n\t\t\t\tg = rgb.g,\n\t\t\t\tb = rgb.b,\n\t\t\t\tk = 0, chroma, min, s;\n\n\t\t\tif (g < b) {\n\t\t\t\tg = b + (b = g, 0);\n\t\t\t\tk = -1;\n\t\t\t}\n\t\t\tmin = b;\n\t\t\tif (r < g) {\n\t\t\t\tr = g + (g = r, 0);\n\t\t\t\tk = -2 / 6 - k;\n\t\t\t\tmin = _Math.min(g, b); // g < b ? g : b; ???\n\t\t\t}\n\t\t\tchroma = r - min;\n\t\t\ts = r ? (chroma / r) : 0;\n\t\t\treturn {\n\t\t\t\th: s < 1e-15 ? ((_colors && _colors.hsl && _colors.hsl.h) || 0) :\n\t\t\t\t\tchroma ? _Math.abs(k + (g - b) / (6 * chroma)) : 0,\n\t\t\t\ts: r ? (chroma / r) : ((_colors && _colors.hsv && _colors.hsv.s) || 0), // ??_colors.hsv.s || 0\n\t\t\t\tv: r\n\t\t\t};\n\t\t},\n\n\t\thsv2rgb: function(hsv) {\n\t\t\tvar h = hsv.h * 6,\n\t\t\t\ts = hsv.s,\n\t\t\t\tv = hsv.v,\n\t\t\t\ti = ~~h, // _Math.floor(h) -> faster in most browsers\n\t\t\t\tf = h - i,\n\t\t\t\tp = v * (1 - s),\n\t\t\t\tq = v * (1 - f * s),\n\t\t\t\tt = v * (1 - (1 - f) * s),\n\t\t\t\tmod = i % 6;\n\n\t\t\treturn {\n\t\t\t\tr: [v, q, p, p, t, v][mod],\n\t\t\t\tg: [t, v, v, q, p, p][mod],\n\t\t\t\tb: [p, p, t, v, v, q][mod]\n\t\t\t};\n\t\t},\n\n\t\t// ------------------------ HSL ------------------------ //\n\n\t\thsv2hsl: function(hsv) {\n\t\t\tvar l = (2 - hsv.s) * hsv.v,\n\t\t\t\ts = hsv.s * hsv.v;\n\n\t\t\ts = !hsv.s ? 0 : l < 1 ? (l ? s / l : 0) : s / (2 - l);\n\n\t\t\treturn {\n\t\t\t\th: hsv.h,\n\t\t\t\ts: !hsv.v && !s ? ((_colors && _colors.hsl && _colors.hsl.s) || 0) : s, // ???\n\t\t\t\tl: l / 2\n\t\t\t};\n\t\t},\n\n\t\trgb2hsl: function(rgb, dependent) { // not used in Color\n\t\t\tvar hsv = ColorConverter.rgb2hsv(rgb);\n\n\t\t\treturn ColorConverter.hsv2hsl(dependent ? hsv : (_colors.hsv = hsv));\n\t\t},\n\n\t\thsl2rgb: function(hsl) {\n\t\t\tvar h = hsl.h * 6,\n\t\t\t\ts = hsl.s,\n\t\t\t\tl = hsl.l,\n\t\t\t\tv = l < 0.5 ? l * (1 + s) : (l + s) - (s * l),\n\t\t\t\tm = l + l - v,\n\t\t\t\tsv = v ? ((v - m) / v) : 0,\n\t\t\t\tsextant = ~~h, // _Math.floor(h) -> faster in most browsers\n\t\t\t\tfract = h - sextant,\n\t\t\t\tvsf = v * sv * fract,\n\t\t\t\tt = m + vsf,\n\t\t\t\tq = v - vsf,\n\t\t\t\tmod = sextant % 6;\n\n\t\t\treturn {\n\t\t\t\tr: [v, q, m, m, t, v][mod],\n\t\t\t\tg: [t, v, v, q, m, m][mod],\n\t\t\t\tb: [m, m, t, v, v, q][mod]\n\t\t\t};\n\t\t}\n\t};\n\n\t// ------------------------------------------------------ //\n\t// ------------------ helper functions ------------------ //\n\t// -------------------------------------------------------//\n\n\tfunction getClosestWebColor(RGB, val) {\n\t\tvar out = {},\n\t\t\ttmp = 0,\n\t\t\thalf = val / 2;\n\n\t\tfor (var n in RGB) {\n\t\t\ttmp = RGB[n] % val; // 51 = 'web save', 17 = 'web smart'\n\t\t\tout[n] = RGB[n] + (tmp > half ? val - tmp : -tmp);\n\t\t}\n\t\treturn out;\n\t}\n\n\tfunction getHueDelta(rgb1, rgb2, nominal) {\n\t\treturn (_Math.max(rgb1.r - rgb2.r, rgb2.r - rgb1.r) +\n\t\t\t_Math.max(rgb1.g - rgb2.g, rgb2.g - rgb1.g) +\n\t\t\t_Math.max(rgb1.b - rgb2.b, rgb2.b - rgb1.b)) * (nominal ? 255 : 1) / 765;\n\t}\n\n\tfunction getLuminance(rgb, normalized) {\n\t\tvar div = normalized ? 1 : 255,\n\t\t\tRGB = [rgb.r / div, rgb.g / div, rgb.b / div],\n\t\t\tluminance = _instance.options.luminance;\n\n\t\tfor (var i = RGB.length; i--; ) {\n\t\t\tRGB[i] = RGB[i] <= 0.03928 ? RGB[i] / 12.92 : _Math.pow(((RGB[i] + 0.055) / 1.055), 2.4);\n\t\t}\n\t\treturn ((luminance.r * RGB[0]) + (luminance.g * RGB[1]) + (luminance.b * RGB[2]));\n\t}\n\n\tfunction mixColors(topColor, bottomColor, topAlpha, bottomAlpha) {\n\t\tvar newColor = {},\n\t\t\talphaTop = (topAlpha !== undefined ? topAlpha : 1),\n\t\t\talphaBottom = (bottomAlpha !== undefined ? bottomAlpha : 1),\n\t\t\talpha = alphaTop + alphaBottom * (1 - alphaTop); // 1 - (1 - alphaTop) * (1 - alphaBottom);\n\n\t\tfor(var n in topColor) {\n\t\t\tnewColor[n] = (topColor[n] * alphaTop + bottomColor[n] * alphaBottom * (1 - alphaTop)) / alpha;\n\t\t}\n\t\tnewColor.a = alpha;\n\t\treturn newColor;\n\t}\n\n\tfunction getWCAG2Ratio(lum1, lum2) {\n\t\tvar ratio = 1;\n\n\t\tif (lum1 >= lum2) {\n\t\t\tratio = (lum1 + 0.05) / (lum2 + 0.05);\n\t\t} else {\n\t\t\tratio = (lum2 + 0.05) / (lum1 + 0.05);\n\t\t}\n\t\treturn _round(ratio * 100) / 100;\n\t}\n\n\tfunction limitValue(value, min, max) {\n\t\t// return _Math.max(min, _Math.min(max, value)); // faster??\n\t\treturn (value > max ? max : value < min ? min : value);\n\t}\n\n\treturn Colors;\n})(window, undefined);","// Modified for use with Webpack 4, from https://github.com/PitPik/tinyColorPicker\n\n// import $ from 'jquery'; // dont pass this in, as we already pass in the existing jQuery at the end of the IIFE. If we use this, existing jQuery and plugins will be overwritten.\nimport Colors from './colors';\n\n// (function (root, factory) {\n// \tif (typeof exports === 'object') {\n// \t\tmodule.exports = factory(root, require('jquery'), require('colors'));\n// \t} else if (typeof define === 'function' && define.amd) {\n// \t\tdefine(['jquery', 'colors'], function (jQuery, Colors) {\n// \t\t\treturn factory(root, jQuery, Colors);\n// \t\t});\n// \t} else {\n// \t\tfactory(root, root.jQuery, root.Colors);\n// \t}\n// }(this, function(window, $, Colors, undefined){\n\n(function(window, $, Colors, undefined){\n\t'use strict';\n\n\tvar $document = $(document),\n\t\t_instance = $(),\n\t\t_colorPicker,\n\t\t_color,\n\t\t_options,\n\n\t\t_$trigger, _$UI,\n\t\t_$z_slider, _$xy_slider,\n\t\t_$xy_cursor, _$z_cursor , _$alpha , _$alpha_cursor,\n\n\t\t_pointermove = 'touchmove.tcp mousemove.tcp pointermove.tcp',\n\t\t_pointerdown = 'touchstart.tcp mousedown.tcp pointerdown.tcp',\n\t\t_pointerup = 'touchend.tcp mouseup.tcp pointerup.tcp',\n\t\t_GPU = false,\n\t\t_animate = window.requestAnimationFrame ||\n\t\t\twindow.webkitRequestAnimationFrame || function(cb){cb()},\n\t\t_html = '<div class=\"cp-color-picker\"><div class=\"cp-z-slider\"><div c' +\n\t\t\t'lass=\"cp-z-cursor\"></div></div><div class=\"cp-xy-slider\"><div cl' +\n\t\t\t'ass=\"cp-white\"></div><div class=\"cp-xy-cursor\"></div></div><div ' +\n\t\t\t'class=\"cp-alpha\"><div class=\"cp-alpha-cursor\"></div></div></div>',\n\t\t// 'grunt-contrib-uglify' puts all this back to one single string...\n\t\t_css = '.cp-color-picker{position:absolute;overflow:hidden;padding:6p' +\n\t\t\t'x 6px 0;background-color:#444;color:#bbb;font-family:Arial,Helve' +\n\t\t\t'tica,sans-serif;font-size:12px;font-weight:400;cursor:default;bo' +\n\t\t\t'rder-radius:5px}.cp-color-picker>div{position:relative;overflow:' +\n\t\t\t'hidden}.cp-xy-slider{float:left;height:128px;width:128px;margin-' +\n\t\t\t'bottom:6px;background:linear-gradient(to right,#FFF,rgba(255,255' +\n\t\t\t',255,0))}.cp-white{height:100%;width:100%;background:linear-grad' +\n\t\t\t'ient(rgba(0,0,0,0),#000)}.cp-xy-cursor{position:absolute;top:0;w' +\n\t\t\t'idth:10px;height:10px;margin:-5px;border:1px solid #fff;border-r' +\n\t\t\t'adius:100%;box-sizing:border-box}.cp-z-slider{float:right;margin' +\n\t\t\t'-left:6px;height:128px;width:20px;background:linear-gradient(red' +\n\t\t\t' 0,#f0f 17%,#00f 33%,#0ff 50%,#0f0 67%,#ff0 83%,red 100%)}.cp-z-' +\n\t\t\t'cursor{position:absolute;margin-top:-4px;width:100%;border:4px s' +\n\t\t\t'olid #fff;border-color:transparent #fff;box-sizing:border-box}.c' +\n\t\t\t'p-alpha{clear:both;width:100%;height:16px;margin:6px 0;backgroun' +\n\t\t\t'd:linear-gradient(to right,#444,rgba(0,0,0,0))}.cp-alpha-cursor{' +\n\t\t\t'position:absolute;margin-left:-4px;height:100%;border:4px solid ' +\n\t\t\t'#fff;border-color:#fff transparent;box-sizing:border-box}',\n\n\t\tColorPicker = function(options) {\n\t\t\t_color = this.color = new Colors(options);\n\t\t\t_options = _color.options;\n\t\t\t_colorPicker = this;\n\t\t};\n\n\tColorPicker.prototype = {\n\t\trender: preRender,\n\t\ttoggle: toggle\n\t};\n\n\tfunction extractValue(elm) {\n\t\treturn elm.value || elm.getAttribute('value') ||\n\t\t\t$(elm).css('background-color') || '#FFF';\n\t}\n\n\tfunction resolveEventType(event) {\n\t\tevent = event.originalEvent && event.originalEvent.touches ?\n\t\t\tevent.originalEvent.touches[0] : event;\n\n\t\treturn event.originalEvent ? event.originalEvent : event;\n\t}\n\n\tfunction findElement($elm) {\n\t\treturn $($elm.find(_options.doRender)[0] || $elm[0]);\n\t}\n\n\tfunction toggle(event) {\n\t\tvar $this = $(this),\n\t\t\tposition = $this.offset(),\n\t\t\t$window = $(window),\n\t\t\tgap = _options.gap;\n\n\t\tif (event) {\n\t\t\t_$trigger = findElement($this);\n\t\t\t_$trigger._colorMode = _$trigger.data('colorMode');\n\n\t\t\t_colorPicker.$trigger = $this;\n\n\t\t\t(_$UI || build()).css(\n\t\t\t\t_options.positionCallback.call(_colorPicker, $this) ||\n\t\t\t\t{'left': (_$UI._left = position.left) -\n\t\t\t\t\t\t((_$UI._left += _$UI._width -\n\t\t\t\t\t\t\t($window.scrollLeft() + $window.width())) + gap > 0 ?\n\t\t\t\t\t\t\t_$UI._left + gap : 0),\n\t\t\t\t\t'top': (_$UI._top = position.top + $this.outerHeight()) -\n\t\t\t\t\t\t((_$UI._top += _$UI._height -\n\t\t\t\t\t\t\t($window.scrollTop() + $window.height())) + gap > 0 ?\n\t\t\t\t\t\t\t_$UI._top + gap : 0)\n\t\t\t\t}).show(_options.animationSpeed, function() {\n\t\t\t\tif (event === true) { // resize, scroll\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\t_$alpha.toggle(!!_options.opacity)._width = _$alpha.width();\n\t\t\t\t_$xy_slider._width = _$xy_slider.width();\n\t\t\t\t_$xy_slider._height = _$xy_slider.height();\n\t\t\t\t_$z_slider._height = _$z_slider.height();\n\t\t\t\t_color.setColor(extractValue(_$trigger[0]));\n\n\t\t\t\tpreRender(true);\n\t\t\t})\n\t\t\t\t.off('.tcp').on(_pointerdown,\n\t\t\t\t'.cp-xy-slider,.cp-z-slider,.cp-alpha', pointerdown);\n\t\t} else if (_colorPicker.$trigger) {\n\t\t\t$(_$UI).hide(_options.animationSpeed, function() {\n\t\t\t\tpreRender(false);\n\t\t\t\t_colorPicker.$trigger = null;\n\t\t\t}).off('.tcp');\n\t\t}\n\t}\n\n\tfunction build() {\n\t\t$('head')[_options.cssPrepend ? 'prepend' : 'append']\n\t\t('<style type=\"text/css\" id=\"tinyColorPickerStyles\">' +\n\t\t\t(_options.css || _css) + (_options.cssAddon || '') + '</style>');\n\n\t\treturn $(_html).css({'margin': _options.margin})\n\t\t\t.appendTo('body')\n\t\t\t.show(0, function() {\n\t\t\t\t_colorPicker.$UI = _$UI = $(this);\n\n\t\t\t\t_GPU = _options.GPU && _$UI.css('perspective') !== undefined;\n\t\t\t\t_$z_slider = $('.cp-z-slider', this);\n\t\t\t\t_$xy_slider = $('.cp-xy-slider', this);\n\t\t\t\t_$xy_cursor = $('.cp-xy-cursor', this);\n\t\t\t\t_$z_cursor = $('.cp-z-cursor', this);\n\t\t\t\t_$alpha = $('.cp-alpha', this);\n\t\t\t\t_$alpha_cursor = $('.cp-alpha-cursor', this);\n\t\t\t\t_options.buildCallback.call(_colorPicker, _$UI);\n\t\t\t\t_$UI.prepend('<div>').children().eq(0).css('width',\n\t\t\t\t\t_$UI.children().eq(0).width()); // stabilizer\n\t\t\t\t_$UI._width = this.offsetWidth;\n\t\t\t\t_$UI._height = this.offsetHeight;\n\t\t\t}).hide();\n\t}\n\n\tfunction pointerdown(e) {\n\t\tvar action = this.className\n\t\t\t.replace(/cp-(.*?)(?:\\s*|$)/, '$1').replace('-', '_');\n\n\t\tif ((e.button || e.which) > 1) return;\n\n\t\te.preventDefault && e.preventDefault();\n\t\te.returnValue = false;\n\n\t\t_$trigger._offset = $(this).offset();\n\n\t\t(action = action === 'xy_slider' ? xy_slider :\n\t\t\taction === 'z_slider' ? z_slider : alpha)(e);\n\t\tpreRender();\n\n\t\t$document.on(_pointerup, function(e) {\n\t\t\t$document.off('.tcp');\n\t\t}).on(_pointermove, function(e) {\n\t\t\taction(e);\n\t\t\tpreRender();\n\t\t});\n\t}\n\n\tfunction xy_slider(event) {\n\t\tvar e = resolveEventType(event),\n\t\t\tx = e.pageX - _$trigger._offset.left,\n\t\t\ty = e.pageY - _$trigger._offset.top;\n\n\t\t_color.setColor({\n\t\t\ts: x / _$xy_slider._width * 100,\n\t\t\tv: 100 - (y / _$xy_slider._height * 100)\n\t\t}, 'hsv');\n\t}\n\n\tfunction z_slider(event) {\n\t\tvar z = resolveEventType(event).pageY - _$trigger._offset.top;\n\n\t\t_color.setColor({h: 360 - (z / _$z_slider._height * 360)}, 'hsv');\n\t}\n\n\tfunction alpha(event) {\n\t\tvar x = resolveEventType(event).pageX - _$trigger._offset.left,\n\t\t\talpha = x / _$alpha._width;\n\n\t\t_color.setColor({}, 'rgb', alpha);\n\t}\n\n\tfunction preRender(toggled) {\n\t\tvar colors = _color.colors,\n\t\t\thueRGB = colors.hueRGB,\n\t\t\tRGB = colors.RND.rgb,\n\t\t\tHSL = colors.RND.hsl,\n\t\t\tdark = _options.dark,\n\t\t\tlight = _options.light,\n\t\t\tcolorText = _color.toString(_$trigger._colorMode, _options.forceAlpha),\n\t\t\tHUEContrast = colors.HUELuminance > 0.22 ? dark : light,\n\t\t\talphaContrast = colors.rgbaMixBlack.luminance > 0.22 ? dark : light,\n\t\t\th = (1 - colors.hsv.h) * _$z_slider._height,\n\t\t\ts = colors.hsv.s * _$xy_slider._width,\n\t\t\tv = (1 - colors.hsv.v) * _$xy_slider._height,\n\t\t\ta = colors.alpha * _$alpha._width,\n\t\t\ttranslate3d = _GPU ? 'translate3d' : '',\n\t\t\ttriggerValue = _$trigger[0].value,\n\t\t\thasNoValue = _$trigger[0].hasAttribute('value') && // question this\n\t\t\t\ttriggerValue === '' && toggled !== undefined;\n\n\t\t_$xy_slider._css = {\n\t\t\tbackgroundColor: 'rgb(' +\n\t\t\t\thueRGB.r + ',' + hueRGB.g + ',' + hueRGB.b + ')'};\n\t\t_$xy_cursor._css = {\n\t\t\ttransform: translate3d + '(' + s + 'px, ' + v + 'px, 0)',\n\t\t\tleft: !_GPU ? s : '',\n\t\t\ttop: !_GPU ? v : '',\n\t\t\tborderColor : colors.RGBLuminance > 0.22 ? dark : light\n\t\t};\n\t\t_$z_cursor._css = {\n\t\t\ttransform: translate3d + '(0, ' + h + 'px, 0)',\n\t\t\ttop: !_GPU ? h : '',\n\t\t\tborderColor : 'transparent ' + HUEContrast\n\t\t};\n\t\t_$alpha._css = {backgroundColor: '#' + colors.HEX};\n\t\t_$alpha_cursor._css = {\n\t\t\ttransform: translate3d + '(' + a + 'px, 0, 0)',\n\t\t\tleft: !_GPU ? a : '',\n\t\t\tborderColor : alphaContrast + ' transparent'\n\t\t};\n\t\t_$trigger._css = {\n\t\t\tbackgroundColor : hasNoValue ? '' : colorText,\n\t\t\tcolor: hasNoValue ? '' :\n\t\t\t\tcolors.rgbaMixBGMixCustom.luminance > 0.22 ? dark : light\n\t\t};\n\t\t_$trigger.text = hasNoValue ? '' : triggerValue !== colorText ? colorText : '';\n\n\t\ttoggled !== undefined ? render(toggled) : _animate(render);\n\t}\n\n\t// As _animate() is actually requestAnimationFrame(), render() gets called\n\t// decoupled from any pointer action (whenever the browser decides to do\n\t// so) as an event. preRender() is coupled to toggle() and all pointermove\n\t// actions; that's where all the calculations happen. render() can now be\n\t// called without extra calculations which results in faster rendering.\n\tfunction render(toggled) {\n\t\t_$xy_slider.css(_$xy_slider._css);\n\t\t_$xy_cursor.css(_$xy_cursor._css);\n\t\t_$z_cursor.css(_$z_cursor._css);\n\t\t_$alpha.css(_$alpha._css);\n\t\t_$alpha_cursor.css(_$alpha_cursor._css);\n\n\t\t_options.doRender && _$trigger.css(_$trigger._css);\n\t\t_$trigger.text && _$trigger.val(_$trigger.text);\n\n\t\t_options.renderCallback.call(\n\t\t\t_colorPicker,\n\t\t\t_$trigger,\n\t\t\ttypeof toggled === 'boolean' ? toggled : undefined\n\t\t);\n\t}\n\n\t$.fn.colorPicker = function(options) {\n\t\tvar _this = this,\n\t\t\tnoop = function(){};\n\n\t\toptions = $.extend({\n\t\t\tanimationSpeed: 150,\n\t\t\tGPU: true,\n\t\t\tdoRender: true,\n\t\t\tcustomBG: '#FFF',\n\t\t\topacity: true,\n\t\t\trenderCallback: noop,\n\t\t\tbuildCallback: noop,\n\t\t\tpositionCallback: noop,\n\t\t\tbody: document.body,\n\t\t\tscrollResize: true,\n\t\t\tgap: 4,\n\t\t\tdark: '#222',\n\t\t\tlight: '#DDD',\n\t\t\t// cssPrepend: true,\n\t\t\t// forceAlpha: undefined,\n\t\t\t// css: '',\n\t\t\t// cssAddon: '',\n\t\t\t// margin: '',\n\t\t\t// preventFocus: false\n\t\t}, options);\n\n\t\t!_colorPicker && options.scrollResize && $(window)\n\t\t\t.on('resize.tcp scroll.tcp', function() {\n\t\t\t\tif (_colorPicker.$trigger) {\n\t\t\t\t\t_colorPicker.toggle.call(_colorPicker.$trigger[0], true);\n\t\t\t\t}\n\t\t\t});\n\t\t_instance = _instance.add(this);\n\t\tthis.colorPicker = _colorPicker || new ColorPicker(options);\n\t\tthis.options = options;\n\n\t\t$(options.body).off('.tcp').on(_pointerdown, function(e) {\n\t\t\t_instance.add(_$UI).add($(_$UI).find(e.target)).\n\t\t\tindex(e.target) === -1 && toggle();\n\t\t});\n\n\t\treturn this.on('focusin.tcp click.tcp', function(event) {\n\t\t\t_colorPicker.color.options = // swap options to fake new instance\n\t\t\t\t$.extend(_colorPicker.color.options, _options = _this.options);\n\t\t\ttoggle.call(this, event);\n\t\t})\n\t\t\t.on('change.tcp', function() {\n\t\t\t\t_color.setColor(this.value || '#FFF');\n\t\t\t\t_this.colorPicker.render(true);\n\t\t\t})\n\t\t\t.each(function() {\n\t\t\t\tvar value = extractValue(this),\n\t\t\t\t\tmode = value.split('('),\n\t\t\t\t\t$elm = findElement($(this));\n\n\t\t\t\t$elm.data('colorMode', mode[1] ? mode[0].substr(0, 3) : 'HEX')\n\t\t\t\t\t.attr('readonly', _options.preventFocus);\n\t\t\t\toptions.doRender &&\n\t\t\t\t$elm.css({'background-color': value,\n\t\t\t\t\t'color': function() {\n\t\t\t\t\t\treturn _color.setColor(value)\n\t\t\t\t\t\t\t.rgbaMixBGMixCustom.luminance > 0.22 ?\n\t\t\t\t\t\t\toptions.dark : options.light\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t};\n\n\t$.fn.colorPicker.destroy = function() {\n\t\t$('*').off('.tcp'); // slower but saver\n\t\t_colorPicker.toggle(false);\n\t\t_instance = $();\n\t\t// destroy _colorPicker\n\t};\n\n})(window, $, Colors, undefined);","import '@/framework/widgets/color-picker/color-picker';\n\n( function( $ ) {\n\n\t$.fn.TColorPicker = function( options ) {\n\t\tvar opts = $.extend( {}, $.fn.TColorPicker.defaults, options );\n\t\tvar $this = this;\n\t\tvar field;\n\t\tvar error_string = '';\n\t\tvar error_tip_box;\n\t\tvar mass_edit_mode = false;\n\t\tvar check_box = null;\n\t\tvar enabled = true;\n\t\tvar color_picker_instance;\n\n\t\tthis.clearErrorStyle = function() {\n\n\t\t};\n\n\t\tthis.getEnabled = function() {\n\t\t\treturn enabled;\n\t\t};\n\n\t\tthis.setEnabled = function( val ) {\n\t\t\tenabled = val;\n\t\t\tif ( val === false || val === '' ) {\n\t\t\t\t$this.attr( 'disabled', 'true' );\n\t\t\t} else {\n\t\t\t\t$this.removeAttr( 'disabled' );\n\t\t\t}\n\n\t\t};\n\n\t\tthis.setCheckBox = function( val ) {\n\t\t\tif ( check_box ) {\n\t\t\t\tcheck_box.children().eq( 0 )[0].checked = val;\n\t\t\t}\n\t\t};\n\n\t\tthis.isChecked = function() {\n\t\t\tif ( check_box ) {\n\t\t\t\tif ( check_box.children().eq( 0 )[0].checked === true ) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn false;\n\t\t};\n\n\t\tthis.setMassEditMode = function( val ) {\n\t\t\tmass_edit_mode = val;\n\n\t\t\tif ( mass_edit_mode ) {\n\t\t\t\tcheck_box = $( ' <div class=\"mass-edit-checkbox-wrapper checkbox-mass-edit-checkbox-wrapper\"><input type=\"checkbox\" class=\"mass-edit-checkbox\"></input>' +\n\t\t\t\t\t'<label for=\"checkbox-input-1\" class=\"input-helper input-helper--checkbox\"></label></div>' );\n\t\t\t\tcheck_box.insertBefore( $( this ) );\n\t\t\t\tcheck_box.change( function() {\n\t\t\t\t\t$this.trigger( 'formItemChange', [$this] );\n\t\t\t\t} );\n\n\t\t\t} else {\n\t\t\t\tif ( check_box ) {\n\t\t\t\t\tcheck_box.remove();\n\t\t\t\t\tcheck_box = null;\n\t\t\t\t}\n\t\t\t}\n\n\t\t};\n\n\t\tthis.setErrorStyle = function( errStr, show, isWarning ) {\n\t\t\tif ( isWarning ) {\n\t\t\t\t$( this ).addClass( 'warning-tip' );\n\t\t\t} else {\n\t\t\t\t$( this ).addClass( 'error-tip' );\n\t\t\t}\n\t\t\terror_string = errStr;\n\n\t\t\tif ( show ) {\n\t\t\t\tthis.showErrorTip();\n\t\t\t}\n\t\t};\n\n\t\tthis.showErrorTip = function( sec ) {\n\t\t\tif ( !Global.isSet( sec ) ) {\n\t\t\t\tsec = 2;\n\t\t\t}\n\n\t\t\tif ( !error_tip_box ) {\n\t\t\t\terror_tip_box = Global.loadWidgetByName( WidgetNamesDic.ERROR_TOOLTIP );\n\t\t\t\terror_tip_box = error_tip_box.ErrorTipBox();\n\t\t\t}\n\t\t\terror_tip_box.cancelRemove();\n\t\t\tif ( $( this ).hasClass( 'warning-tip' ) ) {\n\t\t\t\terror_tip_box.show( this, error_string, sec, true );\n\t\t\t} else {\n\t\t\t\terror_tip_box.show( this, error_string, sec );\n\t\t\t}\n\t\t};\n\n\t\tthis.hideErrorTip = function() {\n\t\t\tif ( Global.isSet( error_tip_box ) ) {\n\t\t\t\terror_tip_box.remove();\n\t\t\t}\n\t\t};\n\n\t\tthis.clearErrorStyle = function() {\n\t\t\t$( this ).removeClass( 'error-tip' );\n\t\t\t$( this ).removeClass( 'warning-tip' );\n\t\t\tthis.hideErrorTip();\n\t\t\terror_string = '';\n\t\t};\n\n\t\tthis.getField = function() {\n\t\t\treturn field;\n\t\t};\n\n\t\tthis.getValue = function() {\n\t\t\treturn color_picker_instance.val().substring( 1 );\n\t\t};\n\n\t\tthis.setValue = function( val ) {\n\t\t\tval && color_picker_instance.val( '#' + val.toUpperCase() ) && color_picker_instance.css( 'background', '#' + val );\n\t\t\t!val && color_picker_instance.val( '#0F820F' ) && color_picker_instance.css( 'background', '#0F820F' );\n\t\t};\n\n\t\tthis.each( function() {\n\t\t\tvar o = $.meta ? $.extend( {}, opts, $( this ).data() ) : opts;\n\t\t\tfield = o.field;\n\t\t\t//var is_open;\n\t\t\tif ( $( '.cp-color-picker' ).length > 0 ) {\n\t\t\t\t$().colorPicker( 'destroy' );\n\t\t\t}\n\t\t\t// A workaround that the $this in renderCallback is not correct.\n\t\t\t$( this ).unbind( 'colorPickerClose' ).bind( 'colorPickerClose', function() {\n\t\t\t\t$this.trigger( 'formItemChange', [$this] );\n\t\t\t} );\n\t\t\tcolor_picker_instance = $( this ).colorPicker( {\n\t\t\t\tdoRender: 'div div',\n\t\t\t\trenderCallback: function( $elm, toggled ) {\n\n\t\t\t\t\tvar self = this;\n\t\t\t\t\t//var colors = this.color.colors,\n\t\t\t\t\t//\trgb = colors.RND.rgb;\n\n\t\t\t\t\tvar colors = this.color.colors.RND,\n\t\t\t\t\t\tmodes = {\n\t\t\t\t\t\t\tr: colors.rgb.r, g: colors.rgb.g, b: colors.rgb.b,\n\t\t\t\t\t\t\th: colors.hsv.h, s: colors.hsv.s, v: colors.hsv.v,\n\t\t\t\t\t\t\tHEX: this.color.colors.HEX\n\t\t\t\t\t\t};\n\n\t\t\t\t\t$elm.each( function() {\n\t\t\t\t\t\tthis.value = '#' + modes[this.className.substr( 3 )];\n\t\t\t\t\t} );\n\n\t\t\t\t\t$elm.unbind( 'focusout' ).bind( 'focusout', function( e ) {\n\t\t\t\t\t\tself.$UI.toggle( false );\n\t\t\t\t\t\tif ( check_box ) {\n\t\t\t\t\t\t\t$this.setCheckBox( true );\n\t\t\t\t\t\t}\n\t\t\t\t\t\t$( this ).trigger( 'colorPickerClose' );\n\n\t\t\t\t\t} );\n\n\t\t\t\t\t//if ( toggled === true ) {\n\t\t\t\t\t//\tis_open = true;\n\t\t\t\t\t//\treturn;\n\t\t\t\t\t//}\n\n\t\t\t\t\t//if ( is_open && toggled === false ) {\n\t\t\t\t\t//\tis_open = false;\n\t\t\t\t\t//\tif ( check_box ) {\n\t\t\t\t\t//\t\t$this.setCheckBox( true );\n\t\t\t\t\t//\t}\n\t\t\t\t\t//\t$elm.trigger( 'colorPickerClose' );\n\t\t\t\t\t//\n\t\t\t\t\t//}\n\n\t\t\t\t}\n\t\t\t} );\n\n\t\t} );\n\n\t\treturn this;\n\n\t};\n\n\t$.fn.TColorPicker.defaults = {};\n\n} )( jQuery );"],"sourceRoot":""}