{"version":3,"sources":["webpack://timetrex/./interface/html5/global/widgets/filebrowser/TImage.js","webpack://timetrex/./interface/html5/global/widgets/filebrowser/TImageAdvBrowser.js","webpack://timetrex/./interface/html5/global/widgets/switch_button/SwitchButton.js","webpack://timetrex/./interface/html5/views/developer_tools/WidgetTestViewController.js"],"names":["$","fn","TImage","options","Global","addCss","field","opts","extend","defaults","this","clearErrorStyle","getField","getValue","setValue","val","d","Date","attr","getTime","each","o","meta","data","document","on","e","$this_image_widget","target","parents","height","top","file_browser_overlay","css","append","parent","find","TAlertManager","showConfirmAlert","i18n","_","flag","type","message","time","trigger","off","remove","jQuery","TImageAdvBrowser","image","result_form_data","$this","accept_filter","default_width","default_height","callBack","setEnable","btn","children","eq","show","hide","setImage","getCookie","onImageLoad","image_height","naturalHeight","image_width","width","naturalWidth","setEnableDelete","removeAttr","text","show_browser","isSet","name","deleteImageHandler","bind","IndexViewController","openWizard","form_data","SwitchButton","enabled","getEnabled","removeClass","addClass","return_number","hasClass","setIcon","tooltip","icon","click","stopImmediatePropagation","stopPropagation","SwitchButtonIcon","daily_total","weekly_total","all_employee","strict_range","wages","WidgetTestViewController","BaseViewController","el","user_api","user_group_api","company_api","user_id_array","super","edit_view_tpl","permission_id","viewId","script_name","table_name_key","context_menu_name","navigation_label","api","TTAPI","APIUser","select_company_id","LocalCacheData","getCurrentCompany","id","APIUserGroup","APICompany","render","buildContextMenu","initData","collectUIDataToCurrentEditRecord","setEditViewDataDone","tab_model","setTabModel","tab_employee","edit_view_tab","tab_employee_column1","tab_employee_column2","edit_view_tabs","push","form_item_input","loadWidgetByName","FormItemType","SEPARATED_BOX","SeparatedBox","label","addEditFieldToColumn","CHECKBOX","TCheckbox","COLOR_PICKER","TColorPicker","DATE_PICKER","TDatePicker","TRangePicker","validation_field","TIME_PICKER","TTimePicker","IMAGE_AVD_BROWSER","file_browser","enable_delete","ServiceCaller","uploadFile","current_edit_record","onResult","result","toLowerCase","getURLByObjectType","showAlert","onDeleteImage","loadScript","FORMULA_BUILDER","FormulaBuilder","onFormulaBtnClick","APIReportCustomColumn","getOptions","fun_result","fun_res_data","getResult","col_result","col_res_data","default_args","functions","buildRecordArray","variables","formula","company_value1","clone","edit_view_ui_dic","df_11","detachElement","action_chooser_div","all_employee_btn","daily_totals_btn","weekly_totals_btn","strict_range_btn","toggle_button","data_provider","value","TToggleButton","scroll_position","select_all_shifts_array","select_shifts_array","select_recurring_shifts_array","TAG_INPUT","TTagInput","object_type_id","TEXT_INPUT","TTextInput","PASSWORD_INPUT","TPasswordInput","TEXT_AREA","TTextArea","buildSearchFields","search_fields","exclude","include","ContextMenuIconName","edit","cancel","getUser","r","result_data","processResultData","grid","setData","setGridColumnsWidth","onEditClick","setTimeout","runTests","setTabOVisibility","TTPromise","resolve","length","appendTo","QUnit","config","autostart","window","qunit_initiated","start","module","testCheckbox","testColorPicker","add","testDatePicker","testDateRange","wait","testTimePicker","testImageBrowser","testFormulaBuilder","testTags","testButtons","testText","testPassword","testTextarea","test","assert","cb","checkbox","ok","done_testing","async","widget","color_picker","datepicker","daterange","timepicker","imagebrowser","tags","focus","which","keyCode","textbox","password","textarea"],"mappings":"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","file":"developer_tools-WidgetTestViewController.bundle.js?v=cfd686d34fc17ed3fd55","sourcesContent":["( function( $ ) {\n\n\t$.fn.TImage = function( options ) {\n\n\t\tGlobal.addCss( 'global/widgets/filebrowser/TImageBrowser.css' );\n\t\tvar opts = $.extend( {}, $.fn.TImage.defaults, options );\n\n\t\tvar $this = this;\n\t\tvar field;\n\n\t\tthis.clearErrorStyle = function() {\n\n\t\t};\n\n\t\tthis.getField = function() {\n\t\t\treturn field;\n\t\t};\n\n\t\tthis.getValue = function() {\n\t\t\treturn null;\n\t\t};\n\n\t\tthis.setValue = function( val ) {\n\t\t\tif ( !val ) {\n\t\t\t\tthis.attr( 'src', '' );\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar d = new Date();\n\t\t\tthis.attr( 'src', val + '&t=' + d.getTime() );\n\n\t\t};\n\n\t\tthis.each( function() {\n\n\t\t\tvar o = $.meta ? $.extend( {}, opts, $( this ).data() ) : opts;\n\n\t\t\tfield = o.field;\n\n\t\t} );\n\n\t\treturn this;\n\n\t};\n\n\t$.fn.TImage.defaults = {};\n\n\t$( document ).on( 'mouseover', '.file-browser img', function( e ) {\n\t\tvar $this_image_widget = $( e.target ).parents( '.file-browser' );\n\n\t\tif ( !$( '.file_browser_overlay' )[0] && $( e.target ).attr( 'enable-delete' ) == 1 ) {\n\t\t\tvar height = $( e.target ).height();\n\t\t\tvar top = ( height - 32 ) / 2;\n\t\t\tvar left = top;\n\n\t\t\tvar file_browser_overlay = $( '<div class=\"file_browser_overlay\"><img src=\"theme/default/images/delete-512.png\" style=\"position:absolute;width:32px;height:32px;top:' + top + 'px;left:' + left + 'px;\"></div>' );\n\t\t\tfile_browser_overlay.css( 'position', 'absolute' );\n\t\t\tfile_browser_overlay.css( 'top', '0px' );\n\t\t\tfile_browser_overlay.css( 'left', '0' );\n\t\t\tfile_browser_overlay.css( 'cursor', 'pointer' );\n\t\t\tfile_browser_overlay.css( 'height', height + 'px' );\n\t\t\tfile_browser_overlay.css( 'width', '100%' );\n\t\t\tfile_browser_overlay.css( 'background', 'rgba(255,255,255,0.85)' );\n\n\t\t\t$( e.target ).parents( '.file-browser' ).append( file_browser_overlay );\n\n\t\t\t$( document ).on( 'click', '.file_browser_overlay', function( e ) {\n\t\t\t\tvar img_src = $( e.target ).parent().find( 'img' ).attr( 'src' );\n\t\t\t\tTAlertManager.showConfirmAlert( $.i18n._( 'This will permanently delete the image. Are you sure?' ), '', function( flag ) {\n\t\t\t\t\tif ( flag ) {\n\t\t\t\t\t\tvar e = { type: 'deleteClick', message: 'Delete image clicked.', time: new Date() };\n\t\t\t\t\t\t$this_image_widget.trigger( e );\n\t\t\t\t\t}\n\t\t\t\t} );\n\t\t\t} );\n\n\t\t\t$( document ).on( 'mouseleave', '.file-browser', function() {\n\t\t\t\t$( document ).off( 'click', '.file_browser_overlay' );\n\t\t\t\tif ( $( '.file_browser_overlay' )[0] ) {\n\t\t\t\t\tvar file_browser_overlay = $( this ).find( '.file_browser_overlay' );\n\t\t\t\t\tfile_browser_overlay.off().remove();\n\t\t\t\t}\n\t\t\t} );\n\t\t}\n\t} );\n\n} )( jQuery );","( function( $ ) {\n\n\t$.fn.TImageAdvBrowser = function( options ) {\n\n\t\tGlobal.addCss( 'global/widgets/filebrowser/TImageBrowser.css' );\n\t\tvar opts = $.extend( {}, $.fn.TImageAdvBrowser.defaults, options );\n\n\t\tvar $this = this;\n\t\tvar field;\n\t\tvar name = 'filedata';\n\n\t\tvar accept_filter = '';\n\n\t\tvar default_width = 177;\n\t\tvar default_height = 42;\n\n\t\tvar callBack = null;\n\n\t\tvar enabled = true;\n\n\t\tvar image;\n\n\t\tvar result_form_data;\n\n\t\tthis.setEnable = function( val ) {\n\t\t\tenabled = val;\n\n\t\t\tvar btn = this.children().eq( 1 );\n\t\t\tif ( !val ) {\n\t\t\t\tbtn.hide();\n\t\t\t} else {\n\t\t\t\tbtn.show();\n\t\t\t}\n\n\t\t};\n\n\t\tthis.clearErrorStyle = function() {\n\n\t\t};\n\n\t\tthis.getField = function() {\n\t\t\treturn field;\n\t\t};\n\n\t\tthis.getValue = function() {\n\t\t\treturn result_form_data;\n\t\t};\n\n\t\tthis.setImage = function( val ) {\n\t\t\tif ( !val ) {\n\t\t\t\timage.attr( 'src', '' );\n\t\t\t\timage.hide();\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar d = new Date();\n\t\t\timage.hide();\n\t\t\timage.attr( 'src', val + '&t=' + d.getTime() + '&X-CSRF-Token=' + getCookie( 'CSRF-Token' ) );\n\t\t\timage.css( 'height', 'auto' );\n\t\t\timage.css( 'width', 'auto' );\n\n\t\t};\n\n\t\tthis.onImageLoad = function( image ) {\n\n\t\t\tvar image_height = $( image ).height() > 0 ? $( image ).height() : image.naturalHeight;\n\t\t\tvar image_width = $( image ).width() > 0 ? $( image ).width() : image.naturalWidth;\n\n\t\t\tif ( image_height > default_height ) {\n\t\t\t\t$( image ).css( 'height', default_height );\n\n\t\t\t}\n\n\t\t\tif ( image_width > default_width ) {\n\t\t\t\t$( image ).css( 'width', default_width );\n\t\t\t\t$( image ).css( 'height', 'auto' );\n\t\t\t}\n\n\t\t\t$this.trigger( 'setSize' );\n\n\t\t\tif ( image_height < 5 ) {\n\t\t\t\t$( image ).hide();\n\t\t\t} else {\n\t\t\t\t$( image ).show();\n\t\t\t}\n\n\t\t};\n\n\t\tthis.setValue = function( val ) {\n\n\t\t\tif ( !val ) {\n\t\t\t\tval = '';\n\t\t\t}\n\n\t\t};\n\n\t\tthis.setEnableDelete = function( val ) {\n\t\t\tvar image = $this.find( '.image' );\n\t\t\tif ( !val ) {\n\t\t\t\timage.removeAttr( 'enable-delete' );\n\t\t\t\treturn;\n\t\t\t} else {\n\t\t\t\timage.attr( 'enable-delete', 1 );\n\t\t\t}\n\t\t};\n\n\t\tthis.each( function() {\n\n\t\t\tvar o = $.meta ? $.extend( {}, opts, $( this ).data() ) : opts;\n\n\t\t\tfield = o.field;\n\n\t\t\tvar $$this = this;\n\n\t\t\t$( this ).find( '#upload_image' ).text( $.i18n._( 'Upload Image' ) );\n\n\t\t\tif ( o.callBack ) {\n\t\t\t\tcallBack = o.callBack;\n\t\t\t}\n\n\t\t\tif ( o.show_browser === false ) {\n\t\t\t\t$( this ).children().eq( 1 ).hide();\n\t\t\t}\n\n\t\t\tif ( o.default_width > 0 ) {\n\t\t\t\tdefault_width = o.default_width;\n\t\t\t}\n\n\t\t\tif ( o.default_height > 0 ) {\n\t\t\t\tdefault_height = o.default_height;\n\t\t\t}\n\n\t\t\tif ( Global.isSet( o.name ) ) {\n\t\t\t\tname = o.name;\n\t\t\t}\n\n\t\t\tif ( Global.isSet( accept_filter ) ) {\n\t\t\t\taccept_filter = o.accept_filter;\n\t\t\t}\n\n\t\t\tif ( Global.isSet( o.deleteImageHandler ) ) {\n\t\t\t\t$this.find( '.file-browser' ).on( 'deleteClick', function() {\n\t\t\t\t\to.deleteImageHandler();\n\t\t\t\t} );\n\n\t\t\t}\n\n\t\t\tvar browser = $( this ).children().eq( 1 );\n\t\t\tbrowser.bind( 'click', function() {\n\t\t\t\tIndexViewController.openWizard( 'UserPhotoWizard', null, function( form_data ) {\n\n\t\t\t\t\tif ( callBack ) {\n\t\t\t\t\t\tcallBack( form_data );\n\t\t\t\t\t}\n\n\t\t\t\t\tresult_form_data = form_data;\n\n\t\t\t\t} );\n\t\t\t} );\n\n\t\t\timage = $( this ).children().eq( 0 );\n\t\t\timage.on( 'load', function() {\n\t\t\t\t$this.onImageLoad( this );\n\t\t\t} );\n\n\t\t\timage.hide();\n\n\t\t} );\n\n\t\treturn this;\n\n\t};\n\n\t$.fn.TImageAdvBrowser.defaults = {};\n\n} )( jQuery );","( function( $ ) {\n\n\t$.fn.SwitchButton = function( options ) {\n\n\t\tGlobal.addCss( 'global/widgets/switch_button/SwitchButton.css' );\n\t\tvar opts = $.extend( {}, $.fn.SwitchButton.defaults, options );\n\n\t\tvar $this = this;\n\n\t\tvar btn = null;\n\n\t\tvar enabled = true;\n\n\t\tthis.getEnabled = function() {\n\t\t\treturn enabled;\n\t\t};\n\n\t\tthis.setEnable = function( val ) {\n\t\t\tenabled = val;\n\n\t\t\tif ( !val ) {\n\t\t\t\tthis.removeClass( 'disable-element' ).addClass( 'disable-element' );\n\t\t\t} else {\n\t\t\t\tthis.removeClass( 'disable-element' );\n\t\t\t}\n\n\t\t};\n\n\t\t//Error: TypeError: btn is null in /interface/html5/global/widgets/switch_button/SwitchButton.js?v=9.0.0-20150822-212724 line 31\n\t\tthis.getValue = function( return_number ) {\n\t\t\tif ( return_number ) {\n\t\t\t\treturn ( btn && btn.hasClass( 'selected' ) ) ? 1 : 0;\n\t\t\t} else {\n\t\t\t\treturn ( btn && btn.hasClass( 'selected' ) ) ? true : false;\n\t\t\t}\n\t\t};\n\n\t\tthis.setValue = function( val ) {\n\n\t\t\t//Error: TypeError: btn is null in /interface/html5/global/widgets/switch_button/SwitchButton.js?v=8.0.0-20141230-130626 line 35\n\t\t\tif ( !btn ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tbtn.removeClass( 'selected' );\n\n\t\t\tif ( val ) {\n\t\t\t\tbtn.addClass( 'selected' );\n\t\t\t}\n\t\t};\n\n\t\tthis.setIcon = function( val ) {\n\t\t\tbtn.addClass( val );\n\t\t};\n\n\t\tthis.each( function() {\n\n\t\t\tvar o = $.meta ? $.extend( {}, opts, $( this ).data() ) : opts;\n\n\t\t\tbtn = $( '<div></div>' );\n\n\t\t\t$this.append( btn );\n\n\t\t\tif ( o.tooltip ) {\n\t\t\t\tbtn.attr( 'title', o.tooltip );\n\t\t\t}\n\n\t\t\t$this.setIcon( o.icon );\n\n\t\t\tbtn.click( function( e ) {\n\n\t\t\t\tif ( !enabled ) {\n\t\t\t\t\te.stopImmediatePropagation();\n\t\t\t\t\te.stopPropagation();\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\t$this.setValue( !$this.getValue() );\n\t\t\t} );\n\n\t\t} );\n\n\t\treturn this;\n\n\t};\n\n\t$.fn.SwitchButton.defaults = {};\n\n} )( jQuery );\n\nexport var SwitchButtonIcon = function() {\n\n};\n\nSwitchButtonIcon.daily_total = 'daily';\nSwitchButtonIcon.weekly_total = 'weekly';\nSwitchButtonIcon.all_employee = 'all-employee';\nSwitchButtonIcon.strict_range = 'strict-range';\nSwitchButtonIcon.wages = 'strict-range';","import '@/global/widgets/filebrowser/TImage';\nimport '@/global/widgets/filebrowser/TImageAdvBrowser';\nimport '@/global/widgets/color-picker/TColorPicker';\nimport { SwitchButtonIcon } from '@/global/widgets/switch_button/SwitchButton';\n\nexport class WidgetTestViewController extends BaseViewController {\n\tconstructor( options = {} ) {\n\t\t_.defaults( options, {\n\t\t\tel: '#awesomebox_test_view_container',\n\n\t\t\t// _required_files: [\n\t\t\t// \t'TColorPicker',\n\t\t\t// \t'TImage',\n\t\t\t// \t'TImageAdvBrowser'\n\t\t\t// ],\n\n\t\t\tuser_api: null,\n\t\t\tuser_group_api: null,\n\t\t\tcompany_api: null,\n\t\t\tuser_id_array: null\n\t\t} );\n\n\t\tsuper( options );\n\t}\n\n\tinit( options ) {\n\t\tthis.edit_view_tpl = 'WidgetTestEditView.html';\n\t\tthis.permission_id = 'user';\n\t\tthis.viewId = 'WidgetTest';\n\t\tthis.script_name = 'WidgetTest';\n\t\tthis.table_name_key = 'awesomebox_test';\n\t\tthis.context_menu_name = $.i18n._( 'Widget Test' );\n\t\tthis.navigation_label = $.i18n._( 'Widget Test' ) + ':';\n\t\tthis.api = TTAPI.APIUser;\n\t\tthis.select_company_id = LocalCacheData.getCurrentCompany().id;\n\t\tthis.user_group_api = TTAPI.APIUserGroup;\n\t\tthis.company_api = TTAPI.APICompany;\n\t\tthis.user_id_array = [];\n\n\t\tthis.render();\n\t\tthis.buildContextMenu();\n\t\tthis.initData();\n\t}\n\n\tsetCurrentEditRecordData() {\n\t\tthis.collectUIDataToCurrentEditRecord();\n\t\tthis.setEditViewDataDone();\n\t}\n\n\tclearEditViewData() {\n\t\treturn false;\n\t}\n\n\tbuildEditViewUI() {\n\t\tvar $this = this;\n\n\t\tvar tab_model = {\n\t\t\t'tab_employee': { 'label': $.i18n._( 'Employee' ) },\n\t\t};\n\t\tthis.setTabModel( tab_model );\n\n\t\t//Tab 0 start\n\n\t\tvar tab_employee = this.edit_view_tab.find( '#tab_employee' );\n\n\t\tvar tab_employee_column1 = tab_employee.find( '.first-column' );\n\t\tvar tab_employee_column2 = tab_employee.find( '.second-column' );\n\n\t\tthis.edit_view_tabs[0] = [];\n\t\tthis.edit_view_tabs[0].push( tab_employee_column1 );\n\n\t\tvar form_item_input = Global.loadWidgetByName( FormItemType.SEPARATED_BOX );\n\t\tform_item_input.SeparatedBox( { label: $.i18n._( 'Separated_box: if you see this, the test is passing.' ) } );\n\t\tthis.addEditFieldToColumn( null, form_item_input, tab_employee_column1 );\n\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.CHECKBOX );\n\t\tform_item_input.TCheckbox( { field: 'checkbox' } );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'TCheckbox' ), form_item_input, tab_employee_column1, '' );\n\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.COLOR_PICKER );\n\t\tform_item_input.TColorPicker( { field: 'color_picker' } );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'TColorPicker' ), form_item_input, tab_employee_column1 );\n\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.DATE_PICKER );\n\t\tform_item_input.TDatePicker( { field: 'datepicker' } );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'TDatePicker' ), form_item_input, tab_employee_column1, '', null );\n\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.DATE_PICKER );\n\t\tform_item_input.TRangePicker( { field: 'daterange', validation_field: 'date_stamp' } );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'TDateRange' ), form_item_input, tab_employee_column1, '', null, true );\n\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.TIME_PICKER );\n\t\tform_item_input.TTimePicker( { field: 'timepicker' } );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'TTimePicker' ), form_item_input, tab_employee_column1 );\n\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.IMAGE_AVD_BROWSER );\n\t\tthis.file_browser = form_item_input.TImageAdvBrowser( {\n\t\t\tfield: 'imagebrowser',\n\t\t\tdefault_width: 128,\n\t\t\tdefault_height: 128,\n\t\t\tenable_delete: true,\n\t\t\tcallBack: function( form_data ) {\n\t\t\t\tnew ServiceCaller().uploadFile( form_data, 'object_type=user_photo&object_id=' + $this.current_edit_record.id, {\n\t\t\t\t\tonResult: function( result ) {\n\n\t\t\t\t\t\tif ( result.toLowerCase() === 'true' ) {\n\t\t\t\t\t\t\t$this.file_browser.setImage( ServiceCaller.getURLByObjectType( 'user_photo' ) + '&object_id=' + $this.current_edit_record.id );\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tTAlertManager.showAlert( result, 'Error' );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} );\n\n\t\t\t},\n\t\t\tdeleteImageHandler: function( e ) {\n\t\t\t\t$this.onDeleteImage();\n\t\t\t}\n\t\t} );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'TImageAdvBrowser' ), this.file_browser, tab_employee_column1, '', null, false, true );\n\n\t\tGlobal.loadScript( 'global/widgets/formula_builder/FormulaBuilder.js', function() {\n\t\t\t// Dynamic Field 11\n\t\t\tform_item_input = Global.loadWidgetByName( FormItemType.FORMULA_BUILDER );\n\t\t\tform_item_input.FormulaBuilder( {\n\t\t\t\tfield: 'formula', width: '100%', onFormulaBtnClick: function() {\n\n\t\t\t\t\tvar custom_column_api = TTAPI.APIReportCustomColumn;\n\n\t\t\t\t\tcustom_column_api.getOptions( 'formula_functions', {\n\t\t\t\t\t\tonResult: function( fun_result ) {\n\t\t\t\t\t\t\tvar fun_res_data = fun_result.getResult();\n\n\t\t\t\t\t\t\t$this.api.getOptions( 'formula_variables', { onResult: onColumnsResult } );\n\n\t\t\t\t\t\t\tfunction onColumnsResult( col_result ) {\n\t\t\t\t\t\t\t\tvar col_res_data = col_result.getResult();\n\n\t\t\t\t\t\t\t\tvar default_args = {};\n\t\t\t\t\t\t\t\tdefault_args.functions = Global.buildRecordArray( fun_res_data );\n\t\t\t\t\t\t\t\tdefault_args.variables = Global.buildRecordArray( col_res_data );\n\t\t\t\t\t\t\t\tdefault_args.formula = $this.current_edit_record.company_value1;\n\t\t\t\t\t\t\t\tdefault_args.current_edit_record = Global.clone( $this.current_edit_record );\n\t\t\t\t\t\t\t\tdefault_args.api = $this.api;\n\n\t\t\t\t\t\t\t\tIndexViewController.openWizard( 'FormulaBuilderWizard', default_args, function( val ) {\n\t\t\t\t\t\t\t\t\t$this.current_edit_record.company_value1 = val;\n\t\t\t\t\t\t\t\t\t$this.edit_view_ui_dic.df_11.setValue( val );\n\t\t\t\t\t\t\t\t} );\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\t\t\t\t\t} );\n\t\t\t\t}\n\t\t\t} );\n\t\t\t$this.detachElement( 'df_11' );\n\t\t\t$this.addEditFieldToColumn( 'FormulaBuilder', form_item_input, tab_employee_column1, '', null, true );\n\t\t\tform_item_input.parent().width( '45%' );\n\t\t} );\n\n\t\t//NO INSTANCES OF TList\n\n\t\t//Create action switch buttons\n\t\tvar action_chooser_div = $( '.control-bar .action-chooser-div' );\n\t\tthis.all_employee_btn = action_chooser_div.find( '#all_employee' );\n\t\tthis.daily_totals_btn = action_chooser_div.find( '#daily_totals' );\n\t\tthis.weekly_totals_btn = action_chooser_div.find( '#weekly_totals' );\n\t\tthis.strict_range_btn = action_chooser_div.find( '#strict_range' );\n\t\tthis.all_employee_btn = this.all_employee_btn.SwitchButton( {\n\t\t\ticon: SwitchButtonIcon.all_employee,\n\t\t\ttooltip: $.i18n._( 'Show Unscheduled Employees' )\n\t\t} );\n\t\tthis.daily_totals_btn = this.daily_totals_btn.SwitchButton( {\n\t\t\ticon: SwitchButtonIcon.daily_total,\n\t\t\ttooltip: $.i18n._( 'Daily Totals' )\n\t\t} );\n\t\tthis.weekly_totals_btn = this.weekly_totals_btn.SwitchButton( {\n\t\t\ticon: SwitchButtonIcon.weekly_total,\n\t\t\ttooltip: $.i18n._( 'Weekly Totals' )\n\t\t} );\n\t\tthis.strict_range_btn = this.strict_range_btn.SwitchButton( {\n\t\t\ticon: SwitchButtonIcon.strict_range,\n\t\t\ttooltip: $.i18n._( 'Strict Range' )\n\t\t} );\n\t\tthis.all_employee_btn.click( function() {\n\t\t\t// $this.onShowEmployeeClick();\n\t\t} );\n\t\tthis.daily_totals_btn.click( function() {\n\t\t\t// $this.onDailyTotalsClick();\n\t\t} );\n\t\tthis.weekly_totals_btn.click( function() {\n\t\t\t// $this.onWeeklyTotalClick();\n\t\t} );\n\t\tthis.strict_range_btn.setValue( true );\n\t\tthis.strict_range_btn.click( function() {\n\t\t\t// $this.onStrictRangeClick();\n\t\t} );\n\t\tthis.toggle_button = $( this.el ).find( '.toggle-button-div' );\n\t\tvar data_provider = [\n\t\t\t{ label: $.i18n._( 'Day' ), value: 'day' },\n\t\t\t{ label: $.i18n._( 'Week' ), value: 'week' },\n\t\t\t{ label: $.i18n._( 'Month' ), value: 'month' },\n\t\t\t{ label: $.i18n._( 'Year' ), value: 'year' }\n\t\t];\n\n\t\tthis.toggle_button = this.toggle_button.TToggleButton( { data_provider: data_provider } );\n\t\tthis.toggle_button.bind( 'change', function( e, result ) {\n\t\t\t$this.scroll_position = 0;\n\t\t\t$this.select_all_shifts_array = [];\n\t\t\t$this.select_shifts_array = [];\n\t\t\t$this.select_recurring_shifts_array = [];\n\t\t} );\n\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.TAG_INPUT );\n\t\tform_item_input.TTagInput( { field: 'tags', object_type_id: 930 } );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'TTagInput' ), form_item_input, tab_employee_column2, '', null, null, true );\n\n\t\t//requires width manipulation or intermittently won't show.\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.TEXT_INPUT );\n\t\tform_item_input.TTextInput( { field: 'text', width: '100%' } );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'TText' ), form_item_input, tab_employee_column2 );\n\t\tform_item_input.parent().width( '45%' );\n\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.PASSWORD_INPUT );\n\t\tform_item_input.TPasswordInput( { field: 'password', width: 200 } );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'TPasswordInput' ), form_item_input, tab_employee_column2 );\n\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.TEXT_AREA );\n\t\tform_item_input.TTextArea( { field: 'textarea' } );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'TTextArea' ), form_item_input, tab_employee_column2, '', null, null, true );\n\t}\n\n\tbuildSearchFields() {\n\t\tsuper.buildSearchFields();\n\t\tvar $this = this;\n\t\tthis.search_fields = [];\n\t}\n\n\tgetCustomContextMenuModel() {\n\t\tvar context_menu_model = {\n\t\t\texclude: ['default'],\n\t\t\tinclude: [\n\t\t\t\tContextMenuIconName.edit,\n\t\t\t\tContextMenuIconName.cancel\n\t\t\t]\n\t\t};\n\n\t\treturn context_menu_model;\n\t}\n\n\t//override that forces same data to grid at all times.\n\tsearch() {\n\t\tvar $this = this;\n\t\tthis.api.getUser( {}, true, {\n\t\t\tonResult: function( r ) {\n\t\t\t\tvar result_data = r.getResult();\n\t\t\t\t$this.user_id_array = result_data;\n\t\t\t\tresult_data = $this.processResultData( result_data );\n\t\t\t\t$this.grid.setData( result_data );\n\t\t\t\t$this.grid.setGridColumnsWidth();\n\t\t\t\t$this.onEditClick( result_data[0].id );\n\t\t\t}\n\t\t} );\n\t}\n\n\tsetEditViewDataDone() {\n\t\tvar $this = this;\n\t\tsetTimeout( function() {\n\t\t\tTAlertManager.showConfirmAlert( $.i18n._( 'Run tests?' ), null, function( result ) {\n\t\t\t\tif ( result == true ) {\n\t\t\t\t\t$this.runTests();\n\t\t\t\t}\n\t\t\t} );\n\t\t\t$this.setTabOVisibility( true );\n\t\t\t$( '.edit-view-tab-bar' ).css( 'opacity', 1 );\n\t\t\tTTPromise.resolve( 'init', 'init' );\n\t\t}, 2500 );\n\n\t\tsuper.setEditViewDataDone();\n\t}\n\n\trunTests() {\n\t\tvar $this = this;\n\t\tif ( $( '#qunit_script' ).length == 0 ) {\n\t\t\t$( '<script id=\\'qunit_script\\' src=\\'framework/qunit/qunit.js\\'></script>' ).appendTo( 'head' );\n\t\t\t$( '<link rel=\\'stylesheet\\' type=\\'text/css\\' href=\\'framework/qunit/qunit.css\\'>' ).appendTo( 'head' );\n\t\t}\n\t\t;\n\n\t\tQUnit.config.autostart = false;\n\t\t$( '#qunit_container' ).css( 'width', '100%' );\n\t\t$( '#qunit_container' ).css( 'height', 'auto' );\n\t\t$( '#qunit_container' ).css( 'overflow-y', 'scroll' );\n\t\t$( '#qunit_container' ).css( 'top', '0px' );\n\t\t$( '#qunit_container' ).css( 'left', '0px' );\n\t\t$( '#qunit_container' ).css( 'z-index', '100' );\n\t\t$( '#qunit_container' ).css( 'background', '#fff' );\n\t\t$( '#qunit_container' ).show();\n\n\t\t$( '#tt_debug_console' ).remove();\n\t\tif ( !window.qunit_initiated ) {\n\t\t\twindow.qunit_initiated = true;\n\t\t\tQUnit.start();\n\t\t}\n\n\t\t//select an item by clicking a td in the last row\n\t\tQUnit.module( 'Widgets' );\n\t\tthis.testCheckbox();\n\t\tthis.testColorPicker();\n\n\t\tTTPromise.add( 'datetests', 'picker' );\n\t\tTTPromise.add( 'datetests', 'range' );\n\t\tthis.testDatePicker();\n\t\tthis.testDateRange();\n\t\t//as timepicker is a date picker with alt options enabled, it must be triggered after the date tests are done or the selectors will collide and possibly provide false positives\n\t\tTTPromise.wait( 'datetests', null, function() {\n\t\t\t$this.testTimePicker();\n\t\t} );\n\n\t\tTTPromise.add( 'wizardtests', 'imagebrowser' );\n\t\tthis.testImageBrowser();\n\t\tTTPromise.wait( 'wizardtests', 'imagebrowser', function() {\n\t\t\t$this.testFormulaBuilder();\n\t\t} );\n\n\t\tTTPromise.wait( 'null', 'null', function() {\n\t\t\t$this.testTags();\n\t\t} );\n\n\t\tthis.testButtons();\n\t\tthis.testText();\n\t\tthis.testPassword();\n\t\tthis.testTextarea();\n\n\t\t//Extra tests that should be added to test non-form widgets\n\t\t//todo: TAlert\n\t\t//todo: inside_editor\n\t\t//todo: error tips\n\t\t//todo: test feedback widget\n\t\t//todo: live_chat\n\t\t//todo: paging\n\t\t//todo: search_panel\n\t\t//todo: top_notification\n\t\t//todo: view_min_tab\n\t}\n\n\ttestCheckbox() {\n\t\tvar $this = this;\n\t\tQUnit.test( 'Checkbox tests', function( assert ) {\n\t\t\tvar cb = $this.edit_view_ui_dic.checkbox;\n\t\t\tassert.ok( cb.getValue() == false, 'checkbox not checked' );\n\t\t\tcb.setValue( true );\n\t\t\tassert.ok( cb.getValue(), 'checkbox checked via code' );\n\t\t\tcb.setValue( false );\n\t\t\tassert.ok( cb.getValue() == false, 'checkbox unchecked via code' );\n\t\t\t$( cb ).click();\n\t\t\tassert.ok( cb.getValue(), 'checkbox checked via click' );\n\t\t\t$( cb ).click();\n\t\t\tassert.ok( cb.getValue() == false, 'checkbox unchecked via click' );\n\t\t} );\n\t}\n\n\ttestColorPicker() {\n\t\tvar $this = this;\n\t\tQUnit.test( 'ColorPicker tests', function( assert ) {\n\t\t\tvar done_testing = assert.async();\n\t\t\tvar widget = $this.edit_view_ui_dic.color_picker;\n\t\t\tassert.ok( widget.getValue() == '', 'widget empty' );\n\t\t\t$( widget ).click();\n\n\t\t\tsetTimeout( function() {\n\t\t\t\t$( '.cp-color-picker' ).hide();\n\t\t\t\tassert.ok( widget.getValue() == 'FFFFFF', 'widget white after no select: ' + widget.getValue() );\n\t\t\t\twidget.setValue( 'FF0000' );\n\t\t\t\tassert.ok( widget.getValue() == 'FF0000', 'widget red after set value programatically' + widget.getValue() );\n\n\t\t\t\t$( widget ).click();\n\t\t\t\t//there's no color selection by click because it's based on mouseup and mousedown events which can't be simulated at specific coordinates\n\n\t\t\t\t$( '.cp-color-picker' ).hide();\n\t\t\t\tdone_testing();\n\t\t\t}, 1000 );\n\t\t} );\n\t}\n\n\ttestDatePicker() {\n\t\tvar $this = this;\n\t\tQUnit.test( 'DatePicker tests', function( assert ) {\n\t\t\tvar done_testing = assert.async();\n\t\t\tvar widget = $this.edit_view_ui_dic.datepicker;\n\t\t\tassert.ok( widget.getValue() == '', 'widget empty' );\n\t\t\tsetTimeout( function() {\n\t\t\t\twidget.find( '#tDatePickerIcon' ).trigger( 'mouseup' );\n\t\t\t\tassert.ok( ( $( '#ui-datepicker-div:visible' ).length > 0 ), 'calendar visible after click' );\n\t\t\t\t$( $( '#ui-datepicker-div .ui-datepicker-calendar td' )[15] ).click();\n\t\t\t\tsetTimeout( function() {\n\t\t\t\t\tassert.ok( ( $( '#ui-datepicker-div:visible' ).length == 0 ), 'calendar invisible after date selection' );\n\t\t\t\t\tassert.ok( widget.getValue() != '', 'value is not blank' );\n\t\t\t\t\tTTPromise.resolve( 'datetests', 'picker' );\n\n\t\t\t\t\tdone_testing();\n\t\t\t\t}, 1000 );\n\t\t\t}, 1000 );\n\t\t} );\n\t}\n\n\ttestDateRange() {\n\t\tvar $this = this;\n\t\tQUnit.test( 'DateRange tests', function( assert ) {\n\t\t\tvar done_testing = assert.async();\n\t\t\tvar widget = $this.edit_view_ui_dic.daterange;\n\t\t\tassert.ok( typeof widget.getValue() == 'undefined', 'widget empty ' + widget.getValue() );\n\t\t\twidget.find( '#tDatePickerIcon' ).trigger( 'mouseup' );\n\t\t\tsetTimeout( function() {\n\t\t\t\tassert.ok( ( $( '.t-range-picker-div:visible' ).length > 0 ), 'calendar visible after click' );\n\t\t\t\t$( $( '.t-range-picker-div .end-picker td' )[15] ).click();\n\t\t\t\t$( '.t-range-picker-div .close-icon' ).click();\n\t\t\t\tsetTimeout( function() {\n\t\t\t\t\tassert.ok( ( $( '.t-range-picker-div:visible' ).length == 0 ), 'calendar invisible after closing' );\n\t\t\t\t\tassert.ok( widget.getValue() != '', 'value is not blank' );\n\t\t\t\t\tdone_testing();\n\t\t\t\t\tTTPromise.resolve( 'datetests', 'range' );\n\t\t\t\t}, 1000 );\n\t\t\t}, 1000 );\n\t\t} );\n\t}\n\n\ttestTimePicker() {\n\t\tvar $this = this;\n\t\tQUnit.test( 'TimePicker tests', function( assert ) {\n\t\t\tvar widget = $this.edit_view_ui_dic.timepicker;\n\t\t\tassert.ok( widget.getValue() == '', 'widget empty: ' + widget.getValue() );\n\t\t\twidget.find( '#tTimePickerIcon' ).trigger( 'mouseup' );\n\t\t\tassert.ok( ( $( '#ui-datepicker-div:visible' ).length > 0 ), 'timepicker widget visible after click' );\n\t\t\t$( '#ui-datepicker-div:visible button[data-handler=\"today\"]' ).click();\n\t\t\tassert.ok( ( $( '#ui-datepicker-div:visible' ).length > 0 ), 'timepicker widget visible after now click' );\n\t\t\t$( '#ui-datepicker-div:visible button[data-handler=\"hide\"]' ).click();\n\t\t\tassert.ok( ( $( '#ui-datepicker-div:visible' ).length == 0 ), 'timepicker widget gone clicking close button' );\n\t\t\tassert.ok( widget.getValue() != '', 'value is not blank' );\n\t\t} );\n\t}\n\n\ttestImageBrowser() {\n\t\tvar $this = this;\n\t\tTTPromise.add( '' );\n\t\tQUnit.test( 'ImageBrowser tests', function( assert ) {\n\t\t\tvar done_testing = assert.async();\n\t\t\tvar widget = $this.edit_view_ui_dic.imagebrowser;\n\t\t\tassert.ok( typeof widget.getValue() == 'undefined', 'widget empty: ' + widget.getValue() );\n\t\t\twidget.find( '#upload_image' ).click();\n\t\t\tsetTimeout( function() {\n\t\t\t\tassert.ok( $( '.wizard:visible' ).length > 0, 'wizard visible' );\n\t\t\t\t$( '.wizard:visible .close-btn' ).click();\n\t\t\t\tassert.ok( $( '.wizard:visible' ).length == 0, 'wizard invisible' );\n\t\t\t\tdone_testing();\n\t\t\t\tTTPromise.resolve( 'wizardtests', 'imagebrowser' );\n\t\t\t}, 1000 );\n\t\t} );\n\t}\n\n\ttestFormulaBuilder() {\n\t\tvar $this = this;\n\t\tQUnit.test( 'FormulaBuilder tests', function( assert ) {\n\t\t\tvar done_testing = assert.async();\n\t\t\tvar widget = $this.edit_view_ui_dic.formula;\n\t\t\tassert.ok( widget.getValue() == '', 'widget empty: ' + widget.getValue() );\n\t\t\twidget.find( '.t-button.formula-btn' ).click();\n\t\t\tsetTimeout( function() {\n\t\t\t\tassert.ok( $( '.wizard:visible' ).length > 0, 'wizard visible' );\n\t\t\t\t$( '.wizard:visible .close-btn' ).click();\n\t\t\t\tassert.ok( $( '.wizard:visible' ).length == 0, 'wizard invisible' );\n\t\t\t\tdone_testing();\n\t\t\t}, 1000 );\n\t\t} );\n\t}\n\n\ttestButtons() {\n\t\tvar $this = this;\n\t\tQUnit.test( 'TotalButtons tests', function( assert ) {\n\t\t\tvar done_testing = assert.async();\n\n\t\t\tvar all_employee_btn = $( '.control-bar .action-chooser-div #all_employee .all-employee' );\n\t\t\tvar daily_totals_btn = $( '.control-bar .action-chooser-div #daily_totals .daily' );\n\t\t\tvar weekly_totals_btn = $( '.control-bar .action-chooser-div #weekly_totals .weekly' );\n\t\t\tvar strict_range_btn = $( '.control-bar .action-chooser-div #strict_range .strict-range' );\n\n\t\t\tassert.ok( strict_range_btn.hasClass( 'selected' ), 'strict range starts selected' );\n\t\t\tassert.ok( daily_totals_btn.hasClass( 'selected' ) == false, 'daily totals starts unselected' );\n\t\t\tassert.ok( weekly_totals_btn.hasClass( 'selected' ) == false, 'week total starts unselected' );\n\t\t\tassert.ok( all_employee_btn.hasClass( 'selected' ) == false, 'all employees starts unselected' );\n\n\t\t\tstrict_range_btn.click();\n\t\t\tsetTimeout( function() {\n\t\t\t\tassert.ok( strict_range_btn.hasClass( 'selected' ) == false, 'strict range unselects on click' );\n\t\t\t\tdaily_totals_btn.click();\n\t\t\t\tsetTimeout( function() {\n\t\t\t\t\tassert.ok( daily_totals_btn.hasClass( 'selected' ), 'daily_totals_btn selects on click' );\n\t\t\t\t\tweekly_totals_btn.click();\n\t\t\t\t\tsetTimeout( function() {\n\t\t\t\t\t\tassert.ok( weekly_totals_btn.hasClass( 'selected' ), 'weekly_totals_btn selects on click' );\n\t\t\t\t\t\tall_employee_btn.click();\n\t\t\t\t\t\tsetTimeout( function() {\n\t\t\t\t\t\t\tassert.ok( all_employee_btn.hasClass( 'selected' ), 'all_employee_btn selects on click' );\n\t\t\t\t\t\t\tstrict_range_btn.click();\n\t\t\t\t\t\t\tdaily_totals_btn.click();\n\t\t\t\t\t\t\tweekly_totals_btn.click();\n\t\t\t\t\t\t\tall_employee_btn.click();\n\t\t\t\t\t\t\tsetTimeout( function() {\n\n\t\t\t\t\t\t\t\t//back to initial state\n\t\t\t\t\t\t\t\tassert.ok( strict_range_btn.hasClass( 'selected' ), 'strict range starts selected' );\n\t\t\t\t\t\t\t\tassert.ok( daily_totals_btn.hasClass( 'selected' ) == false, 'daily totals starts unselected' );\n\t\t\t\t\t\t\t\tassert.ok( weekly_totals_btn.hasClass( 'selected' ) == false, 'week total starts unselected' );\n\t\t\t\t\t\t\t\tassert.ok( all_employee_btn.hasClass( 'selected' ) == false, 'all employees starts unselected' );\n\t\t\t\t\t\t\t\tdone_testing();\n\t\t\t\t\t\t\t}, 1500 );\n\t\t\t\t\t\t}, 1500 );\n\t\t\t\t\t}, 1500 );\n\t\t\t\t}, 1500 );\n\t\t\t}, 1500 );\n\t\t} );\n\t}\n\n\ttestTags() {\n\t\tvar $this = this;\n\t\tQUnit.test( 'Tags tests', function( assert ) {\n\t\t\tvar done_testing = assert.async();\n\t\t\tvar el = $this.edit_view_ui_dic.tags.find( 'input.add-tag-input' );\n\t\t\tvar val = $this.edit_view_ui_dic.tags.getValue();\n\t\t\tassert.ok( val == '', 'starts empty ' + val );\n\n\t\t\tel.focus();\n\t\t\t$( el ).val( 'test1' );\n\t\t\t$( el ).trigger( { type: 'keydown', which: 32, keyCode: 32 } );\n\t\t\t$( el ).val( 'test2' );\n\t\t\t$( el ).trigger( { type: 'keydown', which: 32, keyCode: 32 } );\n\n\t\t\tsetTimeout( function() {\n\t\t\t\tvar val = $this.edit_view_ui_dic.tags.getValue();\n\t\t\t\tassert.ok( val == 'test1,test2', '2 tags entered and return in value: ' + val );\n\t\t\t\tsetTimeout( function() {\n\t\t\t\t\t//click the x's to remove them\n\t\t\t\t\t$( '.tag-span-div .close-btn' ).click();\n\t\t\t\t\tsetTimeout( function() {\n\t\t\t\t\t\tvar val = $this.edit_view_ui_dic.tags.getValue();\n\t\t\t\t\t\tassert.ok( val == '-test1,-test2', '2 tags entered and return (subtracted) in value: ' + val );\n\t\t\t\t\t\tdone_testing();\n\t\t\t\t\t}, 1000 );\n\t\t\t\t}, 1000 );\n\t\t\t}, 1000 );\n\t\t} );\n\t}\n\n\ttestText() {\n\t\tvar $this = this;\n\t\tQUnit.test( 'Text test', function( assert ) {\n\t\t\t//var done_testing = assert.async();\n\t\t\tvar textbox = $this.edit_view_ui_dic.text;\n\t\t\ttextbox.setValue( 'testing textbox' );\n\t\t\tassert.ok( textbox.getValue() == 'testing textbox', 'accepts text and returns value' );\n\t\t\ttextbox.setValue( '' );\n\t\t\tassert.ok( textbox.getValue() == '', 'returned value updates when text is updated' );\n\t\t} );\n\t}\n\n\ttestPassword() {\n\t\tvar $this = this;\n\t\tQUnit.test( 'Password box test', function( assert ) {\n\t\t\t//var done_testing = assert.async();\n\t\t\tvar textbox = $this.edit_view_ui_dic.password;\n\t\t\ttextbox.setValue( 'testing textbox' );\n\t\t\tassert.ok( textbox.getValue() == 'testing textbox', 'accepts text and returns value' );\n\t\t\ttextbox.setValue( '' );\n\t\t\tassert.ok( textbox.getValue() == '', 'returned value updates when text is updated' );\n\t\t} );\n\t}\n\n\ttestTextarea() {\n\t\tvar $this = this;\n\t\tQUnit.test( 'Password box test', function( assert ) {\n\t\t\t//var done_testing = assert.async();\n\t\t\tvar textbox = $this.edit_view_ui_dic.textarea;\n\t\t\ttextbox.setValue( 'testing textbox' );\n\t\t\tassert.ok( textbox.getValue() == 'testing textbox', 'accepts text and returns value' );\n\t\t\ttextbox.setValue( '' );\n\t\t\tassert.ok( textbox.getValue() == '', 'returned value updates when text is updated' );\n\t\t} );\n\t}\n\n}"],"sourceRoot":""}