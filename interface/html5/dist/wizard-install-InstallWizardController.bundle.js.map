{"version":3,"sources":["webpack://timetrex/./interface/html5/views/wizard/install/InstallWizardController.js"],"names":["InstallWizardController","BaseWizardController","options","_","defaults","el","type_array","country_array","time_zone_array","external_installer","company_id","user_id","edit_view_error_ui_dic","super","this","title_1","$","find","steps","script_name","wizard_id","api","TTAPI","APIInstall","ServiceCaller","extra_url","size","LocalCacheData","getAllURLArgs","url_args","current_step","a","render","title","next_btn","back_btn","done_btn","text","i18n","initCurrentStep","step","$this","ProgressBar","showOverlay","getLicense","onResult","res","stepsDataDic","getResult","_initCurrentStep","getRequirements","isValid","action","onNextClick","getDatabaseSchema","getDatabaseConfig","type_options","postUpgrade","getSystemSettings","time_zone_options","getCompany","Global","isSet","getUser","upgrade","installDone","getMaintenanceJobs","setButtonsStatus","buildCurrentStepUI","buildCurrentStepData","setCurrentStepValues","setWidgetEnabled","form_item_input","step_title","content_div","license","requirements","databaseConfig","databaseSchema","systemSettings","company","user","maintenanceJobs","stepData","hide","empty","stepsWidgetDic","loadWidgetByName","FormItemType","TEXT_AREA","TTextArea","field","width","height","getField","append","CHECKBOX","TCheckbox","unbind","bind","e","target","getValue","accept_label","license_html","ribbon_button_box","getRibbonButtonBox","ribbon_btn","children","eq","html","show","step_title_htm","application_name","check_all_requirements","tt_product_edition","extended_error_messages","requirements_column1","TEXT","TText","addEditFieldToColumn","SEPARATED_BOX","SeparatedBox","label","requirements_column2","addClass","removeClass","requirements_column4","error_html","i","errors","key","requirements_column5","columns_html","user_column1","TEXT_INPUT","TTextInput","PASSWORD_INPUT","company_column1","widgetContainer","COMBO_BOX","TComboBox","setSourceData","systemSettings_column1","form_item_host_input","setValue","form_item_url_input","ie_label","databaseConfig_column1","databaseConfig_column2","onTestDatabaseConnectionClick","application_version","loc","window","location","login_url","protocol","host","pathname","maintenanceJob_html","php_os","schedule_maintenance_job_command","is_sudo_installed","web_server_user","cron_file","showTrue","$data","widget","testConnection","async","result","test_connection","database_version","TAlertManager","showAlert","test_priv_connection","widgets","c_value","getProvinceOptions","province","saveCurrentStep","showConfirmAlert","createDatabase","next_page","setSystemSettings","setCompany","setErrorTips","extend","setUser","closeOverlay","country","edit_view_form_item_dic","check_timetrex_version","current_timetrex_version","latest_timetrex_version","check_php_version","php_version","check_php_memory_limit","str","memory_limit","check_php_post_size","post_size","check_php_upload_size","upload_size","check_disabled_functions","disabled_function_list","check_base_url","recommended_base_url","check_php_open_base_dir","php_open_base_dir","php_cli_directory","check_php_cli_binary","php_cli","check_php_cli_requirements","php_cli_requirements_command","check_writable_cache_directory","cache_dir","check_safe_cache_directory","base_path","check_writable_storage_directory","storage_path","check_safe_storage_directory","check_writable_log_directory","log_path","check_safe_log_directory","check_clean_cache_directory","setDatabaseSchema","clearErrorTips","error_list","getDetails","hasOwnProperty","is","setErrorStyle","clearErrorStyle","cleanStepsData","currentURL","setURLToBrowser","remove"],"mappings":"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","file":"wizard-install-InstallWizardController.bundle.js?v=6860bc4426c0a924a1bf","sourcesContent":["export class InstallWizardController extends BaseWizardController {\n\tconstructor( options = {} ) {\n\t\t_.defaults( options, {\n\t\t\tel: '.install-wizard',\n\n\t\t\ttype_array: null,\n\n\t\t\tcountry_array: null,\n\n\t\t\ttime_zone_array: null,\n\n\t\t\texternal_installer: null,\n\n\t\t\tcompany_id: null,\n\n\t\t\tuser_id: null,\n\n\t\t\tedit_view_error_ui_dic: {},\n\n\n\t\t} );\n\n\t\tsuper( options );\n\t}\n\n\tinit( options ) {\n\t\t//this._super('initialize', options );\n\t\tthis.title_1 = $( this.el ).find( '.title-1' );\n\t\tthis.steps = 5;\n\t\tthis.script_name = 'wizard_install';\n\t\tthis.wizard_id = 'InstallWizard';\n\t\tthis.api = TTAPI.APIInstall;\n\t\tServiceCaller.extra_url = '&disable_db=1';\n\t\tif ( _.size( LocalCacheData.getAllURLArgs() ) > 0 ) {\n\t\t\tvar url_args = LocalCacheData.getAllURLArgs();\n\t\t\tthis.current_step = url_args.a;\n\t\t\tthis.external_installer = url_args.external_installer;\n\t\t} else {\n\t\t\tthis.current_step = 'license';\n\t\t\tthis.external_installer = 0;\n\t\t}\n\n\t\tthis.render();\n\t}\n\n\trender() {\n\t\tvar $this = this;\n\t\tvar title = $( this.el ).find( '.title' );\n\n\t\tthis.next_btn = $( this.el ).find( '.forward-btn' );\n\t\tthis.back_btn = $( this.el ).find( '.back-btn' );\n\t\tthis.done_btn = $( this.el ).find( '.done-btn' );\n\n\t\ttitle.text( $.i18n._( 'Install Wizard' ) );\n\n\t\tthis.initCurrentStep();\n\t}\n\n\tinitCurrentStep( step ) {\n\t\tvar $this = this;\n\n\t\tif ( step ) {\n\t\t} else {\n\t\t\tstep = this.current_step;\n\t\t}\n\n\t\tProgressBar.showOverlay();\n\n\t\tswitch ( step ) {\n\t\t\tcase 'license':\n\t\t\t\tthis.api.getLicense( {\n\t\t\t\t\tonResult: function( res ) {\n\t\t\t\t\t\t$this.stepsDataDic[$this.current_step] = res.getResult();\n\t\t\t\t\t\t$this._initCurrentStep();\n\t\t\t\t\t}\n\t\t\t\t} );\n\t\t\t\tbreak;\n\t\t\tcase 'requirements':\n\t\t\t\tthis.api.getRequirements( this.external_installer, {\n\t\t\t\t\tonResult: function( res ) {\n\t\t\t\t\t\tif ( res.isValid() ) {\n\t\t\t\t\t\t\tif ( res.getResult().action ) {\n\t\t\t\t\t\t\t\t$this.onNextClick();\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t$this.stepsDataDic[$this.current_step] = res.getResult();\n\t\t\t\t\t\t\t\t$this._initCurrentStep();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t$this.current_step = 'license';\n\t\t\t\t\t\t\t$this.initCurrentStep();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} );\n\t\t\t\tbreak;\n\t\t\tcase 'databaseSchema':\n\t\t\t\tServiceCaller.extra_url = false;\n\t\t\t\tthis.api.getDatabaseSchema( {\n\t\t\t\t\tonResult: function( res ) {\n\t\t\t\t\t\tif ( res.isValid() ) {\n\t\t\t\t\t\t\t$this.stepsDataDic[$this.current_step] = res.getResult();\n\t\t\t\t\t\t\t$this._initCurrentStep();\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t$this.current_step = 'license';\n\t\t\t\t\t\t\t$this.initCurrentStep();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} );\n\t\t\t\tbreak;\n\t\t\tcase 'databaseConfig':\n\t\t\t\tthis.api.getDatabaseConfig( {\n\t\t\t\t\tonResult: function( res ) {\n\t\t\t\t\t\tif ( res.isValid() ) {\n\t\t\t\t\t\t\t$this.stepsDataDic[$this.current_step] = res.getResult();\n\t\t\t\t\t\t\t$this.type_array = res.getResult().type_options;\n\t\t\t\t\t\t\t$this._initCurrentStep();\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t$this.current_step = 'license';\n\t\t\t\t\t\t\t$this.initCurrentStep();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} );\n\t\t\t\tbreak;\n\t\t\tcase 'postUpgrade':\n\t\t\t\tthis.api.postUpgrade( {\n\t\t\t\t\tonResult: function( res ) {\n\t\t\t\t\t\tif ( res.isValid() ) {\n\t\t\t\t\t\t\t$this.stepsDataDic[$this.current_step] = res.getResult();\n\t\t\t\t\t\t\t$this._initCurrentStep();\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t$this.current_step = 'license';\n\t\t\t\t\t\t\t$this.initCurrentStep();\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\t\t\t\t} );\n\t\t\t\tbreak;\n\t\t\tcase 'systemSettings':\n\t\t\t\tthis.api.getSystemSettings( {\n\t\t\t\t\tonResult: function( res ) {\n\t\t\t\t\t\tif ( res.isValid() ) {\n\t\t\t\t\t\t\t$this.stepsDataDic[$this.current_step] = res.getResult();\n\t\t\t\t\t\t\t$this.time_zone_array = res.getResult().time_zone_options;\n\t\t\t\t\t\t\t$this._initCurrentStep();\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t$this.current_step = 'license';\n\t\t\t\t\t\t\t$this.initCurrentStep();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} );\n\t\t\t\tbreak;\n\t\t\tcase 'company':\n\t\t\t\tthis.api.getCompany( this.company_id, {\n\t\t\t\t\tonResult: function( res ) {\n\t\t\t\t\t\tif ( res.isValid() ) {\n\t\t\t\t\t\t\t$this.stepsDataDic[$this.current_step] = res.getResult();\n\t\t\t\t\t\t\t$this._initCurrentStep();\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t$this.current_step = 'license';\n\t\t\t\t\t\t\t$this.initCurrentStep();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} );\n\t\t\t\tbreak;\n\t\t\tcase 'user':\n\t\t\t\tvar company_id = '';\n\t\t\t\tif ( Global.isSet( this.stepsDataDic[this.current_step] ) ) {\n\t\t\t\t\tcompany_id = this.stepsDataDic[this.current_step]['company_id'];\n\t\t\t\t}\n\t\t\t\tthis.api.getUser( company_id, this.user_id, {\n\t\t\t\t\tonResult: function( res ) {\n\t\t\t\t\t\tif ( res.isValid() ) {\n\t\t\t\t\t\t\t$this.stepsDataDic[$this.current_step] = res.getResult();\n\t\t\t\t\t\t\t$this._initCurrentStep();\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t$this.current_step = 'license';\n\t\t\t\t\t\t\t$this.initCurrentStep();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} );\n\t\t\t\tbreak;\n\t\t\tcase 'installDone':\n\t\t\t\tvar upgrade = '';\n\t\t\t\tif ( Global.isSet( $this.stepsDataDic[$this.current_step] ) ) {\n\t\t\t\t\tupgrade = $this.stepsDataDic[$this.current_step]['upgrade'];\n\t\t\t\t}\n\t\t\t\tthis.api.installDone( upgrade, {\n\t\t\t\t\tonResult: function( res ) {\n\t\t\t\t\t\tif ( res.isValid() ) {\n\t\t\t\t\t\t\t$this.stepsDataDic[$this.current_step] = res.getResult();\n\t\t\t\t\t\t\t$this._initCurrentStep();\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t$this.current_step = 'license';\n\t\t\t\t\t\t\t$this.initCurrentStep();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} );\n\t\t\t\tbreak;\n\t\t\tcase 'maintenanceJobs':\n\t\t\t\tthis.api.getMaintenanceJobs( {\n\t\t\t\t\tonResult: function( res ) {\n\t\t\t\t\t\tif ( res.isValid() ) {\n\t\t\t\t\t\t\tif ( res.getResult() === true ) {\n\t\t\t\t\t\t\t\t$this.current_step = 'installDone';\n\t\t\t\t\t\t\t\t$this.initCurrentStep();\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t$this.stepsDataDic[$this.current_step] = res.getResult();\n\t\t\t\t\t\t\t\t$this._initCurrentStep();\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t$this.current_step = 'license';\n\t\t\t\t\t\t\t$this.initCurrentStep();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} );\n\t\t\t\tbreak;\n\t\t}\n\t}\n\n\t_initCurrentStep( step ) {\n\t\tvar $this = this;\n\t\t$this.setButtonsStatus(); // set button enabled or disabled\n\t\t$this.buildCurrentStepUI();\n\t\t$this.buildCurrentStepData();\n\t\t$this.setCurrentStepValues();\n\t}\n\n\tsetButtonsStatus() {\n\t\tif ( this.current_step === 'license' ) {\n\t\t\tGlobal.setWidgetEnabled( this.back_btn, false );\n\t\t\tGlobal.setWidgetEnabled( this.next_btn, false );\n\t\t} else {\n\t\t\tGlobal.setWidgetEnabled( this.back_btn, true );\n\t\t\tGlobal.setWidgetEnabled( this.next_btn, true );\n\t\t}\n\n\t\tif ( this.current_step !== 'installDone' ) {\n\t\t\tGlobal.setWidgetEnabled( this.done_btn, false );\n//\t\t\tGlobal.setWidgetEnabled( this.next_btn, true );\n\t\t} else {\n\t\t\tGlobal.setWidgetEnabled( this.done_btn, true );\n\t\t\tGlobal.setWidgetEnabled( this.next_btn, false );\n\t\t}\n\t}\n\n\t//Create each page UI\n\tbuildCurrentStepUI() {\n\n\t\tvar $this = this;\n\t\tvar step_title = this.content_div.find( '.step-title > .wizard-label' );\n\t\tvar license = this.content_div.find( '.license' );\n\t\tvar requirements = this.content_div.find( '.requirements' );\n\t\tvar databaseConfig = this.content_div.find( '.databaseConfig' );\n\t\tvar databaseSchema = this.content_div.find( '.databaseSchema' );\n\t\tvar postUpgrade = this.content_div.find( '.postUpgrade' );\n\t\tvar systemSettings = this.content_div.find( '.systemSettings' );\n\t\tvar company = this.content_div.find( '.company' );\n\t\tvar user = this.content_div.find( '.user' );\n\t\tvar installDone = this.content_div.find( '.installDone' );\n\t\tvar maintenanceJobs = this.content_div.find( '.maintenanceJobs' );\n\n\t\tvar form_item_input;\n\t\tvar stepData = this.stepsDataDic[this.current_step];\n\t\tthis.content_div.find( '.step' ).hide();\n\t\tthis.content_div.find( '.content-handle-btn' ).empty();\n\n\t\tif ( Global.isSet( this.stepsWidgetDic[this.current_step] ) ) {\n\n\t\t} else {\n\t\t\tthis.stepsWidgetDic[this.current_step] = {};\n\t\t}\n\n\t\tswitch ( this.current_step ) {\n\t\t\tcase 'license':\n\t\t\t\tlicense.empty();\n\t\t\t\tthis.title_1.text( $.i18n._( 'License Acceptance' ) );\n\t\t\t\tif ( stepData['install_mode'] ) {\n\t\t\t\t\tif ( stepData['license_text'] ) {\n\t\t\t\t\t\tstep_title.text( $.i18n._( 'Please read through the following license and if you agree and accept it, click the ' + '\"' + $.i18n._( 'I Accept' ) + '\"' + 'checkbox at the bottom.' ) );\n\n\t\t\t\t\t\tform_item_input = Global.loadWidgetByName( FormItemType.TEXT_AREA );\n\t\t\t\t\t\tform_item_input.TTextArea( { field: 'license_text', width: '65%', height: '80%' } );\n\t\t\t\t\t\tthis.stepsWidgetDic[this.current_step][form_item_input.getField()] = form_item_input;\n\n\t\t\t\t\t\tlicense.append( form_item_input );\n\t\t\t\t\t} else {\n\t\t\t\t\t\tlicense.append( stepData['error_message'] );\n\t\t\t\t\t}\n\n\t\t\t\t\tlicense.append( '<br>' );\n\n\t\t\t\t\tform_item_input = Global.loadWidgetByName( FormItemType.CHECKBOX );\n\t\t\t\t\tform_item_input.TCheckbox( { field: 'license_accept' } );\n\t\t\t\t\tform_item_input.unbind( 'formItemChange' ).bind( 'formItemChange', function( e, target ) {\n\t\t\t\t\t\tif ( target.getValue() ) {\n\t\t\t\t\t\t\tGlobal.setWidgetEnabled( $this.next_btn, true );\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tGlobal.setWidgetEnabled( $this.next_btn, false );\n\t\t\t\t\t\t}\n\t\t\t\t\t} );\n\n\t\t\t\t\tthis.stepsWidgetDic[this.current_step][form_item_input.getField()] = form_item_input;\n\n\t\t\t\t\tlicense.append( form_item_input );\n\n\t\t\t\t\tvar accept_label = '<span> ' + $.i18n._( 'I Accept' ) + '</span>';\n\n\t\t\t\t\tlicense.append( accept_label );\n\n\t\t\t\t} else {\n\t\t\t\t\tvar license_html = $.i18n._( 'The installer has already been run, as a safety measure it has been disabled from running again. If you are absolutely sure you want to run it again, or upgrade your system, please go to your timetrex.ini.php file and set \"installer_enabled\" to \"TRUE\". The line should look like' ) + ':';\n\t\t\t\t\tlicense_html = license_html + '<br>';\n\t\t\t\t\tlicense_html = license_html + '<br>';\n\t\t\t\t\tlicense_html = license_html + '\"' + '<b>installer_enabled = TRUE</b>' + '\"';\n\t\t\t\t\tlicense_html = license_html + '<br>';\n\t\t\t\t\tlicense_html = license_html + '<br>';\n\t\t\t\t\tlicense_html = license_html + $.i18n._( 'After this change has been made, you can click the \"Re-Check\" button below to begin your installation.' );\n\t\t\t\t\tlicense_html = license_html + '<br>';\n\t\t\t\t\tlicense_html = license_html + '<br>';\n\t\t\t\t\tlicense_html = license_html + $.i18n._( 'For help, please visit' ) + ' <a href=\"https://www.timetrex.com\">www.timetrex.com</a> ';\n\t\t\t\t\tlicense.append( license_html );\n\n\t\t\t\t\tvar ribbon_button_box = this.getRibbonButtonBox();\n\n\t\t\t\t\tvar ribbon_btn = $( '<li><button class=\"ribbon-sub-menu-icon\" id=\"re-check\">' + $.i18n._( 'Re-Check' ) + '</button></li>' );\n\t\t\t\t\tribbon_btn.unbind( 'click' ).bind( 'click', function() {\n\t\t\t\t\t\tProgressBar.showOverlay();\n\t\t\t\t\t\t$this.api.getLicense( {\n\t\t\t\t\t\t\tonResult: function( res ) {\n\t\t\t\t\t\t\t\t$this.stepsDataDic[$this.current_step] = res.getResult();\n\t\t\t\t\t\t\t\t$this._initCurrentStep();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} );\n\n\t\t\t\t\t} );\n\n\t\t\t\t\tribbon_button_box.children().eq( 0 ).append( ribbon_btn );\n\n\t\t\t\t\tthis.content_div.find( '.content-handle-btn' ).html( ribbon_button_box );\n\n\t\t\t\t}\n\n\t\t\t\tlicense.show();\n\t\t\t\tbreak;\n\n\t\t\tcase 'requirements':\n\n\t\t\t\tvar step_title_htm = $.i18n._( 'In order for your' ) + ' '\n\t\t\t\t\t+ $.i18n._( stepData.application_name ) + ' '\n\t\t\t\t\t+ $.i18n._( 'installation to function properly, please ensure all of the system check items listed below are marked as' ) + ' '\n\t\t\t\t\t+ '<b>OK</b>' + '. '\n\t\t\t\t\t+ $.i18n._( 'If any are red, please take the necessary steps to fix them.' );\n\n\t\t\t\tif ( stepData.check_all_requirements != 0 ) {\n\n\t\t\t\t\tif ( stepData.tt_product_edition > 10 ) {\n\t\t\t\t\t\tstep_title_htm = step_title_htm\n\t\t\t\t\t\t\t+ '<p style=\"background-color: #FFFF00\">'\n\t\t\t\t\t\t\t+ $.i18n._( 'For installation assistance, please contact' ) + ' '\n\t\t\t\t\t\t\t+ '<a href=\"https://www.timetrex.com/contact-us\" target=\"_blank\">' + $.i18n._( 'TimeTrex support' ) + '</a>';\n\t\t\t\t\t} else if ( stepData.tt_product_edition == 10 ) {\n\n\t\t\t\t\t\tstep_title_htm = step_title_htm\n\t\t\t\t\t\t\t+ '<p style=\"background-color: #FFFF00\">'\n\t\t\t\t\t\t\t+ $.i18n._( 'For installation assistance, please join our community' ) + ' '\n\t\t\t\t\t\t\t+ '<a href=\"https://forums.timetrex.com\" target=\"_blank\">' + $.i18n._( 'forums' ) + '</a>'\n\t\t\t\t\t\t\t+ ' ' + $.i18n._( 'or contact a TimeTrex support expert for' ) + ' '\n\t\t\t\t\t\t\t+ '<a href=\"https://www.timetrex.com/setup-support\" target=\"_blank\">' + $.i18n._( 'Implementation Support Services' ) + '</a></p>';\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\tif ( stepData.check_all_requirements == 1 ) {\n\t\t\t\t\tGlobal.setWidgetEnabled( this.next_btn, false );\n\t\t\t\t}\n\n\t\t\t\tif ( _.size( stepData.extended_error_messages ) > 0 ) {\n\t\t\t\t\tGlobal.setWidgetEnabled( this.next_btn, false );\n\t\t\t\t}\n\n\t\t\t\tstep_title.html( step_title_htm );\n\n\t\t\t\tthis.title_1.text( $.i18n._( 'System Check Acceptance' ) );\n\n\t\t\t\t// timetrex version, php version.\n\t\t\t\tvar requirements_column1 = requirements.find( '.first-column' );\n\t\t\t\trequirements_column1.empty();\n\n\t\t\t\tform_item_input = Global.loadWidgetByName( FormItemType.TEXT );\n\t\t\t\tform_item_input.TText( { field: 'timetrex_version' } );\n\t\t\t\tthis.addEditFieldToColumn( $.i18n._( 'TimeTrex Version' ), form_item_input, requirements_column1, '' );\n\n\t\t\t\tform_item_input = Global.loadWidgetByName( FormItemType.TEXT );\n\t\t\t\tform_item_input.TText( { field: 'php_version' } );\n\t\t\t\tthis.addEditFieldToColumn( $.i18n._( 'PHP Version' ), form_item_input, requirements_column1, '' );\n\n\t\t\t\trequirements.find( '.first-label' ).empty();\n\n\t\t\t\tform_item_input = Global.loadWidgetByName( FormItemType.SEPARATED_BOX );\n\t\t\t\tform_item_input.SeparatedBox( { label: $.i18n._( 'PHP Requirements' ) } );\n\t\t\t\tthis.addEditFieldToColumn( null, form_item_input, requirements.find( '.first-label' ) );\n\n\t\t\t\tvar requirements_column2 = requirements.find( '.second-column' );\n\t\t\t\trequirements_column2.empty();\n\t\t\t\tif ( stepData.check_all_requirements == 0 ) {\n\t\t\t\t\trequirements_column2.html( $.i18n._( 'All System Requirements have been met successfully' ) + '!' );\n\t\t\t\t\trequirements_column2.addClass( 'all-ok' );\n\t\t\t\t} else {\n\t\t\t\t\t// php requirements\n\t\t\t\t\trequirements_column2.removeClass( 'all-ok' );\n\t\t\t\t\tform_item_input = Global.loadWidgetByName( FormItemType.TEXT );\n\t\t\t\t\tform_item_input.TText( { field: 'database_engine' } );\n\t\t\t\t\tthis.addEditFieldToColumn( $.i18n._( 'PostgreSQL Enabled' ), form_item_input, requirements_column2, '', null, true, true );\n\n\t\t\t\t\tform_item_input = Global.loadWidgetByName( FormItemType.TEXT );\n\t\t\t\t\tform_item_input.TText( { field: 'bcmath' } );\n\t\t\t\t\tthis.addEditFieldToColumn( $.i18n._( 'BCMATH Enabled' ), form_item_input, requirements_column2, '', null, true, true );\n\n\t\t\t\t\tform_item_input = Global.loadWidgetByName( FormItemType.TEXT );\n\t\t\t\t\tform_item_input.TText( { field: 'mbstring' } );\n\t\t\t\t\tthis.addEditFieldToColumn( $.i18n._( 'MBSTRING Enabled' ), form_item_input, requirements_column2, '', null, true, true );\n\n\t\t\t\t\tform_item_input = Global.loadWidgetByName( FormItemType.TEXT );\n\t\t\t\t\tform_item_input.TText( { field: 'gettext' } );\n\t\t\t\t\tthis.addEditFieldToColumn( $.i18n._( 'GETTEXT Enabled' ), form_item_input, requirements_column2, '', null, true, true );\n\n\t\t\t\t\tform_item_input = Global.loadWidgetByName( FormItemType.TEXT );\n\t\t\t\t\tform_item_input.TText( { field: 'intl' } );\n\t\t\t\t\tthis.addEditFieldToColumn( $.i18n._( 'INTL Enabled' ), form_item_input, requirements_column2, '', null, true, true );\n\n\t\t\t\t\tform_item_input = Global.loadWidgetByName( FormItemType.TEXT );\n\t\t\t\t\tform_item_input.TText( { field: 'soap' } );\n\t\t\t\t\tthis.addEditFieldToColumn( $.i18n._( 'SOAP Enabled' ), form_item_input, requirements_column2, '', null, true, true );\n\n\t\t\t\t\tform_item_input = Global.loadWidgetByName( FormItemType.TEXT );\n\t\t\t\t\tform_item_input.TText( { field: 'gd' } );\n\t\t\t\t\tthis.addEditFieldToColumn( $.i18n._( 'GD Enabled' ), form_item_input, requirements_column2, '', null, true, true );\n\n\t\t\t\t\tform_item_input = Global.loadWidgetByName( FormItemType.TEXT );\n\t\t\t\t\tform_item_input.TText( { field: 'json' } );\n\t\t\t\t\tthis.addEditFieldToColumn( $.i18n._( 'JSON Enabled' ), form_item_input, requirements_column2, '', null, true, true );\n\n\t\t\t\t\tform_item_input = Global.loadWidgetByName( FormItemType.TEXT );\n\t\t\t\t\tform_item_input.TText( { field: 'simplexml' } );\n\t\t\t\t\tthis.addEditFieldToColumn( $.i18n._( 'SimpleXML Enabled' ), form_item_input, requirements_column2, '', null, true, true );\n\n\t\t\t\t\tform_item_input = Global.loadWidgetByName( FormItemType.TEXT );\n\t\t\t\t\tform_item_input.TText( { field: 'curl' } );\n\t\t\t\t\tthis.addEditFieldToColumn( $.i18n._( 'CURL Enabled' ), form_item_input, requirements_column2, '', null, true, true );\n\n\t\t\t\t\tform_item_input = Global.loadWidgetByName( FormItemType.TEXT );\n\t\t\t\t\tform_item_input.TText( { field: 'zip' } );\n\t\t\t\t\tthis.addEditFieldToColumn( $.i18n._( 'ZIP Enabled' ), form_item_input, requirements_column2, '', null, true, true );\n\n\t\t\t\t\tform_item_input = Global.loadWidgetByName( FormItemType.TEXT );\n\t\t\t\t\tform_item_input.TText( { field: 'mail' } );\n\t\t\t\t\tthis.addEditFieldToColumn( $.i18n._( 'MAIL Enabled' ), form_item_input, requirements_column2, '', null, true, true );\n\n\t\t\t\t\tform_item_input = Global.loadWidgetByName( FormItemType.TEXT );\n\t\t\t\t\tform_item_input.TText( { field: 'openssl' } );\n\t\t\t\t\tthis.addEditFieldToColumn( $.i18n._( 'OpenSSL Enabled' ), form_item_input, requirements_column2, '', null, true, true );\n\n\t\t\t\t\tform_item_input = Global.loadWidgetByName( FormItemType.TEXT );\n\t\t\t\t\tform_item_input.TText( { field: 'pear' } );\n\t\t\t\t\tthis.addEditFieldToColumn( $.i18n._( 'PEAR Enabled' ), form_item_input, requirements_column2, '', null, true, true );\n\n\t\t\t\t\tform_item_input = Global.loadWidgetByName( FormItemType.TEXT );\n\t\t\t\t\tform_item_input.TText( { field: 'safe_mode' } );\n\t\t\t\t\tthis.addEditFieldToColumn( $.i18n._( 'Safe Mode Turned Off' ), form_item_input, requirements_column2, '', null, true, true );\n\n\t\t\t\t\tform_item_input = Global.loadWidgetByName( FormItemType.TEXT );\n\t\t\t\t\tform_item_input.TText( { field: 'disabled_functions' } );\n\t\t\t\t\tthis.addEditFieldToColumn( $.i18n._( 'PHP DISABLE_FUNCTIONS' ), form_item_input, requirements_column2, '', null, true, true );\n\n\t\t\t\t\tform_item_input = Global.loadWidgetByName( FormItemType.TEXT );\n\t\t\t\t\tform_item_input.TText( { field: 'allow_fopen_url' } );\n\t\t\t\t\tthis.addEditFieldToColumn( $.i18n._( 'ALLOW_FOPEN_URL Turned Off' ), form_item_input, requirements_column2, '', null, true, true );\n\n\t\t\t\t\tform_item_input = Global.loadWidgetByName( FormItemType.TEXT );\n\t\t\t\t\tform_item_input.TText( { field: 'disk_space' } );\n\t\t\t\t\tthis.addEditFieldToColumn( $.i18n._( 'Disk Space' ), form_item_input, requirements_column2, '', null, true, true );\n\n\t\t\t\t\t// other requirements\n\t\t\t\t\tform_item_input = Global.loadWidgetByName( FormItemType.TEXT );\n\t\t\t\t\tform_item_input.TText( { field: 'memory_limit' } );\n\t\t\t\t\tthis.addEditFieldToColumn( $.i18n._( 'Memory Limit' ), form_item_input, requirements_column2, '', null, true, true );\n\n\t\t\t\t\tform_item_input = Global.loadWidgetByName( FormItemType.TEXT );\n\t\t\t\t\tform_item_input.TText( { field: 'post_size' } );\n\t\t\t\t\tthis.addEditFieldToColumn( $.i18n._( 'Max Post Size' ), form_item_input, requirements_column2, '', null, true, true );\n\n\t\t\t\t\tform_item_input = Global.loadWidgetByName( FormItemType.TEXT );\n\t\t\t\t\tform_item_input.TText( { field: 'upload_size' } );\n\t\t\t\t\tthis.addEditFieldToColumn( $.i18n._( 'Max Upload Size' ), form_item_input, requirements_column2, '', null, true, true );\n\n\t\t\t\t\tform_item_input = Global.loadWidgetByName( FormItemType.TEXT );\n\t\t\t\t\tform_item_input.TText( { field: 'base_url' } );\n\t\t\t\t\tthis.addEditFieldToColumn( $.i18n._( 'Base URL' ), form_item_input, requirements_column2, '', null, true, true );\n\n\t\t\t\t\tform_item_input = Global.loadWidgetByName( FormItemType.TEXT );\n\t\t\t\t\tform_item_input.TText( { field: 'system_timezone' } );\n\t\t\t\t\tthis.addEditFieldToColumn( $.i18n._( 'System TimeZone' ), form_item_input, requirements_column2, '', null, true, true );\n\n\t\t\t\t\tform_item_input = Global.loadWidgetByName( FormItemType.TEXT );\n\t\t\t\t\tform_item_input.TText( { field: 'php_int_size' } );\n\t\t\t\t\tthis.addEditFieldToColumn( $.i18n._( 'PHP 64-bit Support' ), form_item_input, requirements_column2, '', null, true, true );\n\n\t\t\t\t\tform_item_input = Global.loadWidgetByName( FormItemType.TEXT );\n\t\t\t\t\tform_item_input.TText( { field: 'base_dir' } );\n\t\t\t\t\tthis.addEditFieldToColumn( $.i18n._( 'PHP Open BaseDir' ), form_item_input, requirements_column2, '', null, true, true );\n\n\t\t\t\t\tform_item_input = Global.loadWidgetByName( FormItemType.TEXT );\n\t\t\t\t\tform_item_input.TText( { field: 'cli_executable' } );\n\t\t\t\t\tthis.addEditFieldToColumn( $.i18n._( 'PHP CLI Executable' ), form_item_input, requirements_column2, '', null, true, true );\n\n\t\t\t\t\tform_item_input = Global.loadWidgetByName( FormItemType.TEXT );\n\t\t\t\t\tform_item_input.TText( { field: 'config_file' } );\n\t\t\t\t\tthis.addEditFieldToColumn( $.i18n._( 'Writable' ) + ' ' + $.i18n._( stepData.application_name ) + ' ' + $.i18n._( 'Configuration File' ) + '<br>' + '(timetrex.ini.php)', form_item_input, requirements_column2, '', null, true, true );\n\n\t\t\t\t\tform_item_input = Global.loadWidgetByName( FormItemType.TEXT );\n\t\t\t\t\tform_item_input.TText( { field: 'cache_dir' } );\n\t\t\t\t\tthis.addEditFieldToColumn( $.i18n._( 'Writable Cache Directory' ), form_item_input, requirements_column2, '', null, true, true );\n\t\t\t\t\tform_item_input = Global.loadWidgetByName( FormItemType.TEXT );\n\t\t\t\t\tform_item_input.TText( { field: 'safe_cache_dir' } );\n\t\t\t\t\tthis.addEditFieldToColumn( $.i18n._( 'Secure Cache Directory' ), form_item_input, requirements_column2, '', null, true, true );\n\n\t\t\t\t\tform_item_input = Global.loadWidgetByName( FormItemType.TEXT );\n\t\t\t\t\tform_item_input.TText( { field: 'storage_dir' } );\n\t\t\t\t\tthis.addEditFieldToColumn( $.i18n._( 'Writable Storage Directory' ), form_item_input, requirements_column2, '', null, true, true );\n\t\t\t\t\tform_item_input = Global.loadWidgetByName( FormItemType.TEXT );\n\t\t\t\t\tform_item_input.TText( { field: 'safe_storage_dir' } );\n\t\t\t\t\tthis.addEditFieldToColumn( $.i18n._( 'Secure Storage Directory' ), form_item_input, requirements_column2, '', null, true, true );\n\n\t\t\t\t\tform_item_input = Global.loadWidgetByName( FormItemType.TEXT );\n\t\t\t\t\tform_item_input.TText( { field: 'log_dir' } );\n\t\t\t\t\tthis.addEditFieldToColumn( $.i18n._( 'Writable Log Directory' ), form_item_input, requirements_column2, '', null, true, true );\n\t\t\t\t\tform_item_input = Global.loadWidgetByName( FormItemType.TEXT );\n\t\t\t\t\tform_item_input.TText( { field: 'safe_log_dir' } );\n\t\t\t\t\tthis.addEditFieldToColumn( $.i18n._( 'Secure Log Directory' ), form_item_input, requirements_column2, '', null, true, true );\n\n\t\t\t\t\tform_item_input = Global.loadWidgetByName( FormItemType.TEXT );\n\t\t\t\t\tform_item_input.TText( { field: 'empty_cache_dir' } );\n\t\t\t\t\tthis.addEditFieldToColumn( $.i18n._( 'Empty Cache Directory' ), form_item_input, requirements_column2, '', null, true, true );\n\n\t\t\t\t\tform_item_input = Global.loadWidgetByName( FormItemType.TEXT );\n\t\t\t\t\tform_item_input.TText( { field: 'file_permission' } );\n\t\t\t\t\tthis.addEditFieldToColumn( $.i18n._( 'File Permissions' ), form_item_input, requirements_column2, '', null, true, true );\n\n\t\t\t\t\tform_item_input = Global.loadWidgetByName( FormItemType.TEXT );\n\t\t\t\t\tform_item_input.TText( { field: 'file_checksums' } );\n\t\t\t\t\tthis.addEditFieldToColumn( $.i18n._( 'File CheckSums' ), form_item_input, requirements_column2, '', null, true, true );\n\n\t\t\t\t\tform_item_input = Global.loadWidgetByName( FormItemType.TEXT );\n\t\t\t\t\tform_item_input.TText( { field: 'cli_requirements' } );\n\t\t\t\t\tthis.addEditFieldToColumn( $.i18n._( 'PHP CLI Requirements' ), form_item_input, requirements_column2, '', null, true, true );\n\t\t\t\t}\n\n\t\t\t\t// forth column\n\n\t\t\t\tvar requirements_column4 = requirements.find( '.forth-column' );\n\t\t\t\trequirements_column4.empty();\n\n\t\t\t\tif ( _.size( stepData.extended_error_messages ) > 0 ) {\n\t\t\t\t\tvar error_html = '<span><b>' + $.i18n._( 'Detailed Error Messages' ) + '</b></span>';\n\t\t\t\t\terror_html = error_html + '<br>';\n\t\t\t\t\terror_html = error_html + '<br>';\n\t\t\t\t\tfor ( var i in stepData.extended_error_messages ) {\n\t\t\t\t\t\tvar errors = stepData['extended_error_messages'][i];\n\t\t\t\t\t\tfor ( var key in errors ) {\n\t\t\t\t\t\t\terror_html = error_html + errors[key];\n\t\t\t\t\t\t\terror_html = error_html + '<br>';\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\trequirements_column4.html( error_html );\n\t\t\t\t\trequirements_column4.addClass( 'dataError' );\n\t\t\t\t} else {\n\t\t\t\t\trequirements_column4.removeClass( 'dataError' );\n\t\t\t\t}\n\n\t\t\t\t// fifth column\n\t\t\t\tvar requirements_column5 = requirements.find( '.fifth-column' );\n\t\t\t\trequirements_column5.empty();\n\n\t\t\t\tvar columns_html = $.i18n._( 'Your' ) + ' ' + $.i18n._( stepData['application_name'] ) + ' ' + $.i18n._( 'configuration file' ) + ' ';\n\t\t\t\tcolumns_html = columns_html + '(timetrex.ini.php)';\n\t\t\t\tcolumns_html = columns_html + ' ' + $.i18n._( 'is located at' ) + ':';\n\t\t\t\tcolumns_html = columns_html + '<br>';\n\t\t\t\tcolumns_html = columns_html + '<p><b>' + stepData['config_file_loc'] + '</b></p>';\n\t\t\t\tcolumns_html = columns_html + '<br>';\n\t\t\t\tcolumns_html = columns_html + $.i18n._( 'Your PHP configuration file' ) + ' ' + '(php.ini)' + ' ' + $.i18n._( 'is located at' ) + ':';\n\t\t\t\tcolumns_html = columns_html + '<br>';\n\n\t\t\t\tif ( stepData['php_include_path'] ) {\n\t\t\t\t\tcolumns_html = columns_html + '<p><b>' + stepData['php_config_file'] + '</b>' + ', ' + $.i18n._( 'the include path is' ) + ': ' + '\"' + '<b>' + stepData['php_include_path'] + '</b>' + '\"' + '</p>';\n\t\t\t\t} else {\n\t\t\t\t\tcolumns_html = columns_html + '<p><b>' + stepData['php_config_file'] + '</b>' + ', ' + $.i18n._( 'the include path is' ) + ': ' + '\"\"' + '</p>';\n\t\t\t\t}\n\n\t\t\t\tcolumns_html = columns_html + $.i18n._( 'Detailed' ) + '&nbsp;';\n\t\t\t\tcolumns_html = columns_html + '<a href=\"phpinfo.php\" target=\"_blank\">' + $.i18n._( 'PHP Information' ) + '</a>';\n\n\t\t\t\tif ( stepData.check_all_requirements == 0 ) {\n\n\t\t\t\t} else {\n\t\t\t\t\trequirements_column5.html( columns_html );\n\t\t\t\t}\n\n\t\t\t\tvar ribbon_button_box = this.getRibbonButtonBox();\n\n//\t\t\t\tribbon_button_box.css( 'width', '96%' );\n\t\t\t\tvar ribbon_btn = $( '<li><button class=\"ribbon-sub-menu-icon\" id=\"re-check\">' + $.i18n._( 'Re-Check' ) + '</button></li>' );\n\t\t\t\tribbon_btn.unbind( 'click' ).bind( 'click', function() {\n\t\t\t\t\tProgressBar.showOverlay();\n\t\t\t\t\t$this.api.getRequirements( $this.external_installer, {\n\t\t\t\t\t\tonResult: function( res ) {\n\t\t\t\t\t\t\tif ( res.getResult().action ) {\n\t\t\t\t\t\t\t\t$this.onNextClick();\n\t\t\t\t\t\t\t} else if ( res.isValid() ) {\n\t\t\t\t\t\t\t\t$this.stepsDataDic[$this.current_step] = res.getResult();\n\t\t\t\t\t\t\t\t$this._initCurrentStep();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t} );\n\n\t\t\t\t} );\n\n\t\t\t\tribbon_button_box.children().eq( 0 ).append( ribbon_btn );\n\n\t\t\t\tthis.content_div.find( '.content-handle-btn' ).html( ribbon_button_box );\n\n\t\t\t\trequirements.show();\n\t\t\t\tbreak;\n\t\t\tcase 'user':\n\t\t\t\tstep_title.html( $.i18n._( 'Please enter the administrator user name and password' )\n\t\t\t\t\t+ '<br>'\n\t\t\t\t\t+ '<br>'\n\t\t\t\t\t+ '<b>' + '*' + $.i18n._( 'IMPORTANT' ) + '*' + ':' + '</b>' + ' '\n\t\t\t\t\t+ $.i18n._( 'Please write this information down, as you will need it later to login to' ) + ' '\n\t\t\t\t\t+ $.i18n._( stepData.application_name )\n\t\t\t\t);\n\t\t\t\tthis.title_1.text( $.i18n._( 'Administrator Login' ) );\n\t\t\t\tvar user_column1 = user.find( '.first-column' );\n\t\t\t\tuser_column1.empty();\n\n\t\t\t\t// User Name\n\t\t\t\tform_item_input = Global.loadWidgetByName( FormItemType.TEXT_INPUT );\n\t\t\t\tform_item_input.TTextInput( { field: 'user_name', width: 200 } );\n\t\t\t\tthis.addEditFieldToColumn( $.i18n._( 'User Name' ), form_item_input, user_column1 );\n\n\t\t\t\t// Password\n\t\t\t\tform_item_input = Global.loadWidgetByName( FormItemType.PASSWORD_INPUT );\n\n\t\t\t\tform_item_input.TTextInput( { field: 'password', width: 200 } );\n\t\t\t\tthis.addEditFieldToColumn( $.i18n._( 'Password' ), form_item_input, user_column1 );\n\n\t\t\t\t// Password(confirm)\n\t\t\t\tform_item_input = Global.loadWidgetByName( FormItemType.PASSWORD_INPUT );\n\n\t\t\t\tform_item_input.TTextInput( { field: 'password2', width: 200 } );\n\t\t\t\tthis.addEditFieldToColumn( $.i18n._( 'Password (Confirm)' ), form_item_input, user_column1 );\n\n\t\t\t\t// First Name\n\t\t\t\tform_item_input = Global.loadWidgetByName( FormItemType.TEXT_INPUT );\n\t\t\t\tform_item_input.TTextInput( { field: 'first_name', width: 200 } );\n\t\t\t\tthis.addEditFieldToColumn( $.i18n._( 'First Name' ), form_item_input, user_column1 );\n\n\t\t\t\t// Last Name\n\t\t\t\tform_item_input = Global.loadWidgetByName( FormItemType.TEXT_INPUT );\n\t\t\t\tform_item_input.TTextInput( { field: 'last_name', width: 200 } );\n\t\t\t\tthis.addEditFieldToColumn( $.i18n._( 'Last Name' ), form_item_input, user_column1 );\n\n\t\t\t\t// Email\n\t\t\t\tform_item_input = Global.loadWidgetByName( FormItemType.TEXT_INPUT );\n\t\t\t\tform_item_input.TTextInput( { field: 'work_email', width: 200 } );\n\t\t\t\tthis.addEditFieldToColumn( $.i18n._( 'Email' ), form_item_input, user_column1 );\n\n\t\t\t\tuser.show();\n\t\t\t\tbreak;\n\n\t\t\tcase 'company':\n\t\t\t\tstep_title.text( $.i18n._( 'Please enter your company information below.' ) );\n\t\t\t\tthis.title_1.text( $.i18n._( 'Company Information' ) );\n\t\t\t\tvar company_column1 = company.find( '.first-column' );\n\t\t\t\tcompany_column1.empty();\n\n\t\t\t\t// Company Full Name\n\t\t\t\tform_item_input = Global.loadWidgetByName( FormItemType.TEXT_INPUT );\n\t\t\t\tform_item_input.TTextInput( { field: 'name', width: 200 } );\n\t\t\t\tthis.addEditFieldToColumn( $.i18n._( 'Company Full Name' ), form_item_input, company_column1 );\n\n\t\t\t\t// Company Short Name\n\t\t\t\tform_item_input = Global.loadWidgetByName( FormItemType.TEXT_INPUT );\n\t\t\t\tform_item_input.TTextInput( { field: 'short_name', width: 200 } );\n\n\t\t\t\tvar widgetContainer = $( '<div class=\\'widget-h-box\\'></div>' );\n\t\t\t\tvar label = $( '<span class=\\'widget-right-label\\'> ( ' + $.i18n._( 'ie' ) + ': ' + $.i18n._( 'America Online' ) + ' = ' + $.i18n._( 'AOL' ) + ', ' + $.i18n._( 'no spaces' ) + ' )</span>' );\n\n\t\t\t\twidgetContainer.append( form_item_input );\n\t\t\t\twidgetContainer.append( label );\n\n\t\t\t\tthis.addEditFieldToColumn( $.i18n._( 'Company Short Name' ), form_item_input, company_column1, '', widgetContainer, null, true );\n\n\t\t\t\t// Industry\n\t\t\t\tform_item_input = Global.loadWidgetByName( FormItemType.COMBO_BOX );\n\t\t\t\tform_item_input.TComboBox( { field: 'industry_id' } );\n\t\t\t\tform_item_input.setSourceData( this.stepsDataDic[this.current_step]['industry_options'] );\n\t\t\t\tthis.addEditFieldToColumn( $.i18n._( 'Industry' ), form_item_input, company_column1 );\n\n\t\t\t\t// Address (Line 1)\n\t\t\t\tform_item_input = Global.loadWidgetByName( FormItemType.TEXT_INPUT );\n\t\t\t\tform_item_input.TTextInput( { field: 'address1', width: 200 } );\n\t\t\t\tthis.addEditFieldToColumn( $.i18n._( 'Address (Line 1)' ), form_item_input, company_column1 );\n\n\t\t\t\t// Address (Line 2)\n\t\t\t\tform_item_input = Global.loadWidgetByName( FormItemType.TEXT_INPUT );\n\t\t\t\tform_item_input.TTextInput( { field: 'address2', width: 200 } );\n\t\t\t\tthis.addEditFieldToColumn( $.i18n._( 'Address (Line 2)' ), form_item_input, company_column1 );\n\n\t\t\t\t// City\n\t\t\t\tform_item_input = Global.loadWidgetByName( FormItemType.TEXT_INPUT );\n\t\t\t\tform_item_input.TTextInput( { field: 'city', width: 200 } );\n\t\t\t\tthis.addEditFieldToColumn( $.i18n._( 'City' ), form_item_input, company_column1 );\n\n\t\t\t\t// Country\n\t\t\t\tform_item_input = Global.loadWidgetByName( FormItemType.COMBO_BOX );\n\t\t\t\tform_item_input.TComboBox( { field: 'country' } );\n\t\t\t\tform_item_input.setSourceData( this.stepsDataDic[this.current_step]['country_options'] );\n\t\t\t\tthis.addEditFieldToColumn( $.i18n._( 'Country' ), form_item_input, company_column1 );\n\n\t\t\t\t// Province / State\n\t\t\t\tform_item_input = Global.loadWidgetByName( FormItemType.COMBO_BOX );\n\t\t\t\tform_item_input.TComboBox( { field: 'province' } );\n\t\t\t\tthis.addEditFieldToColumn( $.i18n._( 'Province / State' ), form_item_input, company_column1 );\n\n\t\t\t\t// Postal / ZIP Code\n\t\t\t\tform_item_input = Global.loadWidgetByName( FormItemType.TEXT_INPUT );\n\t\t\t\tform_item_input.TTextInput( { field: 'postal_code', width: 200 } );\n\t\t\t\tthis.addEditFieldToColumn( $.i18n._( 'Postal / ZIP Code' ), form_item_input, company_column1 );\n\n\t\t\t\t// Phone\n\t\t\t\tform_item_input = Global.loadWidgetByName( FormItemType.TEXT_INPUT );\n\t\t\t\tform_item_input.TTextInput( { field: 'work_phone', width: 200 } );\n\t\t\t\tthis.addEditFieldToColumn( $.i18n._( 'Phone' ), form_item_input, company_column1 );\n\t\t\t\t//company.find( '.first-column' ).css( 'border', '1px solid #C7C7C7' );\n\t\t\t\t//\n\t\t\t\t//this.content_div.find( '.company' ).css( {height: this.content_div.height() - step_title.height() - 15} );\n\t\t\t\t//$( window ).resize( function() {\n\t\t\t\t//\t$this.content_div.find( '.company' ).css( {height: $this.content_div.height() - step_title.height() - 15} );\n\t\t\t\t//} );\n\n\t\t\t\tcompany.show();\n\t\t\t\tbreak;\n\n\t\t\tcase 'systemSettings':\n\t\t\t\tstep_title.text( $.i18n._( 'Please enter your site configuration information below. If you are unsure of the fields, we suggest that you use the default values.' ) );\n\t\t\t\tthis.title_1.text( $.i18n._( 'System Settings' ) );\n\t\t\t\tvar systemSettings_column1 = systemSettings.find( '.first-column' );\n\t\t\t\tsystemSettings_column1.empty();\n\t\t\t\t// URL\n\t\t\t\tvar widgetContainer = $( '<div class=\\'widget-h-box\\'></div>' );\n\n\t\t\t\tvar form_item_host_input = Global.loadWidgetByName( FormItemType.TEXT );\n\t\t\t\tform_item_host_input.TText( { field: 'host_name' } );\n\t\t\t\tform_item_host_input.setValue( 'http://' + this.stepsDataDic[this.current_step]['host_name'] );\n\t\t\t\twidgetContainer.append( form_item_host_input );\n\n\t\t\t\tvar form_item_url_input = Global.loadWidgetByName( FormItemType.TEXT_INPUT );\n\t\t\t\tform_item_url_input.TTextInput( { field: 'base_url', width: 200 } );\n\n\t\t\t\twidgetContainer.append( form_item_url_input );\n\n\t\t\t\tvar ie_label = $( '<span class=\\'widget-right-label\\'>(' + $.i18n._( 'No trailing slash' ) + ')</span>' );\n\n\t\t\t\twidgetContainer.append( ie_label );\n\t\t\t\tthis.addEditFieldToColumn( $.i18n._( 'URL' ), [form_item_host_input, form_item_url_input], systemSettings_column1, '', widgetContainer, null, true );\n\n\t\t\t\t// Log Directory\n\t\t\t\tform_item_input = Global.loadWidgetByName( FormItemType.TEXT_INPUT );\n\t\t\t\tform_item_input.TTextInput( { field: 'log_dir', width: 400 } );\n\t\t\t\tthis.addEditFieldToColumn( $.i18n._( 'Log Directory' ), form_item_input, systemSettings_column1 );\n\n\t\t\t\t// Storage Directory\n\t\t\t\tform_item_input = Global.loadWidgetByName( FormItemType.TEXT_INPUT );\n\t\t\t\tform_item_input.TTextInput( { field: 'storage_dir', width: 400 } );\n\n\t\t\t\tvar widgetContainer = $( '<div class=\\'widget-h-box\\'></div>' );\n\t\t\t\tvar label = $( '<span class=\\'widget-right-label\\'> (' + $.i18n._( 'for things like attachments, logos, etc...' ) + ')</span>' );\n\n\t\t\t\twidgetContainer.append( form_item_input );\n\t\t\t\twidgetContainer.append( label );\n\n\t\t\t\tthis.addEditFieldToColumn( $.i18n._( 'Storage Directory' ), form_item_input, systemSettings_column1, '', widgetContainer, null, true );\n\n\t\t\t\t// Cache Directory\n\t\t\t\tform_item_input = Global.loadWidgetByName( FormItemType.TEXT_INPUT );\n\t\t\t\tform_item_input.TTextInput( { field: 'cache_dir', width: 400 } );\n\t\t\t\tthis.addEditFieldToColumn( $.i18n._( 'Cache Directory' ), form_item_input, systemSettings_column1 );\n\n\t\t\t\t// System timezone\n\t\t\t\tform_item_input = Global.loadWidgetByName( FormItemType.COMBO_BOX );\n\t\t\t\tform_item_input.TComboBox( { field: 'time_zone' } );\n\t\t\t\tform_item_input.setSourceData( $this.time_zone_array );\n\t\t\t\tthis.addEditFieldToColumn( $.i18n._( 'Server Time Zone' ), form_item_input, systemSettings_column1 );\n\n\t\t\t\tsystemSettings.show();\n\t\t\t\tbreak;\n\t\t\tcase 'databaseConfig':\n\n\t\t\t\tdatabaseConfig.find( '.step-tip' ).text( $.i18n._( 'Privileged Database User Name / Password. This is only used to create the database schema if the above user does not have permissions to do so.' ) );\n\n\t\t\t\tvar step_title_htm = '';\n\t\t\t\tstep_title_htm = step_title_htm + $.i18n._( 'Please enter your database configuration information below. If you are unsure, use the default values.' );\n\n\t\t\t\tstep_title.html( step_title_htm );\n\t\t\t\tthis.title_1.text( $.i18n._( 'Database Configuration' ) );\n\n\t\t\t\tvar databaseConfig_column1 = databaseConfig.find( '.first-column' );\n\t\t\t\tdatabaseConfig_column1.empty();\n\n\t\t\t\t// database type\n\t\t\t\tform_item_input = Global.loadWidgetByName( FormItemType.COMBO_BOX );\n\t\t\t\tform_item_input.TComboBox( { field: 'type' } );\n\t\t\t\tform_item_input.setSourceData( $this.type_array );\n\t\t\t\tthis.addEditFieldToColumn( $.i18n._( 'Database Type' ), form_item_input, databaseConfig_column1 );\n\n\t\t\t\t// host name\n\t\t\t\tform_item_input = Global.loadWidgetByName( FormItemType.TEXT_INPUT );\n\t\t\t\tform_item_input.TTextInput( { field: 'host', width: 200 } );\n\t\t\t\tthis.addEditFieldToColumn( $.i18n._( 'Host Name' ), form_item_input, databaseConfig_column1 );\n\n\t\t\t\t// database name\n\t\t\t\tform_item_input = Global.loadWidgetByName( FormItemType.TEXT_INPUT );\n\t\t\t\tform_item_input.TTextInput( { field: 'database_name', width: 200 } );\n\t\t\t\tthis.addEditFieldToColumn( $.i18n._( 'Database Name' ), form_item_input, databaseConfig_column1 );\n\n\t\t\t\t// Database User Name\n\t\t\t\tform_item_input = Global.loadWidgetByName( FormItemType.TEXT_INPUT );\n\t\t\t\tform_item_input.TTextInput( { field: 'user', width: 200 } );\n\t\t\t\tthis.addEditFieldToColumn( $.i18n._( 'Database User Name' ), form_item_input, databaseConfig_column1 );\n\n\t\t\t\t// Database Password\n\t\t\t\tform_item_input = Global.loadWidgetByName( FormItemType.TEXT_INPUT );\n\t\t\t\tform_item_input.TTextInput( { field: 'password', width: 200 } );\n\t\t\t\tthis.addEditFieldToColumn( $.i18n._( 'Database Password' ), form_item_input, databaseConfig_column1 );\n\n\t\t\t\tvar databaseConfig_column2 = databaseConfig.find( '.second-column' );\n\t\t\t\tdatabaseConfig_column2.empty();\n\n\t\t\t\t// Privileged Database User Name\n\n\t\t\t\tform_item_input = Global.loadWidgetByName( FormItemType.TEXT_INPUT );\n\t\t\t\tform_item_input.TTextInput( { field: 'priv_user', width: 200 } );\n\n\t\t\t\tvar widgetContainer = $( '<div class=\\'widget-h-box\\'></div>' );\n\t\t\t\tvar label = $( '<span class=\\'widget-right-label\\'>( ' + $.i18n._( 'ie: root, postgres' ) + ' )</span>' );\n\n\t\t\t\twidgetContainer.append( form_item_input );\n\t\t\t\twidgetContainer.append( label );\n\n\t\t\t\tthis.addEditFieldToColumn( $.i18n._( 'Privileged Database User Name' ), form_item_input, databaseConfig_column2, '', widgetContainer );\n\n\t\t\t\t// Privileged Database User Password\n\t\t\t\tform_item_input = Global.loadWidgetByName( FormItemType.TEXT_INPUT );\n\t\t\t\tform_item_input.TTextInput( { field: 'priv_password', width: 200 } );\n\t\t\t\tthis.addEditFieldToColumn( $.i18n._( 'Privileged Database User Password' ), form_item_input, databaseConfig_column2 );\n\n\t\t\t\tvar ribbon_button_box = this.getRibbonButtonBox();\n\t\t\t\tvar ribbon_btn = $( '<li><button class=\"ribbon-sub-menu-icon\" id=\"testConnection\">' + $.i18n._( 'Test Connection' ) + '</button></li>' );\n\t\t\t\tvar $this = this;\n\t\t\t\tribbon_btn.unbind( 'click' ).bind( 'click', function() {\n\t\t\t\t\t$this.onTestDatabaseConnectionClick( $this, true );\n\t\t\t\t} );\n\n\t\t\t\tribbon_button_box.children().eq( 0 ).append( ribbon_btn );\n\n\t\t\t\tthis.content_div.find( '.content-handle-btn' ).html( ribbon_button_box );\n\t\t\t\t//databaseConfig.find( '.first-column' ).css( 'border', '1px solid #C7C7C7' );\n\n\t\t\t\t//this.content_div.find( '.databaseConfig' ).css( {height: this.content_div.height() - step_title.height() - 65} );\n\t\t\t\t//$( window ).resize( function() {\n\t\t\t\t//\t$this.content_div.find( '.databaseConfig' ).css( {height: $this.content_div.height() - step_title.height() - 65} );\n\t\t\t\t//} );\n\n\t\t\t\tdatabaseConfig.show();\n\t\t\t\tbreak;\n\t\t\tcase 'databaseSchema':\n\t\t\t\tthis.title_1.text( $.i18n._( 'Database Configuration' ) );\n\t\t\t\tif ( stepData.upgrade ) {\n\t\t\t\t\tdatabaseSchema.find( '.s-label' ).text( $.i18n._( 'Upgrading database, please wait...' ) );\n\t\t\t\t} else {\n\t\t\t\t\tdatabaseSchema.find( '.s-label' ).text( $.i18n._( 'Initializing database, please wait...' ) );\n\t\t\t\t}\n\n\t\t\t\tstep_title.empty();\n\t\t\t\tdatabaseSchema.show();\n\t\t\t\tbreak;\n\t\t\tcase 'postUpgrade':\n\t\t\t\tstep_title.empty();\n\t\t\t\tthis.title_1.text( $.i18n._( 'Upgrade Complete' ) );\n\t\t\t\tpostUpgrade.html( '<b>' + $.i18n._( 'Congratulations!' ) + '</b>' + ' '\n\t\t\t\t\t+ $.i18n._( 'You have successfully upgraded' ) + ' '\n\t\t\t\t\t+ $.i18n._( stepData.application_name ) + ' '\n\t\t\t\t\t+ $.i18n._( 'to' ) + ' '\n\t\t\t\t\t+ '<b>' + stepData.application_version + '</b>'\n\t\t\t\t\t+ '<br>'\n\t\t\t\t\t+ '<br>'\n\t\t\t\t\t+ '<b>' + $.i18n._( 'Note' ) + ':' + '</b>' + ' '\n\t\t\t\t\t+ $.i18n._( 'In order to access new features you may need to re-apply the' ) + ' '\n\t\t\t\t\t+ '<b>' + $.i18n._( 'Administrator' ) + '</b>' + ' '\n\t\t\t\t\t+ $.i18n._( 'permission preset to each administrator employee in' ) + ' '\n\t\t\t\t\t+ $.i18n._( stepData.application_name ) + '.'\n\t\t\t\t);\n\t\t\t\tpostUpgrade.show();\n\t\t\t\tbreak;\n\t\t\tcase 'installDone':\n\t\t\t\tvar loc = window.location;\n\t\t\t\tvar currentURL = loc.protocol + '//' + loc.host + loc.pathname;\n\t\t\t\tvar login_url = currentURL + '#!m=Login';\n\n\t\t\t\tstep_title.empty();\n\t\t\t\tthis.title_1.text( $.i18n._( 'Done!' ) );\n\t\t\t\tif ( stepData.upgrade == 1 ) {\n\t\t\t\t\tinstallDone.html( '<b>' + $.i18n._( 'Congratulations!' ) + '</b>' + ' '\n\t\t\t\t\t\t+ $.i18n._( 'You have successfully upgraded' ) + ' ' + $.i18n._( stepData.application_name )\n\t\t\t\t\t\t+ '<br>'\n\t\t\t\t\t\t+ '<br>'\n\t\t\t\t\t\t+ $.i18n._( 'You may now' ) + ' '\n\t\t\t\t\t\t+ '<a href=\"' + login_url + '\">' + $.i18n._( 'login' ) + '</a>' + ' '\n\t\t\t\t\t\t+ $.i18n._( 'with the user name/password that you created earlier.' )\n\t\t\t\t\t);\n\t\t\t\t} else {\n\t\t\t\t\tinstallDone.html( '<b>' + $.i18n._( 'Congratulations!' ) + ' ' + '</b>' + ' '\n\t\t\t\t\t\t+ $.i18n._( 'You have successfully installed' ) + ' ' + $.i18n._( stepData.application_name )\n\t\t\t\t\t\t+ '<br>'\n\t\t\t\t\t\t+ '<br>'\n\t\t\t\t\t\t+ $.i18n._( 'You may now' ) + ' '\n\t\t\t\t\t\t+ '<a href=\"' + login_url + '\">' + $.i18n._( 'login' ) + '</a>' + ' '\n\t\t\t\t\t\t+ $.i18n._( 'with the user name/password that you created earlier.' )\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t\tinstallDone.show();\n\t\t\t\tbreak;\n\t\t\tcase 'maintenanceJobs':\n\t\t\t\tstep_title.empty();\n\t\t\t\tthis.title_1.text( $.i18n._( 'Maintenance Jobs' ) );\n\t\t\t\tvar maintenanceJob_html = $.i18n._( stepData.application_name ) + ' '\n\t\t\t\t\t+ '<b>' + $.i18n._( 'requires' ) + '</b>' + ' '\n\t\t\t\t\t+ $.i18n._( 'that maintenance jobs be run regularly throughout the day.' )\n\t\t\t\t\t+ '<br>'\n\t\t\t\t\t+ '<p style=\"color: #ff0000\">'\n\t\t\t\t\t+ '<b>'\n\t\t\t\t\t+ $.i18n._( 'This is extremely important and without these maintenance jobs running' ) + ' '\n\t\t\t\t\t+ $.i18n._( stepData.application_name ) + ' '\n\t\t\t\t\t+ $.i18n._( 'will fail to operate correctly.' )\n\t\t\t\t\t+ '</b>'\n\t\t\t\t\t+ '</p>'\n\t\t\t\t\t+ '<br>'\n\t\t\t\t\t+ '<br>'\n\t\t\t\t\t+ '<div style=\"background-color: #eee; width: 100%;\">'\n\t\t\t\t\t+ '<br>';\n\n\t\t\t\tif ( stepData.php_os == 'WINNT' ) {\n\t\t\t\t\tmaintenanceJob_html = maintenanceJob_html + $.i18n._( 'In Windows simply run this command as Administrator.' ) + '<br><br>' + stepData.schedule_maintenance_job_command;\n\t\t\t\t} else {\n\t\t\t\t\tmaintenanceJob_html = maintenanceJob_html + $.i18n._( 'In most Linux distributions, you can run the following command' );\n\t\t\t\t\tif ( stepData.is_sudo_installed == false ) {\n\t\t\t\t\t\tmaintenanceJob_html = maintenanceJob_html + +' ' + $.i18n._( 'as root' );\n\t\t\t\t\t}\n\t\t\t\t\tmaintenanceJob_html = maintenanceJob_html + ':' + '<br>' + '<b>';\n\n\t\t\t\t\tif ( stepData.is_sudo_installed ) {\n\t\t\t\t\t\tmaintenanceJob_html = maintenanceJob_html + 'sudo';\n\t\t\t\t\t}\n\n\t\t\t\t\tmaintenanceJob_html = maintenanceJob_html + ' crontab -u ' + stepData.web_server_user + ' -e';\n\n\t\t\t\t\tmaintenanceJob_html = maintenanceJob_html + '</b>'\n\t\t\t\t\t\t+ '<br>'\n\t\t\t\t\t\t+ '<br>'\n\t\t\t\t\t\t+ $.i18n._( 'Then add the following line to the bottom of the file' ) + ':'\n\t\t\t\t\t\t+ '<br>'\n\t\t\t\t\t\t+ '<b>' + '* * * * * php ' + stepData.cron_file + ' > /dev/null 2>&1' + '</b>'\n\t\t\t\t\t\t+ '<br>'\n\t\t\t\t\t\t+ '<br>'\n\t\t\t\t\t\t+ '</div>';\n\n\t\t\t\t}\n\n\t\t\t\tmaintenanceJobs.html( maintenanceJob_html );\n\n\t\t\t\tmaintenanceJobs.show();\n\t\t\t\tbreak;\n\n\t\t}\n\t}\n\n\t/**\n\t * tests database connection:\n\t * @param $this\n\t * @param deferred (optional)\n\t */\n\tonTestDatabaseConnectionClick( $this, showTrue ) {\n\t\tvar $data = {};\n\t\tfor ( var key in $this.stepsWidgetDic[$this.current_step] ) {\n\t\t\tvar widget = $this.stepsWidgetDic[$this.current_step][key];\n\t\t\t$data[key] = widget.getValue();\n\t\t}\n\t\tProgressBar.showOverlay();\n\t\tvar res = $this.api.testConnection( $data, { async: false } );\n\n\t\tif ( res.isValid() ) {\n\t\t\tvar result = res.getResult();\n\t\t\tvar step_title_htm = '';\n\t\t\tif ( result.test_connection !== null ) {\n\t\t\t\tif ( result.test_connection === true ) {\n\t\t\t\t\tif ( result.database_version === 1 ) {\n\t\t\t\t\t\tstep_title_htm = step_title_htm\n\t\t\t\t\t\t\t+ '<p style=\"background-color: #ff0000\">'\n\t\t\t\t\t\t\t+ $.i18n._( 'Database version check' ) + ' '\n\t\t\t\t\t\t\t+ '<b>' + $.i18n._( 'FAILED' ) + '</b>' + '!' + ' '\n\t\t\t\t\t\t\t+ $.i18n._( 'Please upgrade your database to meet the minimum version requirements and try again.' )\n\t\t\t\t\t\t\t+ '</p>';\n\t\t\t\t\t\tTAlertManager.showAlert( step_title_htm );\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tstep_title_htm = step_title_htm\n\t\t\t\t\t\t\t+ '<p>'\n\t\t\t\t\t\t\t+ $.i18n._( 'Connection test to your database as a non-privileged user has' ) + ' '\n\t\t\t\t\t\t\t+ '<b>' + $.i18n._( 'SUCCEEDED' ) + '</b>' + '!' + ' '\n\t\t\t\t\t\t\t+ $.i18n._( 'You may continue.' )\n\t\t\t\t\t\t\t+ '</p>';\n\t\t\t\t\t\tif ( showTrue ) {\n\t\t\t\t\t\t\tTAlertManager.showAlert( step_title_htm );\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t} else if ( result.test_connection === false ) {\n\t\t\t\t\tstep_title_htm = step_title_htm\n\t\t\t\t\t\t+ '<p style=\"background-color: #ff0000\">'\n\t\t\t\t\t\t+ $.i18n._( 'Connection test to your database as a non-privileged user has' ) + ' '\n\t\t\t\t\t\t+ '<b>' + $.i18n._( 'FAILED' ) + '</b>' + '!' + ' '\n\t\t\t\t\t\t+ $.i18n._( 'Please correct your settings and try again.' )\n\t\t\t\t\t\t+ '</p>';\n\n\t\t\t\t\tTAlertManager.showAlert( step_title_htm );\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif ( result.test_priv_connection !== null ) {\n\t\t\t\tif ( result.test_priv_connection === false ) {\n\t\t\t\t\tstep_title_htm = step_title_htm\n\t\t\t\t\t\t+ '<p style=\"background-color: #ff0000\">'\n\t\t\t\t\t\t+ $.i18n._( 'Connection test to your database as a privileged user has' ) + ' '\n\t\t\t\t\t\t+ '<b>' + $.i18n._( 'FAILED' ) + '</b>' + '!' + ' '\n\t\t\t\t\t\t+ $.i18n._( 'Please correct the user name/password and try again.' )\n\t\t\t\t\t\t+ '</p>';\n\n\t\t\t\t\tTAlertManager.showAlert( step_title_htm );\n\t\t\t\t}\n\t\t\t}\n\n\t\t}\n\t}\n\n\tonFormItemChange( target ) {\n\t\tvar widgets = this.stepsWidgetDic[this.current_step];\n\n\t\tvar key = target.getField();\n\t\tvar c_value = target.getValue();\n\t\tswitch ( key ) {\n\t\t\tcase 'country':\n\t\t\t\tthis.api.getProvinceOptions( c_value, {\n\t\t\t\t\tonResult: function( res ) {\n\t\t\t\t\t\tif ( res.isValid() ) {\n\t\t\t\t\t\t\twidgets.province.setSourceData( [] );\n\t\t\t\t\t\t\twidgets.province.setSourceData( res.getResult() );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} );\n\t\t\t\tbreak;\n\t\t\tcase 'type':\n\t\t\t\tbreak;\n\t\t}\n\t}\n\n\tonBackClick() {\n\t\tvar $this = this;\n\t\tthis.saveCurrentStep();\n\t\tswitch ( this.current_step ) {\n\t\t\tcase 'license':\n\t\t\t\tbreak;\n\t\t\tcase 'requirements':\n\t\t\t\tthis.current_step = 'license';\n\t\t\t\tthis.initCurrentStep();\n\t\t\t\tbreak;\n\t\t\tcase 'databaseConfig':\n\t\t\t\tthis.current_step = 'requirements';\n\t\t\t\tthis.initCurrentStep();\n\t\t\t\tbreak;\n\t\t\tcase 'postUpgrade':\n\t\t\tcase 'systemSettings':\n\t\t\t\tthis.current_step = 'databaseConfig';\n\t\t\t\tthis.initCurrentStep();\n\t\t\t\tbreak;\n\t\t\tcase 'company':\n\t\t\t\tthis.current_step = 'systemSettings';\n\t\t\t\tthis.initCurrentStep();\n\t\t\t\tbreak;\n\t\t\tcase 'maintenanceJobs':\n\t\t\tcase 'installDone':\n\t\t\t\tthis.current_step = 'user';\n\t\t\t\tthis.initCurrentStep();\n\t\t\t\tbreak;\n\t\t\tcase 'user':\n\t\t\t\tthis.current_step = 'company';\n\t\t\t\tthis.initCurrentStep();\n\t\t\t\tbreak;\n\t\t}\n\t}\n\n\tonNextClick() {\n\t\tvar $data;\n\n\t\tvar $this = this;\n\t\tthis.saveCurrentStep();\n\t\tswitch ( this.current_step ) {\n\t\t\tcase 'license':\n\t\t\t\t// the next interface is system requirements, so set the current step to the requirements\n\t\t\t\tthis.current_step = 'requirements';\n\t\t\t\tthis.initCurrentStep();\n\t\t\t\tbreak;\n\t\t\tcase 'requirements':\n\t\t\t\tif ( this.external_installer == 1 ) {\n\t\t\t\t\tthis.current_step = 'databaseSchema';\n\t\t\t\t\tthis.initCurrentStep();\n\t\t\t\t} else {\n\t\t\t\t\tthis.current_step = 'databaseConfig';\n\t\t\t\t\tthis.initCurrentStep();\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase 'databaseConfig':\n\t\t\t\t// need to save the database configure first.\n\t\t\t\t$data = {};\n\t\t\t\tfor ( var key in this.stepsWidgetDic[this.current_step] ) {\n\t\t\t\t\tvar widget = this.stepsWidgetDic[this.current_step][key];\n\t\t\t\t\t$data[key] = widget.getValue();\n\t\t\t\t}\n\n\t\t\t\tif ( this.onTestDatabaseConnectionClick( this, false ) ) {\n\t\t\t\t\tTAlertManager.showConfirmAlert( $.i18n._( 'Installing/Upgrading the TimeTrex database may take up to 10 minutes. Please do not stop the process in any way, including pressing STOP or BACK in your web browser, doing so may leave your database in an unusable state.' ), null, function( result ) {\n\t\t\t\t\t\tif ( result ) {\n\t\t\t\t\t\t\t$this.api.createDatabase( $data, {\n\t\t\t\t\t\t\t\tonResult: function( res ) {\n\t\t\t\t\t\t\t\t\tif ( res.isValid() ) {\n\t\t\t\t\t\t\t\t\t\tif ( res.getResult().next_page ) {\n\t\t\t\t\t\t\t\t\t\t\t$this.current_step = res.getResult().next_page;\n\t\t\t\t\t\t\t\t\t\t\t$this.initCurrentStep();\n\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\t$this.stepsDataDic[$this.current_step] = res.getResult();\n\t\t\t\t\t\t\t\t\t\t\t$this._initCurrentStep();\n\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} );\n\t\t\t\t\t\t}\n\t\t\t\t\t} );\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase 'postUpgrade':\n\t\t\t\tthis.current_step = 'installDone';\n\t\t\t\tthis.stepsDataDic[this.current_step] = { upgrade: 1 };\n\t\t\t\tthis.initCurrentStep();\n\t\t\t\tbreak;\n\t\t\tcase 'maintenanceJobs':\n\t\t\t\tthis.current_step = 'installDone';\n\t\t\t\tthis.initCurrentStep();\n\t\t\t\tbreak;\n\t\t\tcase 'systemSettings':\n\t\t\t\t$data = {};\n\t\t\t\tfor ( var key in this.stepsWidgetDic[this.current_step] ) {\n\t\t\t\t\tvar widget = this.stepsWidgetDic[this.current_step][key];\n\t\t\t\t\t$data[key] = widget.getValue();\n\t\t\t\t}\n\n\t\t\t\tthis.api.setSystemSettings( $data, this.external_installer, {\n\t\t\t\t\tonResult: function( res ) {\n\t\t\t\t\t\tif ( res.isValid() ) {\n\n\t\t\t\t\t\t\t$this.current_step = 'company';\n\t\t\t\t\t\t\t$this.initCurrentStep();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} );\n\t\t\t\tbreak;\n\t\t\tcase 'company':\n\t\t\t\t$data = {};\n\t\t\t\t$data['company_id'] = $this.company_id;\n\t\t\t\tfor ( var key in this.stepsWidgetDic[this.current_step] ) {\n\t\t\t\t\tvar widget = this.stepsWidgetDic[this.current_step][key];\n\t\t\t\t\t$data[key] = widget.getValue();\n\t\t\t\t}\n\n\t\t\t\tthis.api.setCompany( $data, {\n\t\t\t\t\tonResult: function( res ) {\n\t\t\t\t\t\tif ( res.isValid() ) {\n\t\t\t\t\t\t\tvar company_id = res.getResult();\n\t\t\t\t\t\t\t$this.current_step = 'user';\n\t\t\t\t\t\t\t$this.company_id = company_id;\n\t\t\t\t\t\t\t$this.stepsDataDic[$this.current_step] = { company_id: company_id };\n\t\t\t\t\t\t\t$this.initCurrentStep();\n\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t$this.setErrorTips( res );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} );\n\n\t\t\t\tbreak;\n\t\t\tcase 'user':\n\t\t\t\t$data = {};\n\t\t\t\t$data['user_id'] = this.user_id;\n\t\t\t\tfor ( var key in this.stepsWidgetDic[this.current_step] ) {\n\t\t\t\t\tvar widget = this.stepsWidgetDic[this.current_step][key];\n\t\t\t\t\t$data[key] = widget.getValue();\n\t\t\t\t}\n\n\t\t\t\t$data = $.extend( {}, $data, this.stepsDataDic[$this.current_step] );\n\t\t\t\tthis.api.setUser( $data, this.external_installer, {\n\t\t\t\t\tonResult: function( res ) {\n\t\t\t\t\t\tif ( res.isValid() ) {\n\t\t\t\t\t\t\tvar next_page = res.getResult().next_page;\n\t\t\t\t\t\t\t$this.user_id = res.getResult().user_id;\n\t\t\t\t\t\t\t$this.current_step = next_page;\n\t\t\t\t\t\t\t$this.initCurrentStep();\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t$this.setErrorTips( res );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} );\n\t\t\t\tbreak;\n\t\t}\n\t}\n\n\tbuildCurrentStepData() {\n\t\tvar args = {};\n\t\tvar $this = this;\n\t\tvar stepData = this.stepsDataDic[this.current_step];\n\t\tvar widgets = this.stepsWidgetDic[this.current_step];\n\t\tswitch ( this.current_step ) {\n\t\t\tcase 'systemSettings':\n\t\t\tcase 'databaseConfig':\n\t\t\tcase 'license':\n\t\t\tcase 'user':\n\t\t\t\tfor ( var key in widgets ) {\n\t\t\t\t\tif ( stepData[key] ) {\n\t\t\t\t\t\twidgets[key].setValue( stepData[key] );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tProgressBar.closeOverlay();\n\t\t\t\tbreak;\n\t\t\tcase 'company':\n\t\t\t\tfor ( var key in widgets ) {\n\t\t\t\t\tif ( stepData[key] ) {\n\t\t\t\t\t\twidgets[key].setValue( stepData[key] );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tvar country = widgets.country.getValue();\n\t\t\t\tthis.api.getProvinceOptions( country, {\n\t\t\t\t\tonResult: function( res ) {\n\t\t\t\t\t\tif ( res.isValid() ) {\n\t\t\t\t\t\t\twidgets.province.setSourceData( res.getResult() );\n\t\t\t\t\t\t\twidgets.province.setValue( stepData['province'] );\n\t\t\t\t\t\t}\n\t\t\t\t\t\tProgressBar.closeOverlay();\n\t\t\t\t\t}\n\t\t\t\t} );\n\t\t\t\tbreak;\n\t\t\tcase 'requirements':\n\t\t\t\tfor ( var key in widgets ) {\n\t\t\t\t\tvar edit_view_form_item_dic = $( this.edit_view_form_item_dic[key] );\n\n\t\t\t\t\tif ( stepData[key] == 0 ) {\n\t\t\t\t\t} else {\n\t\t\t\t\t\tedit_view_form_item_dic.show();\n\t\t\t\t\t}\n\n\t\t\t\t\tvar widget = widgets[key];\n\t\t\t\t\twidget.removeClass( 't-text' );\n\t\t\t\t\twidget.removeClass( 'dataError' );\n\t\t\t\t\twidget.removeClass( 'dataWarning' );\n\t\t\t\t\twidget.addClass( 'custom-t-text' );\n\n\t\t\t\t\tswitch ( key ) {\n\t\t\t\t\t\tcase 'timetrex_version':\n\t\t\t\t\t\t\tif ( stepData[key].check_timetrex_version == 0 ) {\n\t\t\t\t\t\t\t\twidget.html( $.i18n._( 'OK' ) + '(v' + stepData[key].current_timetrex_version + ')' );\n\t\t\t\t\t\t\t} else if ( stepData[key].check_timetrex_version == 1 ) {\n\t\t\t\t\t\t\t\twidget.html( $.i18n._( 'Unable to Check Latest Version' ) );\n\t\t\t\t\t\t\t\twidget.addClass( 'dataWarning' );\n\t\t\t\t\t\t\t} else if ( stepData[key].check_timetrex_version == 2 ) {\n\t\t\t\t\t\t\t\twidget.html(\n\t\t\t\t\t\t\t\t\t$.i18n._( 'A Newer Version of TimeTrex is Available.' ) + ' '\n\t\t\t\t\t\t\t\t\t+ '<a href=\"https://www.timetrex.com/download.php\">' + $.i18n._( 'Download' ) + ' v' + stepData[key].latest_timetrex_version + ' ' + $.i18n._( 'Now' ) + '</a>' );\n\t\t\t\t\t\t\t\twidget.addClass( 'dataWarning' );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'php_version':\n\t\t\t\t\t\t\tif ( stepData[key].check_php_version == 0 ) {\n\t\t\t\t\t\t\t\twidget.html( $.i18n._( 'OK' ) + ' (v' + stepData[key].php_version + ')' );\n\t\t\t\t\t\t\t} else if ( stepData[key].check_php_version == 1 ) {\n\t\t\t\t\t\t\t\twidget.html( $.i18n._( 'Invalid' ) + ' (v' + stepData[key].php_version + ')' );\n\t\t\t\t\t\t\t\twidget.addClass( 'dataError' );\n\t\t\t\t\t\t\t} else if ( stepData[key].check_php_version == 2 ) {\n\t\t\t\t\t\t\t\twidget.html( $.i18n._( 'Unsupported' ) + ' (v' + stepData[key].php_version + ')' );\n\t\t\t\t\t\t\t\twidget.addClass( 'dataWarning' );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'php_int_size':\n\t\t\t\t\t\t\tif ( stepData[key] == 0 ) {\n\t\t\t\t\t\t\t\twidget.html( $.i18n._( 'OK' ) );\n\t\t\t\t\t\t\t} else if ( stepData[key] == 1 ) {\n\t\t\t\t\t\t\t\twidget.html( $.i18n._( 'Invalid (Only 32-bit)' ) );\n\t\t\t\t\t\t\t\twidget.addClass( 'dataError' );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'database_engine':\n\t\t\t\t\t\t\tif ( stepData[key] == 0 ) {\n\t\t\t\t\t\t\t\twidget.html( $.i18n._( 'OK' ) );\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\twidget.html( $.i18n._( 'Not Installed. (PGSQL extension must be enabled)' ) );\n\t\t\t\t\t\t\t\twidget.addClass( 'dataError' );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'bcmath':\n\t\t\t\t\t\t\tif ( stepData[key] == 0 ) {\n\t\t\t\t\t\t\t\twidget.html( $.i18n._( 'OK' ) );\n\t\t\t\t\t\t\t} else if ( stepData[key] == 1 ) {\n\t\t\t\t\t\t\t\twidget.html( $.i18n._( 'Not Installed. (BCMATH extension must be enabled)' ) );\n\t\t\t\t\t\t\t\twidget.addClass( 'dataError' );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'mbstring':\n\t\t\t\t\t\t\tif ( stepData[key] == 0 ) {\n\t\t\t\t\t\t\t\twidget.html( $.i18n._( 'OK' ) );\n\t\t\t\t\t\t\t} else if ( stepData[key] == 1 ) {\n\t\t\t\t\t\t\t\twidget.html( $.i18n._( 'Not Installed. (MBSTRING extension must be enabled)' ) );\n\t\t\t\t\t\t\t\twidget.addClass( 'dataError' );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'gettext':\n\t\t\t\t\t\t\tif ( stepData[key] == 0 ) {\n\t\t\t\t\t\t\t\twidget.html( $.i18n._( 'OK' ) );\n\t\t\t\t\t\t\t} else if ( stepData[key] == 1 ) {\n\t\t\t\t\t\t\t\twidget.html( $.i18n._( 'Not Installed. (GETTEXT extension must be enabled)' ) );\n\t\t\t\t\t\t\t\twidget.addClass( 'dataError' );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'intl':\n\t\t\t\t\t\t\tif ( stepData[key] == 0 ) {\n\t\t\t\t\t\t\t\twidget.html( $.i18n._( 'OK' ) );\n\t\t\t\t\t\t\t} else if ( stepData[key] == 1 ) {\n\t\t\t\t\t\t\t\twidget.html( $.i18n._( 'Not Installed. (INTL extension must be enabled)' ) );\n\t\t\t\t\t\t\t\twidget.addClass( 'dataError' );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'soap':\n\t\t\t\t\t\t\tif ( stepData[key] == 0 ) {\n\t\t\t\t\t\t\t\twidget.html( $.i18n._( 'OK' ) );\n\t\t\t\t\t\t\t} else if ( stepData[key] == 1 ) {\n\t\t\t\t\t\t\t\twidget.html( $.i18n._( 'Not Installed. (SOAP extension must be enabled)' ) );\n\t\t\t\t\t\t\t\twidget.addClass( 'dataError' );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'gd':\n\t\t\t\t\t\t\tif ( stepData[key] == 0 ) {\n\t\t\t\t\t\t\t\twidget.html( $.i18n._( 'OK' ) );\n\t\t\t\t\t\t\t} else if ( stepData[key] == 1 ) {\n\t\t\t\t\t\t\t\twidget.html( $.i18n._( 'Not Installed. (GD extension must be enabled)' ) );\n\t\t\t\t\t\t\t\twidget.addClass( 'dataError' );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'json':\n\t\t\t\t\t\t\tif ( stepData[key] == 0 ) {\n\t\t\t\t\t\t\t\twidget.html( $.i18n._( 'OK' ) );\n\t\t\t\t\t\t\t} else if ( stepData[key] == 1 ) {\n\t\t\t\t\t\t\t\twidget.html( $.i18n._( 'Not Installed. (JSON extension must be enabled)' ) );\n\t\t\t\t\t\t\t\twidget.addClass( 'dataError' );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'mcrypt':\n\t\t\t\t\t\t\tif ( stepData[key] == 0 ) {\n\t\t\t\t\t\t\t\twidget.html( $.i18n._( 'OK' ) );\n\t\t\t\t\t\t\t} else if ( stepData[key] == 1 ) {\n\t\t\t\t\t\t\t\twidget.html( $.i18n._( 'Not Installed. (MCRYPT extension must be enabled)' ) );\n\t\t\t\t\t\t\t\twidget.addClass( 'dataError' );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'simplexml':\n\t\t\t\t\t\t\tif ( stepData[key] == 0 ) {\n\t\t\t\t\t\t\t\twidget.html( $.i18n._( 'OK' ) );\n\t\t\t\t\t\t\t} else if ( stepData[key] == 1 ) {\n\t\t\t\t\t\t\t\twidget.html( $.i18n._( 'Not Installed. (SimpleXML extension must be enabled)' ) );\n\t\t\t\t\t\t\t\twidget.addClass( 'dataError' );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'curl':\n\t\t\t\t\t\t\tif ( stepData[key] == 0 ) {\n\t\t\t\t\t\t\t\twidget.html( $.i18n._( 'OK' ) );\n\t\t\t\t\t\t\t} else if ( stepData[key] == 1 ) {\n\t\t\t\t\t\t\t\twidget.html( $.i18n._( 'Not Installed. (CURL extension must be enabled)' ) );\n\t\t\t\t\t\t\t\twidget.addClass( 'dataError' );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'zip':\n\t\t\t\t\t\t\tif ( stepData[key] == 0 ) {\n\t\t\t\t\t\t\t\twidget.html( $.i18n._( 'OK' ) );\n\t\t\t\t\t\t\t} else if ( stepData[key] == 1 ) {\n\t\t\t\t\t\t\t\twidget.html( $.i18n._( 'Not Installed. (ZIP extension must be enabled)' ) );\n\t\t\t\t\t\t\t\twidget.addClass( 'dataError' );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'mail':\n\t\t\t\t\t\t\tif ( stepData[key] == 0 ) {\n\t\t\t\t\t\t\t\twidget.html( $.i18n._( 'OK' ) );\n\t\t\t\t\t\t\t} else if ( stepData[key] == 1 ) {\n\t\t\t\t\t\t\t\twidget.html( $.i18n._( 'Not Installed. (MAIL extension must be enabled)' ) );\n\t\t\t\t\t\t\t\twidget.addClass( 'dataError' );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'openssl':\n\t\t\t\t\t\t\tif ( stepData[key] == 0 ) {\n\t\t\t\t\t\t\t\twidget.html( $.i18n._( 'OK' ) );\n\t\t\t\t\t\t\t} else if ( stepData[key] == 1 ) {\n\t\t\t\t\t\t\t\twidget.html( $.i18n._( 'Not Installed. (OpenSSL extension must be enabled)' ) );\n\t\t\t\t\t\t\t\twidget.addClass( 'dataError' );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'pear':\n\t\t\t\t\t\t\tif ( stepData[key] == 0 ) {\n\t\t\t\t\t\t\t\twidget.html( $.i18n._( 'OK' ) );\n\t\t\t\t\t\t\t} else if ( stepData[key] == 1 ) {\n\t\t\t\t\t\t\t\tif ( stepData.php_os == 'WINNT' ) {\n\t\t\t\t\t\t\t\t\twidget.html( $.i18n._( 'Not Installed.' )\n\t\t\t\t\t\t\t\t\t\t+ '(' + $.i18n._( 'try running' ) + ': ' + '\"<b>go-pear.bat</b>\"' + ')'\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\twidget.html( $.i18n._( 'Not Installed.' )\n\t\t\t\t\t\t\t\t\t\t+ '('\n\t\t\t\t\t\t\t\t\t\t+ $.i18n._( 'install the PEAR RPM or package from' ) + ' '\n\t\t\t\t\t\t\t\t\t\t+ '<a href=\\\"http://pear.php.net\\\">http://pear.php.net</a>'\n\t\t\t\t\t\t\t\t\t\t+ ')'\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\twidget.addClass( 'dataError' );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'safe_mode':\n\t\t\t\t\t\t\tif ( stepData[key] == 0 ) {\n\t\t\t\t\t\t\t\twidget.html( $.i18n._( 'OK' ) );\n\t\t\t\t\t\t\t} else if ( stepData[key] == 1 ) {\n\t\t\t\t\t\t\t\twidget.html( $.i18n._( 'Safe Mode is On. (Please disable it in php.ini)' ) );\n\t\t\t\t\t\t\t\twidget.addClass( 'dataError' );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'allow_fopen_url':\n\t\t\t\t\t\t\tif ( stepData[key] == 0 ) {\n\t\t\t\t\t\t\t\twidget.html( $.i18n._( 'OK' ) );\n\t\t\t\t\t\t\t} else if ( stepData[key] == 1 ) {\n\t\t\t\t\t\t\t\twidget.html( $.i18n._( 'ALLOW_FOPEN_URL is Off. (Please enable it in php.ini)' ) );\n\t\t\t\t\t\t\t\twidget.addClass( 'dataError' );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'disk_space':\n\t\t\t\t\t\t\tif ( stepData[key] == 0 ) {\n\t\t\t\t\t\t\t\twidget.html( $.i18n._( 'OK' ) );\n\t\t\t\t\t\t\t} else if ( stepData[key] == 1 ) {\n\t\t\t\t\t\t\t\twidget.html( $.i18n._( 'Not enough disk space available, please free up disk space and try again.' ) );\n\t\t\t\t\t\t\t\twidget.addClass( 'dataError' );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'memory_limit':\n\t\t\t\t\t\t\tif ( stepData[key].check_php_memory_limit == 0 ) {\n\t\t\t\t\t\t\t\tvar str = $.i18n._( 'OK' );\n\t\t\t\t\t\t\t\tif ( stepData[key].memory_limit > 0 ) {\n\t\t\t\t\t\t\t\t\tstr += '(' + stepData[key].memory_limit + ' bytes' + ')';\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\twidget.html( str );\n\t\t\t\t\t\t\t\tedit_view_form_item_dic.hide();\n\t\t\t\t\t\t\t} else if ( stepData[key].check_php_memory_limit == 1 ) {\n\t\t\t\t\t\t\t\twidget.html( stepData[key].memory_limit + ' bytes' + ' (' + $.i18n._( 'Set this to 512M or higher' ) + ')' );\n\t\t\t\t\t\t\t\twidget.addClass( 'dataError' );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'post_size':\n\t\t\t\t\t\t\tif ( stepData[key].check_php_post_size == 0 ) {\n\t\t\t\t\t\t\t\tvar str = $.i18n._( 'OK' );\n\t\t\t\t\t\t\t\tif ( stepData[key].post_size > 0 ) {\n\t\t\t\t\t\t\t\t\tstr += '(' + stepData[key].post_size + ' bytes' + ')';\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\twidget.html( str );\n\t\t\t\t\t\t\t\tedit_view_form_item_dic.hide();\n\t\t\t\t\t\t\t} else if ( stepData[key].check_php_post_size == 1 ) {\n\t\t\t\t\t\t\t\twidget.html( stepData[key].post_size + ' bytes' + ' (' + $.i18n._( 'Set this to 25M or higher, recommend 128M' ) + ')' );\n\t\t\t\t\t\t\t\twidget.addClass( 'dataError' );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'upload_size':\n\t\t\t\t\t\t\tif ( stepData[key].check_php_upload_size == 0 ) {\n\t\t\t\t\t\t\t\tvar str = $.i18n._( 'OK' );\n\t\t\t\t\t\t\t\tif ( stepData[key].upload_size > 0 ) {\n\t\t\t\t\t\t\t\t\tstr += '(' + stepData[key].post_size + ' bytes' + ')';\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\twidget.html( str );\n\t\t\t\t\t\t\t\tedit_view_form_item_dic.hide();\n\t\t\t\t\t\t\t} else if ( stepData[key].check_php_upload_size == 1 ) {\n\t\t\t\t\t\t\t\twidget.html( stepData[key].upload_size + ' bytes' + ' (' + $.i18n._( 'Set this to 25M or higher, recommend 128M' ) + ')' );\n\t\t\t\t\t\t\t\twidget.addClass( 'dataError' );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'disabled_functions':\n\t\t\t\t\t\t\tif ( stepData[key].check_disabled_functions == 0 ) {\n\t\t\t\t\t\t\t\twidget.html( $.i18n._( 'OK' ) );\n\t\t\t\t\t\t\t\tedit_view_form_item_dic.hide();\n\t\t\t\t\t\t\t} else if ( stepData[key].check_disabled_functions == 1 ) {\n\t\t\t\t\t\t\t\twidget.html( $.i18n._( 'Critical functions disabled' ) + ': ' + stepData[key].disabled_function_list + ' (' + $.i18n._( 'Please enable them in php.ini' ) + ')' );\n\t\t\t\t\t\t\t\twidget.addClass( 'dataError' );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'base_url':\n\t\t\t\t\t\t\tif ( stepData[key].check_base_url == 0 ) {\n\t\t\t\t\t\t\t\twidget.html( $.i18n._( 'OK' ) );\n\t\t\t\t\t\t\t\tedit_view_form_item_dic.hide();\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\twidget.html( key + ' ' + $.i18n._( 'in' ) + ' timetrex.ini.php ' + $.i18n._( 'is incorrect, perhaps it should be' ) + ' ' + stepData[key].recommended_base_url + ' ' + $.i18n._( 'instead' ) );\n\t\t\t\t\t\t\t\twidget.addClass( 'dataError' );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'base_dir':\n\t\t\t\t\t\t\tif ( stepData[key].check_php_open_base_dir == 0 ) {\n\t\t\t\t\t\t\t\twidget.html( $.i18n._( 'OK' ) );\n\t\t\t\t\t\t\t\tedit_view_form_item_dic.hide();\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\twidget.html( $.i18n._( 'PHP OPEN_BASEDIR setting' ) + ' ' + '(' + stepData[key].php_open_base_dir + ') ' + $.i18n._( 'does not include directory of PHP CLI binary' ) + ' ' + '(' + stepData[key].php_cli_directory + ')' );\n\t\t\t\t\t\t\t\twidget.addClass( 'dataError' );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'system_timezone':\n\t\t\t\t\t\t\tif ( stepData[key] == 0 ) {\n\t\t\t\t\t\t\t\twidget.html( $.i18n._( 'OK' ) );\n\t\t\t\t\t\t\t} else if ( stepData[key] == 1 ) {\n\t\t\t\t\t\t\t\twidget.html( $.i18n._( 'system_timezone in timetrex.ini.php is invalid!' ) );\n\t\t\t\t\t\t\t\twidget.addClass( 'dataError' );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'cli_executable':\n\t\t\t\t\t\t\tif ( stepData[key].check_php_cli_binary == 0 ) {\n\t\t\t\t\t\t\t\twidget.html( $.i18n._( 'OK' ) );\n\t\t\t\t\t\t\t\tedit_view_form_item_dic.hide();\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\twidget.html( $.i18n._( 'PHP CLI' ) + ' ' + '(' + stepData[key].php_cli + ')' + ' ' + $.i18n._( 'does not exist or is not executable.' ) );\n\t\t\t\t\t\t\t\twidget.addClass( 'dataError' );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'cli_requirements':\n\t\t\t\t\t\t\tif ( stepData[key].check_php_cli_requirements == 0 ) {\n\t\t\t\t\t\t\t\twidget.html( $.i18n._( 'OK' ) );\n\t\t\t\t\t\t\t\tedit_view_form_item_dic.hide();\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\twidget.html( $.i18n._( 'PHP CLI requirements failed while executing' ) + ':<br>'\n\t\t\t\t\t\t\t\t\t+ stepData[key].php_cli_requirements_command + '<br>'\n\t\t\t\t\t\t\t\t\t+ $.i18n._( 'Likely caused by having two PHP.INI files with different settings.' )\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\twidget.addClass( 'dataError' );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'config_file':\n\t\t\t\t\t\t\tif ( stepData[key] == 0 ) {\n\t\t\t\t\t\t\t\twidget.html( $.i18n._( 'OK' ) );\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\twidget.html( $.i18n._( 'Not writable' ) );\n\t\t\t\t\t\t\t\twidget.addClass( 'dataError' );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'cache_dir':\n\t\t\t\t\t\t\tif ( stepData[key].check_writable_cache_directory == 0 ) {\n\t\t\t\t\t\t\t\twidget.html( $.i18n._( 'OK' ) );\n\t\t\t\t\t\t\t\tedit_view_form_item_dic.hide();\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\twidget.html( $.i18n._( 'Not writable' ) + ' (' + stepData[key].cache_dir + ')' );\n\t\t\t\t\t\t\t\twidget.addClass( 'dataError' );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'safe_cache_dir':\n\t\t\t\t\t\t\tif ( stepData[key].check_safe_cache_directory == 0 ) {\n\t\t\t\t\t\t\t\twidget.html( $.i18n._( 'OK' ) );\n\t\t\t\t\t\t\t\tedit_view_form_item_dic.hide();\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\twidget.html( $.i18n._( 'INSECURE, must not be a sub-directory of base path.' ) + ' (' + stepData[key].base_path + ')' );\n\t\t\t\t\t\t\t\twidget.addClass( 'dataError' );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'storage_dir':\n\t\t\t\t\t\t\tif ( stepData[key].check_writable_storage_directory == 0 ) {\n\t\t\t\t\t\t\t\twidget.html( $.i18n._( 'OK' ) );\n\t\t\t\t\t\t\t\tedit_view_form_item_dic.hide();\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\twidget.html( $.i18n._( 'Not writable' ) + ' (' + stepData[key].storage_path + ')' );\n\t\t\t\t\t\t\t\twidget.addClass( 'dataError' );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'safe_storage_dir':\n\t\t\t\t\t\t\tif ( stepData[key].check_safe_storage_directory == 0 ) {\n\t\t\t\t\t\t\t\twidget.html( $.i18n._( 'OK' ) );\n\t\t\t\t\t\t\t\tedit_view_form_item_dic.hide();\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\twidget.html( $.i18n._( 'INSECURE, must not be a sub-directory of base path.' ) + ' (' + stepData[key].base_path + ')' );\n\t\t\t\t\t\t\t\twidget.addClass( 'dataError' );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'log_dir':\n\t\t\t\t\t\t\tif ( stepData[key].check_writable_log_directory == 0 ) {\n\t\t\t\t\t\t\t\twidget.html( $.i18n._( 'OK' ) );\n\t\t\t\t\t\t\t\tedit_view_form_item_dic.hide();\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\twidget.html( $.i18n._( 'Not writable' ) + ' (' + stepData[key].log_path + ')' );\n\t\t\t\t\t\t\t\twidget.addClass( 'dataError' );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'safe_log_dir':\n\t\t\t\t\t\t\tif ( stepData[key].check_safe_log_directory == 0 ) {\n\t\t\t\t\t\t\t\twidget.html( $.i18n._( 'OK' ) );\n\t\t\t\t\t\t\t\tedit_view_form_item_dic.hide();\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\twidget.html( $.i18n._( 'INSECURE, must not be a sub-directory of base path.' ) + ' (' + stepData[key].base_path + ')' );\n\t\t\t\t\t\t\t\twidget.addClass( 'dataError' );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'empty_cache_dir':\n\t\t\t\t\t\t\tif ( stepData[key].check_clean_cache_directory == 0 ) {\n\t\t\t\t\t\t\t\twidget.html( $.i18n._( 'OK' ) );\n\t\t\t\t\t\t\t\tedit_view_form_item_dic.hide();\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\twidget.html( $.i18n._( 'Please delete all files/directories in' ) + ': ' + ' <b>' + stepData[key].cache_dir + '</b>' );\n\t\t\t\t\t\t\t\twidget.addClass( 'dataError' );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'file_permission':\n\t\t\t\t\t\t\tif ( stepData[key] == 0 ) {\n\t\t\t\t\t\t\t\twidget.html( $.i18n._( 'OK' ) );\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\twidget.html( $.i18n._( 'File permissions are invalid, some' ) + ' ' + $.i18n._( stepData.application_name ) + ' ' + $.i18n._( 'files are not readable/writable. See detailed error messages below.' ) );\n\t\t\t\t\t\t\t\twidget.addClass( 'dataError' );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'file_checksums':\n\t\t\t\t\t\t\tif ( stepData[key] == 0 ) {\n\t\t\t\t\t\t\t\twidget.html( $.i18n._( 'OK' ) );\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\twidget.html( $.i18n._( 'File checksums do not match, some' ) + ' ' + $.i18n._( stepData.application_name ) + ' ' + $.i18n._( 'files may be corrupted, missing, or not installed properly. See detailed error messages below.' ) );\n\t\t\t\t\t\t\t\twidget.addClass( 'dataError' );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\t\t\t\tProgressBar.closeOverlay();\n\t\t\t\tbreak;\n\t\t\tcase 'databaseSchema':\n\t\t\t\tthis.api.setDatabaseSchema( this.external_installer, {\n\t\t\t\t\tonResult: function( res ) {\n\t\t\t\t\t\tif ( res.isValid() ) {\n\t\t\t\t\t\t\tvar result = res.getResult();\n\t\t\t\t\t\t\tif ( result.next_page ) {\n\t\t\t\t\t\t\t\t$this.current_step = result.next_page;\n\t\t\t\t\t\t\t\tswitch ( result.next_page ) {\n\t\t\t\t\t\t\t\t\tcase 'postUpgrade':\n\t\t\t\t\t\t\t\t\t\t$this.initCurrentStep();\n\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t\tcase 'systemSettings':\n\t\t\t\t\t\t\t\t\t\tif ( result.action ) {\n\t\t\t\t\t\t\t\t\t\t\t$this.onNextClick(); // skip system setting to company information directly.\n\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\t$this.initCurrentStep();\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} );\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tProgressBar.closeOverlay();\n\t\t\t\tbreak;\n\n\t\t}\n\t}\n\n\tsetErrorTips( result ) {\n\t\tthis.clearErrorTips();\n\n\t\tvar details = result.getDetails();\n\t\tvar error_list = details[0];\n\n\t\tfor ( var key in error_list ) {\n\n\t\t\tif ( !error_list.hasOwnProperty( key ) ) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tif ( !Global.isSet( this.stepsWidgetDic[this.current_step][key] ) ) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tif ( this.stepsWidgetDic[this.current_step][key].is( ':visible' ) ) {\n\n\t\t\t\tthis.stepsWidgetDic[this.current_step][key].setErrorStyle( error_list[key], true );\n\n\t\t\t} else {\n\n\t\t\t\tthis.stepsWidgetDic[this.current_step][key].setErrorStyle( error_list[key] );\n\t\t\t}\n\n\t\t\tthis.edit_view_error_ui_dic[key] = this.stepsWidgetDic[this.current_step][key];\n\n\t\t}\n\t}\n\n\tclearErrorTips() {\n\n\t\tfor ( var key in this.edit_view_error_ui_dic ) {\n\n\t\t\t//Error: Uncaught TypeError: Cannot read property 'clearErrorStyle' of undefined in /interface/html5/views/BaseViewController.js?v=8.0.0-20141117-111140 line 1779\n\t\t\tif ( !this.edit_view_error_ui_dic.hasOwnProperty( key ) || !this.edit_view_error_ui_dic[key] ) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tthis.edit_view_error_ui_dic[key].clearErrorStyle();\n\t\t}\n\n\t\tthis.edit_view_error_ui_dic = {};\n\t}\n\n\tonDoneClick() {\n\t\tthis.cleanStepsData();\n\n//\t\tif ( this.call_back ) {\n//\t\t\tthis.call_back();\n//\t\t}\n//\t\tvar baseURI = $(\"*\").context.baseURI;\n\n\t\tvar loc = window.location;\n\t\tvar currentURL = loc.protocol + '//' + loc.host + loc.pathname;\n\t\tGlobal.setURLToBrowser( currentURL + '#!m=Login' );\n\t\t$( this.el ).remove();\n\t}\n\n\tonCloseClick() {\n\t\tif ( this.script_name ) {\n\t\t\tthis.saveCurrentStep();\n\t\t}\n\t\tvar loc = window.location;\n\t\tvar currentURL = loc.protocol + '//' + loc.host + loc.pathname;\n\t\tGlobal.setURLToBrowser( currentURL + '#!m=Login' );\n\t\t$( this.el ).remove();\n\t}\n\n\tcleanStepsData() {\n\t\tthis.stepsDataDic = {};\n\t\tthis.current_step = 'license';\n\t}\n\n}\n"],"sourceRoot":""}