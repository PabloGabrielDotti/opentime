(self.webpackChunktimetrex=self.webpackChunktimetrex||[]).push([["invoice-payment_gateway-PaymentGatewayViewController"],{9243:(e,t,a)=>{"use strict";a.r(t),a.d(t,{"PaymentGatewayViewController":()=>i});class i extends BaseViewController{constructor(e={}){_.defaults(e,{el:"#payment_gateway_view_container",status_array:null}),super(e)}init(e){this.edit_view_tpl="PaymentGatewayEditView.html",this.permission_id="payment_gateway",this.viewId="PaymentGateway",this.script_name="PaymentGatewayView",this.table_name_key="payment_gateway",this.context_menu_name=$.i18n._("Payment Gateway"),this.navigation_label=$.i18n._("Payment Gateway")+":",this.api=TTAPI.APIPaymentGateway,this.render(),this.buildContextMenu(),this.initData(),this.setSelectRibbonMenuIfNecessary()}initOptions(e){this.initDropDownOptions([{option_name:"type",field_name:null,api:null},{option_name:"status",field_name:null,api:null},{option_name:"credit_card_type",field_name:null,api:null},{option_name:"bank_account_type",field_name:null,api:null},{option_name:"driver",field_name:null,api:null}],(function(t){e&&e(t)}))}buildEditViewUI(){super.buildEditViewUI();var e=this,t={"tab_payment_gateway":{"label":$.i18n._("Payment Gateway")},"tab_audit":!0};this.setTabModel(t),this.navigation.AComboBox({api_class:TTAPI.APIPaymentGateway,id:this.script_name+"_navigation",allow_multiple_selection:!1,layout_name:"global_payment_gateway",navigation_mode:!0,show_search_inputs:!0}),this.setNavigation();var a=this.edit_view_tab.find("#tab_payment_gateway").find(".first-column");this.edit_view_tabs[0]=[],this.edit_view_tabs[0].push(a);var i=Global.loadWidgetByName(FormItemType.COMBO_BOX);i.TComboBox({field:"status_id",set_empty:!1}),i.setSourceData(e.status_array),this.addEditFieldToColumn($.i18n._("Status"),i,a,""),(i=Global.loadWidgetByName(FormItemType.TEXT_INPUT)).TTextInput({field:"name",width:"100%"}),this.addEditFieldToColumn($.i18n._("Name"),i,a),(i=Global.loadWidgetByName(FormItemType.SEPARATED_BOX)).SeparatedBox({label:$.i18n._("Selection Criteria")}),this.addEditFieldToColumn(null,i,a),(i=Global.loadWidgetByName(FormItemType.COMBO_BOX)).TComboBox({field:"type_id",set_empty:!1}),i.setSourceData(e.type_array),this.addEditFieldToColumn($.i18n._("Type"),i,a,""),(i=(i=Global.loadWidgetByName(FormItemType.AWESOME_BOX)).AComboBox({field:"credit_card_type_id",set_empty:!0,allow_multiple_selection:!0,layout_name:"global_option_column",key:"value"})).setSourceData(e.credit_card_type_array),this.addEditFieldToColumn($.i18n._("Credit Card Type"),i,a,"",null,!0),(i=(i=Global.loadWidgetByName(FormItemType.AWESOME_BOX)).AComboBox({field:"bank_account_type_id",set_empty:!0,allow_multiple_selection:!0,layout_name:"global_option_column",key:"value"})).setSourceData(e.bank_account_type_array),this.addEditFieldToColumn($.i18n._("Bank Account Type"),i,a,"",null,!0),(i=Global.loadWidgetByName(FormItemType.AWESOME_BOX)).AComboBox({api_class:TTAPI.APICurrency,allow_multiple_selection:!0,layout_name:"global_currency",show_search_inputs:!0,set_empty:!0,field:"currency_id"}),this.addEditFieldToColumn($.i18n._("Currency"),i,a),(i=Global.loadWidgetByName(FormItemType.TEXT_INPUT)).TTextInput({field:"priority",width:40}),this.addEditFieldToColumn($.i18n._("Priority"),i,a),(i=Global.loadWidgetByName(FormItemType.SEPARATED_BOX)).SeparatedBox({label:$.i18n._("Gateway Credentials")}),this.addEditFieldToColumn(null,i,a),(i=Global.loadWidgetByName(FormItemType.COMBO_BOX)).TComboBox({field:"driver_id"}),i.setSourceData(e.driver_array),this.addEditFieldToColumn($.i18n._("Driver"),i,a,""),(i=Global.loadWidgetByName(FormItemType.TEXT_INPUT)).TTextInput({field:"customer_id"}),this.addEditFieldToColumn($.i18n._("Customer ID"),i,a),(i=Global.loadWidgetByName(FormItemType.TEXT_INPUT)).TTextInput({field:"user_name"}),this.addEditFieldToColumn($.i18n._("User Name"),i,a),(i=Global.loadWidgetByName(FormItemType.TEXT_INPUT)).TTextInput({field:"password"}),this.addEditFieldToColumn($.i18n._("Password"),i,a,"")}onTypeChange(){30==this.current_edit_record.type_id?(this.attachElement("credit_card_type_id"),this.detachElement("bank_account_type_id")):(this.detachElement("credit_card_type_id"),this.attachElement("bank_account_type_id")),this.editFieldResize()}onFormItemChange(e,t){this.setIsChanged(e),this.setMassEditingFieldsWhenFormChange(e);var a=e.getField();this.current_edit_record[a]=e.getValue(),"type_id"===a&&this.onTypeChange(),t||this.validate()}setEditViewDataDone(){super.setEditViewDataDone(),this.onTypeChange()}buildSearchFields(){super.buildSearchFields(),this.search_fields=[new SearchField({label:$.i18n._("Name"),in_column:1,field:"name",multiple:!0,basic_search:!0,form_item_type:FormItemType.TEXT_INPUT}),new SearchField({label:$.i18n._("Type"),in_column:1,field:"type_id",multiple:!0,basic_search:!0,layout_name:"global_option_column",form_item_type:FormItemType.AWESOME_BOX}),new SearchField({label:$.i18n._("Status"),in_column:1,field:"status_id",multiple:!0,basic_search:!0,layout_name:"global_option_column",form_item_type:FormItemType.AWESOME_BOX}),new SearchField({label:$.i18n._("Created By"),in_column:2,field:"created_by",layout_name:"global_user",api_class:TTAPI.APIUser,multiple:!0,basic_search:!0,adv_search:!1,form_item_type:FormItemType.AWESOME_BOX}),new SearchField({label:$.i18n._("Updated By"),in_column:2,field:"updated_by",layout_name:"global_user",api_class:TTAPI.APIUser,multiple:!0,basic_search:!0,adv_search:!1,form_item_type:FormItemType.AWESOME_BOX})]}}}}]);
//# sourceMappingURL=invoice-payment_gateway-PaymentGatewayViewController.bundle.js.map?v=d4f487c0d4ca2f3e4c5a