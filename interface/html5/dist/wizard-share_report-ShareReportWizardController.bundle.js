(self.webpackChunktimetrex=self.webpackChunktimetrex||[]).push([["wizard-share_report-ShareReportWizardController"],{3238:(t,e,s)=>{"use strict";s.r(e),s.d(e,{"ShareReportWizardController":()=>r});class r extends BaseWizardController{constructor(t={}){_.defaults(t,{el:".wizard-bg"}),super(t)}init(t){this.title=$.i18n._("Share Report Wizard"),this.steps=2,this.current_step=1,this.render()}render(){super.render(),this.initCurrentStep()}buildCurrentStepUI(){switch(this.content_div.empty(),this.stepsWidgetDic[this.current_step]={},this.current_step){case 1:var t=this.getLabel();t.text($.i18n._("Select one or more saved report you wish to share")+":");var e=this.getAComboBox(TTAPI.APIUserReportData,!0,"global_job","user_report_data_ids",!1),s=$("<div class='wizard-acombobox-div'></div>");s.append(e),this.content_div.append(t),this.content_div.append(s),this.stepsWidgetDic[this.current_step][e.getField()]=e;break;case 2:(t=this.getLabel()).text($.i18n._("Select one or more employees to share report with")+":"),e=this.getAComboBox(TTAPI.APIUser,!0,"global_user","destination_user_ids",!1),(s=$("<div class='wizard-acombobox-div'></div>")).append(e),this.stepsWidgetDic[this.current_step]={},this.stepsWidgetDic[this.current_step][e.getField()]=e,this.content_div.append(t),this.content_div.append(s)}}buildCurrentStepData(){var t=this.stepsDataDic[this.current_step],e=this.stepsWidgetDic[this.current_step];switch(this.current_step){case 1:if(t)for(var s in t)t.hasOwnProperty(s)&&e[s].setValue(t[s]);else for(var s in e)e.hasOwnProperty(s)&&this.default_data&&e[s].setValue(this.default_data);break;default:for(var s in t)t.hasOwnProperty(s)&&e[s].setValue(t[s])}}onDoneClick(){var t=this;super.onDoneClick(),this.saveCurrentStep();var e=this.stepsDataDic[1].user_report_data_ids,s=this.stepsDataDic[2].destination_user_ids;TTAPI.APIUserReportData.shareUserReportData(e,s,{onResult:function(e){e.isValid()?(TAlertManager.showAlert($.i18n._("Report shared successfully")),$(t.el).remove()):TAlertManager.showErrorAlert(e)}})}saveCurrentStep(){this.stepsDataDic[this.current_step]={};var t=this.stepsDataDic[this.current_step],e=this.stepsWidgetDic[this.current_step];for(var s in this.current_step,e)e.hasOwnProperty(s)&&(t[s]=e[s].getValue())}setDefaultDataToSteps(){if(!this.default_data)return null}}}}]);
//# sourceMappingURL=wizard-share_report-ShareReportWizardController.bundle.js.map?v=1552a6026bb054cd0d43