(self.webpackChunktimetrex=self.webpackChunktimetrex||[]).push([["attendance-timesheet-UserDateTotalParentViewController"],{1285:(e,t,i)=>{"use strict";i.r(t),i.d(t,{"UserDateTotalParentViewController":()=>r});class r extends BaseViewController{constructor(e={}){_.defaults(e,{el:"#user_date_total_parent_view_container",sub_user_date_total_view_controller:null}),super(e)}init(e){this.edit_view_tpl="UserDateTotalParentEditView.html",this.permission_id="punch",this.script_name="UserDateTotalParentView",this.viewId="UserDateTotalParent",this.table_name_key="user_date_total_parent",this.context_menu_name=$.i18n._("Accumulated Time"),this.navigation_label=$.i18n._("Accumulated Time")+":",this.api=TTAPI.APIUserDateTotal,this.render(),this.sub_view_mode?this.buildContextMenu(!0):this.buildContextMenu(),this.sub_view_mode||this.initData(),this.setSelectRibbonMenuIfNecessary()}removeEditView(){super.removeEditView(),this.parent_view_controller&&"TimeSheet"===this.parent_view_controller.viewId&&this.parent_view_controller.onSubViewRemoved()}getCustomContextMenuModel(){return{include:["default"]}}openEditView(e){var t=this;if(t.edit_only_mode){TTPromise.add("UserDateTotalParent","init"),t.edit_view||t.initEditViewUI(t.viewId,t.edit_view_tpl);var i=Global.strToDate(e,"YYYY-MM-DD").format();t.current_edit_record={date:e,user_id:LocalCacheData.getAllURLArgs().user_id,date_stamp:i},TTPromise.wait("UserDateTotalParent","init",(function(){t.initEditView()}))}else this.edit_view||this.initEditViewUI(t.viewId,t.edit_view_tpl)}buildSearchFields(){super.buildSearchFields(),this.search_fields=[]}buildEditViewUI(){super.buildEditViewUI();var e={"tab_user_date_total_parent":{"label":$.i18n._("Accumulated Time")}};this.setTabModel(e),TTPromise.resolve("UserDateTotalParent","init")}setCurrentEditRecordData(){this.edit_view_tab.find("#tab_user_date_total_parent").find(".first-column-sub-view").css("display","block"),this.initSubUserDateTotalView("tab_user_date_total_parent"),this.setEditViewDataDone()}initSubUserDateTotalView(e){var t=this;if(this.sub_user_date_total_view_controller)return this.sub_user_date_total_view_controller.buildContextMenu(!0),this.sub_user_date_total_view_controller.setDefaultMenu(),t.sub_user_date_total_view_controller.parent_edit_record=t.current_edit_record,t.sub_user_date_total_view_controller.getSubViewFilter=function(e){return a(e,this)},void t.sub_user_date_total_view_controller.initData();function i(){}function r(e){t.sub_user_date_total_view_controller=e,t.sub_user_date_total_view_controller.parent_edit_record=t.current_edit_record,t.sub_user_date_total_view_controller.getSubViewFilter=function(e){return a(e,this)},t.sub_user_date_total_view_controller.parent_view_controller=t,t.sub_user_date_total_view_controller.initData()}function a(e,t){var i=Global.strToDate(t.parent_edit_record.date,"YYYY-MM-DD").format();return e.date_stamp=i,e.user_id=t.parent_edit_record.user_id,e.object_type_id=[20,25,30,40,100,110],e}Global.loadScript("views/attendance/timesheet/UserDateTotalViewController.js",(function(){var a=t.edit_view_tab.find("#"+e).find(".first-column-sub-view");Global.trackView("SubUserDateTotalView"),UserDateTotalViewController.loadSubView(a,i,r)}))}}r.loadView=function(e){Global.loadViewSource("UserDateTotalParent","UserDateTotalParentView.html",(function(t){var i={},r=_.template(t);Global.isSet(e)?e.html(r(i)):Global.contentContainer().html(r(i))}))},r.loadSubView=function(e,t,i){Global.loadViewSource("UserDateTotalParent","SubUserDateTotalParentView.html",(function(r){var a=_.template(r);Global.isSet(t)&&t(),Global.isSet(e)&&(e.html(a({})),Global.isSet(i)&&TTPromise.wait("BaseViewController","initialize",(function(){i(sub_user_date_total_parent_view_controller)})))}))}}}]);
//# sourceMappingURL=attendance-timesheet-UserDateTotalParentViewController.bundle.js.map?v=e3fa3f83812cd89d37d2