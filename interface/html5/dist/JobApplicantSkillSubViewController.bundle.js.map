{"version":3,"sources":["webpack://timetrex/./interface/html5/views/portal/hr/my_profile/JobApplicantSkillSubViewController.js","webpack://timetrex/./interface/html5/views/portal/hr/my_profile/JobApplicantSubBaseViewController.js"],"names":["JobApplicantSkillSubViewController","JobApplicantSubBaseViewController","options","_","defaults","super","this","qualification_type_id","$this","api","getJobApplicantSkillOptions","onResult","result","setSourceData","getResult","args","filter_data","type_id","filter_columns","qualification_api","getQualification","res","i","hasOwnProperty","row","id","$","i18n","name","callback","filter","model","isValid","result_data","set","showErrorAlert","ProgressBar","closeOverlay","field_selector","field_control","key","setCurrentEditRecordData","Global","isSet","get","attributes","has","prop","removeAttr","enable_add_qualification","showAddQualificationContainer","val","setEditViewDataDone","attr","css","e","doNotValidate","currentTarget","checked","hideAddQualificationContainer","is","calcExperience","validate","first_used_date","last_used_date","Date","format","experience","async","PortalBaseViewController","events","company_api","sub_view_id","display_columns","table_container","available_fields","_delegate","edit_view_error_ui_dic","render","setEditView","list_tpl","loadWidget","unique_id","sub_view","template","find","length","html","tbody","append","thead","column","column_val","unbind","bind","onDeleteClick","elem","parent","document","createEvent","initMouseEvent","window","dispatchEvent","element","fireEvent","tpl","setElement","initOptions","registerDatePicker","openEditView","IndexViewController","instance","router","showConfirmModal","delete_confirm_message","title","actions","label","isClose","callBack","closeConfirmModal","showOverlay","setSubViews","field","source_data","set_empty","empty","size","option_name","text","each","value","selectpicker","focus_out_timer","is_open","day_name_min","month_name_short","showTime","dateFormat","showHour","showMinute","changeMonth","changeYear","showButtonPanel","duration","showAnim","yearRange","showOn","dayNamesMin","currentText","monthNamesShort","closeText","beforeShow","onSelect","dateText","change","onClose","setTimeout","datepicker","clearTimeout","next","prev","trigger","self","unindexed_array","serializeArray","map","getQualificationWidget","setQualification","new_id","selected","appendTo","setErrorTips","getAddQualificationContainer","container","off","on","addQualification","qualification_widget","keyCode","showFormModal","$el","clearErrorTips","onSaveClick","hideFormModal","hideConfirmModal","toJSON","validateResult","clear_all","removeClass","tooltip","error_list","getDetails","error","field_obj","error_string","parents","addClass","isArray","details","getDescription","index","showAlert","closeEditView","content","showTipModal"],"mappings":"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","file":"JobApplicantSkillSubViewController.bundle.js?v=1c6bc575837d647e3569","sourcesContent":["import { JobApplicantSubBaseViewController } from '@/views/portal/hr/my_profile/JobApplicantSubBaseViewController';\n\nexport class JobApplicantSkillSubViewController extends JobApplicantSubBaseViewController {\n\tconstructor( options = {} ) {\n\t\t_.defaults( options, {} );\n\n\t\tsuper( options );\n\t}\n\n\tinit( options ) {\n\t\tthis.qualification_type_id = 10;\n\t}\n\n\tinitOptions() {\n\t\tvar $this = this;\n\t\tthis.api.getJobApplicantSkillOptions( 'proficiency', {\n\t\t\tonResult: function( result ) {\n\t\t\t\t$this.setSourceData( 'proficiency_id', result.getResult(), true );\n\t\t\t}\n\t\t} );\n\t\tvar args = {};\n\t\tvar filter_data = {};\n\t\tfilter_data.type_id = [this.qualification_type_id];\n\t\targs.filter_data = filter_data;\n\t\targs.filter_columns = {\n\t\t\t'id': true,\n\t\t\t'name': true\n\t\t};\n\t\tthis.qualification_api.getQualification( args, true, {\n\t\t\tonResult: function( result ) {\n\t\t\t\tvar res = result.getResult();\n\t\t\t\tvar options = {};\n\t\t\t\tfor ( var i in res ) {\n\t\t\t\t\tif ( !res.hasOwnProperty( i ) ) {\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\t\t\t\t\tvar row = res[i];\n\t\t\t\t\toptions[row.id] = $.i18n._( row.name );\n\t\t\t\t}\n\t\t\t\t$this.setSourceData( 'qualification_id', options, true );\n\t\t\t}\n\t\t} );\n\t}\n\n\tgetJobApplicantSkill( callback ) {\n\t\tvar $this = this;\n\t\tvar filter = {};\n\t\tfilter.filter_data = {};\n\t\tfilter.filter_data.id = this.model.id;\n\t\tthis.api['getJobApplicantSkill']( filter, {\n\t\t\tonResult: function( result ) {\n\t\t\t\tif ( result.isValid() ) {\n\t\t\t\t\tvar result_data = result.getResult();\n\t\t\t\t\tif ( !result_data ) {\n\t\t\t\t\t\tresult_data = [];\n\t\t\t\t\t}\n\t\t\t\t\tresult_data = result_data[0];\n\t\t\t\t\t$this.model.set( result_data );\n\t\t\t\t\tif ( callback ) {\n\t\t\t\t\t\tcallback();\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\t$this.showErrorAlert( result );\n\t\t\t\t\tProgressBar.closeOverlay();\n\t\t\t\t}\n\t\t\t}\n\t\t} );\n\t}\n\n\tsetCurrentEditRecordData() {\n\t\tsuper.setCurrentEditRecordData();\n\t\tvar field_selector;\n\t\tvar field_control;\n\t\t//Set current edit record data to all widgets\n\t\tif ( !Global.isSet( this.model.get( 'enable_calc_experience' ) ) ) {\n\t\t\tthis.model.set( 'enable_calc_experience', false );\n\t\t}\n\t\tfor ( var key in this.model.attributes ) {\n\t\t\tif ( !this.model.has( key ) ) {\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\t// if ( this.current_edit_record[key] === false ) {\n\t\t\t// \tthis.current_edit_record[key] = '';\n\t\t\t// }\n\t\t\tswitch ( key ) {\n\t\t\t\t// case 'country':\n\t\t\t\t// \t// if ( this.current_edit_record[key] === false ) {\n\t\t\t\t// \t// \tthis.current_edit_record[key] = '';\n\t\t\t\t// \t// }\n\t\t\t\t// \tfield_selector = 'select[name=\"' + key + '\"]';\n\t\t\t\t// \tthis.$(field_selector ).val( this.model.get(key) );\n\t\t\t\t// \tif ( key === 'country' ) {\n\t\t\t\t// \t\tthis.eSetProvince( this.model.get(key) );\n\t\t\t\t// \t}\n\t\t\t\t// \tbreak\n\t\t\t\tcase 'enable_calc_experience':\n\t\t\t\t\tfield_selector = 'input[name=\"' + key + '\"]';\n\t\t\t\t\tif ( this.model.get( key ) === true ) {\n\t\t\t\t\t\tthis.$( field_selector ).prop( 'checked', 'checked' );\n\t\t\t\t\t} else if ( this.model.get( key ) === false ) {\n\t\t\t\t\t\tthis.$( field_selector ).removeAttr( 'checked' );\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tif ( this.model.get( key ) === false ) {\n\t\t\t\t\t\tthis.model.set( key, '' );\n\t\t\t\t\t\tif ( key === 'qualification_id' && this.enable_add_qualification ) {\n\t\t\t\t\t\t\tthis.showAddQualificationContainer();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tfield_selector = '.form-control[name=\"' + key + '\"]';\n\t\t\t\t\tfield_control = this.$( field_selector );\n\t\t\t\t\tif ( field_control && field_control[0] ) {\n\t\t\t\t\t\tthis.$( field_selector ).val( this.model.get( key ) );\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\n\t\t\t}\n\t\t}\n\t\t// this.collectUIDataToCurrentEditRecord();\n\t\tthis.setEditViewDataDone();\n\t}\n\n\tsetEditViewDataDone() {\n\t\tif ( this.model.get( 'enable_calc_experience' ) === true ) {\n\t\t\tthis.$( 'input[name=\"experience\"]' ).attr( 'readonly', 'true' );\n\t\t} else {\n\t\t\tthis.$( 'input[name=\"experience\"]' ).removeAttr( 'readonly' );\n\t\t}\n\t\t$( '.edit-view-tab-bar' ).css( 'opacity', 1 );\n\t}\n\n\tonFormItemChange( e, doNotValidate ) {\n\t\tvar key = e.currentTarget.name;\n\t\tthis.model.set( key, $( e.currentTarget ).val() );\n\t\tif ( this.model.get( 'first_used_date' ) ) {\n\t\t\tthis.model.set( 'enable_calc_experience', true );\n\t\t\tthis.$( 'input[name=\"enable_calc_experience\"]' ).prop( 'checked', 'checked' );\n\t\t\tthis.$( 'input[name=\"enable_calc_experience\"]' )[0].checked = true;\n\t\t\tthis.$( 'input[name=\"enable_calc_experience\"]' ).attr( 'disabled', 'disabled' );\n\t\t} else {\n\t\t\tthis.model.set( 'enable_calc_experience', false );\n\t\t\tif ( this.$( 'input[name=\"enable_calc_experience\"]' ) && this.$( 'input[name=\"enable_calc_experience\"]' )[0] ) {\n\t\t\t\tthis.$( 'input[name=\"enable_calc_experience\"]' ).removeAttr( 'checked' );\n\t\t\t\tthis.$( 'input[name=\"enable_calc_experience\"]' )[0].checked = false;\n\t\t\t\tthis.$( 'input[name=\"enable_calc_experience\"]' ).removeAttr( 'disabled' );\n\t\t\t}\n\t\t}\n\t\tswitch ( key ) {\n\t\t\t// case 'country':\n\t\t\t// case 'identification_country':\n\t\t\t// \tvar widget = this.$('select[name=\"' + key + '\"]');\n\t\t\t// \twidget.val( null );\n\t\t\t// \tbreak;\n\t\t\tcase 'name': // change qualification name not to do the validation for itself\n\t\t\t\tdoNotValidate = true;\n\t\t\t\tbreak;\n\t\t\tcase 'qualification_id':\n\t\t\t\tif ( this.model.get( key ) === '' && this.enable_add_qualification ) {\n\t\t\t\t\tthis.showAddQualificationContainer();\n\t\t\t\t\tdoNotValidate = true;\n\t\t\t\t} else {\n\t\t\t\t\tthis.hideAddQualificationContainer();\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase 'enable_calc_experience':\n\t\t\t\tif ( $( e.currentTarget ).is( ':checked' ) ) {\n\t\t\t\t\tthis.model.set( key, true );\n\t\t\t\t\tthis.calcExperience();\n\t\t\t\t} else {\n\t\t\t\t\tthis.model.set( key, false );\n\t\t\t\t\tthis.$( 'input[name=\"experience\"]' ).removeAttr( 'readonly' );\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase 'last_used_date':\n\t\t\tcase 'first_used_date':\n\t\t\t\t// if ( this.model.get('enable_calc_experience') === true ) {\n\t\t\t\t// \tthis.calcExperience();\n\t\t\t\t// }\n\t\t\t\tthis.calcExperience();\n\t\t\t\tbreak;\n\t\t}\n\t\t// if ( key == 'country' ) {\n\t\t// \tthis.eSetProvince( this.$('select[name=\"country\"]').val(), true );\n\t\t// \t// this.clearErrorTips();\n\t\t// \t// return;\n\t\t// }\n\t\tif ( !doNotValidate ) {\n\t\t\tthis.validate();\n\t\t}\n\t}\n\n\tcalcExperience() {\n\t\tif ( this.model.get( 'enable_calc_experience' ) === true ) {\n\t\t\tthis.$( 'input[name=\"experience\"]' ).attr( 'readonly', 'true' );\n\t\t} else {\n\t\t\tthis.$( 'input[name=\"experience\"]' ).removeAttr( 'readonly' );\n\t\t}\n\t\tvar first_used_date = this.$( 'input[name=\"first_used_date\"]' ).val();\n\t\tvar last_used_date = this.$( 'input[name=\"last_used_date\"]' ).val();\n\t\tlast_used_date = last_used_date ? last_used_date : new Date().format( 'DD-MMM-YY' );\n\t\tvar experience = 0;\n\t\tif ( first_used_date !== '' && last_used_date !== '' ) {\n\t\t\texperience = this.api.calcExperience( first_used_date, last_used_date, { async: false } ).getResult();\n\t\t\tthis.$( 'input[name=\"experience\"]' ).val( experience );\n\t\t} else {\n\t\t\tthis.$( 'input[name=\"experience\"]' ).val( experience );\n\t\t}\n\t\tthis.model.set( 'experience', experience );\n\t}\n\n\t// eSetProvince: function( val, refresh ) {\n\t// \tvar $this = this;\n\t// \tif ( !val || val === '-1' || val === '0' ) {\n\t// \t\t$this.e_province_array = [];\n\t// \t\t$this.setSourceData( 'province', [] );\n\t// \t} else {\n\t// \t\tthis.company_api.getOptions( 'province', val, {\n\t// \t\t\tonResult: function( res ) {\n\t// \t\t\t\tres = res.getResult();\n\t// \t\t\t\tif ( !res ) {\n\t// \t\t\t\t\tres = [];\n\t// \t\t\t\t}\n\t// \t\t\t\t$this.e_province_array = Global.buildRecordArray( res );\n\t// \t\t\t\tif ( refresh && $this.e_province_array.length > 0 ) {\n\t// \t\t\t\t\t$this.model.set( 'province', $this.e_province_array[0].value )\n\t// \t\t\t\t\t$this.$('select[name=\"province\"]').val( $this.model.get( 'province') );\n\t// \t\t\t\t}\n\t// \t\t\t\t$this.setSourceData( 'province', res );\n\t// \t\t\t}\n\t// \t\t} );\n\t// \t}\n\t// },\n}\n","import { PortalBaseViewController } from '@/views/portal/PortalBaseViewController';\nimport { TTAPI } from '@/services/TimeTrexClientAPI';\nimport { TTUUID } from '@/global/TTUUID';\n\nexport class JobApplicantSubBaseViewController extends PortalBaseViewController {\n\tconstructor( options = {} ) {\n\t\t_.defaults( options, {\n\t\t\tevents: {\n\t\t\t\t'change input[type=\"text\"]': 'onFormItemChange',\n\t\t\t\t'change input[type=\"checkbox\"]': 'onFormItemChange',\n\t\t\t\t'change select.form-control': 'onFormItemChange',\n\t\t\t\t'change textarea.form-control': 'onFormItemChange'\n\t\t\t\t// 'click .styled-select .glyphicon': 'onSelectClick',\n\t\t\t}\n\t\t} );\n\n\t\tsuper( options );\n\t}\n\n\tpreInit( options ) { //Since this is an intermediary class between *SubViewController and PortalBaseViewController, we need to use preInit() so this is called before init() of each child class.\n\t\tthis.api = TTAPI.APIJobApplicantPortal;\n\t\tthis.qualification_api = TTAPI.APIQualificationPortal;\n\t\tthis.company_api = TTAPI.APICompanyPortal;\n\t\tthis.sub_view_id = options.sub_view_id;\n\t\tthis.display_columns = options.display_columns;\n\t\tthis.table_container = options.table_container;\n\t\tthis.available_fields = options.available_fields;\n\t\tthis._delegate = options._delegate;\n\t\tthis.edit_view_error_ui_dic = {};\n\t\tthis.enable_add_qualification = options.enable_add_qualification || false;\n\n\t}\n\n\tpostInit() {\n\t\tif ( !this.model.id ) {\n\t\t\tthis.setEditView();\n\t\t} else {\n\t\t\tthis.render();\n\t\t}\n\t}\n\n\trender() {\n\t\tvar $this = this;\n\t\tvar list_tpl = Global.loadWidget( 'views/portal/hr/my_profile/MyProfileSubView.html' );\n\t\tvar unique_id = this.sub_view_id + '-' + this.model.id;\n\t\tthis.unique_id = unique_id;\n\t\tthis.sub_view = _.template( list_tpl )( {} );\n\t\tif ( this.table_container.find( '.table-container' ).length == 0 ) {\n\t\t\tthis.table_container.html( '<div class=\"table-responsive\"><table class=\"table table-condensed table-bordered table-container\"><thead></thead><tbody></tbody></table></div>' );\n\t\t}\n\t\tif ( this.table_container.find( '#' + unique_id ).length === 0 ) {\n\t\t\tvar tbody = $( '<tr>' ).attr( 'id', unique_id );\n\t\t\t$( this.table_container.find( 'tbody' )[0] ).append( tbody );\n\t\t} else {\n\t\t\tthis.table_container.find( '#' + unique_id ).html( '' );\n\t\t}\n\t\tvar thead = $( '<tr>' );\n\t\tfor ( var column in this.display_columns ) {\n\t\t\tif ( !this.display_columns.hasOwnProperty( column ) ) {\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\t// comment this, this will cause some default display columns cannot be shown.\n\t\t\t// if ( !this.available_fields.hasOwnProperty( column ) ) {\n\t\t\t// \tcontinue;\n\t\t\t// }\n\t\t\tvar column_val;\n\t\t\tswitch ( column ) {\n\t\t\t\tcase 'is_current_employer':\n\t\t\t\tcase 'is_contact_available':\n\t\t\t\t\tif ( this.model.get( column ) ) {\n\t\t\t\t\t\tcolumn_val = $.i18n._( 'Yes' );\n\t\t\t\t\t} else {\n\t\t\t\t\t\tcolumn_val = $.i18n._( 'No' );\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tif ( !this.model.get( column ) ) {\n\t\t\t\t\t\tcolumn_val = '';\n\t\t\t\t\t} else {\n\t\t\t\t\t\tcolumn_val = this.model.get( column );\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t\tthead.append( '<th>' + this.display_columns[column] + '</th>' );\n\t\t\tthis.table_container.find( '#' + unique_id ).append( '<td>' + column_val + '</td>' );\n\t\t}\n\t\tthead.append( '<th>' + $.i18n._( 'Action' ) + '</th>' );\n\t\tif ( this.table_container.find( 'thead' ).html() === '' ) {\n\t\t\tthis.table_container.find( 'thead' ).html( thead );\n\t\t}\n\t\tthis.table_container.find( '#' + unique_id ).append( this.sub_view );\n\t\tthis.table_container.find( '#' + unique_id ).find( '.edit-icon' ).unbind( 'click' ).bind( 'click', function( e ) {\n\t\t\t$this['get' + $this.sub_view_id]( function() {\n\t\t\t\t$this.setEditView();\n\t\t\t} );\n\t\t} );\n\t\tthis.table_container.find( '#' + unique_id ).find( '.delete-icon' ).unbind( 'click' ).bind( 'click', function( e ) {\n\t\t\t$this['get' + $this.sub_view_id]( function() {\n\t\t\t\t$this.onDeleteClick();\n\t\t\t} );\n\t\t} );\n\t}\n\n\tinitOptions() {\n\t\tvar $this = this;\n\t\tvar args = {};\n\t\tvar filter_data = {};\n\t\tfilter_data.type_id = [this.qualification_type_id];\n\t\targs.filter_data = filter_data;\n\t\targs.filter_columns = {\n\t\t\t'id': true,\n\t\t\t'name': true\n\t\t};\n\t\tthis.qualification_api.getQualification( args, true, {\n\t\t\tonResult: function( result ) {\n\t\t\t\tvar res = result.getResult();\n\t\t\t\tvar options = {};\n\t\t\t\tfor ( var i in res ) {\n\t\t\t\t\tif ( !res.hasOwnProperty( i ) ) {\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\t\t\t\t\tvar row = res[i];\n\t\t\t\t\toptions[row.id] = $.i18n._( row.name );\n\t\t\t\t}\n\t\t\t\t$this.setSourceData( 'qualification_id', options, true );\n\t\t\t}\n\t\t} );\n\t}\n\n\tonSelectClick( e ) {\n\t\tvar elem = $( e.currentTarget ).parent().find( 'select' );\n\t\tif ( document.createEvent ) {\n\t\t\tvar e = document.createEvent( 'MouseEvents' );\n\t\t\te.initMouseEvent( 'mousedown', true, true, window, 0, 0, 0, 0, 0, false, false, false, false, 0, null );\n\t\t\telem[0].dispatchEvent( e );\n\t\t} else if ( element.fireEvent ) {\n\t\t\telem[0].fireEvent( 'onmousedown' );\n\t\t}\n\t}\n\n\tsetEditView() {\n\t\tvar tpl = Global.loadWidget( 'views/portal/hr/my_profile/' + this.sub_view_id + 'SubEditView.html' );\n\t\tthis.setElement( _.template( tpl )( {\n\t\t\tavailable_fields: this.available_fields,\n\t\t\tenable_add_qualification: this.enable_add_qualification\n\t\t} ) );\n\t\tthis.initOptions();\n\t\tthis.registerDatePicker();\n\t\tthis.setCurrentEditRecordData();\n\t\tthis.openEditView();\n\t}\n\n\tonDeleteClick() {\n\t\tvar $this = this;\n\t\tIndexViewController.instance.router.showConfirmModal( Global.delete_confirm_message, {\n\t\t\ttitle: '',\n\t\t\tactions: [\n\t\t\t\t{ label: 'No', isClose: true },\n\t\t\t\t{\n\t\t\t\t\tlabel: 'Yes', callBack: function( e ) {\n\t\t\t\t\t\t$this.closeConfirmModal();\n\t\t\t\t\t\tProgressBar.showOverlay();\n\t\t\t\t\t\t$this.api['delete' + $this.sub_view_id]( $this.model.id, {\n\t\t\t\t\t\t\tonResult: function( result ) {\n\t\t\t\t\t\t\t\tProgressBar.closeOverlay();\n\t\t\t\t\t\t\t\tif ( result.isValid() ) {\n\t\t\t\t\t\t\t\t\t// $this.remove();\n\t\t\t\t\t\t\t\t\t// $this.table_container.find('#'+$this.unique_id).remove();\n\t\t\t\t\t\t\t\t\t$this._delegate.setSubViews( $this.sub_view_id, $this.display_columns );\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t$this.showErrorAlert( result );\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t]\n\t\t} );\n\t}\n\n\tsetSourceData( field, source_data, set_empty ) {\n\t\tvar $this = this;\n\t\tvar field_selector = 'select[name=\"' + field + '\"]';\n\t\tif ( this.$( field_selector ) && this.$( field_selector )[0] ) {\n\t\t\tthis.$( field_selector ).empty();\n\t\t} else {\n\t\t\treturn;\n\t\t}\n\t\tif ( !Global.isSet( this.model.get( field ) ) ) {\n\t\t\tthis.model.set( field, '' ); // initialize a value;\n\t\t}\n\t\tif ( _.size( source_data ) == 0 ) {\n\t\t\tset_empty = true;\n\t\t\tthis.model.set( field, '' );\n\t\t}\n\t\tswitch ( field ) {\n\t\t\tcase 'qualification_id':\n\t\t\t\tif ( this.enable_add_qualification ) {\n\t\t\t\t\tvar option_name;\n\t\t\t\t\tswitch ( this.sub_view_id ) {\n\t\t\t\t\t\tcase 'JobApplicantSkill':\n\t\t\t\t\t\t\toption_name = $.i18n._( 'Add New Skill' );\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'JobApplicantEducation':\n\t\t\t\t\t\t\toption_name = $.i18n._( 'Add New Course' );\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'JobApplicantLicense':\n\t\t\t\t\t\t\toption_name = $.i18n._( 'Add New Type' );\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'JobApplicantLanguage':\n\t\t\t\t\t\t\toption_name = $.i18n._( 'Add New Language' );\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'JobApplicantMembership':\n\t\t\t\t\t\t\toption_name = $.i18n._( 'Add New Membership' );\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\tset_empty = false;\n\t\t\t\t\tthis.$( field_selector ).append( $( '<option></option>' ).prop( 'value', '' ).text( '-- ' + option_name + ' --' ) );\n\t\t\t\t}\n\t\t\t//break; -- Do not break here, it should fall through to default.\n\t\t\tdefault:\n\t\t\t\tif ( set_empty === true ) {\n\t\t\t\t\tthis.$( field_selector ).append( $( '<option></option>' ).prop( 'value', '' ).text( '-- ' + $.i18n._( 'None' ) + ' --' ) );\n\t\t\t\t}\n\t\t\t\tif ( _.size( source_data ) > 0 ) {\n\t\t\t\t\t$.each( source_data, function( value, label ) {\n\t\t\t\t\t\t$this.$( field_selector ).append( $( '<option></option>' ).prop( 'value', value ).text( label ) );\n\t\t\t\t\t\tif ( $this.model.get( field ) == value ) {\n\t\t\t\t\t\t\t$this.$( field_selector ).val( value );\n\t\t\t\t\t\t}\n\t\t\t\t\t} );\n\t\t\t\t}\n\t\t\t\t$this.$( field_selector ).selectpicker();\n\t\t\t\tbreak;\n\t\t}\n\t}\n\n\tregisterDatePicker() {\n\t\tvar time_format = 'h:mm TT';\n\t\tvar format = 'dd-M-y';\n\t\tvar focus_out_timer;\n\t\tvar is_open = false;\n\t\t// When portal mode, no user preference.\n\t\t// if ( LocalCacheData.getLoginUserPreference() ) {\n\t\t// \tformat = LocalCacheData.getLoginUserPreference().date_format_1;\n\t\t// \ttime_format = LocalCacheData.getLoginUserPreference().time_format_1;\n\t\t// }\n\t\tvar day_name_min = [\n\t\t\t$.i18n._( 'Sun' ), $.i18n._( 'Mon' ), $.i18n._( 'Tue' ),\n\t\t\t$.i18n._( 'Wed' ), $.i18n._( 'Thu' ), $.i18n._( 'Fri' ), $.i18n._( 'Sat' )\n\t\t];\n\t\tvar month_name_short = [\n\t\t\t$.i18n._( 'Jan' ), $.i18n._( 'Feb' ),\n\t\t\t$.i18n._( 'Mar' ), $.i18n._( 'Apr' ), $.i18n._( 'May' ),\n\t\t\t$.i18n._( 'Jun' ), $.i18n._( 'Jul' ), $.i18n._( 'Aug' ),\n\t\t\t$.i18n._( 'Sep' ), $.i18n._( 'Oct' ), $.i18n._( 'Nov' ),\n\t\t\t$.i18n._( 'Dec' )\n\t\t];\n\t\tvar current_text = $.i18n._( 'Today' );\n\t\tvar close_text = $.i18n._( 'Close' );\n\t\tvar options = {\n\t\t\tshowTime: false,\n\t\t\tdateFormat: format,\n\t\t\tshowHour: false,\n\t\t\tshowMinute: false,\n\t\t\tchangeMonth: true,\n\t\t\tchangeYear: true,\n\t\t\tshowButtonPanel: true,\n\t\t\tduration: '',\n\t\t\tshowAnim: '',\n\t\t\tyearRange: '-100:+10',\n\t\t\tshowOn: '',\n\t\t\tdayNamesMin: day_name_min,\n\t\t\tcurrentText: current_text,\n\t\t\tmonthNamesShort: month_name_short,\n\t\t\tcloseText: close_text,\n\t\t\tbeforeShow: function() {\n\t\t\t},\n\t\t\tonSelect: function( dateText ) {\n\t\t\t\t$( this ).change();\n\t\t\t},\n\t\t\tonClose: function() {\n\t\t\t\tfocus_out_timer = setTimeout( function() {\n\t\t\t\t\tis_open = false;\n\t\t\t\t}, 100 );\n\t\t\t}\n\n\t\t};\n\t\tthis.$( 'input[type=\"text\"].datepicker' ).datepicker( options );\n\t\tthis.$( 'input[type=\"text\"].datepicker' ).attr( 'placeholder', 'dd-mmm-yy' );\n\t\tthis.$( 'input[type=\"text\"].datepicker' ).bind( 'mouseup', function() {\n\t\t\tif ( !is_open ) {\n\t\t\t\t$( this ).datepicker( 'show' );\n\t\t\t\tis_open = true;\n\t\t\t} else {\n\t\t\t\tis_open = false;\n\t\t\t\tif ( focus_out_timer ) {\n\t\t\t\t\tclearTimeout( focus_out_timer );\n\t\t\t\t\tfocus_out_timer = null;\n\t\t\t\t}\n\t\t\t}\n\t\t} ).next('.glyphicon').bind( 'mouseup', function() { $(this).prev().trigger( 'mouseup' ) } ); // this allows clicking on the calendar icon as well as the input box\n\t}\n\n\tsetCurrentEditRecordData() {\n\t\tvar self = this;\n\t\tvar unindexed_array = this.$( '.detail-form' ).serializeArray();\n\t\t$.map( unindexed_array, function( row, i ) {\n\t\t\tif ( !Global.isSet( self.model.get( row['name'] ) ) ) {\n\t\t\t\tself.model.set( row['name'], row['value'] );\n\t\t\t}\n\t\t} );\n\t\tif ( !this.model.has( 'qualification_id' ) ) {\n\t\t\tthis.model.set( 'qualification_id', false );\n\t\t}\n\t}\n\n\taddQualification() {\n\t\tvar $this = this;\n\t\tvar args = {};\n\t\targs.type_id = this.qualification_type_id;\n\t\tvar name = args.name = this.getQualificationWidget().val();\n\t\tthis.qualification_api.setQualification( args, {\n\t\t\tonResult: function( res ) {\n\t\t\t\tif ( !res.isValid() ) {\n\t\t\t\t\t$this.setErrorTips( res );\n\t\t\t\t} else {\n\t\t\t\t\t$this.$( 'select[name=\\'qualification_id\\']' ).selectpicker( 'destroy' );\n\t\t\t\t\tvar new_id = res.getResult();\n\t\t\t\t\t$( '<option>' ).attr( {\n\t\t\t\t\t\tselected: 'selected',\n\t\t\t\t\t\tvalue: new_id\n\t\t\t\t\t} ).text( name ).appendTo( $this.$( 'select[name=\\'qualification_id\\']' ) );\n\t\t\t\t\t$this.$( 'select[name=\\'qualification_id\\']' ).selectpicker();\n\t\t\t\t\t$this.$( 'select[name=\\'qualification_id\\']' ).trigger( 'change' );\n\t\t\t\t}\n\t\t\t}\n\t\t} );\n\t}\n\n\tgetAddQualificationContainer() {\n\t\treturn this.$( '.add-qualification-container' );\n\t}\n\n\tgetQualificationWidget() {\n\t\treturn this.getAddQualificationContainer().find( 'input[name=\"name\"]' );\n\t}\n\n\tshowAddQualificationContainer() {\n\t\tvar $this = this;\n\t\tvar container = this.getAddQualificationContainer();\n\t\tcontainer.css( 'display', 'table' );\n\t\tcontainer.off( 'click' ).on( 'click', function() {\n\t\t\t$this.addQualification();\n\t\t} );\n\t\tvar qualification_widget = this.getQualificationWidget();\n\t\tqualification_widget.val( '' );\n\t\tqualification_widget.unbind( 'keydown' ).bind( 'keydown', function( e ) {\n\t\t\tif ( e.keyCode === 13 ) {\n\t\t\t\t$this.addQualification();\n\t\t\t}\n\t\t} );\n\t\treturn container;\n\t}\n\n\thideAddQualificationContainer() {\n\t\tvar container = this.getAddQualificationContainer();\n\t\tcontainer.css( 'display', 'none' );\n\t\treturn container;\n\t}\n\n\t// showAddQualificationErrorTip: function () {\n\t// \tvar container = this.getAddQualificationContainer();\n\t//\n\t// },\n\n\topenEditView() {\n\t\tvar $this = this;\n\t\tIndexViewController.instance.router.showFormModal( this.$el, {\n\t\t\ttitle: '',\n\t\t\tactions: [\n\t\t\t\t{\n\t\t\t\t\tlabel: 'Close', isClose: true, callBack: function( e ) {\n\t\t\t\t\t\t$this.clearErrorTips( true );\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tlabel: 'Save Changes', callBack: function( e ) {\n\t\t\t\t\t\t$this.onSaveClick();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t]\n\t\t} );\n\t}\n\n\tcloseEditView() {\n\t\tIndexViewController.instance.router.hideFormModal();\n\t}\n\n\tcloseConfirmModal() {\n\t\tIndexViewController.instance.router.hideConfirmModal();\n\t}\n\n\tonFormItemChange( e, doNotValidate ) {\n\t\tvar key = e.currentTarget.name;\n\t\tthis.model.set( key, $( e.currentTarget ).val() );\n\t\tswitch ( key ) {\n\t\t\tcase 'name': // change qualification name not to do the validation for itself\n\t\t\t\tdoNotValidate = true;\n\t\t\t\tbreak;\n\t\t\tcase 'qualification_id':\n\t\t\t\tif ( this.model.get( key ) === '' && this.enable_add_qualification ) {\n\t\t\t\t\tthis.showAddQualificationContainer();\n\t\t\t\t\tdoNotValidate = true;\n\t\t\t\t} else {\n\t\t\t\t\tthis.hideAddQualificationContainer();\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t}\n\t\tif ( !doNotValidate ) {\n\t\t\tthis.validate();\n\t\t}\n\t}\n\n\tvalidate() {\n\t\tvar $this = this;\n\t\t// var record = this.current_edit_record;\n\t\t// this.api.setJobApplicant\n\t\tthis.api['validate' + this.sub_view_id]( this.model.toJSON(), {\n\t\t\tonResult: function( result ) {\n\t\t\t\t$this.validateResult( result );\n\t\t\t}\n\t\t} );\n\t}\n\n\tvalidateResult( result ) {\n\t\t// this.clearErrorTips();\n\t\tthis.setErrorTips( result );\n\t}\n\n\tclearErrorTips( clear_all ) {\n\t\tfor ( var key in this.edit_view_error_ui_dic ) {\n\t\t\tif ( this.edit_view_error_ui_dic[key].val() !== '' || clear_all ) {\n\t\t\t\tthis.edit_view_error_ui_dic[key].removeClass( 'error-tip' );\n\t\t\t\tthis.edit_view_error_ui_dic[key].tooltip().tooltip( 'dispose' );\n\t\t\t}\n\t\t}\n\t\t// this.edit_view_error_ui_dic = {};\n\t}\n\n\tsetErrorTips( result ) {\n\t\tthis.clearErrorTips( true );\n\t\tvar error_list = result.getDetails() ? result.getDetails()[0] : {};\n\t\tif ( error_list && error_list.hasOwnProperty( 'error' ) ) {\n\t\t\terror_list = error_list.error;\n\t\t}\n\t\tfor ( var key in error_list ) {\n\t\t\tif ( !error_list.hasOwnProperty( key ) ) {\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tvar field_obj;\n\t\t\tif ( this.$( 'input[name=\"' + key + '\"]' )[0] ) {\n\t\t\t\tfield_obj = this.$( 'input[name=\"' + key + '\"]' );\n\t\t\t} else if ( this.$( 'select[name=\"' + key + '\"]' )[0] ) {\n\t\t\t\tfield_obj = this.$( 'select[name=\"' + key + '\"]' ).parents( '.styled-select' );\n\t\t\t} else if ( this.$( 'textarea[name=\"' + key + '\"]' )[0] ) {\n\t\t\t\tfield_obj = this.$( 'textarea[name=\"' + key + '\"]' );\n\t\t\t}\n\t\t\tif ( field_obj ) {\n\t\t\t\tfield_obj.addClass( 'error-tip' );\n\t\t\t\tvar error_string;\n\t\t\t\tif ( _.isArray( error_list[key] ) ) {\n\t\t\t\t\terror_string = error_list[key][0];\n\t\t\t\t} else {\n\t\t\t\t\terror_string = error_list[key];\n\t\t\t\t}\n\t\t\t\tfield_obj.tooltip( {\n\t\t\t\t\ttitle: error_string,\n\t\t\t\t\tcontainer: 'body',\n\t\t\t\t\ttrigger: 'hover focus'\n\t\t\t\t\t// placement: 'right'\n\t\t\t\t\t// delay: { \"show\": 0, \"hide\": 0 }\n\t\t\t\t} );\n\t\t\t\tfield_obj.tooltip( 'show' );\n\t\t\t\t// field_obj.tooltip('show');\n\t\t\t\tthis.edit_view_error_ui_dic[key] = field_obj;\n\t\t\t}\n\t\t}\n\t}\n\n\tshowErrorAlert( result ) {\n\t\tvar details = result.getDetails();\n\n\t\tif ( details.hasOwnProperty( 'error' ) ) {\n\n\t\t}\n\t\tif ( !details ) {\n\t\t\tdetails = result.getDescription(); // If the details is empty, try to get description to show.\n\t\t}\n\t\tvar error_string = '';\n\n\t\tif ( Global.isArray( details ) || typeof details === 'object' ) {\n\n\t\t\t$.each( details, function( index, val ) {\n\n\t\t\t\tif ( val.hasOwnProperty( 'error' ) ) {\n\t\t\t\t\tval = val.error;\n\t\t\t\t}\n\n\t\t\t\tfor ( var key in val ) {\n\t\t\t\t\terror_string = error_string + val[key] + '<br>';\n\t\t\t\t}\n\t\t\t} );\n\t\t} else {\n\n\t\t\terror_string = details;\n\t\t}\n\n\t\tthis.showAlert( error_string );\n\t}\n\n\tonSaveClick() {\n\t\tvar $this = this;\n\t\t// if ( _.size(this.edit_view_error_ui_dic) > 0 ) {\n\t\t// \treturn;\n\t\t// }\n\t\tthis.api['set' + this.sub_view_id]( this.model.toJSON(), {\n\t\t\tonResult: function( result ) {\n\t\t\t\tif ( result.isValid() ) {\n\t\t\t\t\tvar result_data = result.getResult();\n\t\t\t\t\tif ( result_data !== true && TTUUID.isUUID( result_data ) && result_data != TTUUID.zero_id && result_data != TTUUID.not_exist_id ) {\n\t\t\t\t\t\t$this.model.set( 'id', result_data );\n\t\t\t\t\t}\n\t\t\t\t\t$this.edit_view_error_ui_dic = {};\n\t\t\t\t\t$this['get' + $this.sub_view_id]( function() {\n\t\t\t\t\t\t$this.render();\n\t\t\t\t\t\t$this.closeEditView();\n\t\t\t\t\t} );\n\t\t\t\t} else {\n\t\t\t\t\t$this.setErrorTips( result );\n\t\t\t\t}\n\t\t\t}\n\t\t} );\n\t}\n\n\tshowAlert( content ) {\n\t\tIndexViewController.instance.router.showTipModal( content );\n\t}\n}"],"sourceRoot":""}