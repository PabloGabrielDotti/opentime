(self.webpackChunktimetrex=self.webpackChunktimetrex||[]).push([["employees-user_default-UserDefaultViewController"],{4777:(e,t,i)=>{"use strict";i.r(t),i.d(t,{"UserDefaultViewController":()=>a});class a extends BaseViewController{constructor(e={}){_.defaults(e,{company_api:null,user_preference_api:null,country_array:null,province_array:null,e_province_array:null,language_array:null,date_format_array:null,time_format_array:null,time_unit_format_array:null,distance_format_array:null,time_zone_array:null,start_week_day_array:null}),super(e)}init(e){this.permission_id="user",this.viewId="UserDefault",this.script_name="UserDefaultView",this.table_name_key="user_default",this.context_menu_name=$.i18n._("New Hire Defaults"),this.api=TTAPI.APIUserDefault,this.company_api=TTAPI.APICompany,this.user_preference_api=TTAPI.APIUserPreference,this.render(),this.buildContextMenu(),this.initData()}render(){super.render()}initOptions(e){var t=[{option_name:"language",field_name:"language",api:this.user_preference_api},{option_name:"date_format",field_name:"date_format",api:this.user_preference_api},{option_name:"time_format",field_name:"time_format",api:this.user_preference_api},{option_name:"time_unit_format",field_name:"time_unit_format",api:this.user_preference_api},{option_name:"distance_format",field_name:"distance_format",api:this.user_preference_api},{option_name:"time_zone",field_name:"time_zone",api:this.user_preference_api},{option_name:"start_week_day",field_name:"start_week_day",api:this.user_preference_api},{option_name:"country",field_name:"country",api:this.company_api}];this.initDropDownOptions(t,(function(t){e&&e(t)}))}getCustomContextMenuModel(){return{exclude:["default"],include:[ContextMenuIconName.save,ContextMenuIconName.cancel]}}getUserDefaultData(e){var t=this;t.api["get"+t.api.key_name]({onResult:function(i){var a=i.getResult();Global.isSet(a[0])?e(a[0]):t.api["get"+t.api.key_name+"DefaultData"]({onResult:function(t){var i=t.getResult();e(i)}})}})}openEditView(){var e=this;e.edit_only_mode?e.initOptions((function(t){e.edit_view||e.initEditViewUI("UserDefault","UserDefaultEditView.html"),e.getUserDefaultData((function(t){e.current_edit_record=t,e.initEditView()}))})):this.edit_view||this.initEditViewUI("UserTitle","UserTitleEditView.html")}onFormItemChange(e,t){this.setIsChanged(e),this.setMassEditingFieldsWhenFormChange(e);var i=e.getField(),a=e.getValue();switch(this.current_edit_record[i]=a,i){case"country":this.edit_view_ui_dic.province.setValue(null)}"country"!==i?t||this.validate():this.onCountryChange()}setErrorMenu(){for(var e=this.context_menu_array.length,t=0;t<e;t++){var i=$(this.context_menu_array[t]),a=$(i.find(".ribbon-sub-menu-icon")).attr("id");switch(i.removeClass("disable-image"),a){case ContextMenuIconName.cancel:break;default:i.addClass("disable-image")}}}setProvince(e,t){var i=this;e&&"-1"!==e&&"0"!==e?this.company_api.getOptions("province",e,{onResult:function(e){(e=e.getResult())||(e=[]),i.province_array=Global.buildRecordArray(e)}}):i.province_array=[]}eSetProvince(e,t){var i=this,a=i.edit_view_ui_dic.province;e&&"-1"!==e&&"0"!==e?this.company_api.getOptions("province",e,{onResult:function(e){(e=e.getResult())||(e=[]),i.e_province_array=Global.buildRecordArray(e),t&&i.e_province_array.length>0&&(i.current_edit_record.province=i.e_province_array[0].value,a.setValue(i.current_edit_record.province)),a.setSourceData(i.e_province_array)}}):(i.e_province_array=[],a.setSourceData([]))}buildEditViewUI(){var e=this;super.buildEditViewUI();var t={"tab_employee_id":{"label":$.i18n._("Employee Identification")},"tab_contact_info":{"label":$.i18n._("Contact Information")},"tab_employee_preference":{"label":$.i18n._("Employee Preferences")},"tab_email_info":{"label":$.i18n._("Email Notifications")},"tab_tax_deduction":{"label":$.i18n._("Employee Tax / Deductions")},"tab_audit":!0};this.setTabModel(t);var i,a=this.edit_view_tab.find("#tab_employee_id").find(".first-column");this.edit_view_tabs[0]=[],this.edit_view_tabs[0].push(a),(i=Global.loadWidgetByName(FormItemType.AWESOME_BOX)).AComboBox({api_class:TTAPI.APILegalEntity,allow_multiple_selection:!1,layout_name:"global_legal_entity",show_search_inputs:!0,field:"legal_entity_id"}),this.addEditFieldToColumn($.i18n._("Legal Entity"),i,a),(i=Global.loadWidgetByName(FormItemType.AWESOME_BOX)).AComboBox({api_class:TTAPI.APIPermissionControl,allow_multiple_selection:!1,layout_name:"global_permission_control",set_empty:!0,show_search_inputs:!0,field:"permission_control_id"}),this.addEditFieldToColumn($.i18n._("Permission Group"),i,a,""),(i=Global.loadWidgetByName(FormItemType.AWESOME_BOX)).AComboBox({api_class:TTAPI.APIPermissionControl,allow_multiple_selection:!1,layout_name:"global_permission_control",set_empty:!0,show_search_inputs:!0,field:"terminated_permission_control_id"}),this.addEditFieldToColumn($.i18n._("Terminated Permission Group"),i,a,""),(i=Global.loadWidgetByName(FormItemType.AWESOME_BOX)).AComboBox({api_class:TTAPI.APIPayPeriodSchedule,allow_multiple_selection:!1,layout_name:"global_pay_period_schedule",show_search_inputs:!0,set_empty:!0,field:"pay_period_schedule_id"}),this.addEditFieldToColumn($.i18n._("Pay Period Schedule"),i,a),(i=Global.loadWidgetByName(FormItemType.AWESOME_BOX)).AComboBox({api_class:TTAPI.APIPolicyGroup,allow_multiple_selection:!1,layout_name:"global_policy_group",show_search_inputs:!0,set_empty:!0,field:"policy_group_id"}),this.addEditFieldToColumn($.i18n._("Policy Group"),i,a),(i=Global.loadWidgetByName(FormItemType.AWESOME_BOX)).AComboBox({api_class:TTAPI.APICurrency,allow_multiple_selection:!1,layout_name:"global_currency",show_search_inputs:!0,set_empty:!0,field:"currency_id"}),this.addEditFieldToColumn($.i18n._("Currency"),i,a),(i=Global.loadWidgetByName(FormItemType.AWESOME_BOX)).AComboBox({api_class:TTAPI.APIUserTitle,allow_multiple_selection:!1,layout_name:"global_job_title",show_search_inputs:!0,set_empty:!0,field:"title_id"}),this.addEditFieldToColumn($.i18n._("Title"),i,a),(i=Global.loadWidgetByName(FormItemType.AWESOME_BOX)).AComboBox({api_class:TTAPI.APIBranch,allow_multiple_selection:!1,layout_name:"global_branch",show_search_inputs:!0,set_empty:!0,field:"default_branch_id"}),this.addEditFieldToColumn($.i18n._("Default Branch"),i,a),(i=Global.loadWidgetByName(FormItemType.AWESOME_BOX)).AComboBox({api_class:TTAPI.APIDepartment,allow_multiple_selection:!1,layout_name:"global_department",show_search_inputs:!0,set_empty:!0,field:"default_department_id"}),this.addEditFieldToColumn($.i18n._("Default Department"),i,a,"");var o=this.edit_view_tab.find("#tab_contact_info").find(".first-column");this.edit_view_tabs[1]=[],this.edit_view_tabs[1].push(o),(i=Global.loadWidgetByName(FormItemType.TEXT_INPUT)).TTextInput({field:"city",width:149}),this.addEditFieldToColumn($.i18n._("City"),i,o,""),(i=Global.loadWidgetByName(FormItemType.COMBO_BOX)).TComboBox({field:"country",set_empty:!0}),i.setSourceData(e.country_array),this.addEditFieldToColumn($.i18n._("Country"),i,o),(i=Global.loadWidgetByName(FormItemType.COMBO_BOX)).TComboBox({field:"province"}),i.setSourceData([]),this.addEditFieldToColumn($.i18n._("Province / State"),i,o),(i=Global.loadWidgetByName(FormItemType.TEXT_INPUT)).TTextInput({field:"work_phone",width:149}),this.addEditFieldToColumn($.i18n._("Work Phone"),i,o),(i=Global.loadWidgetByName(FormItemType.TEXT_INPUT)).TTextInput({field:"work_phone_ext"}),i.css("width","50"),this.addEditFieldToColumn($.i18n._("Work Phone Ext"),i,o),(i=Global.loadWidgetByName(FormItemType.TEXT_INPUT)).TTextInput({field:"work_email",width:219}),this.addEditFieldToColumn($.i18n._("Work Email"),i,o,"");var l=this.edit_view_tab.find("#tab_employee_preference").find(".first-column");this.edit_view_tabs[2]=[],this.edit_view_tabs[2].push(l),(i=Global.loadWidgetByName(FormItemType.COMBO_BOX)).TComboBox({field:"language",set_empty:!0}),i.setSourceData(e.language_array),this.addEditFieldToColumn($.i18n._("Language"),i,l,""),(i=Global.loadWidgetByName(FormItemType.COMBO_BOX)).TComboBox({field:"date_format",set_empty:!0}),i.setSourceData(e.date_format_array),this.addEditFieldToColumn($.i18n._("Date Format"),i,l),(i=Global.loadWidgetByName(FormItemType.COMBO_BOX)).TComboBox({field:"time_format",set_empty:!0}),i.setSourceData(e.time_format_array),this.addEditFieldToColumn($.i18n._("Time Format"),i,l),(i=Global.loadWidgetByName(FormItemType.COMBO_BOX)).TComboBox({field:"time_unit_format",set_empty:!0}),i.setSourceData(e.time_unit_format_array),this.addEditFieldToColumn($.i18n._("Time Units"),i,l),(i=Global.loadWidgetByName(FormItemType.COMBO_BOX)).TComboBox({field:"distance_format",set_empty:!0}),i.setSourceData(e.distance_format_array),this.addEditFieldToColumn($.i18n._("Distance Units"),i,l),(i=Global.loadWidgetByName(FormItemType.COMBO_BOX)).TComboBox({field:"time_zone",set_empty:!0}),i.setSourceData(e.time_zone_array),this.addEditFieldToColumn($.i18n._("Time Zone"),i,l),(i=Global.loadWidgetByName(FormItemType.COMBO_BOX)).TComboBox({field:"start_week_day"}),i.setSourceData(e.start_week_day_array),this.addEditFieldToColumn($.i18n._("Calendar Starts On"),i,l),(i=Global.loadWidgetByName(FormItemType.TEXT_INPUT)).TTextInput({field:"items_per_page",width:50}),this.addEditFieldToColumn($.i18n._("Rows per page"),i,l,"");var n=this.edit_view_tab.find("#tab_email_info").find(".first-column");this.edit_view_tabs[3]=[],this.edit_view_tabs[3].push(n),(i=Global.loadWidgetByName(FormItemType.CHECKBOX)).TCheckbox({field:"enable_email_notification_exception"}),this.addEditFieldToColumn($.i18n._("Exceptions"),i,n,""),(i=Global.loadWidgetByName(FormItemType.CHECKBOX)).TCheckbox({field:"enable_email_notification_message"}),this.addEditFieldToColumn($.i18n._("Messages"),i,n),(i=Global.loadWidgetByName(FormItemType.CHECKBOX)).TCheckbox({field:"enable_email_notification_pay_stub"}),this.addEditFieldToColumn($.i18n._("Pay Stubs"),i,n),(i=Global.loadWidgetByName(FormItemType.CHECKBOX)).TCheckbox({field:"enable_email_notification_home"}),this.addEditFieldToColumn($.i18n._("Send Notifications to Home Email"),i,n,"");var _=this.edit_view_tab.find("#tab_tax_deduction").find(".first-column");this.edit_view_tabs[4]=[],this.edit_view_tabs[4].push(_),(i=Global.loadWidgetByName(FormItemType.AWESOME_BOX)).AComboBox({field:"company_deduction",layout_name:"global_deduction",api_class:TTAPI.APICompanyDeduction,allow_multiple_selection:!0,set_empty:!0}),this.addEditFieldToColumn($.i18n._("Tax / Deductions"),i,_,"first_last")}}}}]);
//# sourceMappingURL=employees-user_default-UserDefaultViewController.bundle.js.map?v=8152369f59d680ca3d9e