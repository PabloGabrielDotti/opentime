(self.webpackChunktimetrex=self.webpackChunktimetrex||[]).push([["search_panel-SearchPanel"],{4057:()=>{var e;(e=jQuery).fn.SearchPanel=function(a){var t,i=e.extend({},e.fn.SearchPanel.defaults,a),n=!0,l=null,s=null,r=this,c=0,o=null,h=0,d=null,u=!0,f=!1;function b(){s.grid&&(s.setGridSize(),s.setGridColumnsWidth(),s.column_selector&&s.column_selector.setGridColumnsWidths())}return this.isAdvTabVisible=function(){return!f},this.isCollapsed=function(){return n},this.hideAdvSearchPanel=function(){e(t).find("li[aria-controls=adv_search]").remove(),f=!0},this.setSearchFlag=function(a){var t=this.find("a[href='#basic_search']"),i=this.find("a[href='#adv_search']");t.removeClass("active-label"),i.removeClass("active-label");var n=!1;for(var l in a)"country"===l&&a[l].value==TTUUID.not_exist_id||-1!==e.inArray(l,["private","template","is_attachment"])&&0==a[l].value||("hierarchy_level"!==l||1!=a[l].value&&1!=a[l].value.value)&&(n=!0);n?(e(this).find(".search-flag").remove(),0===c||f?(t.addClass("active-label"),t.html(e.i18n._("BASIC SEARCH")+"<img title='"+e.i18n._("Search is currently active")+"' src='"+Global.getRealImagePath("css/global/widgets/ribbon/icons/alert-16x16.png")+"' class='search-flag'> </img>")):(i.addClass("active-label"),i.html(e.i18n._("ADVANCED SEARCH")+"<img title='"+e.i18n._("Search is currently active")+"' src='"+Global.getRealImagePath("css/global/widgets/ribbon/icons/alert-16x16.png")+"' class='search-flag'> </img>"))):e(this).find(".search-flag").remove()},this.setSelectTabIndex=function(a,i){c!==a&&(u=!Global.isSet(i)||i,e(t).tabs("option","active",a))},this.getLastSelectTabIndex=function(){return h},this.getLastSelectTabId=function(){return d?e(d.tab).attr("ref"):"basic_search"},this.getSelectTabIndex=function(){return c},this.getLayoutsArray=function(){return l},this.setLayoutsArray=function(a){l=a;var t=e(this).find("#layout_selector"),i=e(this).find(".layout-selector-div");if(e(t).empty(),l&&l.length>0){for(var n=l.length,r=0;r<n;r++){var c=l[r];e(t).append(e('<option value="'+c.id+'"></option>').text(c.name))}e(e(t).find("option")).filter((function(){return e(this).attr("value")==s.select_layout.id})).prop("selected",!0).attr("selected",!0),e(i).css("display","block")}else e(i).css("display","none")},this.setReleatedViewController=function(e){s=e},this.each((function(){var a=e.meta?e.extend({},i,e(this).data()):i,f=e(this).find("a[href='#basic_search']"),v=e(this).find("a[href='#adv_search']"),g=e(this).find("a[href='#saved_layout']"),p=e(this).find(".current-view-label");f.html(e.i18n._("BASIC SEARCH")),v.html(e.i18n._("ADVANCED SEARCH")),g.html(e.i18n._("SAVED SEARCH & LAYOUT")),p.html(e.i18n._("Current View")+":"),t=e(this).find(".search-panel-tab-bar");var m=e(this).find("#collapseBtn"),_=e(this).find(".search-panel-tab-outside"),C=e(this).find(".search-panel-tab"),S=e(this).find("#layout_selector"),y=(Global.loadWidget("global/widgets/awesomebox/ADropDown.html"),e(this).find(".search-btn-div")),A=e(this).find("#refreshBtn");A.bind("click",(function(){A.addClass("button-rotate"),s.search(),Global.triggerAnalyticsNavigationOther("click:refresh_data","click",s.viewId)})),e(y).css("display","none");var x=e(y).find("#searchBtn"),k=e(y).find("#clearSearchBtn");function w(){n?(n=!1,e(m).removeClass("expend-btn"),e(_).removeClass("search-panel-tab-outside-collapse"),e(C).removeClass("search-panel-tab-collapse"),e(y).css("display","block")):(n=!0,e(m).addClass("expend-btn"),e(_).addClass("search-panel-tab-outside-collapse"),e(C).addClass("search-panel-tab-collapse"),e(y).css("display","none")),b()}x.text(e.i18n._("Search")),k.text(e.i18n._("Clear Search")),x.click((function(){setTimeout((function(){s.onSearch()}),100)})),k.click((function(){s.onClearSearch()})),s=a.viewController,e(S).on("change",(function(){s.layout_changed=!0;for(var a=e(S).find("option:selected").attr("value"),t=l.length,i=0;i<t;i++){var n=l[i];if(n.id==a){s.select_layout=n,s.setSelectLayout(),s.search();break}}Global.triggerAnalyticsNavigationOther("searchpanel:layout_change","click",s.viewId)})),e(t).tabs({"activate":function(e,a){h=c,d=o,c=a.newTab.index(),o=a,u?r.trigger("searchTabSelect",[e,a.newPanel]):u=!0,n&&w(),b(),Global.triggerAnalyticsTabs(e,a)}}),e(t).find("li").click((function(e){n&&w()})),e(m).click(w)})),this},e.fn.SearchPanel.defaults={}}}]);
//# sourceMappingURL=search_panel-SearchPanel.bundle.js.map?v=0f9ba3616065a1b330b8