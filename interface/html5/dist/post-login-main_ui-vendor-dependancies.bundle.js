(self.webpackChunktimetrex=self.webpackChunktimetrex||[]).push([["post-login-main_ui-vendor-dependancies"],{8978:()=>{!function(e){var t=Math.abs,i=Math.max,r=Math.min,a=Math.round;function n(){return e("<div/>")}e.imgAreaSelect=function(o,s){var l,d,c,u,h,p,f,m,g,v,b,y,w,$,x,_,C,j,D,S,k,O,F,I,q,R,M,T,N,G=e(o),E=n(),A=n(),z=n().add(n()).add(n()).add(n()),P=n().add(n()).add(n()).add(n()),B=e([]),L={left:0,top:0},H={left:0,top:0},V=0,W="absolute",U={x1:0,y1:0,x2:0,y2:0,width:0,height:0},Y=document.documentElement,X=navigator.userAgent;function K(e){return e+L.left-H.left}function J(e){return e+L.top-H.top}function Q(e){return e-L.left+H.left}function Z(e){return e-L.top+H.top}function ee(e){return e.pageX-H.left}function te(e){return e.pageY-H.top}function ie(e){var t=e||v,i=e||b;return{x1:a(U.x1*t),y1:a(U.y1*i),x2:a(U.x2*t),y2:a(U.y2*i),width:a(U.x2*t)-a(U.x1*t),height:a(U.y2*i)-a(U.y1*i)}}function re(e,t,i,r,n){var o=n||v,s=n||b;(U={x1:a(e/o||0),y1:a(t/s||0),x2:a(i/o||0),y2:a(r/s||0)}).width=U.x2-U.x1,U.height=U.y2-U.y1}function ae(){l&&G.width()&&(L={left:a(G.offset().left),top:a(G.offset().top)},h=G.innerWidth(),p=G.innerHeight(),L.top+=G.outerHeight()-p>>1,L.left+=G.outerWidth()-h>>1,w=a(s.minWidth/v)||0,$=a(s.minHeight/b)||0,x=a(r(s.maxWidth/v||1<<24,h)),_=a(r(s.maxHeight/b||1<<24,p)),"1.3.2"!=e().jquery||"fixed"!=W||Y.getBoundingClientRect||(L.top+=i(document.body.scrollTop,Y.scrollTop),L.left+=i(document.body.scrollLeft,Y.scrollLeft)),H=/absolute|relative/.test(f.css("position"))?{left:a(f.offset().left)-f.scrollLeft(),top:a(f.offset().top)-f.scrollTop()}:"fixed"==W?{left:e(document).scrollLeft(),top:e(document).scrollTop()}:{left:0,top:0},c=K(0),u=J(0),(U.x2>h||U.y2>p)&&he())}function ne(t){if(j){switch(E.css({left:K(U.x1),top:J(U.y1)}).add(A).width(M=U.width).height(T=U.height),A.add(z).add(B).css({left:0,top:0}),z.width(i(M-z.outerWidth()+z.innerWidth(),0)).height(i(T-z.outerHeight()+z.innerHeight(),0)),e(P[0]).css({left:c,top:u,width:U.x1,height:p}),e(P[1]).css({left:c+U.x1,top:u,width:M,height:U.y1}),e(P[2]).css({left:c+U.x2,top:u,width:h-U.x2,height:p}),e(P[3]).css({left:c+U.x1,top:u+U.y2,width:M,height:p-U.y2}),M-=B.outerWidth(),T-=B.outerHeight(),B.length){case 8:e(B[4]).css({left:M>>1}),e(B[5]).css({left:M,top:T>>1}),e(B[6]).css({left:M>>1,top:T}),e(B[7]).css({top:T>>1});case 4:B.slice(1,3).css({left:M}),B.slice(2,4).css({top:T})}!1!==t&&(e.imgAreaSelect.onKeyPress!=$e&&e(document).unbind(e.imgAreaSelect.keyPress,e.imgAreaSelect.onKeyPress),s.keys&&e(document)[e.imgAreaSelect.keyPress](e.imgAreaSelect.onKeyPress=$e)),Ce&&z.outerWidth()-z.innerWidth()==2&&(z.css("margin",0),setTimeout((function(){z.css("margin","auto")}),0))}}function oe(e){ae(),ne(e),D=K(U.x1),S=J(U.y1),k=K(U.x2),O=J(U.y2)}function se(e,t){s.fadeSpeed?e.fadeOut(s.fadeSpeed,t):e.hide()}function le(e){var t=Q(ee(e))-U.x1,i=Z(te(e))-U.y1;N||(ae(),N=!0,E.one("mouseout",(function(){N=!1}))),y="",s.resizable&&(i<=s.resizeMargin?y="n":i>=U.height-s.resizeMargin&&(y="s"),t<=s.resizeMargin?y+="w":t>=U.width-s.resizeMargin&&(y+="e")),E.css("cursor",y?y+"-resize":s.movable?"move":""),d&&d.toggle()}function de(t){e("body").css("cursor",""),(s.autoHide||U.width*U.height==0)&&se(E.add(P),(function(){e(this).hide()})),e(document).unbind("mousemove",pe),E.mousemove(le),s.onSelectEnd(o,ie())}function ce(t){return 1!=t.which||(ae(),y?(e("body").css("cursor",y+"-resize"),D=K(U[/w/.test(y)?"x2":"x1"]),S=J(U[/n/.test(y)?"y2":"y1"]),e(document).mousemove(pe).one("mouseup",de),E.unbind("mousemove",le)):s.movable?(m=c+U.x1-ee(t),g=u+U.y1-te(t),E.unbind("mousemove",le),e(document).mousemove(me).one("mouseup",(function(){s.onSelectEnd(o,ie()),e(document).unbind("mousemove",me),E.mousemove(le)}))):G.mousedown(t)),!1}function ue(e){C&&(e?(k=i(c,r(c+h,D+t(O-S)*C*(k>D||-1))),O=a(i(u,r(u+p,S+t(k-D)/C*(O>S||-1)))),k=a(k)):(O=i(u,r(u+p,S+t(k-D)/C*(O>S||-1))),k=a(i(c,r(c+h,D+t(O-S)*C*(k>D||-1)))),O=a(O)))}function he(){D=r(D,c+h),S=r(S,u+p),t(k-D)<w&&((k=D-w*(k<D||-1))<c?D=c+w:k>c+h&&(D=c+h-w)),t(O-S)<$&&((O=S-$*(O<S||-1))<u?S=u+$:O>u+p&&(S=u+p-$)),k=i(c,r(k,c+h)),O=i(u,r(O,u+p)),ue(t(k-D)<t(O-S)*C),t(k-D)>x&&(k=D-x*(k<D||-1),ue()),t(O-S)>_&&(O=S-_*(O<S||-1),ue(!0)),U={x1:Q(r(D,k)),x2:Q(i(D,k)),y1:Z(r(S,O)),y2:Z(i(S,O)),width:t(k-D),height:t(O-S)},ne(),s.onSelectChange(o,ie())}function pe(e){return k=/w|e|^$/.test(y)||C?ee(e):K(U.x2),O=/n|s|^$/.test(y)||C?te(e):J(U.y2),he(),!1}function fe(t,i){k=(D=t)+U.width,O=(S=i)+U.height,e.extend(U,{x1:Q(D),y1:Z(S),x2:Q(k),y2:Z(O)}),ne(),s.onSelectChange(o,ie())}function me(e){return D=i(c,r(m+ee(e),c+h-U.width)),S=i(u,r(g+te(e),u+p-U.height)),fe(D,S),e.preventDefault(),!1}function ge(){e(document).unbind("mousemove",ge),ae(),k=D,O=S,he(),y="",P.is(":visible")||E.add(P).hide().fadeIn(s.fadeSpeed||0),j=!0,e(document).unbind("mouseup",ve).mousemove(pe).one("mouseup",de),E.unbind("mousemove",le),s.onSelectStart(o,ie())}function ve(){e(document).unbind("mousemove",ge).unbind("mouseup",ve),se(E.add(P)),re(Q(D),Z(S),Q(D),Z(S)),this instanceof e.imgAreaSelect||(s.onSelectChange(o,ie()),s.onSelectEnd(o,ie()))}function be(t){return 1!=t.which||P.is(":animated")||(ae(),m=D=ee(t),g=S=te(t),e(document).mousemove(ge).mouseup(ve)),!1}function ye(){oe(!1)}function we(){l=!0,_e(s=e.extend({classPrefix:"imgareaselect",movable:!0,parent:"body",resizable:!0,resizeMargin:10,onInit:function(){},onSelectStart:function(){},onSelectChange:function(){},onSelectEnd:function(){}},s)),E.add(P).css({visibility:""}),s.show&&(j=!0,ae(),ne(),E.add(P).hide().fadeIn(s.fadeSpeed||0)),setTimeout((function(){s.onInit(o,ie())}),0)}var $e=function(e){var t,a,n=s.keys,o=e.keyCode;if(t=isNaN(n.alt)||!e.altKey&&!e.originalEvent.altKey?!isNaN(n.ctrl)&&e.ctrlKey?n.ctrl:!isNaN(n.shift)&&e.shiftKey?n.shift:isNaN(n.arrows)?10:n.arrows:n.alt,"resize"==n.arrows||"resize"==n.shift&&e.shiftKey||"resize"==n.ctrl&&e.ctrlKey||"resize"==n.alt&&(e.altKey||e.originalEvent.altKey)){switch(o){case 37:t=-t;case 39:a=i(D,k),D=r(D,k),k=i(a+t,D),ue();break;case 38:t=-t;case 40:a=i(S,O),S=r(S,O),O=i(a+t,S),ue(!0);break;default:return}he()}else switch(D=r(D,k),S=r(S,O),o){case 37:fe(i(D-t,c),S);break;case 38:fe(D,i(S-t,u));break;case 39:fe(D+r(t,h-Q(k)),S);break;case 40:fe(D,S+r(t,p-Z(O)));break;default:return}return!1};function xe(e,t){for(var i in t)void 0!==s[i]&&e.css(t[i],s[i])}function _e(t){if(t.parent&&(f=e(t.parent)).append(E.add(P)),e.extend(s,t),ae(),null!=t.handles){for(B.remove(),B=e([]),q=t.handles?"corners"==t.handles?4:8:0;q--;)B=B.add(n());B.addClass(s.classPrefix+"-handle").css({position:"absolute",fontSize:0,zIndex:V+1||1}),!parseInt(B.css("width"))>=0&&B.width(5).height(5),(R=s.borderWidth)&&B.css({borderWidth:R,borderStyle:"solid"}),xe(B,{borderColor1:"border-color",borderColor2:"background-color",borderOpacity:"opacity"})}for(v=s.imageWidth/h||1,b=s.imageHeight/p||1,null!=t.x1&&(re(t.x1,t.y1,t.x2,t.y2),t.show=!t.hide),t.keys&&(s.keys=e.extend({shift:1,ctrl:"resize"},t.keys)),P.addClass(s.classPrefix+"-outer"),A.addClass(s.classPrefix+"-selection"),q=0;q++<4;)e(z[q-1]).addClass(s.classPrefix+"-border"+q);xe(A,{selectionColor:"background-color",selectionOpacity:"opacity"}),xe(z,{borderOpacity:"opacity",borderWidth:"border-width"}),xe(P,{outerColor:"background-color",outerOpacity:"opacity"}),(R=s.borderColor1)&&e(z[0]).css({borderStyle:"solid",borderColor:R}),(R=s.borderColor2)&&e(z[1]).css({borderStyle:"dashed",borderColor:R}),E.append(A.add(z).add(d)).append(B),Ce&&((R=(P.css("filter")||"").match(/opacity=(\d+)/))&&P.css("opacity",R[1]/100),(R=(z.css("filter")||"").match(/opacity=(\d+)/))&&z.css("opacity",R[1]/100)),t.hide?se(E.add(P)):t.show&&l&&(j=!0,E.add(P).fadeIn(s.fadeSpeed||0),oe()),C=(I=(s.aspectRatio||"").split(/:/))[0]/I[1],G.add(P).unbind("mousedown",be),s.disable||!1===s.enable?(E.unbind("mousemove",le).unbind("mousedown",ce),e(window).unbind("resize",ye)):((s.enable||!1===s.disable)&&((s.resizable||s.movable)&&E.mousemove(le).mousedown(ce),e(window).resize(ye)),s.persistent||G.add(P).mousedown(be)),s.enable=s.disable=void 0}this.remove=function(){_e({disable:!0}),E.add(P).remove()},this.getOptions=function(){return s},this.setOptions=_e,this.getSelection=ie,this.setSelection=re,this.cancelSelection=ve,this.update=oe;var Ce=(/msie ([\w.]+)/i.exec(X)||[])[1],je=/opera/i.test(X),De=/webkit/i.test(X)&&!/chrome/i.test(X);for(F=G;F.length;)V=i(V,isNaN(F.css("z-index"))?V:F.css("z-index")),"fixed"==F.css("position")&&(W="fixed"),F=F.parent(":not(body)");V=s.zIndex||V,Ce&&G.attr("unselectable","on"),e.imgAreaSelect.keyPress=Ce||De?"keydown":"keypress",je&&(d=n().css({width:"100%",height:"100%",position:"absolute",zIndex:V+2||2})),E.add(P).css({visibility:"hidden",position:W,overflow:"hidden",zIndex:V||"0"}),E.css({zIndex:V+2||2}),A.add(z).css({position:"absolute",fontSize:0}),o.complete||"complete"==o.readyState||!G.is("img")?we():G.one("load",we),!l&&Ce&&Ce>=7&&(o.src=o.src)},e.fn.imgAreaSelect=function(t){return t=t||{},this.each((function(){e(this).data("imgAreaSelect")?t.remove?(e(this).data("imgAreaSelect").remove(),e(this).removeData("imgAreaSelect")):e(this).data("imgAreaSelect").setOptions(t):t.remove||(void 0===t.enable&&void 0===t.disable&&(t.enable=!0),e(this).data("imgAreaSelect",new e.imgAreaSelect(this,t)))})),t.instance?e(this).data("imgAreaSelect"):this}}(jQuery)},7420:(module,exports,__webpack_require__)=>{var __WEBPACK_AMD_DEFINE_FACTORY__,__WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__,factory;factory=function($){"use strict";var escape=/["\\\x00-\x1f\x7f-\x9f]/g,meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},hasOwn=Object.prototype.hasOwnProperty;$.toJSON="object"==typeof JSON&&JSON.stringify?JSON.stringify:function(e){if(null===e)return"null";var t,i,r,a,n=$.type(e);if("undefined"!==n){if("number"===n||"boolean"===n)return String(e);if("string"===n)return $.quoteString(e);if("function"==typeof e.toJSON)return $.toJSON(e.toJSON());if("date"===n){var o=e.getUTCMonth()+1,s=e.getUTCDate(),l=e.getUTCFullYear(),d=e.getUTCHours(),c=e.getUTCMinutes(),u=e.getUTCSeconds(),h=e.getUTCMilliseconds();return o<10&&(o="0"+o),s<10&&(s="0"+s),d<10&&(d="0"+d),c<10&&(c="0"+c),u<10&&(u="0"+u),h<100&&(h="0"+h),h<10&&(h="0"+h),'"'+l+"-"+o+"-"+s+"T"+d+":"+c+":"+u+"."+h+'Z"'}if(t=[],$.isArray(e)){for(i=0;i<e.length;i++)t.push($.toJSON(e[i])||"null");return"["+t.join(",")+"]"}if("object"==typeof e){for(i in e)if(hasOwn.call(e,i)){if("number"==(n=typeof i))r='"'+i+'"';else{if("string"!==n)continue;r=$.quoteString(i)}"function"!=(n=typeof e[i])&&"undefined"!==n&&(a=$.toJSON(e[i]),t.push(r+":"+a))}return"{"+t.join(",")+"}"}}},$.evalJSON="object"==typeof JSON&&JSON.parse?JSON.parse:function(str){return eval("("+str+")")},$.secureEvalJSON="object"==typeof JSON&&JSON.parse?JSON.parse:function(str){var filtered=str.replace(/\\["\\\/bfnrtu]/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"");if(/^[\],:{}\s]*$/.test(filtered))return eval("("+str+")");throw new SyntaxError("Error parsing JSON, source is not valid.")},$.quoteString=function(e){return e.match(escape)?'"'+e.replace(escape,(function(e){var t=meta[e];return"string"==typeof t?t:(t=e.charCodeAt(),"\\u00"+Math.floor(t/16).toString(16)+(t%16).toString(16))}))+'"':'"'+e+'"'}},__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__(9755)],void 0===(__WEBPACK_AMD_DEFINE_RESULT__="function"==typeof(__WEBPACK_AMD_DEFINE_FACTORY__=factory)?__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__):__WEBPACK_AMD_DEFINE_FACTORY__)||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)},6795:()=>{!function(e,t,i,r){var a="touchstart mousedown",n="touchmove mousemove",o="touchend mouseup";e(i).ready((function(){function t(e){for(var t={},i=e.match(/([^;:]+)/g)||[];i.length;)t[i.shift()]=i.shift().trim();return t}e("table").each((function(){"dnd"===e(this).data("table")&&e(this).tableDnD({onDragStyle:e(this).data("ondragstyle")&&t(e(this).data("ondragstyle"))||null,onDropStyle:e(this).data("ondropstyle")&&t(e(this).data("ondropstyle"))||null,onDragClass:undefined===e(this).data("ondragclass")?"tDnD_whileDrag":e(this).data("ondragclass"),onDrop:e(this).data("ondrop")&&new Function("table","row",e(this).data("ondrop")),onDragStart:e(this).data("ondragstart")&&new Function("table","row",e(this).data("ondragstart")),onDragStop:e(this).data("ondragstop")&&new Function("table","row",e(this).data("ondragstop")),scrollAmount:e(this).data("scrollamount")||5,sensitivity:e(this).data("sensitivity")||10,hierarchyLevel:e(this).data("hierarchylevel")||0,indentArtifact:e(this).data("indentartifact")||'<div class="indent">&nbsp;</div>',autoWidthAdjust:e(this).data("autowidthadjust")||!0,autoCleanRelations:e(this).data("autocleanrelations")||!0,jsonPretifySeparator:e(this).data("jsonpretifyseparator")||"\t",serializeRegexp:e(this).data("serializeregexp")&&new RegExp(e(this).data("serializeregexp"))||/[^\-]*$/,serializeParamName:e(this).data("serializeparamname")||!1,dragHandle:e(this).data("draghandle")||null})}))})),jQuery.tableDnD={currentTable:null,dragObject:null,mouseOffset:null,oldX:0,oldY:0,build:function(t){return this.each((function(){this.tableDnDConfig=e.extend({onDragStyle:null,onDropStyle:null,onDragClass:"tDnD_whileDrag",onDrop:null,onDragStart:null,onDragStop:null,scrollAmount:5,sensitivity:10,hierarchyLevel:0,indentArtifact:'<div class="indent">&nbsp;</div>',autoWidthAdjust:!0,autoCleanRelations:!0,jsonPretifySeparator:"\t",serializeRegexp:/[^\-]*$/,serializeParamName:!1,dragHandle:null},t||{}),e.tableDnD.makeDraggable(this),this.tableDnDConfig.hierarchyLevel&&e.tableDnD.makeIndented(this)})),this},makeIndented:function(t){var i,r,a=t.tableDnDConfig,n=t.rows,o=e(n).first().find("td:first")[0],s=0,l=0;if(e(t).hasClass("indtd"))return null;r=e(t).addClass("indtd").attr("style"),e(t).css({whiteSpace:"nowrap"});for(var d=0;d<n.length;d++)l<e(n[d]).find("td:first").text().length&&(l=e(n[d]).find("td:first").text().length,i=d);for(e(o).css({width:"auto"}),d=0;d<a.hierarchyLevel;d++)e(n[i]).find("td:first").prepend(a.indentArtifact);for(o&&e(o).css({width:o.offsetWidth}),r&&e(t).css(r),d=0;d<a.hierarchyLevel;d++)e(n[i]).find("td:first").children(":first").remove();return a.hierarchyLevel&&e(n).each((function(){(s=e(this).data("level")||0)<=a.hierarchyLevel&&e(this).data("level",s)||e(this).data("level",0);for(var t=0;t<e(this).data("level");t++)e(this).find("td:first").prepend(a.indentArtifact)})),this},makeDraggable:function(t){var i=t.tableDnDConfig;i.dragHandle&&e(i.dragHandle,t).each((function(){e(this).bind(a,(function(r){return e.tableDnD.initialiseDrag(e(this).parents("tr")[0],t,this,r,i),!1}))}))||e(t.rows).each((function(){e(this).hasClass("nodrag")?e(this).css("cursor",""):e(this).bind(a,(function(r){if("TD"===r.target.tagName)return e.tableDnD.initialiseDrag(this,t,this,r,i),!1})).css("cursor","move")}))},currentOrder:function(){var t=this.currentTable.rows;return e.map(t,(function(t){return(e(t).data("level")+t.id).replace(/\s/g,"")})).join("")},initialiseDrag:function(t,r,a,s,l){this.dragObject=t,this.currentTable=r,this.mouseOffset=this.getMouseOffset(a,s),this.originalOrder=this.currentOrder(),e(i).bind(n,this.mousemove).bind(o,this.mouseup),l.onDragStart&&l.onDragStart(r,a)},updateTables:function(){this.each((function(){this.tableDnDConfig&&e.tableDnD.makeDraggable(this)}))},mouseCoords:function(e){return e.originalEvent.changedTouches?{x:e.originalEvent.changedTouches[0].clientX,y:e.originalEvent.changedTouches[0].clientY}:e.pageX||e.pageY?{x:e.pageX,y:e.pageY}:{x:e.clientX+i.body.scrollLeft-i.body.clientLeft,y:e.clientY+i.body.scrollTop-i.body.clientTop}},getMouseOffset:function(e,i){var r,a;return i=i||t.event,a=this.getPosition(e),{x:(r=this.mouseCoords(i)).x-a.x,y:r.y-a.y}},getPosition:function(e){var t=0,i=0;for(0===e.offsetHeight&&(e=e.firstChild);e.offsetParent;)t+=e.offsetLeft,i+=e.offsetTop,e=e.offsetParent;return{x:t+=e.offsetLeft,y:i+=e.offsetTop}},autoScroll:function(e){var r=this.currentTable.tableDnDConfig,a=t.pageYOffset,n=t.innerHeight?t.innerHeight:i.documentElement.clientHeight?i.documentElement.clientHeight:i.body.clientHeight;i.all&&(void 0!==i.compatMode&&"BackCompat"!==i.compatMode?a=i.documentElement.scrollTop:void 0!==i.body&&(a=i.body.scrollTop)),e.y-a<r.scrollAmount&&t.scrollBy(0,-r.scrollAmount)||n-(e.y-a)<r.scrollAmount&&t.scrollBy(0,r.scrollAmount)},moveVerticle:function(e,t){0!==e.vertical&&t&&this.dragObject!==t&&this.dragObject.parentNode===t.parentNode&&(0>e.vertical&&this.dragObject.parentNode.insertBefore(this.dragObject,t.nextSibling)||0<e.vertical&&this.dragObject.parentNode.insertBefore(this.dragObject,t))},moveHorizontal:function(t,i){var r,a=this.currentTable.tableDnDConfig;if(!a.hierarchyLevel||0===t.horizontal||!i||this.dragObject!==i)return null;r=e(i).data("level"),0<t.horizontal&&r>0&&e(i).find("td:first").children(":first").remove()&&e(i).data("level",--r),0>t.horizontal&&r<a.hierarchyLevel&&e(i).prev().data("level")>=r&&e(i).children(":first").prepend(a.indentArtifact)&&e(i).data("level",++r)},mousemove:function(t){var i,r,a,n,o,s=e(e.tableDnD.dragObject),l=e.tableDnD.currentTable.tableDnDConfig;return t&&t.preventDefault(),!!e.tableDnD.dragObject&&("touchmove"===t.type&&event.preventDefault(),l.onDragClass&&s.addClass(l.onDragClass)||s.css(l.onDragStyle),n=(r=e.tableDnD.mouseCoords(t)).x-e.tableDnD.mouseOffset.x,o=r.y-e.tableDnD.mouseOffset.y,e.tableDnD.autoScroll(r),i=e.tableDnD.findDropTargetRow(s,o),a=e.tableDnD.findDragDirection(n,o),e.tableDnD.moveVerticle(a,i),e.tableDnD.moveHorizontal(a,i),!1)},findDragDirection:function(e,t){var i=this.currentTable.tableDnDConfig.sensitivity,r=this.oldX,a=this.oldY,n={horizontal:e>=r-i&&e<=r+i?0:e>r?-1:1,vertical:t>=a-i&&t<=a+i?0:t>a?-1:1};return 0!==n.horizontal&&(this.oldX=e),0!==n.vertical&&(this.oldY=t),n},findDropTargetRow:function(t,i){for(var r=0,a=this.currentTable.rows,n=this.currentTable.tableDnDConfig,o=0,s=null,l=0;l<a.length;l++)if(s=a[l],o=this.getPosition(s).y,r=parseInt(s.offsetHeight)/2,0===s.offsetHeight&&(o=this.getPosition(s.firstChild).y,r=parseInt(s.firstChild.offsetHeight)/2),i>o-r&&i<o+r)return t.is(s)||n.onAllowDrop&&!n.onAllowDrop(t,s)||e(s).hasClass("nodrop")?null:s;return null},processMouseup:function(){if(!this.currentTable||!this.dragObject)return null;var t=this.currentTable.tableDnDConfig,r=this.dragObject,a=0,s=0;e(i).unbind(n,this.mousemove).unbind(o,this.mouseup),t.hierarchyLevel&&t.autoCleanRelations&&e(this.currentTable.rows).first().find("td:first").children().each((function(){(s=e(this).parents("tr:first").data("level"))&&e(this).parents("tr:first").data("level",--s)&&e(this).remove()}))&&t.hierarchyLevel>1&&e(this.currentTable.rows).each((function(){if((s=e(this).data("level"))>1)for(a=e(this).prev().data("level");s>a+1;)e(this).find("td:first").children(":first").remove(),e(this).data("level",--s)})),t.onDragClass&&e(r).removeClass(t.onDragClass)||e(r).css(t.onDropStyle),this.dragObject=null,t.onDrop&&this.originalOrder!==this.currentOrder()&&e(r).hide().fadeIn("fast")&&t.onDrop(this.currentTable,r),t.onDragStop&&t.onDragStop(this.currentTable,r),this.currentTable=null},mouseup:function(t){return t&&t.preventDefault(),e.tableDnD.processMouseup(),!1},jsonize:function(e){var t=this.currentTable;return e?JSON.stringify(this.tableData(t),null,t.tableDnDConfig.jsonPretifySeparator):JSON.stringify(this.tableData(t))},serialize:function(){return e.param(this.tableData(this.currentTable))},serializeTable:function(e){for(var t="",i=e.tableDnDConfig.serializeParamName||e.id,r=e.rows,a=0;a<r.length;a++){t.length>0&&(t+="&");var n=r[a].id;n&&e.tableDnDConfig&&e.tableDnDConfig.serializeRegexp&&(t+=i+"[]="+(n=n.match(e.tableDnDConfig.serializeRegexp)[0]))}return t},serializeTables:function(){var t=[];return e("table").each((function(){this.id&&t.push(e.param(e.tableDnD.tableData(this)))})),t.join("&")},tableData:function(t){var i,r,a,n,o=t.tableDnDConfig,s=[],l=0,d=0,c=null,u={};if(t||(t=this.currentTable),!t||!t.rows||!t.rows.length)return{error:{code:500,message:"Not a valid table."}};if(!t.id&&!o.serializeParamName)return{error:{code:500,message:"No serializable unique id provided."}};n=o.autoCleanRelations&&t.rows||e.makeArray(t.rows),i=function(e){return e&&o&&o.serializeRegexp?e.match(o.serializeRegexp)[0]:e},u[a=r=o.serializeParamName||t.id]=[],!o.autoCleanRelations&&e(n[0]).data("level")&&n.unshift({id:"undefined"});for(var h=0;h<n.length;h++)if(o.hierarchyLevel){if(0===(d=e(n[h]).data("level")||0))a=r,s=[];else if(d>l)s.push([a,l]),a=i(n[h-1].id);else if(d<l)for(var p=0;p<s.length;p++)s[p][1]===d&&(a=s[p][0]),s[p][1]>=l&&(s[p][1]=0);l=d,e.isArray(u[a])||(u[a]=[]),(c=i(n[h].id))&&u[a].push(c)}else(c=i(n[h].id))&&u[a].push(c);return u}},jQuery.fn.extend({tableDnD:e.tableDnD.build,tableDnDUpdate:e.tableDnD.updateTables,tableDnDSerialize:e.proxy(e.tableDnD.serialize,e.tableDnD),tableDnDSerializeAll:e.tableDnD.serializeTables,tableDnDData:e.proxy(e.tableDnD.tableData,e.tableDnD)})}(jQuery,window,window.document)},1571:(e,t,i)=>{var r,a,n;a=[i(9755)],void 0===(n="function"==typeof(r=function(e){"use strict";var t;e.support.htmlMenuitem="HTMLMenuItemElement"in window,e.support.htmlCommand="HTMLCommandElement"in window,e.support.eventSelectstart="onselectstart"in document.documentElement,e.ui&&e.widget||(e.cleanData=(t=e.cleanData,function(i){var r,a,n;for(n=0;null!=i[n];n++){a=i[n];try{(r=e._data(a,"events"))&&r.remove&&e(a).triggerHandler("remove")}catch(o){}}t(i)}));var i=null,r=!1,a=e(window),n=0,o={},s={},l={},d={selector:null,appendTo:null,trigger:"right",autoHide:!1,delay:200,reposition:!0,hideOnSecondTrigger:!1,selectableSubMenu:!1,classNames:{hover:"context-menu-hover",disabled:"context-menu-disabled",visible:"context-menu-visible",notSelectable:"context-menu-not-selectable",icon:"context-menu-icon",iconEdit:"context-menu-icon-edit",iconCut:"context-menu-icon-cut",iconCopy:"context-menu-icon-copy",iconPaste:"context-menu-icon-paste",iconDelete:"context-menu-icon-delete",iconAdd:"context-menu-icon-add",iconQuit:"context-menu-icon-quit",iconLoadingClass:"context-menu-icon-loading"},determinePosition:function(t){if(e.ui&&e.ui.position)t.css("display","block").position({my:"center top",at:"center bottom",of:this,offset:"0 5",collision:"fit"}).css("display","none");else{var i=this.offset();i.top+=this.outerHeight(),i.left+=this.outerWidth()/2-t.outerWidth()/2,t.css(i)}},position:function(e,t,i){var r;if(t||i){if("maintain"===t&&"maintain"===i)r=e.$menu.position();else{var n=e.$menu.offsetParent().offset();r={top:i-n.top,left:t-n.left}}var o=a.scrollTop()+a.height(),s=a.scrollLeft()+a.width(),l=e.$menu.outerHeight(),d=e.$menu.outerWidth();r.top+l>o&&(r.top-=l),r.top<0&&(r.top=0),r.left+d>s&&(r.left-=d),r.left<0&&(r.left=0),e.$menu.css(r)}else e.determinePosition.call(this,e.$menu)},positionSubmenu:function(t){if(void 0!==t)if(e.ui&&e.ui.position)t.css("display","block").position({my:"left top-5",at:"right top",of:this,collision:"flipfit fit"}).css("display","");else{var i={top:-9,left:this.outerWidth()-5};t.css(i)}},zIndex:1,animation:{duration:50,show:"slideDown",hide:"slideUp"},events:{show:e.noop,hide:e.noop,activated:e.noop},callback:null,items:{}},c={timer:null,pageX:null,pageY:null},u=function(e){for(var t=0,i=e;t=Math.max(t,parseInt(i.css("z-index"),10)||0),(i=i.parent())&&i.length&&!("html body".indexOf(i.prop("nodeName").toLowerCase())>-1););return t},h={abortevent:function(e){e.preventDefault(),e.stopImmediatePropagation()},contextmenu:function(t){var r=e(this);if(e(t.target).parents(".a-dropdown").length||e(t.target).parents(".a-combobox").length||e(t.target).hasClass("a-dropdown")||e(t.target).hasClass("a-combobox"))return t.preventDefault(),void document.elementFromPoint(t.pageX,t.pageY).click();if("input"!==t.target.nodeName.toLowerCase()&&"textarea"!==t.target.nodeName.toLowerCase()&&"select"!==t.target.nodeName.toLowerCase()&&("right"===t.data.trigger&&(t.preventDefault(),t.stopImmediatePropagation()),!("right"!==t.data.trigger&&"demand"!==t.data.trigger&&t.originalEvent||!(void 0===t.mouseButton||!t.data||"left"===t.data.trigger&&0===t.mouseButton||"right"===t.data.trigger&&2===t.mouseButton)||r.hasClass("context-menu-active")||r.hasClass("context-menu-disabled")))){if(i=r,t.data.build){var a=t.data.build(i,t);if(!1===a)return;if(t.data=e.extend(!0,{},d,t.data,a||{}),!t.data.items||e.isEmptyObject(t.data.items))throw window.console&&(console.error||console.log).call(console,"No items specified to show in contextMenu"),new Error("No Items specified");t.data.$trigger=i,p.create(t.data)}p.show.call(r,t.data,t.pageX,t.pageY)}},click:function(t){t.preventDefault(),t.stopImmediatePropagation(),e(this).trigger(e.Event("contextmenu",{data:t.data,pageX:t.pageX,pageY:t.pageY}))},mousedown:function(t){var r=e(this);i&&i.length&&!i.is(r)&&i.data("contextMenu").$menu.trigger("contextmenu:hide"),2===t.button&&(i=r.data("contextMenuActive",!0))},mouseup:function(t){var r=e(this);r.data("contextMenuActive")&&i&&i.length&&i.is(r)&&!r.hasClass("context-menu-disabled")&&(t.preventDefault(),t.stopImmediatePropagation(),i=r,r.trigger(e.Event("contextmenu",{data:t.data,pageX:t.pageX,pageY:t.pageY}))),r.removeData("contextMenuActive")},mouseenter:function(t){var r=e(this),a=e(t.relatedTarget),n=e(document);a.is(".context-menu-list")||a.closest(".context-menu-list").length||i&&i.length||(c.pageX=t.pageX,c.pageY=t.pageY,c.data=t.data,n.on("mousemove.contextMenuShow",h.mousemove),c.timer=setTimeout((function(){c.timer=null,n.off("mousemove.contextMenuShow"),i=r,r.trigger(e.Event("contextmenu",{data:c.data,pageX:c.pageX,pageY:c.pageY}))}),t.data.delay))},mousemove:function(e){c.pageX=e.pageX,c.pageY=e.pageY},mouseleave:function(t){var i=e(t.relatedTarget);if(!i.is(".context-menu-list")&&!i.closest(".context-menu-list").length){try{clearTimeout(c.timer)}catch(t){}c.timer=null}},layerClick:function(t){var i,r,n=e(this).data("contextMenuRoot"),o=t.button,s=t.pageX,l=t.pageY,d=void 0===s;t.preventDefault(),setTimeout((function(){if(d)null!=n&&null!==n.$menu&&void 0!==n.$menu&&n.$menu.trigger("contextmenu:hide");else{var c,u="left"===n.trigger&&0===o||"right"===n.trigger&&2===o;if(document.elementFromPoint&&n.$layer){if(n.$layer.hide(),(i=document.elementFromPoint(s-a.scrollLeft(),l-a.scrollTop())).isContentEditable){var h=document.createRange(),p=window.getSelection();h.selectNode(i),h.collapse(!0),p.removeAllRanges(),p.addRange(h)}e(i).trigger(t),n.$layer.show()}if(n.hideOnSecondTrigger&&u&&null!==n.$menu&&void 0!==n.$menu)n.$menu.trigger("contextmenu:hide");else{if(n.reposition&&u)if(document.elementFromPoint){if(n.$trigger.is(i))return void n.position.call(n.$trigger,n,s,l)}else if(r=n.$trigger.offset(),c=e(window),r.top+=c.scrollTop(),r.top<=t.pageY&&(r.left+=c.scrollLeft(),r.left<=t.pageX&&(r.bottom=r.top+n.$trigger.outerHeight(),r.bottom>=t.pageY&&(r.right=r.left+n.$trigger.outerWidth(),r.right>=t.pageX))))return void n.position.call(n.$trigger,n,s,l);i&&u&&n.$trigger.one("contextmenu:hidden",(function(){e(i).contextMenu({x:s,y:l,button:o})})),null!=n&&null!==n.$menu&&void 0!==n.$menu&&n.$menu.trigger("contextmenu:hide")}}}),50)},keyStop:function(e,t){t.isInput||e.preventDefault(),e.stopPropagation()},key:function(e){var t={};i&&(t=i.data("contextMenu")||{}),void 0===t.zIndex&&(t.zIndex=0);var r=0,a=function(e){""!==e.style.zIndex?r=e.style.zIndex:null!==e.offsetParent&&void 0!==e.offsetParent?a(e.offsetParent):null!==e.parentElement&&void 0!==e.parentElement&&a(e.parentElement)};if(a(e.target),!(t.$menu&&parseInt(r,10)>parseInt(t.$menu.css("zIndex"),10))){switch(e.keyCode){case 9:case 38:if(h.keyStop(e,t),t.isInput){if(9===e.keyCode&&e.shiftKey)return e.preventDefault(),t.$selected&&t.$selected.find("input, textarea, select").blur(),void(null!==t.$menu&&void 0!==t.$menu&&t.$menu.trigger("prevcommand"));if(38===e.keyCode&&"checkbox"===t.$selected.find("input, textarea, select").prop("type"))return void e.preventDefault()}else if(9!==e.keyCode||e.shiftKey)return void(null!==t.$menu&&void 0!==t.$menu&&t.$menu.trigger("prevcommand"));break;case 40:if(h.keyStop(e,t),!t.isInput)return void(null!==t.$menu&&void 0!==t.$menu&&t.$menu.trigger("nextcommand"));if(9===e.keyCode)return e.preventDefault(),t.$selected&&t.$selected.find("input, textarea, select").blur(),void(null!==t.$menu&&void 0!==t.$menu&&t.$menu.trigger("nextcommand"));if(40===e.keyCode&&"checkbox"===t.$selected.find("input, textarea, select").prop("type"))return void e.preventDefault();break;case 37:if(h.keyStop(e,t),t.isInput||!t.$selected||!t.$selected.length)break;if(!t.$selected.parent().hasClass("context-menu-root")){var n=t.$selected.parent().parent();return t.$selected.trigger("contextmenu:blur"),void(t.$selected=n)}break;case 39:if(h.keyStop(e,t),t.isInput||!t.$selected||!t.$selected.length)break;var o=t.$selected.data("contextMenu")||{};if(o.$menu&&t.$selected.hasClass("context-menu-submenu"))return t.$selected=null,o.$selected=null,void o.$menu.trigger("nextcommand");break;case 35:case 36:return t.$selected&&t.$selected.find("input, textarea, select").length?void 0:((t.$selected&&t.$selected.parent()||t.$menu).children(":not(."+t.classNames.disabled+", ."+t.classNames.notSelectable+")")[36===e.keyCode?"first":"last"]().trigger("contextmenu:focus"),void e.preventDefault());case 13:if(h.keyStop(e,t),t.isInput){if(t.$selected&&!t.$selected.is("textarea, select"))return void e.preventDefault();break}return void(void 0!==t.$selected&&null!==t.$selected&&t.$selected.trigger("mouseup"));case 32:case 33:case 34:return void h.keyStop(e,t);case 27:return h.keyStop(e,t),void(null!==t.$menu&&void 0!==t.$menu&&t.$menu.trigger("contextmenu:hide"));default:var s=String.fromCharCode(e.keyCode).toUpperCase();if(t.accesskeys&&t.accesskeys[s])return void t.accesskeys[s].$node.trigger(t.accesskeys[s].$menu?"contextmenu:focus":"mouseup")}e.stopPropagation(),void 0!==t.$selected&&null!==t.$selected&&t.$selected.trigger(e)}},prevItem:function(t){t.stopPropagation();var i=e(this).data("contextMenu")||{},r=e(this).data("contextMenuRoot")||{};if(i.$selected){var a=i.$selected;(i=i.$selected.parent().data("contextMenu")||{}).$selected=a}for(var n=i.$menu.children(),o=i.$selected&&i.$selected.prev().length?i.$selected.prev():n.last(),s=o;o.hasClass(r.classNames.disabled)||o.hasClass(r.classNames.notSelectable)||o.is(":hidden");)if((o=o.prev().length?o.prev():n.last()).is(s))return;i.$selected&&h.itemMouseleave.call(i.$selected.get(0),t),h.itemMouseenter.call(o.get(0),t);var l=o.find("input, textarea, select");l.length&&l.focus()},nextItem:function(t){t.stopPropagation();var i=e(this).data("contextMenu")||{},r=e(this).data("contextMenuRoot")||{};if(i.$selected){var a=i.$selected;(i=i.$selected.parent().data("contextMenu")||{}).$selected=a}for(var n=i.$menu.children(),o=i.$selected&&i.$selected.next().length?i.$selected.next():n.first(),s=o;o.hasClass(r.classNames.disabled)||o.hasClass(r.classNames.notSelectable)||o.is(":hidden");)if((o=o.next().length?o.next():n.first()).is(s))return;i.$selected&&h.itemMouseleave.call(i.$selected.get(0),t),h.itemMouseenter.call(o.get(0),t);var l=o.find("input, textarea, select");l.length&&l.focus()},focusInput:function(){var t=e(this).closest(".context-menu-item"),i=t.data(),r=i.contextMenu,a=i.contextMenuRoot;a.$selected=r.$selected=t,a.isInput=r.isInput=!0},blurInput:function(){var t=e(this).closest(".context-menu-item").data(),i=t.contextMenu;t.contextMenuRoot.isInput=i.isInput=!1},menuMouseenter:function(){e(this).data().contextMenuRoot.hovering=!0},menuMouseleave:function(t){var i=e(this).data().contextMenuRoot;i.$layer&&i.$layer.is(t.relatedTarget)&&(i.hovering=!1)},itemMouseenter:function(t){var i=e(this),r=i.data(),a=r.contextMenu,n=r.contextMenuRoot;n.hovering=!0,t&&n.$layer&&n.$layer.is(t.relatedTarget)&&(t.preventDefault(),t.stopImmediatePropagation()),(a.$menu?a:n).$menu.children("."+n.classNames.hover).trigger("contextmenu:blur").children(".hover").trigger("contextmenu:blur"),i.hasClass(n.classNames.disabled)||i.hasClass(n.classNames.notSelectable)?a.$selected=null:i.trigger("contextmenu:focus")},itemMouseleave:function(t){var i=e(this),r=i.data(),a=r.contextMenu,n=r.contextMenuRoot;if(n!==a&&n.$layer&&n.$layer.is(t.relatedTarget))return void 0!==n.$selected&&null!==n.$selected&&n.$selected.trigger("contextmenu:blur"),t.preventDefault(),t.stopImmediatePropagation(),void(n.$selected=a.$selected=a.$node);a&&a.$menu&&a.$menu.hasClass("context-menu-visible")||i.trigger("contextmenu:blur")},itemClick:function(t){var i,r=e(this),a=r.data(),n=a.contextMenu,o=a.contextMenuRoot,s=a.contextMenuKey;if(!(!n.items[s]||r.is("."+o.classNames.disabled+", .context-menu-separator, ."+o.classNames.notSelectable)||r.is(".context-menu-submenu")&&!1===o.selectableSubMenu)){if(t.preventDefault(),t.stopImmediatePropagation(),e.isFunction(n.callbacks[s])&&Object.prototype.hasOwnProperty.call(n.callbacks,s))i=n.callbacks[s];else{if(!e.isFunction(o.callback))return;i=o.callback}!1!==i.call(o.$trigger,s,o,t)?o.$menu.trigger("contextmenu:hide"):o.$menu.parent().length&&p.update.call(o.$trigger,o)}},inputClick:function(e){e.stopImmediatePropagation()},hideMenu:function(t,i){var r=e(this).data("contextMenuRoot");p.hide.call(r.$trigger,r,i&&i.force)},focusItem:function(t){t.stopPropagation();var i=e(this),r=i.data(),a=r.contextMenu,n=r.contextMenuRoot;i.hasClass(n.classNames.disabled)||i.hasClass(n.classNames.notSelectable)||(i.addClass([n.classNames.hover,n.classNames.visible].join(" ")).parent().find(".context-menu-item").not(i).removeClass(n.classNames.visible).filter("."+n.classNames.hover).trigger("contextmenu:blur"),a.$selected=n.$selected=i,a&&a.$node&&a.$node.hasClass("context-menu-submenu")&&a.$node.addClass(n.classNames.hover),a.$node&&n.positionSubmenu.call(a.$node,a.$menu))},blurItem:function(t){t.stopPropagation();var i=e(this),r=i.data(),a=r.contextMenu,n=r.contextMenuRoot;a.autoHide&&i.removeClass(n.classNames.visible),i.removeClass(n.classNames.hover),a.$selected=null}},p={show:function(t,r,a){var n=e(this),o={};if(e("#context-menu-layer").trigger("mousedown"),t.$trigger=n,!1!==t.events.show.call(n,t))if(!1!==p.update.call(n,t)){if(t.position.call(n,t,r,a),t.zIndex){var s=t.zIndex;"function"==typeof t.zIndex&&(s=t.zIndex.call(n,t)),o.zIndex=u(n)+s}p.layer.call(t.$menu,t,o.zIndex),t.$menu.find("ul").css("zIndex",o.zIndex+1),t.$menu.css(o)[t.animation.show](t.animation.duration,(function(){n.trigger("contextmenu:visible"),p.activated(t),t.events.activated(t)})),n.data("contextMenu",t).addClass("context-menu-active"),e(document).off("keydown.contextMenu").on("keydown.contextMenu",h.key),t.autoHide&&e(document).on("mousemove.contextMenuAutoHide",(function(e){var i=n.offset();i.right=i.left+n.outerWidth(),i.bottom=i.top+n.outerHeight(),!t.$layer||t.hovering||e.pageX>=i.left&&e.pageX<=i.right&&e.pageY>=i.top&&e.pageY<=i.bottom||setTimeout((function(){t.hovering||null===t.$menu||void 0===t.$menu||t.$menu.trigger("contextmenu:hide")}),50)}))}else i=null;else i=null},hide:function(t,r){var a=e(this);if(t||(t=a.data("contextMenu")||{}),r||!t.events||!1!==t.events.hide.call(a,t)){if(a.removeData("contextMenu").removeClass("context-menu-active"),t.$layer){setTimeout((n=t.$layer,function(){n.remove()}),10);try{delete t.$layer}catch(o){t.$layer=null}}var n;i=null,t.$menu.find("."+t.classNames.hover).trigger("contextmenu:blur"),t.$selected=null,t.$menu.find("."+t.classNames.visible).removeClass(t.classNames.visible),e(document).off(".contextMenuAutoHide").off("keydown.contextMenu"),t.$menu&&t.$menu[t.animation.hide](t.animation.duration,(function(){t.build&&(t.$menu.remove(),e.each(t,(function(e){switch(e){case"ns":case"selector":case"build":case"trigger":return!0;default:t[e]=void 0;try{delete t[e]}catch(o){}return!0}}))),setTimeout((function(){a.trigger("contextmenu:hidden")}),10)}))}},create:function(t,i){function r(t){var i=e("<span></span>");if(t._accesskey)t._beforeAccesskey&&i.append(document.createTextNode(t._beforeAccesskey)),e("<span></span>").addClass("context-menu-accesskey").text(t._accesskey).appendTo(i),t._afterAccesskey&&i.append(document.createTextNode(t._afterAccesskey));else if(t.isHtmlName){if(void 0!==t.accesskey)throw new Error("accesskeys are not compatible with HTML names and cannot be used together in the same item");i.html(t.name)}else i.text(t.name);return i}void 0===i&&(i=t),t.$menu=e('<ul class="context-menu-list"></ul>').addClass(t.className||"").data({"contextMenu":t,"contextMenuRoot":i}),e.each(["callbacks","commands","inputs"],(function(e,r){t[r]={},i[r]||(i[r]={})})),i.accesskeys||(i.accesskeys={}),e.each(t.items,(function(a,n){var o=e('<li class="context-menu-item"></li>').addClass(n.className||""),s=null,d=null;if(o.on("click",e.noop),"string"!=typeof n&&"cm_separator"!==n.type||(n={type:"cm_seperator"}),n.$node=o.data({"contextMenu":t,"contextMenuRoot":i,"contextMenuKey":a}),void 0!==n.accesskey)for(var c,u=f(n.accesskey),m=0;c=u[m];m++)if(!i.accesskeys[c]){i.accesskeys[c]=n;var g=n.name.match(new RegExp("^(.*?)("+c+")(.*)$","i"));g&&(n._beforeAccesskey=g[1],n._accesskey=g[2],n._afterAccesskey=g[3]);break}if(n.type&&l[n.type])l[n.type].call(o,n,t,i),e.each([t,i],(function(i,r){r.commands[a]=n,!e.isFunction(n.callback)||void 0!==r.callbacks[a]&&void 0!==t.type||(r.callbacks[a]=n.callback)}));else{switch("cm_seperator"===n.type?o.addClass("context-menu-separator "+i.classNames.notSelectable):"html"===n.type?o.addClass("context-menu-html "+i.classNames.notSelectable):"sub"!==n.type&&n.type?(s=e("<label></label>").appendTo(o),r(n).appendTo(s),o.addClass("context-menu-input"),t.hasTypes=!0,e.each([t,i],(function(e,t){t.commands[a]=n,t.inputs[a]=n}))):n.items&&(n.type="sub"),n.type){case"cm_seperator":break;case"text":d=e('<input type="text" value="1" name="" />').attr("name","context-menu-input-"+a).val(n.value||"").appendTo(s);break;case"textarea":d=e('<textarea name=""></textarea>').attr("name","context-menu-input-"+a).val(n.value||"").appendTo(s),n.height&&d.height(n.height);break;case"checkbox":d=e('<input type="checkbox" value="1" name="" />').attr("name","context-menu-input-"+a).val(n.value||"").prop("checked",!!n.selected).prependTo(s);break;case"radio":d=e('<input type="radio" value="1" name="" />').attr("name","context-menu-input-"+n.radio).val(n.value||"").prop("checked",!!n.selected).prependTo(s);break;case"select":d=e('<select name=""></select>').attr("name","context-menu-input-"+a).appendTo(s),n.options&&(e.each(n.options,(function(t,i){e("<option></option>").val(t).text(i).appendTo(d)})),d.val(n.selected));break;case"sub":r(n).appendTo(o),n.appendTo=n.$node,o.data("contextMenu",n).addClass("context-menu-submenu"),n.callback=null,"function"==typeof n.items.then?p.processPromises(n,i,n.items):p.create(n,i);break;case"html":e(n.html).appendTo(o);break;default:e.each([t,i],(function(i,r){r.commands[a]=n,!e.isFunction(n.callback)||void 0!==r.callbacks[a]&&void 0!==t.type||(r.callbacks[a]=n.callback)})),r(n).appendTo(o)}n.type&&"sub"!==n.type&&"html"!==n.type&&"cm_seperator"!==n.type&&(d.on("focus",h.focusInput).on("blur",h.blurInput),n.events&&d.on(n.events,t)),n.icon&&(e.isFunction(n.icon)?n._icon=n.icon.call(this,this,o,a,n):"string"!=typeof n.icon||"fab "!==n.icon.substring(0,4)&&"fas "!==n.icon.substring(0,4)&&"far "!==n.icon.substring(0,4)&&"fal "!==n.icon.substring(0,4)?"string"==typeof n.icon&&"fa-"===n.icon.substring(0,3)?n._icon=i.classNames.icon+" "+i.classNames.icon+"--fa fa "+n.icon:n._icon=i.classNames.icon+" "+i.classNames.icon+"-"+n.icon:(o.addClass(i.classNames.icon+" "+i.classNames.icon+"--fa5"),n._icon=e('<i class="'+n.icon+'"></i>')),"string"==typeof n._icon?o.addClass(n._icon):o.prepend(n._icon))}n.$input=d,n.$label=s,o.appendTo(t.$menu),!t.hasTypes&&e.support.eventSelectstart&&o.on("selectstart.disableTextSelect",h.abortevent)})),t.$node||t.$menu.css("display","none").addClass("context-menu-root"),t.$menu.appendTo(t.appendTo||document.body)},resize:function(t,i){var r;t.css({position:"absolute",display:"block"}),t.data("width",(r=t.get(0)).getBoundingClientRect?Math.ceil(r.getBoundingClientRect().width):t.outerWidth()+1),t.css({position:"static",minWidth:"0px",maxWidth:"100000px"}),t.find("> li > ul").each((function(){p.resize(e(this),!0)})),i||t.find("ul").addBack().css({position:"",display:"",minWidth:"",maxWidth:""}).outerWidth((function(){return e(this).data("width")}))},update:function(t,i){var r=this;void 0===i&&(i=t,p.resize(t.$menu));var a=!1;return t.$menu.children().each((function(){var n,o=e(this),s=o.data("contextMenuKey"),l=t.items[s],d=e.isFunction(l.disabled)&&l.disabled.call(r,s,i)||!0===l.disabled;if((n=e.isFunction(l.visible)?l.visible.call(r,s,i):void 0===l.visible||!0===l.visible)&&(a=!0),o[n?"show":"hide"](),o[d?"addClass":"removeClass"](i.classNames.disabled),e.isFunction(l.icon)){o.removeClass(l._icon);var c=l.icon.call(this,r,o,s,l);"string"==typeof c?o.addClass(c):o.prepend(c)}if(l.type)switch(o.find("input, select, textarea").prop("disabled",d),l.type){case"text":case"textarea":l.$input.val(l.value||"");break;case"checkbox":case"radio":l.$input.val(l.value||"").prop("checked",!!l.selected);break;case"select":l.$input.val((0===l.selected?"0":l.selected)||"")}l.$menu&&p.update.call(r,l,i)&&(a=!0)})),a},layer:function(t,i){var r=t.$layer=e('<div id="context-menu-layer"></div>').css({height:a.height(),width:a.width(),display:"block",position:"fixed","z-index":i,top:0,left:0,opacity:0,filter:"alpha(opacity=0)","background-color":"#000"}).data("contextMenuRoot",t).insertBefore(this).on("contextmenu",h.abortevent).on("mousedown",h.layerClick);return void 0===document.body.style.maxWidth&&r.css({"position":"absolute","height":e(document).height()}),r},processPromises:function(e,t,i){function r(e,t,i){void 0===i&&a(void 0),n(e,t,i)}function a(e,t,i){void 0===i?(i={"error":{name:"No items and no error item",icon:"context-menu-icon context-menu-icon-quit"}},window.console&&(console.error||console.log).call(console,'When you reject a promise, provide an "items" object, equal to normal sub-menu items')):"string"==typeof i&&(i={"error":{name:i}}),n(e,t,i)}function n(e,t,i){void 0!==t.$menu&&t.$menu.is(":visible")&&(e.$node.removeClass(t.classNames.iconLoadingClass),e.items=i,p.create(e,t,!0),p.update(e,t),t.positionSubmenu.call(e.$node,e.$menu))}e.$node.addClass(t.classNames.iconLoadingClass),i.then(r.bind(this,e,t),a.bind(this,e,t))},activated:function(t){var i=t.$menu,r=i.offset(),a=e(window).height(),n=e(window).scrollTop(),o=i.height();o>a?i.css({"height":a+"px","overflow-x":"hidden","overflow-y":"auto","top":n+"px"}):(r.top<n||r.top+o>n+a)&&i.css({"top":n+"px"})}};function f(e){for(var t,i=e.split(/\s+/),r=[],a=0;t=i[a];a++)t=t.charAt(0).toUpperCase(),r.push(t);return r}function m(t){return t.id&&e('label[for="'+t.id+'"]').val()||t.name}function g(t,i,r){return r||(r=0),i.each((function(){var i,a,n=e(this),o=this,s=this.nodeName.toLowerCase();switch("label"===s&&n.find("input, textarea, select").length&&(i=n.text(),s=(o=(n=n.children().first()).get(0)).nodeName.toLowerCase()),s){case"menu":a={name:n.attr("label"),items:{}},r=g(a.items,n.children(),r);break;case"a":case"button":a={name:n.text(),disabled:!!n.attr("disabled"),callback:function(){n.get(0).click()}};break;case"menuitem":case"command":switch(n.attr("type")){case void 0:case"command":case"menuitem":a={name:n.attr("label"),disabled:!!n.attr("disabled"),icon:n.attr("icon"),callback:function(){n.get(0).click()}};break;case"checkbox":a={type:"checkbox",disabled:!!n.attr("disabled"),name:n.attr("label"),selected:!!n.attr("checked")};break;case"radio":a={type:"radio",disabled:!!n.attr("disabled"),name:n.attr("label"),radio:n.attr("radiogroup"),value:n.attr("id"),selected:!!n.attr("checked")};break;default:a=void 0}break;case"hr":a="-------";break;case"input":switch(n.attr("type")){case"text":a={type:"text",name:i||m(o),disabled:!!n.attr("disabled"),value:n.val()};break;case"checkbox":a={type:"checkbox",name:i||m(o),disabled:!!n.attr("disabled"),selected:!!n.attr("checked")};break;case"radio":a={type:"radio",name:i||m(o),disabled:!!n.attr("disabled"),radio:!!n.attr("name"),value:n.val(),selected:!!n.attr("checked")};break;default:a=void 0}break;case"select":a={type:"select",name:i||m(o),disabled:!!n.attr("disabled"),selected:n.val(),options:{}},n.children().each((function(){a.options[this.value]=e(this).text()}));break;case"textarea":a={type:"textarea",name:i||m(o),disabled:!!n.attr("disabled"),value:n.val()};break;case"label":break;default:a={type:"html",html:n.clone(!0)}}a&&(r++,t["key"+r]=a)})),r}e.fn.contextMenu=function(t){var i=this,r=t;if(this.length>0)if(void 0===t)this.first().trigger("contextmenu");else if(void 0!==t.x&&void 0!==t.y)this.first().trigger(e.Event("contextmenu",{pageX:t.x,pageY:t.y,mouseButton:t.button}));else if("hide"===t){var a=this.first().data("contextMenu")?this.first().data("contextMenu").$menu:null;a&&a.trigger("contextmenu:hide")}else"destroy"===t?e.contextMenu("destroy",{context:this}):e.isPlainObject(t)?(t.context=this,e.contextMenu("create",t)):t?this.removeClass("context-menu-disabled"):t||this.addClass("context-menu-disabled");else e.each(s,(function(){this.selector===i.selector&&(r.data=this,e.extend(r.data,{trigger:"demand"}))})),h.contextmenu.call(r.target,r);return this},e.contextMenu=function(t,i){"string"!=typeof t&&(i=t,t="create"),"string"==typeof i?i={selector:i}:void 0===i&&(i={});var a=e.extend(!0,{},d,i||{}),l=e(document),c=l,u=!1;switch(a.context&&a.context.length?(c=e(a.context).first(),a.context=c.get(0),u=!e(a.context).is(document)):a.context=document,t){case"update":if(u)p.update(c);else for(var f in s)s.hasOwnProperty(f)&&p.update(s[f]);break;case"create":if(!a.selector)throw new Error("No selector specified");if(a.selector.match(/.context-menu-(list|item|input)($|\s)/))throw new Error('Cannot bind to selector "'+a.selector+'" as it contains a reserved className');if(!a.build&&(!a.items||e.isEmptyObject(a.items)))throw new Error("No Items specified");if(n++,a.ns=".contextMenu"+n,u||(o[a.selector]=a.ns),s[a.ns]=a,a.trigger||(a.trigger="right"),!r){var m="click"===a.itemClickEvent?"click.contextMenu":"mouseup.contextMenu",g={"contextmenu:focus.contextMenu":h.focusItem,"contextmenu:blur.contextMenu":h.blurItem,"contextmenu.contextMenu":h.abortevent,"mouseenter.contextMenu":h.itemMouseenter,"mouseleave.contextMenu":h.itemMouseleave};g[m]=h.itemClick,l.on({"contextmenu:hide.contextMenu":h.hideMenu,"prevcommand.contextMenu":h.prevItem,"nextcommand.contextMenu":h.nextItem,"contextmenu.contextMenu":h.abortevent,"mouseenter.contextMenu":h.menuMouseenter,"mouseleave.contextMenu":h.menuMouseleave},".context-menu-list").on("mouseup.contextMenu",".context-menu-input",h.inputClick).on(g,".context-menu-item"),r=!0}switch(c.on("contextmenu"+a.ns,a.selector,a,h.contextmenu),u&&c.on("remove"+a.ns,(function(){e(this).contextMenu("destroy")})),a.trigger){case"hover":c.on("mouseenter"+a.ns,a.selector,a,h.mouseenter).on("mouseleave"+a.ns,a.selector,a,h.mouseleave);break;case"left":c.on("click"+a.ns,a.selector,a,h.click);break;case"touchstart":c.on("touchstart"+a.ns,a.selector,a,h.click)}a.build||p.create(a);break;case"destroy":var v;if(u){var b=a.context;e.each(s,(function(t,i){if(!i)return!0;if(!e(b).is(i.selector))return!0;(v=e(".context-menu-list").filter(":visible")).length&&v.data().contextMenuRoot.$trigger.is(e(i.context).find(i.selector))&&v.trigger("contextmenu:hide",{force:!0});try{s[i.ns].$menu&&s[i.ns].$menu.remove(),delete s[i.ns]}catch(r){s[i.ns]=null}return e(i.context).off(i.ns),!0}))}else if(a.selector){if(o[a.selector]){(v=e(".context-menu-list").filter(":visible")).length&&v.data().contextMenuRoot.$trigger.is(a.selector)&&v.trigger("contextmenu:hide",{force:!0});try{s[o[a.selector]].$menu&&s[o[a.selector]].$menu.remove(),delete s[o[a.selector]]}catch(y){s[o[a.selector]]=null}l.off(o[a.selector])}}else l.off(".contextMenu .contextMenuAutoHide"),e.each(s,(function(t,i){e(i.context).off(i.ns)})),o={},s={},n=0,r=!1,e("#context-menu-layer, .context-menu-list").remove();break;case"html5":(!e.support.htmlCommand&&!e.support.htmlMenuitem||"boolean"==typeof i&&i)&&e('menu[type="context"]').each((function(){this.id&&e.contextMenu({selector:"[contextmenu="+this.id+"]",items:e.contextMenu.fromMenu(this)})})).css("display","none");break;default:throw new Error('Unknown operation "'+t+'"')}return this},e.contextMenu.setInputValues=function(t,i){void 0===i&&(i={}),e.each(t.inputs,(function(e,t){switch(t.type){case"text":case"textarea":t.value=i[e]||"";break;case"checkbox":t.selected=!!i[e];break;case"radio":t.selected=(i[t.radio]||"")===t.value;break;case"select":t.selected=i[e]||""}}))},e.contextMenu.getInputValues=function(t,i){return void 0===i&&(i={}),e.each(t.inputs,(function(e,t){switch(t.type){case"text":case"textarea":case"select":i[e]=t.$input.val();break;case"checkbox":i[e]=t.$input.prop("checked");break;case"radio":t.$input.prop("checked")&&(i[t.radio]=t.value)}})),i},e.contextMenu.fromMenu=function(t){var i={};return g(i,e(t).children()),i},e.contextMenu.defaults=d,e.contextMenu.types=l,e.contextMenu.handle=h,e.contextMenu.op=p,e.contextMenu.menus=s})?r.apply(t,a):r)||(e.exports=n)},7363:(module,exports,__webpack_require__)=>{var __WEBPACK_AMD_DEFINE_FACTORY__,__WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__,a;a=function($){if($.ui.timepicker=$.ui.timepicker||{},!$.ui.timepicker.version){$.extend($.ui,{timepicker:{version:"1.6.3"}});var Timepicker=function(){this.regional=[],this.regional[""]={currentText:"Now",closeText:"Done",amNames:["AM","A"],pmNames:["PM","P"],timeFormat:"HH:mm",timeSuffix:"",timeOnlyTitle:"Choose Time",timeText:"Time",hourText:"Hour",minuteText:"Minute",secondText:"Second",millisecText:"Millisecond",microsecText:"Microsecond",timezoneText:"Time Zone",isRTL:!1},this._defaults={showButtonPanel:!0,timeOnly:!1,timeOnlyShowDate:!1,showHour:null,showMinute:null,showSecond:null,showMillisec:null,showMicrosec:null,showTimezone:null,showTime:!0,stepHour:1,stepMinute:1,stepSecond:1,stepMillisec:1,stepMicrosec:1,hour:0,minute:0,second:0,millisec:0,microsec:0,timezone:null,hourMin:0,minuteMin:0,secondMin:0,millisecMin:0,microsecMin:0,hourMax:23,minuteMax:59,secondMax:59,millisecMax:999,microsecMax:999,minDateTime:null,maxDateTime:null,maxTime:null,minTime:null,onSelect:null,hourGrid:0,minuteGrid:0,secondGrid:0,millisecGrid:0,microsecGrid:0,alwaysSetTime:!0,separator:" ",altFieldTimeOnly:!0,altTimeFormat:null,altSeparator:null,altTimeSuffix:null,altRedirectFocus:!0,pickerTimeFormat:null,pickerTimeSuffix:null,showTimepicker:!0,timezoneList:null,addSliderAccess:!1,sliderAccessArgs:null,controlType:"slider",oneLine:!1,defaultValue:null,parse:"strict",afterInject:null},$.extend(this._defaults,this.regional[""])};$.extend(Timepicker.prototype,{$input:null,$altInput:null,$timeObj:null,inst:null,hour_slider:null,minute_slider:null,second_slider:null,millisec_slider:null,microsec_slider:null,timezone_select:null,maxTime:null,minTime:null,hour:0,minute:0,second:0,millisec:0,microsec:0,timezone:null,hourMinOriginal:null,minuteMinOriginal:null,secondMinOriginal:null,millisecMinOriginal:null,microsecMinOriginal:null,hourMaxOriginal:null,minuteMaxOriginal:null,secondMaxOriginal:null,millisecMaxOriginal:null,microsecMaxOriginal:null,ampm:"",formattedDate:"",formattedTime:"",formattedDateTime:"",timezoneList:null,units:["hour","minute","second","millisec","microsec"],support:{},control:null,setDefaults:function(e){return extendRemove(this._defaults,e||{}),this},_newInst:function($input,opts){var tp_inst=new Timepicker,inlineSettings={},fns={},overrides,i;for(var attrName in this._defaults)if(this._defaults.hasOwnProperty(attrName)){var attrValue=$input.attr("time:"+attrName);if(attrValue)try{inlineSettings[attrName]=eval(attrValue)}catch(err){inlineSettings[attrName]=attrValue}}for(i in overrides={beforeShow:function(e,t){return $.isFunction(tp_inst._defaults.evnts.beforeShow)?tp_inst._defaults.evnts.beforeShow.call($input[0],e,t,tp_inst):void 0},onChangeMonthYear:function(e,t,i){$.isFunction(tp_inst._defaults.evnts.onChangeMonthYear)&&tp_inst._defaults.evnts.onChangeMonthYear.call($input[0],e,t,i,tp_inst)},onClose:function(e,t){!0===tp_inst.timeDefined&&""!==$input.val()&&tp_inst._updateDateTime(t),$.isFunction(tp_inst._defaults.evnts.onClose)&&tp_inst._defaults.evnts.onClose.call($input[0],e,t,tp_inst)}},overrides)overrides.hasOwnProperty(i)&&(fns[i]=opts[i]||this._defaults[i]||null);tp_inst._defaults=$.extend({},this._defaults,inlineSettings,opts,overrides,{evnts:fns,timepicker:tp_inst}),tp_inst.amNames=$.map(tp_inst._defaults.amNames,(function(e){return e.toUpperCase()})),tp_inst.pmNames=$.map(tp_inst._defaults.pmNames,(function(e){return e.toUpperCase()})),tp_inst.support=detectSupport(tp_inst._defaults.timeFormat+(tp_inst._defaults.pickerTimeFormat?tp_inst._defaults.pickerTimeFormat:"")+(tp_inst._defaults.altTimeFormat?tp_inst._defaults.altTimeFormat:"")),"string"==typeof tp_inst._defaults.controlType?("slider"===tp_inst._defaults.controlType&&void 0===$.ui.slider&&(tp_inst._defaults.controlType="select"),tp_inst.control=tp_inst._controls[tp_inst._defaults.controlType]):tp_inst.control=tp_inst._defaults.controlType;var timezoneList=[-720,-660,-600,-570,-540,-480,-420,-360,-300,-270,-240,-210,-180,-120,-60,0,60,120,180,210,240,270,300,330,345,360,390,420,480,525,540,570,600,630,660,690,720,765,780,840];null!==tp_inst._defaults.timezoneList&&(timezoneList=tp_inst._defaults.timezoneList);var tzl=timezoneList.length,tzi=0,tzv=null;if(tzl>0&&"object"!=typeof timezoneList[0])for(;tzl>tzi;tzi++)tzv=timezoneList[tzi],timezoneList[tzi]={value:tzv,label:$.timepicker.timezoneOffsetString(tzv,tp_inst.support.iso8601)};return tp_inst._defaults.timezoneList=timezoneList,tp_inst.timezone=null!==tp_inst._defaults.timezone?$.timepicker.timezoneOffsetNumber(tp_inst._defaults.timezone):-1*(new Date).getTimezoneOffset(),tp_inst.hour=tp_inst._defaults.hour<tp_inst._defaults.hourMin?tp_inst._defaults.hourMin:tp_inst._defaults.hour>tp_inst._defaults.hourMax?tp_inst._defaults.hourMax:tp_inst._defaults.hour,tp_inst.minute=tp_inst._defaults.minute<tp_inst._defaults.minuteMin?tp_inst._defaults.minuteMin:tp_inst._defaults.minute>tp_inst._defaults.minuteMax?tp_inst._defaults.minuteMax:tp_inst._defaults.minute,tp_inst.second=tp_inst._defaults.second<tp_inst._defaults.secondMin?tp_inst._defaults.secondMin:tp_inst._defaults.second>tp_inst._defaults.secondMax?tp_inst._defaults.secondMax:tp_inst._defaults.second,tp_inst.millisec=tp_inst._defaults.millisec<tp_inst._defaults.millisecMin?tp_inst._defaults.millisecMin:tp_inst._defaults.millisec>tp_inst._defaults.millisecMax?tp_inst._defaults.millisecMax:tp_inst._defaults.millisec,tp_inst.microsec=tp_inst._defaults.microsec<tp_inst._defaults.microsecMin?tp_inst._defaults.microsecMin:tp_inst._defaults.microsec>tp_inst._defaults.microsecMax?tp_inst._defaults.microsecMax:tp_inst._defaults.microsec,tp_inst.ampm="",tp_inst.$input=$input,tp_inst._defaults.altField&&(tp_inst.$altInput=$(tp_inst._defaults.altField),!0===tp_inst._defaults.altRedirectFocus&&tp_inst.$altInput.css({cursor:"pointer"}).focus((function(){$input.trigger("focus")}))),(0===tp_inst._defaults.minDate||0===tp_inst._defaults.minDateTime)&&(tp_inst._defaults.minDate=new Date),(0===tp_inst._defaults.maxDate||0===tp_inst._defaults.maxDateTime)&&(tp_inst._defaults.maxDate=new Date),void 0!==tp_inst._defaults.minDate&&tp_inst._defaults.minDate instanceof Date&&(tp_inst._defaults.minDateTime=new Date(tp_inst._defaults.minDate.getTime())),void 0!==tp_inst._defaults.minDateTime&&tp_inst._defaults.minDateTime instanceof Date&&(tp_inst._defaults.minDate=new Date(tp_inst._defaults.minDateTime.getTime())),void 0!==tp_inst._defaults.maxDate&&tp_inst._defaults.maxDate instanceof Date&&(tp_inst._defaults.maxDateTime=new Date(tp_inst._defaults.maxDate.getTime())),void 0!==tp_inst._defaults.maxDateTime&&tp_inst._defaults.maxDateTime instanceof Date&&(tp_inst._defaults.maxDate=new Date(tp_inst._defaults.maxDateTime.getTime())),tp_inst.$input.bind("focus",(function(){tp_inst._onFocus()})),tp_inst},_addTimePicker:function(e){var t=$.trim(this.$altInput&&this._defaults.altFieldTimeOnly?this.$input.val()+" "+this.$altInput.val():this.$input.val());this.timeDefined=this._parseTime(t),this._limitMinMaxDateTime(e,!1),this._injectTimePicker(),this._afterInject()},_parseTime:function(e,t){if(this.inst||(this.inst=$.datepicker._getInst(this.$input[0])),t||!this._defaults.timeOnly){var i=$.datepicker._get(this.inst,"dateFormat");try{var r=parseDateTimeInternal(i,this._defaults.timeFormat,e,$.datepicker._getFormatConfig(this.inst),this._defaults);if(!r.timeObj)return!1;$.extend(this,r.timeObj)}catch(n){return $.timepicker.log("Error parsing the date/time string: "+n+"\ndate/time string = "+e+"\ntimeFormat = "+this._defaults.timeFormat+"\ndateFormat = "+i),!1}return!0}var a=$.datepicker.parseTime(this._defaults.timeFormat,e,this._defaults);return!!a&&($.extend(this,a),!0)},_afterInject:function(){var e=this.inst.settings;$.isFunction(e.afterInject)&&e.afterInject.call(this)},_injectTimePicker:function(){var e=this.inst.dpDiv,t=this.inst.settings,i=this,r="",a="",n=null,o={},s={},l=null,d=0,c=0;if(0===e.find("div.ui-timepicker-div").length&&t.showTimepicker){var u=" ui_tpicker_unit_hide",h='<div class="ui-timepicker-div'+(t.isRTL?" ui-timepicker-rtl":"")+(t.oneLine&&"select"===t.controlType?" ui-timepicker-oneLine":"")+'"><dl><dt class="ui_tpicker_time_label'+(t.showTime?"":u)+'">'+t.timeText+'</dt><dd class="ui_tpicker_time '+(t.showTime?"":u)+'"><input class="ui_tpicker_time_input" '+(t.timeInput?"":"disabled")+"/></dd>";for(d=0,c=this.units.length;c>d;d++){if(n=null!==t["show"+(a=(r=this.units[d]).substr(0,1).toUpperCase()+r.substr(1))]?t["show"+a]:this.support[r],o[r]=parseInt(t[r+"Max"]-(t[r+"Max"]-t[r+"Min"])%t["step"+a],10),s[r]=0,h+='<dt class="ui_tpicker_'+r+"_label"+(n?"":u)+'">'+t[r+"Text"]+'</dt><dd class="ui_tpicker_'+r+(n?"":u)+'"><div class="ui_tpicker_'+r+"_slider"+(n?"":u)+'"></div>',n&&t[r+"Grid"]>0){if(h+='<div style="padding-left: 1px"><table class="ui-tpicker-grid-label"><tr>',"hour"===r)for(var p=t[r+"Min"];p<=o[r];p+=parseInt(t[r+"Grid"],10)){s[r]++;var f=$.datepicker.formatTime(this.support.ampm?"hht":"HH",{hour:p},t);h+='<td data-for="'+r+'">'+f+"</td>"}else for(var m=t[r+"Min"];m<=o[r];m+=parseInt(t[r+"Grid"],10))s[r]++,h+='<td data-for="'+r+'">'+(10>m?"0":"")+m+"</td>";h+="</tr></table></div>"}h+="</dd>"}var g=null!==t.showTimezone?t.showTimezone:this.support.timezone;h+='<dt class="ui_tpicker_timezone_label'+(g?"":u)+'">'+t.timezoneText+"</dt>",h+='<dd class="ui_tpicker_timezone'+(g?"":u)+'"></dd>';var v=$(h+="</dl></div>");for(!0===t.timeOnly&&(v.prepend('<div class="ui-widget-header ui-helper-clearfix ui-corner-all"><div class="ui-datepicker-title">'+t.timeOnlyTitle+"</div></div>"),e.find(".ui-datepicker-header, .ui-datepicker-calendar").hide()),d=0,c=i.units.length;c>d;d++)n=null!==t["show"+(a=(r=i.units[d]).substr(0,1).toUpperCase()+r.substr(1))]?t["show"+a]:this.support[r],i[r+"_slider"]=i.control.create(i,v.find(".ui_tpicker_"+r+"_slider"),r,i[r],t[r+"Min"],o[r],t["step"+a]),n&&t[r+"Grid"]>0&&(l=100*s[r]*t[r+"Grid"]/(o[r]-t[r+"Min"]),v.find(".ui_tpicker_"+r+" table").css({width:l+"%",marginLeft:t.isRTL?"0":l/(-2*s[r])+"%",marginRight:t.isRTL?l/(-2*s[r])+"%":"0",borderCollapse:"collapse"}).find("td").click((function(e){var t=$(this),a=t.html(),n=parseInt(a.replace(/[^0-9]/g),10),o=a.replace(/[^apm]/gi),s=t.data("for");"hour"===s&&(-1!==o.indexOf("p")&&12>n?n+=12:-1!==o.indexOf("a")&&12===n&&(n=0)),i.control.value(i,i[s+"_slider"],r,n),i._onTimeChange(),i._onSelectHandler()})).css({cursor:"pointer",width:100/s[r]+"%",textAlign:"center",overflow:"hidden"}));this.timezone_select=v.find(".ui_tpicker_timezone").append("<select></select>").find("select"),$.fn.append.apply(this.timezone_select,$.map(t.timezoneList,(function(e,t){return $("<option />").val("object"==typeof e?e.value:e).text("object"==typeof e?e.label:e)}))),void 0!==this.timezone&&null!==this.timezone&&""!==this.timezone?-1*new Date(this.inst.selectedYear,this.inst.selectedMonth,this.inst.selectedDay,12).getTimezoneOffset()===this.timezone?selectLocalTimezone(i):this.timezone_select.val(this.timezone):void 0!==this.hour&&null!==this.hour&&""!==this.hour?this.timezone_select.val(t.timezone):selectLocalTimezone(i),this.timezone_select.change((function(){i._onTimeChange(),i._onSelectHandler(),i._afterInject()}));var b=e.find(".ui-datepicker-buttonpane");if(b.length?b.before(v):e.append(v),this.$timeObj=v.find(".ui_tpicker_time_input"),this.$timeObj.change((function(){var e=i.inst.settings.timeFormat,t=$.datepicker.parseTime(e,this.value),r=new Date;t?(r.setHours(t.hour),r.setMinutes(t.minute),r.setSeconds(t.second),$.datepicker._setTime(i.inst,r)):(this.value=i.formattedTime,this.blur())})),null!==this.inst){var y=this.timeDefined;this._onTimeChange(),this.timeDefined=y}if(this._defaults.addSliderAccess){var w=this._defaults.sliderAccessArgs,x=this._defaults.isRTL;w.isRTL=x,setTimeout((function(){if(0===v.find(".ui-slider-access").length){v.find(".ui-slider:visible").sliderAccess(w);var e=v.find(".ui-slider-access:eq(0)").outerWidth(!0);e&&v.find("table:visible").each((function(){var t=$(this),i=t.outerWidth(),r=t.css(x?"marginRight":"marginLeft").toString().replace("%",""),a=i-e,n=r*a/i+"%",o={width:a,marginRight:0,marginLeft:0};o[x?"marginRight":"marginLeft"]=n,t.css(o)}))}}),10)}i._limitMinMaxDateTime(this.inst,!0)}},_limitMinMaxDateTime:function(e,t){var i=this._defaults,r=new Date(e.selectedYear,e.selectedMonth,e.selectedDay);if(this._defaults.showTimepicker){if(null!==$.datepicker._get(e,"minDateTime")&&void 0!==$.datepicker._get(e,"minDateTime")&&r){var a=$.datepicker._get(e,"minDateTime"),n=new Date(a.getFullYear(),a.getMonth(),a.getDate(),0,0,0,0);(null===this.hourMinOriginal||null===this.minuteMinOriginal||null===this.secondMinOriginal||null===this.millisecMinOriginal||null===this.microsecMinOriginal)&&(this.hourMinOriginal=i.hourMin,this.minuteMinOriginal=i.minuteMin,this.secondMinOriginal=i.secondMin,this.millisecMinOriginal=i.millisecMin,this.microsecMinOriginal=i.microsecMin),e.settings.timeOnly||n.getTime()===r.getTime()?(this._defaults.hourMin=a.getHours(),this.hour<=this._defaults.hourMin?(this.hour=this._defaults.hourMin,this._defaults.minuteMin=a.getMinutes(),this.minute<=this._defaults.minuteMin?(this.minute=this._defaults.minuteMin,this._defaults.secondMin=a.getSeconds(),this.second<=this._defaults.secondMin?(this.second=this._defaults.secondMin,this._defaults.millisecMin=a.getMilliseconds(),this.millisec<=this._defaults.millisecMin?(this.millisec=this._defaults.millisecMin,this._defaults.microsecMin=a.getMicroseconds()):(this.microsec<this._defaults.microsecMin&&(this.microsec=this._defaults.microsecMin),this._defaults.microsecMin=this.microsecMinOriginal)):(this._defaults.millisecMin=this.millisecMinOriginal,this._defaults.microsecMin=this.microsecMinOriginal)):(this._defaults.secondMin=this.secondMinOriginal,this._defaults.millisecMin=this.millisecMinOriginal,this._defaults.microsecMin=this.microsecMinOriginal)):(this._defaults.minuteMin=this.minuteMinOriginal,this._defaults.secondMin=this.secondMinOriginal,this._defaults.millisecMin=this.millisecMinOriginal,this._defaults.microsecMin=this.microsecMinOriginal)):(this._defaults.hourMin=this.hourMinOriginal,this._defaults.minuteMin=this.minuteMinOriginal,this._defaults.secondMin=this.secondMinOriginal,this._defaults.millisecMin=this.millisecMinOriginal,this._defaults.microsecMin=this.microsecMinOriginal)}if(null!==$.datepicker._get(e,"maxDateTime")&&void 0!==$.datepicker._get(e,"maxDateTime")&&r){var o=$.datepicker._get(e,"maxDateTime"),s=new Date(o.getFullYear(),o.getMonth(),o.getDate(),0,0,0,0);(null===this.hourMaxOriginal||null===this.minuteMaxOriginal||null===this.secondMaxOriginal||null===this.millisecMaxOriginal)&&(this.hourMaxOriginal=i.hourMax,this.minuteMaxOriginal=i.minuteMax,this.secondMaxOriginal=i.secondMax,this.millisecMaxOriginal=i.millisecMax,this.microsecMaxOriginal=i.microsecMax),e.settings.timeOnly||s.getTime()===r.getTime()?(this._defaults.hourMax=o.getHours(),this.hour>=this._defaults.hourMax?(this.hour=this._defaults.hourMax,this._defaults.minuteMax=o.getMinutes(),this.minute>=this._defaults.minuteMax?(this.minute=this._defaults.minuteMax,this._defaults.secondMax=o.getSeconds(),this.second>=this._defaults.secondMax?(this.second=this._defaults.secondMax,this._defaults.millisecMax=o.getMilliseconds(),this.millisec>=this._defaults.millisecMax?(this.millisec=this._defaults.millisecMax,this._defaults.microsecMax=o.getMicroseconds()):(this.microsec>this._defaults.microsecMax&&(this.microsec=this._defaults.microsecMax),this._defaults.microsecMax=this.microsecMaxOriginal)):(this._defaults.millisecMax=this.millisecMaxOriginal,this._defaults.microsecMax=this.microsecMaxOriginal)):(this._defaults.secondMax=this.secondMaxOriginal,this._defaults.millisecMax=this.millisecMaxOriginal,this._defaults.microsecMax=this.microsecMaxOriginal)):(this._defaults.minuteMax=this.minuteMaxOriginal,this._defaults.secondMax=this.secondMaxOriginal,this._defaults.millisecMax=this.millisecMaxOriginal,this._defaults.microsecMax=this.microsecMaxOriginal)):(this._defaults.hourMax=this.hourMaxOriginal,this._defaults.minuteMax=this.minuteMaxOriginal,this._defaults.secondMax=this.secondMaxOriginal,this._defaults.millisecMax=this.millisecMaxOriginal,this._defaults.microsecMax=this.microsecMaxOriginal)}if(null!==e.settings.minTime){var l=new Date("01/01/1970 "+e.settings.minTime);this.hour<l.getHours()?(this.hour=this._defaults.hourMin=l.getHours(),this.minute=this._defaults.minuteMin=l.getMinutes()):this.hour===l.getHours()&&this.minute<l.getMinutes()?this.minute=this._defaults.minuteMin=l.getMinutes():this._defaults.hourMin<l.getHours()?(this._defaults.hourMin=l.getHours(),this._defaults.minuteMin=l.getMinutes()):this._defaults.hourMin===l.getHours()===this.hour&&this._defaults.minuteMin<l.getMinutes()?this._defaults.minuteMin=l.getMinutes():this._defaults.minuteMin=0}if(null!==e.settings.maxTime){var d=new Date("01/01/1970 "+e.settings.maxTime);this.hour>d.getHours()?(this.hour=this._defaults.hourMax=d.getHours(),this.minute=this._defaults.minuteMax=d.getMinutes()):this.hour===d.getHours()&&this.minute>d.getMinutes()?this.minute=this._defaults.minuteMax=d.getMinutes():this._defaults.hourMax>d.getHours()?(this._defaults.hourMax=d.getHours(),this._defaults.minuteMax=d.getMinutes()):this._defaults.hourMax===d.getHours()===this.hour&&this._defaults.minuteMax>d.getMinutes()?this._defaults.minuteMax=d.getMinutes():this._defaults.minuteMax=59}if(void 0!==t&&!0===t){var c=parseInt(this._defaults.hourMax-(this._defaults.hourMax-this._defaults.hourMin)%this._defaults.stepHour,10),u=parseInt(this._defaults.minuteMax-(this._defaults.minuteMax-this._defaults.minuteMin)%this._defaults.stepMinute,10),h=parseInt(this._defaults.secondMax-(this._defaults.secondMax-this._defaults.secondMin)%this._defaults.stepSecond,10),p=parseInt(this._defaults.millisecMax-(this._defaults.millisecMax-this._defaults.millisecMin)%this._defaults.stepMillisec,10),f=parseInt(this._defaults.microsecMax-(this._defaults.microsecMax-this._defaults.microsecMin)%this._defaults.stepMicrosec,10);this.hour_slider&&(this.control.options(this,this.hour_slider,"hour",{min:this._defaults.hourMin,max:c,step:this._defaults.stepHour}),this.control.value(this,this.hour_slider,"hour",this.hour-this.hour%this._defaults.stepHour)),this.minute_slider&&(this.control.options(this,this.minute_slider,"minute",{min:this._defaults.minuteMin,max:u,step:this._defaults.stepMinute}),this.control.value(this,this.minute_slider,"minute",this.minute-this.minute%this._defaults.stepMinute)),this.second_slider&&(this.control.options(this,this.second_slider,"second",{min:this._defaults.secondMin,max:h,step:this._defaults.stepSecond}),this.control.value(this,this.second_slider,"second",this.second-this.second%this._defaults.stepSecond)),this.millisec_slider&&(this.control.options(this,this.millisec_slider,"millisec",{min:this._defaults.millisecMin,max:p,step:this._defaults.stepMillisec}),this.control.value(this,this.millisec_slider,"millisec",this.millisec-this.millisec%this._defaults.stepMillisec)),this.microsec_slider&&(this.control.options(this,this.microsec_slider,"microsec",{min:this._defaults.microsecMin,max:f,step:this._defaults.stepMicrosec}),this.control.value(this,this.microsec_slider,"microsec",this.microsec-this.microsec%this._defaults.stepMicrosec))}}},_onTimeChange:function(){if(this._defaults.showTimepicker){var e=!!this.hour_slider&&this.control.value(this,this.hour_slider,"hour"),t=!!this.minute_slider&&this.control.value(this,this.minute_slider,"minute"),i=!!this.second_slider&&this.control.value(this,this.second_slider,"second"),r=!!this.millisec_slider&&this.control.value(this,this.millisec_slider,"millisec"),a=!!this.microsec_slider&&this.control.value(this,this.microsec_slider,"microsec"),n=!!this.timezone_select&&this.timezone_select.val(),o=this._defaults,s=o.pickerTimeFormat||o.timeFormat,l=o.pickerTimeSuffix||o.timeSuffix;"object"==typeof e&&(e=!1),"object"==typeof t&&(t=!1),"object"==typeof i&&(i=!1),"object"==typeof r&&(r=!1),"object"==typeof a&&(a=!1),"object"==typeof n&&(n=!1),!1!==e&&(e=parseInt(e,10)),!1!==t&&(t=parseInt(t,10)),!1!==i&&(i=parseInt(i,10)),!1!==r&&(r=parseInt(r,10)),!1!==a&&(a=parseInt(a,10)),!1!==n&&(n=n.toString());var d=o[12>e?"amNames":"pmNames"][0],c=e!==parseInt(this.hour,10)||t!==parseInt(this.minute,10)||i!==parseInt(this.second,10)||r!==parseInt(this.millisec,10)||a!==parseInt(this.microsec,10)||this.ampm.length>0&&12>e!=(-1!==$.inArray(this.ampm.toUpperCase(),this.amNames))||null!==this.timezone&&n!==this.timezone.toString();if(c&&(!1!==e&&(this.hour=e),!1!==t&&(this.minute=t),!1!==i&&(this.second=i),!1!==r&&(this.millisec=r),!1!==a&&(this.microsec=a),!1!==n&&(this.timezone=n),this.inst||(this.inst=$.datepicker._getInst(this.$input[0])),this._limitMinMaxDateTime(this.inst,!0)),this.support.ampm&&(this.ampm=d),this.formattedTime=$.datepicker.formatTime(o.timeFormat,this,o),this.$timeObj&&(this.$timeObj.val(s===o.timeFormat?this.formattedTime+l:$.datepicker.formatTime(s,this,o)+l),this.$timeObj[0].setSelectionRange)){var u=this.$timeObj[0].selectionStart,h=this.$timeObj[0].selectionEnd;this.$timeObj[0].setSelectionRange(u,h)}this.timeDefined=!0,c&&this._updateDateTime()}},_onSelectHandler:function(){var e=this._defaults.onSelect||this.inst.settings.onSelect,t=this.$input?this.$input[0]:null;e&&t&&e.apply(t,[this.formattedDateTime,this])},_updateDateTime:function(e){var t=(e=this.inst||e).currentYear>0?new Date(e.currentYear,e.currentMonth,e.currentDay):new Date(e.selectedYear,e.selectedMonth,e.selectedDay),i=$.datepicker._daylightSavingAdjust(t),r=$.datepicker._get(e,"dateFormat"),a=$.datepicker._getFormatConfig(e),n=null!==i&&this.timeDefined;this.formattedDate=$.datepicker.formatDate(r,null===i?new Date:i,a);var o=this.formattedDate;if(""===e.lastVal&&(e.currentYear=e.selectedYear,e.currentMonth=e.selectedMonth,e.currentDay=e.selectedDay),!0===this._defaults.timeOnly&&!1===this._defaults.timeOnlyShowDate?o=this.formattedTime:(!0!==this._defaults.timeOnly&&(this._defaults.alwaysSetTime||n)||!0===this._defaults.timeOnly&&!0===this._defaults.timeOnlyShowDate)&&(o+=this._defaults.separator+this.formattedTime+this._defaults.timeSuffix),this.formattedDateTime=o,this._defaults.showTimepicker)if(this.$altInput&&!1===this._defaults.timeOnly&&!0===this._defaults.altFieldTimeOnly)this.$altInput.val(this.formattedTime),this.$input.val(this.formattedDate);else if(this.$altInput){this.$input.val(o);var s="",l=null!==this._defaults.altSeparator?this._defaults.altSeparator:this._defaults.separator,d=null!==this._defaults.altTimeSuffix?this._defaults.altTimeSuffix:this._defaults.timeSuffix;this._defaults.timeOnly||(s=this._defaults.altFormat?$.datepicker.formatDate(this._defaults.altFormat,null===i?new Date:i,a):this.formattedDate)&&(s+=l),s+=null!==this._defaults.altTimeFormat?$.datepicker.formatTime(this._defaults.altTimeFormat,this,this._defaults)+d:this.formattedTime+d,this.$altInput.val(s)}else this.$input.val(o);else this.$input.val(this.formattedDate);this.$input.trigger("change")},_onFocus:function(){if(!this.$input.val()&&this._defaults.defaultValue){this.$input.val(this._defaults.defaultValue);var e=$.datepicker._getInst(this.$input.get(0)),t=$.datepicker._get(e,"timepicker");if(t&&t._defaults.timeOnly&&e.input.val()!==e.lastVal)try{$.datepicker._updateDatepicker(e)}catch(i){$.timepicker.log(i)}}},_controls:{slider:{create:function(e,t,i,r,a,n,o){var s=e._defaults.isRTL;return t.prop("slide",null).slider({orientation:"horizontal",value:s?-1*r:r,min:s?-1*n:a,max:s?-1*a:n,step:o,slide:function(t,r){e.control.value(e,$(this),i,s?-1*r.value:r.value),e._onTimeChange()},stop:function(t,i){e._onSelectHandler()}})},options:function(e,t,i,r,a){if(e._defaults.isRTL){if("string"==typeof r)return"min"===r||"max"===r?void 0!==a?t.slider(r,-1*a):Math.abs(t.slider(r)):t.slider(r);var n=r.min,o=r.max;return r.min=r.max=null,void 0!==n&&(r.max=-1*n),void 0!==o&&(r.min=-1*o),t.slider(r)}return"string"==typeof r&&void 0!==a?t.slider(r,a):t.slider(r)},value:function(e,t,i,r){return e._defaults.isRTL?void 0!==r?t.slider("value",-1*r):Math.abs(t.slider("value")):void 0!==r?t.slider("value",r):t.slider("value")}},select:{create:function(e,t,i,r,a,n,o){for(var s='<select class="ui-timepicker-select ui-state-default ui-corner-all" data-unit="'+i+'" data-min="'+a+'" data-max="'+n+'" data-step="'+o+'">',l=e._defaults.pickerTimeFormat||e._defaults.timeFormat,d=a;n>=d;d+=o)s+='<option value="'+d+'"'+(d===r?" selected":"")+">",s+="hour"===i?$.datepicker.formatTime($.trim(l.replace(/[^ht ]/gi,"")),{hour:d},e._defaults):"millisec"===i||"microsec"===i||d>=10?d:"0"+d.toString(),s+="</option>";return s+="</select>",t.children("select").remove(),$(s).appendTo(t).change((function(t){e._onTimeChange(),e._onSelectHandler(),e._afterInject()})),t},options:function(e,t,i,r,a){var n={},o=t.children("select");if("string"==typeof r){if(void 0===a)return o.data(r);n[r]=a}else n=r;return e.control.create(e,t,o.data("unit"),o.val(),n.min>=0?n.min:o.data("min"),n.max||o.data("max"),n.step||o.data("step"))},value:function(e,t,i,r){var a=t.children("select");return void 0!==r?a.val(r):a.val()}}}}),$.fn.extend({timepicker:function(e){e=e||{};var t=Array.prototype.slice.call(arguments);return"object"==typeof e&&(t[0]=$.extend(e,{timeOnly:!0})),$(this).each((function(){$.fn.datetimepicker.apply($(this),t)}))},datetimepicker:function(e){var t=arguments;return"string"==typeof(e=e||{})?"getDate"===e||"option"===e&&2===t.length&&"string"==typeof t[1]?$.fn.datepicker.apply($(this[0]),t):this.each((function(){var e=$(this);e.datepicker.apply(e,t)})):this.each((function(){var t=$(this);t.datepicker($.timepicker._newInst(t,e)._defaults)}))}}),$.datepicker.parseDateTime=function(e,t,i,r,a){var n=parseDateTimeInternal(e,t,i,r,a);if(n.timeObj){var o=n.timeObj;n.date.setHours(o.hour,o.minute,o.second,o.millisec),n.date.setMicroseconds(o.microsec)}return n.date},$.datepicker.parseTime=function(e,t,i){var r=extendRemove(extendRemove({},$.timepicker._defaults),i||{}),a=(e.replace(/\'.*?\'/g,"").indexOf("Z"),function(e,t,i){var r,a="^"+e.toString().replace(/([hH]{1,2}|mm?|ss?|[tT]{1,2}|[zZ]|[lc]|'.*?')/g,(function(e){var t=e.length;switch(e.charAt(0).toLowerCase()){case"h":case"m":case"s":return 1===t?"(\\d?\\d)":"(\\d{"+t+"})";case"l":case"c":return"(\\d?\\d?\\d)";case"z":return"(z|[-+]\\d\\d:?\\d\\d|\\S+)?";case"t":return function(e,t){var i=[];return e&&$.merge(i,e),t&&$.merge(i,t),"("+(i=$.map(i,(function(e){return e.replace(/[.*+?|()\[\]{}\\]/g,"\\$&")}))).join("|")+")?"}(i.amNames,i.pmNames);default:return"("+e.replace(/\'/g,"").replace(/(\.|\$|\^|\\|\/|\(|\)|\[|\]|\?|\+|\*)/g,(function(e){return"\\"+e}))+")?"}})).replace(/\s/g,"\\s?")+i.timeSuffix+"$",n=function(e){var t=e.toLowerCase().match(/(h{1,2}|m{1,2}|s{1,2}|l{1}|c{1}|t{1,2}|z|'.*?')/g),i={h:-1,m:-1,s:-1,l:-1,c:-1,t:-1,z:-1};if(t)for(var r=0;r<t.length;r++)-1===i[t[r].toString().charAt(0)]&&(i[t[r].toString().charAt(0)]=r+1);return i}(e),o="",s={hour:0,minute:0,second:0,millisec:0,microsec:0};return!!(r=t.match(new RegExp(a,"i")))&&(-1!==n.t&&(void 0===r[n.t]||0===r[n.t].length?(o="",s.ampm=""):(o=-1!==$.inArray(r[n.t].toUpperCase(),$.map(i.amNames,(function(e,t){return e.toUpperCase()})))?"AM":"PM",s.ampm=i["AM"===o?"amNames":"pmNames"][0])),-1!==n.h&&("AM"===o&&"12"===r[n.h]?s.hour=0:"PM"===o&&"12"!==r[n.h]?s.hour=parseInt(r[n.h],10)+12:s.hour=Number(r[n.h])),-1!==n.m&&(s.minute=Number(r[n.m])),-1!==n.s&&(s.second=Number(r[n.s])),-1!==n.l&&(s.millisec=Number(r[n.l])),-1!==n.c&&(s.microsec=Number(r[n.c])),-1!==n.z&&void 0!==r[n.z]&&(s.timezone=$.timepicker.timezoneOffsetNumber(r[n.z])),s)});return"function"==typeof r.parse?r.parse(e,t,r):"loose"===r.parse?function(e,t,i){try{var r=new Date("2012-01-01 "+t);if(isNaN(r.getTime())&&(r=new Date("2012-01-01T"+t),isNaN(r.getTime())&&(r=new Date("01/01/2012 "+t),isNaN(r.getTime()))))throw"Unable to parse time with native Date: "+t;return{hour:r.getHours(),minute:r.getMinutes(),second:r.getSeconds(),millisec:r.getMilliseconds(),microsec:r.getMicroseconds(),timezone:-1*r.getTimezoneOffset()}}catch(n){try{return a(e,t,i)}catch(o){$.timepicker.log("Unable to parse \ntimeString: "+t+"\ntimeFormat: "+e)}}return!1}(e,t,r):a(e,t,r)},$.datepicker.formatTime=function(e,t,i){i=i||{},i=$.extend({},$.timepicker._defaults,i),t=$.extend({hour:0,minute:0,second:0,millisec:0,microsec:0,timezone:null},t);var r=e,a=i.amNames[0],n=parseInt(t.hour,10);return n>11&&(a=i.pmNames[0]),r.replace(/(?:HH?|hh?|mm?|ss?|[tT]{1,2}|[zZ]|[lc]|'.*?')/g,(function(e){switch(e){case"HH":return("0"+n).slice(-2);case"H":return n;case"hh":return("0"+convert24to12(n)).slice(-2);case"h":return convert24to12(n);case"mm":return("0"+t.minute).slice(-2);case"m":return t.minute;case"ss":return("0"+t.second).slice(-2);case"s":return t.second;case"l":return("00"+t.millisec).slice(-3);case"c":return("00"+t.microsec).slice(-3);case"z":return $.timepicker.timezoneOffsetString(null===t.timezone?i.timezone:t.timezone,!1);case"Z":return $.timepicker.timezoneOffsetString(null===t.timezone?i.timezone:t.timezone,!0);case"T":return a.charAt(0).toUpperCase();case"TT":return a.toUpperCase();case"t":return a.charAt(0).toLowerCase();case"tt":return a.toLowerCase();default:return e.replace(/'/g,"")}}))},$.datepicker._base_selectDate=$.datepicker._selectDate,$.datepicker._selectDate=function(e,t){var i,r=this._getInst($(e)[0]),a=this._get(r,"timepicker");a&&r.settings.showTimepicker?(a._limitMinMaxDateTime(r,!0),i=r.inline,r.inline=r.stay_open=!0,this._base_selectDate(e,t),r.inline=i,r.stay_open=!1,this._notifyChange(r),this._updateDatepicker(r)):this._base_selectDate(e,t)},$.datepicker._base_updateDatepicker=$.datepicker._updateDatepicker,$.datepicker._updateDatepicker=function(e){var t=e.input[0];if(!($.datepicker._curInst&&$.datepicker._curInst!==e&&$.datepicker._datepickerShowing&&$.datepicker._lastInput!==t||"boolean"==typeof e.stay_open&&!1!==e.stay_open)){this._base_updateDatepicker(e);var i=this._get(e,"timepicker");i&&i._addTimePicker(e)}},$.datepicker._base_doKeyPress=$.datepicker._doKeyPress,$.datepicker._doKeyPress=function(e){var t=$.datepicker._getInst(e.target),i=$.datepicker._get(t,"timepicker");if(i&&$.datepicker._get(t,"constrainInput")){var r=i.support.ampm,a=null!==i._defaults.showTimezone?i._defaults.showTimezone:i.support.timezone,n=$.datepicker._possibleChars($.datepicker._get(t,"dateFormat")),o=i._defaults.timeFormat.toString().replace(/[hms]/g,"").replace(/TT/g,r?"APM":"").replace(/Tt/g,r?"AaPpMm":"").replace(/tT/g,r?"AaPpMm":"").replace(/T/g,r?"AP":"").replace(/tt/g,r?"apm":"").replace(/t/g,r?"ap":"")+" "+i._defaults.separator+i._defaults.timeSuffix+(a?i._defaults.timezoneList.join(""):"")+i._defaults.amNames.join("")+i._defaults.pmNames.join("")+n,s=String.fromCharCode(void 0===e.charCode?e.keyCode:e.charCode);return e.ctrlKey||" ">s||!n||o.indexOf(s)>-1}return $.datepicker._base_doKeyPress(e)},$.datepicker._base_updateAlternate=$.datepicker._updateAlternate,$.datepicker._updateAlternate=function(e){var t=this._get(e,"timepicker");if(t){var i=t._defaults.altField;if(i){var r=(t._defaults.altFormat||t._defaults.dateFormat,this._getDate(e)),a=$.datepicker._getFormatConfig(e),n="",o=t._defaults.altSeparator?t._defaults.altSeparator:t._defaults.separator,s=t._defaults.altTimeSuffix?t._defaults.altTimeSuffix:t._defaults.timeSuffix,l=null!==t._defaults.altTimeFormat?t._defaults.altTimeFormat:t._defaults.timeFormat;n+=$.datepicker.formatTime(l,t,t._defaults)+s,t._defaults.timeOnly||t._defaults.altFieldTimeOnly||null===r||(n=t._defaults.altFormat?$.datepicker.formatDate(t._defaults.altFormat,r,a)+o+n:t.formattedDate+o+n),$(i).val(e.input.val()?n:"")}}else $.datepicker._base_updateAlternate(e)},$.datepicker._base_doKeyUp=$.datepicker._doKeyUp,$.datepicker._doKeyUp=function(e){var t=$.datepicker._getInst(e.target),i=$.datepicker._get(t,"timepicker");if(i&&i._defaults.timeOnly&&t.input.val()!==t.lastVal)try{$.datepicker._updateDatepicker(t)}catch(r){$.timepicker.log(r)}return $.datepicker._base_doKeyUp(e)},$.datepicker._base_gotoToday=$.datepicker._gotoToday,$.datepicker._gotoToday=function(e){var t=this._getInst($(e)[0]);this._base_gotoToday(e);var i=this._get(t,"timepicker");if(i){var r=$.timepicker.timezoneOffsetNumber(i.timezone),a=new Date;a.setMinutes(a.getMinutes()+a.getTimezoneOffset()+parseInt(r,10)),this._setTime(t,a),this._setDate(t,a),i._onSelectHandler()}},$.datepicker._disableTimepickerDatepicker=function(e){var t=this._getInst(e);if(t){var i=this._get(t,"timepicker");$(e).datepicker("getDate"),i&&(t.settings.showTimepicker=!1,i._defaults.showTimepicker=!1,i._updateDateTime(t))}},$.datepicker._enableTimepickerDatepicker=function(e){var t=this._getInst(e);if(t){var i=this._get(t,"timepicker");$(e).datepicker("getDate"),i&&(t.settings.showTimepicker=!0,i._defaults.showTimepicker=!0,i._addTimePicker(t),i._updateDateTime(t))}},$.datepicker._setTime=function(e,t){var i=this._get(e,"timepicker");if(i){var r=i._defaults;i.hour=t?t.getHours():r.hour,i.minute=t?t.getMinutes():r.minute,i.second=t?t.getSeconds():r.second,i.millisec=t?t.getMilliseconds():r.millisec,i.microsec=t?t.getMicroseconds():r.microsec,i._limitMinMaxDateTime(e,!0),i._onTimeChange(),i._updateDateTime(e)}},$.datepicker._setTimeDatepicker=function(e,t,i){var r=this._getInst(e);if(r){var a,n=this._get(r,"timepicker");n&&(this._setDateFromField(r),t&&("string"==typeof t?(n._parseTime(t,i),(a=new Date).setHours(n.hour,n.minute,n.second,n.millisec),a.setMicroseconds(n.microsec)):(a=new Date(t.getTime())).setMicroseconds(t.getMicroseconds()),"Invalid Date"===a.toString()&&(a=void 0),this._setTime(r,a)))}},$.datepicker._base_setDateDatepicker=$.datepicker._setDateDatepicker,$.datepicker._setDateDatepicker=function(e,t){var i=this._getInst(e),r=t;if(i){"string"==typeof t&&((r=new Date(t)).getTime()||(this._base_setDateDatepicker.apply(this,arguments),r=$(e).datepicker("getDate")));var a,n=this._get(i,"timepicker");r instanceof Date?(a=new Date(r.getTime())).setMicroseconds(r.getMicroseconds()):a=r,n&&a&&(n.support.timezone||null!==n._defaults.timezone||(n.timezone=-1*a.getTimezoneOffset()),r=$.timepicker.timezoneAdjust(r,$.timepicker.timezoneOffsetString(-r.getTimezoneOffset()),n.timezone),a=$.timepicker.timezoneAdjust(a,$.timepicker.timezoneOffsetString(-a.getTimezoneOffset()),n.timezone)),this._updateDatepicker(i),this._base_setDateDatepicker.apply(this,arguments),this._setTimeDatepicker(e,a,!0)}},$.datepicker._base_getDateDatepicker=$.datepicker._getDateDatepicker,$.datepicker._getDateDatepicker=function(e,t){var i=this._getInst(e);if(i){var r=this._get(i,"timepicker");if(r){void 0===i.lastVal&&this._setDateFromField(i,t);var a,n=this._getDate(i);return a=r.$altInput&&r._defaults.altFieldTimeOnly?r.$input.val()+" "+r.$altInput.val():"INPUT"!==r.$input.get(0).tagName&&r.$altInput?r.$altInput.val():r.$input.val(),n&&r._parseTime(a,!i.settings.timeOnly)&&(n.setHours(r.hour,r.minute,r.second,r.millisec),n.setMicroseconds(r.microsec),null!=r.timezone&&(r.support.timezone||null!==r._defaults.timezone||(r.timezone=-1*n.getTimezoneOffset()),n=$.timepicker.timezoneAdjust(n,r.timezone,$.timepicker.timezoneOffsetString(-n.getTimezoneOffset())))),n}return this._base_getDateDatepicker(e,t)}},$.datepicker._base_parseDate=$.datepicker.parseDate,$.datepicker.parseDate=function(e,t,i){var r;try{r=this._base_parseDate(e,t,i)}catch(a){if(!(a.indexOf(":")>=0))throw a;r=this._base_parseDate(e,t.substring(0,t.length-(a.length-a.indexOf(":")-2)),i),$.timepicker.log("Error parsing the date string: "+a+"\ndate string = "+t+"\ndate format = "+e)}return r},$.datepicker._base_formatDate=$.datepicker._formatDate,$.datepicker._formatDate=function(e,t,i,r){var a=this._get(e,"timepicker");return a?(a._updateDateTime(e),a.$input.val()):this._base_formatDate(e)},$.datepicker._base_optionDatepicker=$.datepicker._optionDatepicker,$.datepicker._optionDatepicker=function(e,t,i){var r,a=this._getInst(e);if(!a)return null;var n=this._get(a,"timepicker");if(n){var o,s,l,d,c=null,u=null,h=null,p=n._defaults.evnts,f={};if("string"==typeof t){if("minDate"===t||"minDateTime"===t)c=i;else if("maxDate"===t||"maxDateTime"===t)u=i;else if("onSelect"===t)h=i;else if(p.hasOwnProperty(t)){if(void 0===i)return p[t];f[t]=i,r={}}}else if("object"==typeof t)for(o in t.minDate?c=t.minDate:t.minDateTime?c=t.minDateTime:t.maxDate?u=t.maxDate:t.maxDateTime&&(u=t.maxDateTime),p)p.hasOwnProperty(o)&&t[o]&&(f[o]=t[o]);for(o in f)f.hasOwnProperty(o)&&(p[o]=f[o],r||(r=$.extend({},t)),delete r[o]);if(r&&isEmptyObject(r))return;if(c?(c=0===c?new Date:new Date(c),n._defaults.minDate=c,n._defaults.minDateTime=c):u?(u=0===u?new Date:new Date(u),n._defaults.maxDate=u,n._defaults.maxDateTime=u):h&&(n._defaults.onSelect=h),c||u)return l=(d=$(e)).datetimepicker("getDate"),s=this._base_optionDatepicker.call($.datepicker,e,r||t,i),d.datetimepicker("setDate",l),s}return void 0===i?this._base_optionDatepicker.call($.datepicker,e,t):this._base_optionDatepicker.call($.datepicker,e,r||t,i)};var isEmptyObject=function(e){var t;for(t in e)if(e.hasOwnProperty(t))return!1;return!0},extendRemove=function(e,t){for(var i in $.extend(e,t),t)(null===t[i]||void 0===t[i])&&(e[i]=t[i]);return e},detectSupport=function(e){var t=e.replace(/'.*?'/g,"").toLowerCase(),i=function(e,t){return-1!==e.indexOf(t)};return{hour:i(t,"h"),minute:i(t,"m"),second:i(t,"s"),millisec:i(t,"l"),microsec:i(t,"c"),timezone:i(t,"z"),ampm:i(t,"t")&&i(e,"h"),iso8601:i(e,"Z")}},convert24to12=function(e){return 0==(e%=12)&&(e=12),String(e)},computeEffectiveSetting=function(e,t){return e&&e[t]?e[t]:$.timepicker._defaults[t]},splitDateTime=function(e,t){var i=computeEffectiveSetting(t,"separator"),r=computeEffectiveSetting(t,"timeFormat").split(i).length,a=e.split(i),n=a.length;return n>1?{dateString:a.splice(0,n-r).join(i),timeString:a.splice(0,r).join(i)}:{dateString:e,timeString:""}},parseDateTimeInternal=function(e,t,i,r,a){var n,o,s;if(o=splitDateTime(i,a),n=$.datepicker._base_parseDate(e,o.dateString,r),""===o.timeString)return{date:n};if(!(s=$.datepicker.parseTime(t,o.timeString,a)))throw"Wrong time format";return{date:n,timeObj:s}},selectLocalTimezone=function(e,t){if(e&&e.timezone_select){var i=t||new Date;e.timezone_select.val(-i.getTimezoneOffset())}};$.timepicker=new Timepicker,$.timepicker.timezoneOffsetString=function(e,t){if(isNaN(e)||e>840||-720>e)return e;var i=e%60,r=(e-i)/60,a=t?":":"",n=(e>=0?"+":"-")+("0"+Math.abs(r)).slice(-2)+a+("0"+Math.abs(i)).slice(-2);return"+00:00"===n?"Z":n},$.timepicker.timezoneOffsetNumber=function(e){var t=e.toString().replace(":","");return"Z"===t.toUpperCase()?0:/^(\-|\+)\d{4}$/.test(t)?("-"===t.substr(0,1)?-1:1)*(60*parseInt(t.substr(1,2),10)+parseInt(t.substr(3,2),10)):parseInt(e,10)},$.timepicker.timezoneAdjust=function(e,t,i){var r=$.timepicker.timezoneOffsetNumber(t),a=$.timepicker.timezoneOffsetNumber(i);return isNaN(a)||e.setMinutes(e.getMinutes()+-r- -a),e},$.timepicker.timeRange=function(e,t,i){return $.timepicker.handleRange("timepicker",e,t,i)},$.timepicker.datetimeRange=function(e,t,i){$.timepicker.handleRange("datetimepicker",e,t,i)},$.timepicker.dateRange=function(e,t,i){$.timepicker.handleRange("datepicker",e,t,i)},$.timepicker.handleRange=function(e,t,i,r){function a(a,n){var o=t[e]("getDate"),s=i[e]("getDate"),l=a[e]("getDate");if(null!==o){var d=new Date(o.getTime()),c=new Date(o.getTime());d.setMilliseconds(d.getMilliseconds()+r.minInterval),c.setMilliseconds(c.getMilliseconds()+r.maxInterval),r.minInterval>0&&d>s?i[e]("setDate",d):r.maxInterval>0&&s>c?i[e]("setDate",c):o>s&&n[e]("setDate",l)}}function n(t,i,a){if(t.val()){var n=t[e].call(t,"getDate");null!==n&&r.minInterval>0&&("minDate"===a&&n.setMilliseconds(n.getMilliseconds()+r.minInterval),"maxDate"===a&&n.setMilliseconds(n.getMilliseconds()-r.minInterval)),n.getTime&&i[e].call(i,"option",a,n)}}r=$.extend({},{minInterval:0,maxInterval:0,start:{},end:{}},r);var o=!1;return"timepicker"===e&&(o=!0,e="datetimepicker"),$.fn[e].call(t,$.extend({timeOnly:o,onClose:function(e,t){a($(this),i)},onSelect:function(e){n($(this),i,"minDate")}},r,r.start)),$.fn[e].call(i,$.extend({timeOnly:o,onClose:function(e,i){a($(this),t)},onSelect:function(e){n($(this),t,"maxDate")}},r,r.end)),a(t,i),n(t,i,"minDate"),n(i,t,"maxDate"),$([t.get(0),i.get(0)])},$.timepicker.log=function(){window.console&&window.console.log&&window.console.log.apply&&window.console.log.apply(window.console,Array.prototype.slice.call(arguments))},$.timepicker._util={_extendRemove:extendRemove,_isEmptyObject:isEmptyObject,_convert24to12:convert24to12,_detectSupport:detectSupport,_selectLocalTimezone:selectLocalTimezone,_computeEffectiveSetting:computeEffectiveSetting,_splitDateTime:splitDateTime,_parseDateTimeInternal:parseDateTimeInternal},Date.prototype.getMicroseconds||(Date.prototype.microseconds=0,Date.prototype.getMicroseconds=function(){return this.microseconds},Date.prototype.setMicroseconds=function(e){return this.setMilliseconds(this.getMilliseconds()+Math.floor(e/1e3)),this.microseconds=e%1e3,this}),$.timepicker.version="1.6.3"}},__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__(9755),__webpack_require__(6891)],void 0===(__WEBPACK_AMD_DEFINE_RESULT__="function"==typeof(__WEBPACK_AMD_DEFINE_FACTORY__=a)?__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__):__WEBPACK_AMD_DEFINE_FACTORY__)||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)},4337:function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;!function(e,t){"use strict";__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__(9755)],void 0===(__WEBPACK_AMD_DEFINE_RESULT__=function(i){return t(i,e.document)}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__))||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)}("undefined"!=typeof window?window:this,(function($,document){"use strict";var englishLanguageDefaults={name:"English (United States)",nameEnglish:"English (United States)",isRTL:!1,defaults:{recordtext:"View {0} - {1} of {2}",emptyrecords:"No records to view",loadtext:"Loading...",pgtext:"Page {0} of {1}",pgfirst:"First Page",pglast:"Last Page",pgnext:"Next Page",pgprev:"Previous Page",pgrecs:"Records per Page",showhide:"Toggle Expand Collapse Grid",savetext:"Saving..."},search:{caption:"Search...",Find:"Find",Reset:"Reset",odata:[{oper:"eq",text:"equal"},{oper:"ne",text:"not equal"},{oper:"lt",text:"less"},{oper:"le",text:"less or equal"},{oper:"gt",text:"greater"},{oper:"ge",text:"greater or equal"},{oper:"bw",text:"begins with"},{oper:"bn",text:"does not begin with"},{oper:"in",text:"is in"},{oper:"ni",text:"is not in"},{oper:"ew",text:"ends with"},{oper:"en",text:"does not end with"},{oper:"cn",text:"contains"},{oper:"nc",text:"does not contain"},{oper:"nu",text:"is null"},{oper:"nn",text:"is not null"}],groupOps:[{op:"AND",text:"all"},{op:"OR",text:"any"}],addGroupTitle:"Add subgroup",deleteGroupTitle:"Delete group",addRuleTitle:"Add rule",deleteRuleTitle:"Delete rule",operandTitle:"Click to select search operation.",resetTitle:"Reset Search Value"},edit:{addCaption:"Add Record",editCaption:"Edit Record",bSubmit:"Submit",bCancel:"Cancel",bClose:"Close",saveData:"Data has been changed! Save changes?",bYes:"Yes",bNo:"No",bExit:"Cancel",msg:{required:"Field is required",number:"Please, enter valid number",minValue:"value must be greater than or equal to ",maxValue:"value must be less than or equal to",email:"is not a valid e-mail",integer:"Please, enter valid integer value",date:"Please, enter valid date value",url:"is not a valid URL. Prefix required ('http://' or 'https://')",nodefined:" is not defined!",novalue:" return value is required!",customarray:"Custom function should return array!",customfcheck:"Custom function should be present in case of custom checking!"}},view:{caption:"View Record",bClose:"Close"},del:{caption:"Delete",msg:"Delete selected record(s)?",bSubmit:"Delete",bCancel:"Cancel"},nav:{edittext:"",edittitle:"Edit selected row",addtext:"",addtitle:"Add new row",deltext:"",deltitle:"Delete selected row",searchtext:"",searchtitle:"Find records",refreshtext:"",refreshtitle:"Reload Grid",alertcap:"Warning",alerttext:"Please, select row",viewtext:"",viewtitle:"View selected row",savetext:"",savetitle:"Save row",canceltext:"",canceltitle:"Cancel row editing"},col:{caption:"Select columns",bSubmit:"Ok",bCancel:"Cancel"},errors:{errcap:"Error",nourl:"No url is set",norecords:"No records to process",model:"Length of colNames <> colModel!"},formatter:{integer:{thousandsSeparator:",",defaultValue:"0"},number:{decimalSeparator:".",thousandsSeparator:",",decimalPlaces:2,defaultValue:"0.00"},currency:{decimalSeparator:".",thousandsSeparator:",",decimalPlaces:2,prefix:"",suffix:"",defaultValue:"0.00"},date:{dayNames:["Sun","Mon","Tue","Wed","Thr","Fri","Sat","Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec","January","February","March","April","May","June","July","August","September","October","November","December"],AmPm:["am","pm","AM","PM"],S:function(e){return e<11||13<e?["st","nd","rd","th"][Math.min((e-1)%10,3)]:"th"},srcformat:"Y-m-d",newformat:"n/j/Y",masks:{ShortDate:"n/j/Y",LongDate:"l, F d, Y",FullDateTime:"l, F d, Y g:i:s A",MonthDay:"F d",ShortTime:"g:i A",LongTime:"g:i:s A",YearMonth:"F, Y"}}}};$.jgrid=$.jgrid||{};var jgrid=$.jgrid;jgrid.locales=jgrid.locales||{};var locales=jgrid.locales,COMPONENT_NAMES={GRID_BOX_DIV:0,GRID_OVERLAY_DIV:1,LOADING_DIV:2,DIALOG_ALERT_DIV:3,DIALOG_SEARCH_DIV:4,DIALOG_VIEW_DIV:5,DIALOG_EDIT_DIV:6,DIALOG_DELETE_DIV:7,GRID_VIEW_DIV:8,TITLE_BAR_DIV:9,UPPER_TOOLBAR_DIV:10,TOP_PAGER_DIV:11,HEADER_DIV:12,HEADER_BOX_DIV:13,HEADER_TABLE:14,HEADER_COLS_ROW:15,HEADER_COLS:16,HEADER_ROWS:47,HEADER_TH:48,HEADER_SORTABLE_DIV:49,HEADER_RESIZABLE_SPAN:50,HEADER_SELECT_ALL_ROWS_CHECKBOX:45,SEARCH_TOOLBAR:17,BODY_DIV:18,BODY_SCROLL_FULL_DIV:19,BODY_SCROLL_TOP_DIV:20,BODY_TABLE:21,GRID:21,BODY_COLS_ROW:22,BODY_COLS:23,BODY_DATA_ROWS:24,FOOTER_DIV:25,FOOTER_BOX_DIV:26,FOOTER_TABLE:27,FOOTER_DATA_ROWS:28,BOTTOM_TOOLBAR_DIV:29,FROZEN_HEADER_DIV:30,FROZEN_HEADER_TABLE:31,FROZEN_HEADER_COLS_ROW:32,FROZEN_HEADER_COLS:33,FROZEN_SEARCH_TOOLBAR:34,FROZEN_FOOTER_DIV:35,FROZEN_FOOTER_TABLE:36,FROZEN_FOOTER_DATA_ROWS:37,FROZEN_BODY_DIV:38,FROZEN_BODY_TABLE:39,FROZEN_BODY_COLS_ROW:40,FROZEN_BODY_COLS:41,FROZEN_BODY_DATA_ROWS:42,COLUMN_RESIZER_DIV:43,BOTTOM_PAGER_DIV:44,SEARCH_OPERATION_MENU_UL:46};(null==jgrid.defaults||$.isEmptyObject(locales)||void 0===locales["en-US"])&&(void 0===locales["en-US"]&&$.extend(!0,jgrid,{locales:{"en-US":englishLanguageDefaults}}),jgrid.defaults=jgrid.defaults||{},void 0===jgrid.defaults.locale&&(jgrid.defaults.locale="en-US")),jgrid.defaults=jgrid.defaults||{};var defaults=jgrid.defaults;$.extend(!0,jgrid,{version:"4.15.5-pre",productName:"free jqGrid",defaults:{},search:{},edit:{},view:{},del:{},nav:{},col:{},errors:{},formatter:{unused:""},icons:{jQueryUI:{common:"ui-icon",pager:{first:"ui-icon-seek-first",prev:"ui-icon-seek-prev",next:"ui-icon-seek-next",last:"ui-icon-seek-end"},sort:{asc:"ui-icon-triangle-1-n",desc:"ui-icon-triangle-1-s"},gridMinimize:{visible:"ui-icon-circle-triangle-n",hidden:"ui-icon-circle-triangle-s"},nav:{edit:"ui-icon-pencil",add:"ui-icon-plus",del:"ui-icon-trash",search:"ui-icon-search",refresh:"ui-icon-refresh",view:"ui-icon-document",save:"ui-icon-disk",cancel:"ui-icon-cancel",newbutton:"ui-icon-newwin"},actions:{edit:"ui-icon-pencil",del:"ui-icon-trash",save:"ui-icon-disk",cancel:"ui-icon-cancel"},form:{close:"ui-icon-closethick",prev:"ui-icon-triangle-1-w",next:"ui-icon-triangle-1-e",save:"ui-icon-disk",undo:"ui-icon-close",del:"ui-icon-scissors",cancel:"ui-icon-cancel",resizableLtr:"ui-resizable-se ui-icon ui-icon-gripsmall-diagonal-se"},search:{search:"ui-icon-search",reset:"ui-icon-arrowreturnthick-1-w",query:"ui-icon-comment"},subgrid:{plus:"ui-icon-plus",minus:"ui-icon-minus",openLtr:"ui-icon-caret-1-sw",openRtl:"ui-icon-caret-1-se"},grouping:{plus:"ui-icon-circlesmall-plus",minus:"ui-icon-circlesmall-minus"},treeGrid:{minus:"ui-icon-triangle-1-s",leaf:"ui-icon-radio-off",plusLtr:"ui-icon-triangle-1-e",plusRtl:"ui-icon-triangle-1-w"}},fontAwesome:{common:"fa",pager:{common:"fa-fw",first:"fa-step-backward",prev:"fa-backward",next:"fa-forward",last:"fa-step-forward"},sort:{common:"fa-lg",asc:"fa-sort-asc",desc:"fa-sort-desc"},gridMinimize:{visible:"fa-chevron-circle-up",hidden:"fa-chevron-circle-down"},nav:{common:"fa-lg fa-fw",edit:"fa-pencil",add:"fa-plus",del:"fa-trash-o",search:"fa-search",refresh:"fa-refresh",view:"fa-file-o",save:"fa-floppy-o",cancel:"fa-ban",newbutton:"fa-external-link"},actions:{common:"fa-fw",edit:"fa-pencil",del:"fa-trash-o",save:"fa-floppy-o",cancel:"fa-ban"},form:{close:"fa-times",prev:"fa-caret-left",next:"fa-caret-right",save:"fa-floppy-o",undo:"fa-undo",del:"fa-trash-o",cancel:"fa-ban",resizableLtr:"fa-rss fa-rotate-270"},search:{search:"fa-search",reset:"fa-undo",query:"fa-comments-o"},subgrid:{common:"fa-fw",plus:"fa-plus",minus:"fa-minus",openLtr:"fa-reply fa-rotate-180",openRtl:"fa-share fa-rotate-180"},grouping:{common:"fa-fw",plus:"fa-plus-square-o",minus:"fa-minus-square-o"},treeGrid:{common:"fa-fw",minus:"fa-lg fa-sort-desc",leaf:"fa-dot-circle-o",plusLtr:"fa-lg fa-caret-right",plusRtl:"fa-lg fa-caret-left"},checkbox:{checkedClasses:"fa-check-square-o",checked:"fa-check-square-o fa-lg",unchecked:"fa-square-o fa-lg"}},fontAwesome5:{pager:{common:"fa-fw",first:"fa-step-backward",prev:"fa-backward",next:"fa-forward",last:"fa-step-forward"},sort:{common:"fa-lg",asc:"fa-sort-up",desc:"fa-sort-down"},gridMinimize:{visible:"fa-chevron-circle-up",hidden:"fa-chevron-circle-down"},nav:{common:"fa-lg fa-fw",edit:"fa-pencil-alt",add:"fa-plus",del:"fa-trash-alt",search:"fa-search",refresh:"fa-sync",view:"fa-file",save:"fa-save",cancel:"fa-ban",newbutton:"fa-external-link-alt"},actions:{common:"fa-fw",edit:"fa-pencil-alt",del:"fa-trash-alt",save:"fa-save",cancel:"fa-ban"},form:{close:"fa-times",prev:"fa-caret-left",next:"fa-caret-right",save:"fa-save",undo:"fa-undo",del:"fa-trash-alt",cancel:"fa-ban",resizableLtr:"fa-rss fa-lg fa-rotate-270"},search:{search:"fa-search",reset:"fa-undo",query:"fa-comments"},subgrid:{common:"fa-fw",plus:"fa-plus",minus:"fa-minus",openLtr:"fa-reply fa-rotate-180",openRtl:"fa-share fa-rotate-180"},grouping:{common:"fa-fw",plus:"fa-plus-square",minus:"fa-minus-square"},treeGrid:{common:"fa-fw",minus:"fa-lg fa-sort-down",leaf:"fa-dot-circle",plusLtr:"fa-lg fa-caret-right",plusRtl:"fa-lg fa-caret-left"},checkbox:{ignoreParents:!0,checkedClasses:"fa-check-square",checked:"far fa-check-square fa-lg",unchecked:"far fa-square fa-lg"}},fontAwesomeBrands:{baseIconSet:"fontAwesome5",common:"fab"},fontAwesomeLight:{baseIconSet:"fontAwesome5",common:"fal"},fontAwesomeRegular:{baseIconSet:"fontAwesome5",common:"far"},fontAwesomeSolid:{baseIconSet:"fontAwesome5",common:"fas"},fontAwesomeSVG:{baseIconSet:"fontAwesome5",common:"fas"},glyph:{common:"glyphicon",pager:{common:"",first:"glyphicon-step-backward",prev:"glyphicon-backward",next:"glyphicon-forward",last:"glyphicon-step-forward"},sort:{common:"",asc:"glyphicon-triangle-top",desc:"glyphicon-triangle-bottom"},gridMinimize:{visible:"glyphicon-circle-arrow-up",hidden:"glyphicon-circle-arrow-down"},nav:{common:"",edit:"glyphicon-edit",add:"glyphicon-plus",del:"glyphicon-trash",search:"glyphicon-search",refresh:"glyphicon-refresh",view:"glyphicon-file",save:"glyphicon-save",cancel:"glyphicon-ban-circle",newbutton:"glyphicon-new-window"},actions:{common:"",edit:"glyphicon-edit",del:"glyphicon-trash",save:"glyphicon-save",cancel:"glyphicon-ban-circle"},form:{close:"glyphicon-remove-circle",prev:"glyphicon-step-backward",next:"glyphicon-step-forward",save:"glyphicon-save",undo:"glyphicon-repeat",del:"glyphicon-trash",cancel:"glyphicon-ban-circle",resizableLtr:"glyphicon-import"},search:{search:"glyphicon-search",reset:"glyphicon-repeat",query:"glyphicon-cog"},subgrid:{common:"",plus:"glyphicon-zoom-in",minus:"glyphicon-zoom-out",openLtr:"glyphicon-indent-left",openRtl:"glyphicon-indent-left"},grouping:{common:"",plus:"glyphicon-expand",minus:"glyphicon-collapse-down"},treeGrid:{common:"",minus:"glyphicon-triangle-bottom",leaf:"glyphicon-record",plusLtr:"glyphicon-triangle-right",plusRtl:"glyphicon-triangle-left"},checkbox:{checkedClasses:"glyphicon-check",checked:"glyphicon-check",unchecked:"glyphicon-unchecked"}}},guiStyles:{jQueryUI:{gBox:"ui-jqgrid-jquery-ui ui-widget ui-widget-content ui-corner-all",gView:"",overlay:"ui-widget-overlay",loading:"ui-state-default ui-state-active",hDiv:"ui-state-default ui-corner-top",hTable:"",colHeaders:"ui-state-default",states:{select:"ui-state-highlight",disabled:"ui-state-disabled ui-jqgrid-disablePointerEvents",hover:"ui-state-hover",error:"ui-state-error",active:"ui-state-active",textOfClickable:"ui-state-default"},dialog:{header:"ui-widget-header ui-dialog-titlebar ui-corner-all ui-helper-clearfix",window:"ui-jqgrid-jquery-ui ui-widget ui-widget-content ui-corner-all ui-front",document:"",subdocument:"",body:"",footer:"",content:"ui-widget-content",hr:"ui-widget-content",closeButton:"ui-corner-all",fmButton:"ui-state-default",dataField:"ui-widget-content ui-corner-all",viewCellLabel:"ui-widget-content",viewLabel:"",viewCellData:"ui-widget-content",viewData:"",leftCorner:"ui-corner-left",rightCorner:"ui-corner-right",defaultCorner:"ui-corner-all"},filterToolbar:{dataField:"ui-widget-content"},subgrid:{thSubgrid:"ui-state-default",rowSubTable:"ui-widget-content",row:"ui-widget-content",tdStart:"",tdWithIcon:"ui-widget-content",buttonDiv:"",button:"",tdData:"ui-widget-content",legacyTable:""},grid:"",gridRow:"ui-widget-content",rowNum:"ui-state-default",gridFooter:"",rowFooter:"ui-widget-content",gridTitle:"ui-widget-header ui-corner-top",gridError:"ui-state-error",gridErrorText:"",titleButton:"ui-corner-all",toolbarUpper:"ui-state-default",toolbarBottom:"ui-state-default",actionsDiv:"ui-widget-content",actionsButton:"ui-corner-all",pager:{pager:"ui-state-default",pagerButton:"ui-corner-all",pagerInput:"ui-widget-content",pagerSelect:"ui-widget-content"},navButton:"ui-corner-all",searchDialog:{operator:"ui-corner-all",label:"ui-corner-all",elem:"ui-corner-all",operationGroup:"",addRuleButton:"ui-corner-all",deleteRuleButton:"ui-corner-all",operationSelect:"ui-corner-all",addGroupButton:"ui-corner-all",deleteGroupButton:"ui-corner-all"},searchToolbar:{menu:"ui-menu-jqueryui ui-menu ui-widget ui-widget-content ui-corner-all",menuItem:"ui-menu-item",menuItemButton:"ui-corner-all",operButton:"ui-corner-all",clearButton:"ui-corner-all"},top:"ui-corner-top",bottom:"ui-corner-bottom",resizer:"ui-widget-header"},bootstrap:{gBox:"ui-jqgrid-bootstrap",gView:"panel-info",overlay:"modal-backdrop",loading:"alert alert-info",hDiv:"",hTable:"table table-hover table-condensed table-bordered",colHeaders:"",states:{select:"success",disabled:"disabled ui-jqgrid-disablePointerEvents",hover:"active",error:"danger",active:"active",textOfClickable:""},dialog:{header:"modal-header",window:"modal ui-jqgrid-bootstrap",document:"modal-dialog",subdocument:"modal-content",body:"modal-body",footer:"modal-footer",content:"modal-content",hr:"hidden",closeButton:"btn btn-xs btn-default",fmButton:"btn btn-default",dataField:"form-control",viewCellLabel:"",viewLabel:"control-label",viewCellData:"",viewData:"form-control",leftCorner:"",rightCorner:"",defaultCorner:""},filterToolbar:{dataField:"form-control"},subgrid:{thSubgrid:"",rowSubTable:"",row:"",tdStart:"",tdWithIcon:"",buttonDiv:"",button:"btn btn-xs",tdData:"",legacyTable:"table table-condensed table-hover table-bordered"},grid:"table table-condensed table-hover table-bordered",gridRow:"",rowNum:"",gridFooter:"table table-hover table-condensed table-bordered",rowFooter:"",gridTitle:"",gridError:"alert alert-danger",gridErrorText:"sr-only",titleButton:"btn btn-xs btn-default",actionsDiv:"",actionsButton:"btn btn-xs btn-default",toolbarUpper:"",toolbarBottom:"",pager:{pager:"panel-footer",pagerButton:"btn btn-xs",pagerInput:"form-control",pagerSelect:"form-control"},navButton:"btn btn-xs",searchDialog:{operator:"form-control",label:"form-control",elem:"form-control",operationGroup:"form-inline",addRuleButton:"btn btn-xs btn-default",deleteRuleButton:"btn btn-xs btn-default",operationSelect:"form-control",addGroupButton:"btn btn-xs btn-default",deleteGroupButton:"btn btn-xs btn-default"},searchToolbar:{menu:"dropdown-menu",menuItem:"",menuItemButton:"ui-corner-all",operButton:"btn btn-xs btn-default",clearButton:"btn btn-xs btn-default"},top:"ui-jqgrid-bootstrap-corner-top",bottom:"ui-jqgrid-bootstrap-corner-bottom",resizer:"ui-jqgrid-bootstrap"},bootstrapPrimary:{baseGuiStyle:"bootstrap",dialog:{closeButton:"btn btn-xs close",fmButton:"btn btn-primary"},searchDialog:{addRuleButton:"btn btn-xs btn-primary",deleteRuleButton:"btn btn-xs btn-primary",addGroupButton:"btn btn-xs btn-primary",deleteGroupButton:"btn btn-xs btn-primary"}},bootstrap4:{gBox:"ui-jqgrid-bootstrap",gView:"card",overlay:"modal-backdrop",loading:"alert alert-info",hDiv:"",hTable:"table table-hover table-sm table-bordered",colHeaders:"",states:{select:"table-success",disabled:"disabled ui-jqgrid-disablePointerEvents",hover:"active",hoverTh:"table-active",error:"danger",active:"active",textOfClickable:""},dialog:{header:"modal-header",window:"modal ui-jqgrid-bootstrap",document:"modal-dialog",subdocument:"modal-content",body:"modal-body",footer:"modal-footer",content:"modal-content",hr:"d-none",closeButton:"btn btn-xs btn-outline-primary",fmButton:"btn btn-outline-secondary",dataField:"form-control",viewCellLabel:"",viewLabel:"control-label",viewCellData:"",viewData:"form-control",leftCorner:"",rightCorner:"",defaultCorner:""},filterToolbar:{dataField:"form-control"},subgrid:{thSubgrid:"",rowSubTable:"",row:"",tdStart:"",tdWithIcon:"",buttonDiv:"",button:"btn btn-xs",tdData:"",legacyTable:"table table-condensed table-hover table-bordered"},grid:"table table-condensed table-hover table-bordered",gridRow:"",rowNum:"",gridFooter:"table table-hover table-condensed table-bordered",rowFooter:"",gridTitle:"",gridError:"alert alert-danger",gridErrorText:"sr-only",titleButton:"btn btn-xs btn-outline-primary",actionsDiv:"",actionsButton:"btn btn-xs btn-outline-secondary",toolbarUpper:"",toolbarBottom:"",pager:{pager:"card-footer",pagerButton:"btn btn-xs",pagerInput:"form-control",pagerSelect:"form-control"},navButton:"btn btn-xs",searchDialog:{operator:"form-control",label:"form-control",elem:"form-control",operationGroup:"form-inline",addRuleButton:"btn btn-xs btn-default",deleteRuleButton:"btn btn-xs btn-default",operationSelect:"form-control",addGroupButton:"btn btn-xs btn-default",deleteGroupButton:"btn btn-xs btn-default"},searchToolbar:{menu:"dropdown-menu",menuItem:"",menuItemButton:"dropdown-item",operButton:"btn btn-xs btn-outline-secondary",clearButton:"btn btn-xs btn-outline-secondary"},top:"ui-jqgrid-bootstrap-corner-top",bottom:"ui-jqgrid-bootstrap-corner-bottom",resizer:"ui-jqgrid-bootstrap"}},htmlDecode:function(e){return e&&("&nbsp;"===e||"&#160;"===e||1===e.length&&160===e.charCodeAt(0))?"":e?String(e).replace(/&gt;/g,">").replace(/&lt;/g,"<").replace(/&#x27;/g,"'").replace(/&#x2F;/g,"/").replace(/&#39;/g,"'").replace(/&#47;/g,"/").replace(/&quot;/g,'"').replace(/&amp;/g,"&"):e},htmlEncode:function(e){return e?String(e).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/\//g,"&#47;").replace(/</g,"&lt;").replace(/>/g,"&gt;"):e},oldEncodePostedData:function(e){return e?String(e).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/</g,"&lt;").replace(/>/g,"&gt;"):e},oldDecodePostedData:function(e){return e&&("&nbsp;"===e||"&#160;"===e||1===e.length&&160===e.charCodeAt(0))?"":e?String(e).replace(/&gt;/g,">").replace(/&lt;/g,"<").replace(/&quot;/g,'"').replace(/&amp;/g,"&"):e},clearArray:function(e){for(;0<e.length;)e.pop()},format:function(e){var t=$.makeArray(arguments).slice(1);return null==e&&(e=""),e.replace(/\{(\d+)\}/g,(function(e,i){return t[i]}))},template:function(e){var t,i=$.makeArray(arguments).slice(1),r=i.length;return null==e&&(e=""),e.replace(/\{([\w\-]+)(?:\:([\w\.]*)(?:\((\.*?)?\))?)?\}/g,(function(e,a){var n,o;if(!isNaN(parseInt(a,10)))return i[parseInt(a,10)];for(t=0;t<r;t++)if($.isArray(i[t]))for(o=(n=i[t]).length;o--;)if(a===n[o].nm)return n[o].v}))},msie:"Microsoft Internet Explorer"===navigator.appName,msiever:function(){var e,t=-1;return"Microsoft Internet Explorer"===navigator.appName?null!=(e=/(MSIE) ([0-9]{1,}[.0-9]{0,})/.exec(navigator.userAgent))&&3===e.length&&(t=parseFloat(e[2]||-1)):"Netscape"===navigator.appName&&null!=(e=/rv:([0-9]{1,}[.0-9]{0,})/.exec(navigator.userAgent))&&2===e.length&&(t=parseFloat(e[1]||-1)),t},fixMaxHeightOfDiv:function(e){return"Microsoft Internet Explorer"===navigator.appName?Math.min(e,1533917):null!=/(Firefox)/.exec(navigator.userAgent)?Math.min(e,17895696):e},getRelativeRect:function(e){var t,i,r=e instanceof $&&0<e.length?e[0]:e,a=$(r).outerHeight(),n=$(this).closest(".ui-jqgrid")[0];return n?(t=null!=r.getBoundingClientRect?r.getBoundingClientRect():$(r).offset(),i=null!=n.getBoundingClientRect?n.getBoundingClientRect():$(n).offset(),{top:t.top+a-i.top,left:t.left-i.left}):{top:0,left:0}},getCellIndex:function(e){var t=$(e);return t.is("tr")||null==(t=(t.is("td")||t.is("th")?t:t.closest("td,th"))[0])?-1:jgrid.msie?$.inArray(t,t.parentNode.cells):t.cellIndex},stripHtml:function(e){return(e=String(e))?(e=e.replace(/<("[^"]*"|'[^']*'|[^'">])*>/gi,""))&&"&nbsp;"!==e&&"&#160;"!==e?e.replace(/"/g,"'"):"":e},stripPref:function(e,t){var i=$.type(e);return"string"!==i&&"number"!==i||(t=""!==(e=String(e))?String(t).replace(String(e),""):t),t},getRes:function(e,t){var i,r=t.split("."),a=r.length;if(null!=e){for(i=0;i<a;i++){if(!r[i])return null;if(void 0===(e=e[r[i]]))break;if("string"==typeof e)return e}return e}},parseDate:function(e,t,i,r){var a,n,o,s=0,l=0,d="string"==typeof t?t.match(/^\/Date\((([\-+])?[0-9]+)(([\-+])([0-9]{2})([0-9]{2}))?\)\/$/):null,c=function(e,t){for(e=String(e),t=parseInt(t,10)||2;e.length<t;)e="0"+e;return e},u={m:1,d:1,y:1970,h:0,i:0,s:0,u:0},h=function(e,t){return 0===e?12===t&&(t=0):12!==t&&(t+=12),t};if(void 0===(r=function(e,t){var i,r,a=["AmPm","dayNames","masks","monthNames","userLocalTime","parseRe","S","srcformat"],n=t||{},o=(jgrid.formatter||{}).date||{},s=((locales[(e||$.jgrid.defaults).locale]||{}).formatter||{}).date,l=a.length,d={};for(i=0;i<l;i++)void 0!==n[r=a[i]]?d[r]=n[r]:void 0!==o[r]?d[r]=o[r]:void 0!==s[r]&&(d[r]=s[r]);return d}(this.p,r)).parseRe&&(r.parseRe=/[#%\\\/:_;.,\t\s\-]/),r.masks.hasOwnProperty(e)&&(e=r.masks[e]),t&&null!=t)if(isNaN(t)||"u"!==String(e).toLowerCase())if(isNaN(t)||"u1000"!==String(e).toLowerCase())if(t.constructor===Date)s=t;else if(null!==d)s=new Date(parseInt(d[1],10)),d[3]&&(l=60*Number(d[5])+Number(d[6]),l*="-"===d[4]?1:-1,l-=s.getTimezoneOffset(),s.setTime(Number(Number(s)+60*l*1e3)));else{for("ISO8601Long"===r.srcformat&&"Z"===t.charAt(t.length-1)&&(l-=(new Date).getTimezoneOffset()),t=String(t).replace(/\T/g,"#").replace(/\t/,"%").split(r.parseRe),e=e.replace(/\T/g,"#").replace(/\t/,"%").split(r.parseRe),n=0,o=Math.min(e.length,t.length);n<o;n++){switch(e[n]){case"M":-1!==(a=$.inArray(t[n],r.monthNames))&&a<12&&(t[n]=a+1,u.m=t[n]);break;case"F":-1!==(a=$.inArray(t[n],r.monthNames,12))&&11<a&&(t[n]=a+1-12,u.m=t[n]);break;case"n":u.m=parseInt(t[n],10);break;case"j":u.d=parseInt(t[n],10);break;case"g":u.h=parseInt(t[n],10);break;case"a":-1!==(a=$.inArray(t[n],r.AmPm))&&a<2&&t[n]===r.AmPm[a]&&(t[n]=a,u.h=h(t[n],u.h));break;case"A":-1!==(a=$.inArray(t[n],r.AmPm))&&1<a&&t[n]===r.AmPm[a]&&(t[n]=a-2,u.h=h(t[n],u.h))}void 0===t[n]||""===t[n]||isNaN(t[n])||(u[e[n].toLowerCase()]=parseInt(t[n],10))}if(u.f&&(u.m=u.f),0===u.m&&0===u.y&&0===u.d)return"&#160;";u.m=parseInt(u.m,10)-1;var p=u.y;70<=p&&p<=99?u.y=1900+u.y:0<=p&&p<=69&&(u.y=2e3+u.y),s=new Date(u.y,u.m,u.d,u.h,u.i,u.s,u.u),0!==l&&s.setTime(Number(Number(s)+60*l*1e3))}else s=new Date(parseFloat(t));else s=new Date(1e3*parseFloat(t));else s=new Date(u.y,u.m,u.d,u.h,u.i,u.s,u.u);if(r.userLocalTime&&0===l&&0!=(l-=(new Date).getTimezoneOffset())&&s.setTime(Number(Number(s)+60*l*1e3)),void 0===i)return s;if(r.masks.hasOwnProperty(i)?i=r.masks[i]:i||(i="Y-m-d"),"u1000"===i.toLowerCase())return s.getTime();var f=s.getHours(),m=s.getMinutes(),g=s.getDate(),v=s.getMonth()+1,b=s.getTimezoneOffset(),y=s.getSeconds(),w=s.getMilliseconds(),x=s.getDay(),_=s.getFullYear(),C=(x+6)%7+1,j=(new Date(_,v-1,g)-new Date(_,0,1))/864e5,D=C<5?Math.floor((j+C-1)/7)+1:Math.floor((j+C-1)/7)||((new Date(_-1,0,1).getDay()+6)%7<4?53:52),S={d:c(g),D:r.dayNames[x],j:g,l:r.dayNames[x+7],N:C,S:r.S(g),w:x,z:j,W:D,F:r.monthNames[v-1+12],m:c(v),M:r.monthNames[v-1],n:v,t:"?",L:"?",o:"?",Y:_,y:String(_).substring(2),a:f<12?r.AmPm[0]:r.AmPm[1],A:f<12?r.AmPm[2]:r.AmPm[3],B:"?",g:f%12||12,G:f,h:c(f%12||12),H:c(f),i:c(m),s:c(y),u:w,e:"?",I:"?",O:(0<b?"-":"+")+c(100*Math.floor(Math.abs(b)/60)+Math.abs(b)%60,4),P:"?",T:(String(s).match(/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[\-+]\d{4})?)\b/g)||[""]).pop().replace(/[^\-+\dA-Z]/g,""),Z:"?",c:"?",r:"?",U:Math.floor(s/1e3)};return i.replace(/\\.|[dDjlNSwzWFmMntLoYyaABgGhHisueIOPTZcrU]/g,(function(e){return S.hasOwnProperty(e)?S[e]:e.substring(1)}))},parseDateToNumber:function(e,t){var i=jgrid.parseDate.call(this,e,t);return i instanceof Date?i.getTime():0},jqID:function(e){return String(e).replace(/[!"#$%&'()*+,.\/:; <=>?@\[\\\]\^`{|}~]/g,"\\$&")},getGridComponentId:function(e){if(null==this.p||!this.p.id)return"";var t=this.p.id;switch(e){case COMPONENT_NAMES.GRID:return t;case COMPONENT_NAMES.GRID_BOX_DIV:return"gbox_"+t;case COMPONENT_NAMES.GRID_VIEW_DIV:return"gview_"+t;case COMPONENT_NAMES.DIALOG_ALERT_DIV:return"alertmod_"+t;case COMPONENT_NAMES.COLUMN_RESIZER_DIV:return"rs_m"+t;case COMPONENT_NAMES.HEADER_SELECT_ALL_ROWS_CHECKBOX:return"cb_"+t;case COMPONENT_NAMES.SEARCH_OPERATION_MENU_UL:return"sopt_menu";default:return""}},getGridComponentIdSelector:function(e){var t=jgrid.getGridComponentId.call(this,e);return t?"#"+jgrid.jqID(t):""},isHTMLElement:function(e){return"object"==typeof HTMLElement||"function"==typeof HTMLElement?e instanceof HTMLElement:null!=e&&"object"==typeof e&&1===e.nodeType&&"string"==typeof e.nodeName},getGridComponent:function(e,t){var i;if(t instanceof $||0<t.length)i=t[0];else{if(!jgrid.isHTMLElement(t))return $();t=$(i=t)}switch(e){case COMPONENT_NAMES.BODY_TABLE:return t.hasClass("ui-jqgrid-bdiv")?t.children("div").children(".ui-jqgrid-btable"):$();case COMPONENT_NAMES.HEADER_TABLE:return t.hasClass("ui-jqgrid-hdiv")?t.children("div").children(".ui-jqgrid-htable"):$();case COMPONENT_NAMES.FOOTER_TABLE:return t.hasClass("ui-jqgrid-sdiv")?t.children("div").children(".ui-jqgrid-ftable"):$();case COMPONENT_NAMES.FROZEN_HEADER_TABLE:return t.hasClass("ui-jqgrid-hdiv")?t.children(".ui-jqgrid-htable"):$();case COMPONENT_NAMES.FROZEN_FOOTER_TABLE:return t.hasClass("ui-jqgrid-sdiv")?t.children(".ui-jqgrid-ftable"):$();case COMPONENT_NAMES.BODY_DIV:return t.hasClass("ui-jqgrid-btable")&&null!=i.grid?$(i.grid.bDiv):$();case COMPONENT_NAMES.HEADER_DIV:return t.hasClass("ui-jqgrid-btable")&&null!=i.grid?$(i.grid.hDiv):$();case COMPONENT_NAMES.FOOTER_DIV:return t.hasClass("ui-jqgrid-btable")&&null!=i.grid?$(i.grid.sDiv):$();default:return $()}},fixScrollOffsetAndhBoxPadding:function(){var e=this.grid;if(e){var t=this.p,i=e.bDiv,r=function(e){var r=$(e).children("div").first();r.css(r.hasClass("ui-jqgrid-hbox-rtl")?"padding-left":"padding-right",t.scrollOffset),e.scrollLeft=i.scrollLeft};0<$(i).width()&&(t.scrollOffset=i.offsetWidth-i.clientWidth,r(e.hDiv),e.sDiv&&r(e.sDiv))}},mergeCssClasses:function(){var e,t,i,r,a=$.makeArray(arguments),n={},o=[];for(e=0;e<a.length;e++)for(i=String(a[e]).replace(/[\t\r\n\f]/g," ").split(" "),t=0;t<i.length;t++)""===(r=i[t])||n.hasOwnProperty(r)||(n[r]=!0,o.push(r));return o.join(" ")},hasOneFromClasses:function(e,t){var i,r=$(e),a=String(t).replace(/[\t\r\n\f]/g," ").split(" "),n=a.length;for(i=0;i<n;i++)if(r.hasClass(a[i]))return!0;return!1},hasAllClasses:function(e,t){var i,r=$(e),a=String(t).replace(/[\t\r\n\f]/g," ").split(" "),n=a.length;for(i=0;i<n;i++)if(!r.hasClass(a[i]))return!1;return!0},detectRowEditing:function(e){return this.grid&&null!=this.p&&null!=this.p.editingInfo&&null!=this.p.editingInfo[e]?this.p.editingInfo[e]:null},getCell:function(e,t){var i,r,a=this.grid,n=this.p;return a&&n?((e instanceof $||0<e.length)&&(e=e[0]),("object"==typeof HTMLTableRowElement||"function"==typeof HTMLTableRowElement)&&e instanceof HTMLTableRowElement&&null!=e.cells?(r=$(e.cells[t]),null!=(i=a.fbRows)&&t<i[0].cells.length?r.add(i[e.rowIndex].cells[t]):r):$()):$()},getDataFieldOfCell:function(e,t){var i,r=this.p,a=jgrid.getCell.call(this,e,t);return r.treeGrid&&0<a.children("div.tree-wrap").length&&(a=a.children("span.cell-wrapperleaf,span.cell-wrapper")),r.colModel[t].autoResizable?0===(i=a.children("span."+r.autoResizing.wrapperClassName)).length&&(i=a):i=a,i},enumEditableCells:function(e,t,i){var r=this,a=r.grid,n=r.rows,o=r.p;if(null==a||null==n||null==o||null==e||null==e.rowIndex||!e.id||!$.isFunction(i))return null;var s,l,d,c,u,h,p,f,m,g,v,b=o.colModel,y=b.length,w=e.rowIndex,x=a.fbRows,_=null!=x,C=_?x[w]:null;for(_&&(e=r.rows[w]),s=0;s<y&&("cb"===(d=(l=b[s]).name)||"subgrid"===d||"rn"===d||(_&&!l.frozen&&(_=!1),m=(_?C:e).cells[s],(g=$(m)).hasClass("not-editable-cell")||(v=g.width(),!0===o.treeGrid&&d===o.ExpandColumn?(v-=g.children("div.tree-wrap").outerWidth(),g=g.children("span.cell-wrapperleaf,span.cell-wrapper").first()):v=0,u=stripPref(o.idPrefix,e.id),c={rowid:e.id,id:u,iCol:s,iRow:w,cmName:d,cm:l,mode:t,td:m,tr:e,trFrozen:C,dataElement:g[0],dataWidth:v},"local"===o.datatype&&(p=null!=(h=o._index[u])?o.data[h]:void 0)&&(c.item=p),l.edittype||(l.edittype="text"),((o.editingInfo[e.id]||{}).editable||{}).hasOwnProperty(d)?f=o.editingInfo[e.id].editable[d]:(f=l.editable,f=$.isFunction(f)?f.call(r,c):f),!0!==f&&"hidden"!==f||(c.editable=f,!1!==i.call(r,c)))));s++);},getEditedValue:function(e,t,i,r){var a,n,o,s,l,d,c=t.formatoptions||{},u=t.editoptions||{},h=u.custom_value,p="[name="+jgrid.jqID(t.name)+"]",f=this,m=$(f);if("hidden"===r||"readonly"===r)return $(f).jqGrid("getCell",e.closest("tr.jqgrow").attr("id"),t.name);switch(t.edittype){case"checkbox":n=["Yes","No"],"string"==typeof u.value&&(n=u.value.split(":")),a=e.find("input[type=checkbox]").is(":checked")?n[0]:n[1];break;case"text":case"password":case"textarea":case"button":a=(s=e.find("input"+p+",textarea"+p)).val(),"date"===s.prop("type")&&3===String(a).split("-").length&&(o=c.newformat||m.jqGrid("getGridRes","formatter.date.newformat"),a=jgrid.parseDate.call(f,"Y-m-d",a,o));break;case"select":s=e.find("select option:selected"),u.multiple?(l=[],d=[],s.each((function(){l.push($(this).val()),d.push($(this).text())})),a=l.join(","),i.text=d.join(",")):(a=s.val(),i.text=s.text()),i.value=a;break;case"custom":try{if(!$.isFunction(h))throw"e1";if(void 0===(a=h.call(f,e.find(".customelement"),"get")))throw"e2"}catch(e){var g,v=jgrid.info_dialog,b=function(e){m.jqGrid("getGridRes",e)};switch(String(e)){case"e1":g="function 'custom_value' "+b("edit.msg.nodefined");break;case"e2":break;default:g=e.message}v&&$.isFunction(v)?v.call(f,b("errors.errcap"),g,b("edit.bClose")):($.isFunction(defaults.fatalError)?defaults.fatalError:alert)(g)}break;default:a=e.find("*"+p).text()}return a},guid:1,uidPref:"jqg",randId:function(e){return(e||jgrid.uidPref)+jgrid.guid++},getAccessor:function(e,t){var i,r,a,n=[];if($.isFunction(t))return t(e);if(null!=e&&e.hasOwnProperty(t))return e[t];try{if("string"==typeof t&&(n=t.split(".")),a=n.length)for(i=e;null!=i&&a--;)r=n.shift(),i=i.hasOwnProperty(r)?i[r]:void 0}catch(e){}return i},getXmlData:function(e,t,i){var r="string"==typeof t?t.match(/^(.*)\[(\w+)\]$/):null;if($.isFunction(t))return t(e);if(r&&r[2])return r[1]?$(r[1],e).attr(r[2]):$(e).attr(r[2]);if(void 0!==e){var a=$(e).find(t);return i?a:0<a.length?$(a).text():void 0}},cellWidth:function(){var e=$("<div class='ui-jqgrid' style='left:10000px'><div class='ui-jqgrid-view'><div class='ui-jqgrid-bdiv'><table class='ui-jqgrid-btable' style='width:5px;'><tr class='jqgrow'><td style='width:5px;display:block;'></td></tr></table></div></div></div>"),t=e.appendTo("body").find("td").width();return e.remove(),.1<Math.abs(t-5)},isCellClassHidden:function(e){if(null==e||""===e)return!1;var t=$("<div class='ui-jqgrid' style='left:10000px'><div class='ui-jqgrid-view'><div class='ui-jqgrid-bdiv'><table class='ui-jqgrid-btable' style='width:5px;'><tr class='jqgrow'><td style='width:5px;' class='"+(e||"")+"'></td></tr></table></div></div></div>"),i=t.appendTo("body").find("td").is(":hidden");return t.remove(),i},cell_width:!0,ajaxOptions:{},from:function(source){var context=this,QueryObject=function(d,q){var self=this,_data=d,_usecase=!0,_trim=!1,_query=q,_stripNum=/[\$,%]/g,_lastCommand=null,_lastField=null,_orDepth=0,_negate=!1,_queuedOperator="",_sorting=[],toString=Object.prototype.toString;if("object"!=typeof d||!d.push)throw"data provides is not an array";if(0<d.length&&"object"!=typeof d[0])throw"data items are not objects";return this._hasData=function(){return null!==_data&&0!==_data.length},this._getStr=function(e){var t=[];return _trim&&t.push("jQuery.trim("),t.push("String("+e+" || '')"),_trim&&t.push(")"),_usecase||t.push(".toUpperCase()"),t.join("")},this._strComp=function(e){return"string"==typeof e?".toString()":""},this._group=function(e,t){return{field:e.toString(),unique:t,items:[]}},this._toStr=function(e){return _trim&&(e=$.trim(e)),e=e.toString().replace(/\\/g,"\\\\").replace(/"/g,'\\"'),_usecase?e:e.toUpperCase()},this._funcLoop=function(e){var t=[];return $.each(_data,(function(i,r){t.push(e(r))})),t},this._append=function(e){var t;for(null===_query?_query="":_query+=""===_queuedOperator?" && ":_queuedOperator,t=0;t<_orDepth;t++)_query+="(";_negate&&(_query+="!"),_query+="("+e+")",_negate=!1,_queuedOperator="",_orDepth=0},this._setCommand=function(e,t){_lastCommand=e,_lastField=t},this._resetNegate=function(){_negate=!1},this._repeatCommand=function(e,t){return null===_lastCommand?self:null!==e&&null!==t?_lastCommand(e,t):null===_lastField?_lastCommand(e):_lastCommand(_lastField,e)},this._equals=function(e,t){return 0===self._compare(e,t,1)},this._compare=function(e,t,i){return void 0===i&&(i=1),void 0===e&&(e=null),void 0===t&&(t=null),null===e&&null===t?0:null===e&&null!==t?1:null!==e&&null===t?-1:("[object Date]"===toString.call(e)&&"[object Date]"===toString.call(t)||_usecase||"number"==typeof e||"number"==typeof t||(e=String(e),t=String(t)),e<t?-i:t<e?i:0)},this._performSort=function(){0!==_sorting.length&&(_data=self._doSort(_data,0))},this._doSort=function(e,t){var i=_sorting[t].by,r=_sorting[t].dir,a=_sorting[t].type,n=_sorting[t].datefmt,o=_sorting[t].sfunc;if(t===_sorting.length-1)return self._getOrder(e,i,r,a,n,o);t++;var s,l,d,c=self._getGroup(e,i,r,a,n),u=[];for(s=0;s<c.length;s++)for(d=self._doSort(c[s].items,t),l=0;l<d.length;l++)u.push(d[l]);return u},this._getOrder=function(e,t,i,r,a,n){var o,s,l,d=[],c=[],u="a"===i?1:-1;void 0===r&&(r="text"),l="float"===r||"number"===r||"currency"===r||"numeric"===r?function(e){var t=parseFloat(String(e).replace(_stripNum,""));return isNaN(t)?Number.NEGATIVE_INFINITY:t}:"int"===r||"integer"===r?function(e){return null!=e?parseFloat(String(e).replace(_stripNum,"")):Number.NEGATIVE_INFINITY}:"date"===r||"datetime"===r?function(e){return jgrid.parseDateToNumber.call(context,a,e)}:$.isFunction(r)?r:function(e){return e=null!=e?$.trim(String(e)):"",_usecase?e:e.toUpperCase()},$.each(e,(function(e,i){void 0===(s=""!==t?jgrid.getAccessor(i,t):i)&&(s=""),s=l.call(context,s,i),c.push({vSort:s,data:i,index:e})})),$.isFunction(n)?c.sort((function(e,t){return n.call(context,e.vSort,t.vSort,u,e.data,t.data)})):c.sort((function(e,t){return self._compare(e.vSort,t.vSort,u)}));for(var h=0,p=e.length;h<p;)o=c[h].index,d.push(e[o]),h++;return d},this._getGroup=function(e,t,i,r,a){var n=[],o=null,s=null;return $.each(self._getOrder(e,t,i,r,a),(function(e,i){var r=jgrid.getAccessor(i,t);null==r&&(r=""),self._equals(s,r)||(s=r,null!==o&&n.push(o),o=self._group(t,r)),o.items.push(i)})),null!==o&&n.push(o),n},this.ignoreCase=function(){return _usecase=!1,self},this.useCase=function(){return _usecase=!0,self},this.trim=function(){return _trim=!0,self},this.noTrim=function(){return _trim=!1,self},this.execute=function(){var match=_query,results=[];return null===match||($.each(_data,(function(){(function(){var localMath='(function (context) {\nvar yesObject = { 1: 1, x: 1, "true": 1, yes: 1, y: 1, on: 1 },noObject = { 0: 1, "false": 1, no: 1, n: 1, off: 1 },normilizeBoolean = function (v) {\nif (typeof v === "string") {\nif (noObject[v.toLowerCase()]) { return false; } else if (yesObject[v.toLowerCase()]) { return true; } }\nreturn !!v;\n},intFunc = function (jQuery, self) { return '+match+"; }; return intFunc.call(context.item, context.jQuery, context.context); }(this))";eval(localMath)&&results.push(this.item)}).call({item:this,jQuery:$,context})})),_data=results),self},this.data=function(){return _data},this.select=function(e){if(self.execute(),$.isFunction(e)){var t=[];return $.each(_data,(function(i,r){t.push(e(r))})),t}return self._hasData()?(self._performSort(),_data):[]},this.hasMatch=function(){return!!self._hasData()&&(self.execute(),0<_data.length)},this.andNot=function(e,t,i){return _negate=!_negate,self.and(e,t,i)},this.orNot=function(e,t,i){return _negate=!_negate,self.or(e,t,i)},this.not=function(e,t,i){return self.andNot(e,t,i)},this.and=function(e,t,i){return _queuedOperator=" && ",void 0===e?self:self._repeatCommand(e,t,i)},this.or=function(e,t,i){return _queuedOperator=" || ",void 0===e?self:self._repeatCommand(e,t,i)},this.orBegin=function(){return _orDepth++,self},this.orEnd=function(){return null!==_query&&(_query+=")"),self},this.isNot=function(e){return _negate=!_negate,self.is(e)},this.is=function(e){return self._append("this."+e),self._resetNegate(),self},this._compareValues=function(e,t,i,r,a){var n=t;void 0===i&&(i=null);var o=i,s=void 0===a.stype?"text":a.stype;if(null!==i)switch(s){case"int":case"integer":o=String(o).replace(_stripNum,""),o=isNaN(Number(o))||""===o?"0":Number(o),n="parseInt("+n+"||0,10)",o=String(parseInt(o,10));break;case"boolean":n="normilizeBoolean("+n+")",o="normilizeBoolean("+String(o)+")";break;case"float":case"number":case"currency":case"numeric":o=String(o).replace(_stripNum,""),o=isNaN(Number(o))||""===o?"0":Number(o),n="parseFloat("+n+"||0)",o=String(o);break;case"date":case"datetime":o=String(jgrid.parseDateToNumber.call(context,a.newfmt||"Y-m-d",o)),n='jQuery.jgrid.parseDateToNumber.call(self,"'+a.srcfmt+'",'+n+")";break;default:n=self._getStr(n),o=self._getStr('"'+self._toStr(o)+'"')}return self._append(n+" "+r+" "+o),self._setCommand(e,t),self._resetNegate(),self},this.equals=function(e,t,i){return self._compareValues(self.equals,e,t,"==",i)},this.notEquals=function(e,t,i){return self._compareValues(self.equals,e,t,"!==",i)},this.isNull=function(e,t,i){return self._compareValues(self.equals,e,null,"===",i)},this.greater=function(e,t,i){return self._compareValues(self.greater,e,t,">",i)},this.less=function(e,t,i){return self._compareValues(self.less,e,t,"<",i)},this.greaterOrEquals=function(e,t,i){return self._compareValues(self.greaterOrEquals,e,t,">=",i)},this.lessOrEquals=function(e,t,i){return self._compareValues(self.lessOrEquals,e,t,"<=",i)},this.startsWith=function(e,t){var i=null==t?e:t,r=_trim?$.trim(i.toString()).length:i.toString().length;return self._append(self._getStr(e)+".substr(0,"+r+") == "+self._getStr('"'+self._toStr(t)+'"')),self._setCommand(self.startsWith,e),self._resetNegate(),self},this.endsWith=function(e,t){var i=null==t?e:t,r=_trim?$.trim(i.toString()).length:i.toString().length;return self._append(self._getStr(e)+".substr("+self._getStr(e)+".length-"+r+","+r+') == "'+self._toStr(t)+'"'),self._setCommand(self.endsWith,e),self._resetNegate(),self},this.contains=function(e,t){return self._append(self._getStr(e)+'.indexOf("'+self._toStr(t)+'",0) > -1'),self._setCommand(self.contains,e),self._resetNegate(),self},this.groupBy=function(e,t,i,r){return self._hasData()?self._getGroup(_data,e,t,i,r):null},this.orderBy=function(e,t,i,r,a){return null==i&&(i="text"),null==r&&(r="Y-m-d"),null==a&&(a=!1),"desc"!==(t=null==t?"a":$.trim(t.toString().toLowerCase()))&&"descending"!==t||(t="d"),"asc"!==t&&"ascending"!==t||(t="a"),_sorting.push({by:e,dir:t,type:i,datefmt:r,sfunc:a}),self},this.inSet=function(e,t,i){var r=void 0===t?null:t,a=void 0===i.stype?"text":i.stype;return r=self._getStr('"'+self._toStr(r)+'"'),"text"!==a?self._compareValues(self.equals,e,t,"==",i):(self._append("jQuery.inArray("+self._getStr(e)+","+r+".split('"+(context.p.inFilterSeparator||",")+"')) >= 0"),self._setCommand(self.inSet,e),self._resetNegate(),self)},this.custom=function(e,t,i){return self._append("self.p.customSortOperations."+e+'.filter.call(self,{item:this,cmName:"'+t+'",iCol:self.p.iColByName["'+t+'"]>=0 ? self.p.iColByName["'+t+'"] : self.p.iPropByName["'+t+'"],isAddProp:self.p.iColByName["'+t+'"]<0,searchValue:"'+i+'"})'),self._setCommand(self.custom,t),self._resetNegate(),self},self};return new QueryObject(source,null)},serializeFeedback:function(e,t,i){var r,a=this;return a instanceof $&&0<a.length&&(a=a[0]),"string"==typeof i?i:"string"==typeof(r=$(a).triggerHandler(t,i))?r:(null!=r&&"object"==typeof r||(r=i),$.isFunction(e)?e.call(a,r):r)},fullBoolFeedback:function(e,t){var i=$.makeArray(arguments).slice(2),r=$(this).triggerHandler(t,i);if(r=!1!==r&&"stop"!==r,$.isFunction(e)){var a=e.apply(this,i);!1!==a&&"stop"!==a||(r=!1)}return r},feedback:function(e,t,i,r){var a=this;if(a instanceof $&&0<a.length&&(a=a[0]),null==e||"string"!=typeof r||r.length<2)return null;var n="on"===r.substring(0,2)?"jqGrid"+t+r.charAt(2).toUpperCase()+r.substring(3):"jqGrid"+t+r.charAt(0).toUpperCase()+r.substring(1),o=$.makeArray(arguments).slice(4),s=e[r+i];return o.unshift(n),o.unshift(s),jgrid.fullBoolFeedback.apply(a,o)},builderSortIcons:function(e){var t=this,i=t.p,r=$(t),a=r.jqGrid("getGuiStyles","states.disabled"),n=function(n){var o=i.colModel[e],s=null!=o&&$.isFunction(o.sortIconName)?o.sortIconName:i.sortIconName,l=$.isFunction(s)?s.call(t,{order:n,iCol:e,cm:o}):r.jqGrid("getIconRes","sort."+n);return jgrid.mergeCssClasses("ui-grid-ico-sort","ui-icon-"+n,"horizontal"===i.viewsortcols[1]?"ui-i-"+n:"",a,l,"ui-sort-"+i.direction)};return"<span class='s-ico"+(i.sortIconsBeforeText?" jqgrid-icons-first":"")+"' style='display:none'><span class='"+n("asc")+"'></span><span class='"+n("desc")+"'></span></span>"},builderFmButon:function(e,t,i,r,a){var n=this.p,o=$(this),s=function(e){return o.jqGrid("getGuiStyles","dialog."+e)};return null==n?"":"<a id='"+e+"' class='"+jgrid.mergeCssClasses("fm-button",s("fmButton"),s("right"===a?"rightCorner":"left"===a?"leftCorner":"defaultCorner"),"right"===r?"fm-button-icon-right":"left"===r?"fm-button-icon-left":"")+"' role='button' tabindex='0'>"+(i?"<span class='fm-button-icon "+(o.jqGrid("getIconRes",i)||i)+"'></span>":"")+(t?"<span class='fm-button-text'>"+t+"</span>":"")+"</a>"},convertOnSaveLocally:function(e,t,i,r,a,n){if(null==this.p)return e;if($.isFunction(t.convertOnSave))return t.convertOnSave.call(this,{newValue:e,cm:t,oldValue:i,id:r,item:a,iCol:n});if("boolean"!=typeof i&&"number"!=typeof i)return e;if("boolean"!=typeof i||"checkbox"!==t.edittype&&"checkbox"!==t.formatter)"number"!=typeof i||isNaN(e)||("number"===t.formatter||"currency"===t.formatter?e=parseFloat(e):"integer"===t.formatter&&(e=parseInt(e,10)));else{var o=String(e).toLowerCase(),s=null!=t.editoptions&&"string"==typeof t.editoptions.value?t.editoptions.value.split(":"):["yes","no"];0<=$.inArray(o,["1","true",s[0].toLowerCase()])?e=!0:0<=$.inArray(o,["0","false",s[1].toLowerCase()])&&(e=!1)}return e},parseDataToHtml:function(e,t,i,r,a,n,o){var s,l,d,c,u,h,p,f,m,g,v,b,y,w,x,_,C,j,D,S,k,O,F,I,q,R,M,T=this,N=T.p,G=$(T),E=!1,A=[],z=[],P=!0!==N.altRows||G.jqGrid("isBootstrapGuiStyle")?"":N.altclass,B=N.groupingView,L=!1,H=parseInt(N.rowNum,10),V=$.fn.jqGrid,W=!0===N.treeGrid&&-1<N.treeANode?T.rows[N.treeANode].rowIndex+1:T.rows.length,U=T.formatCol;for(W<=1&&(N.rowIndexes={}),("local"===N.datatype&&!N.deselectAfterSort||N.multiPageSelection)&&(E=!0),n&&(H*=n+1),s=0;s<Math.min(e,H);s++){for(u=t[s],h=i[s],p=null!=r?r[s]:h,d=((1===a?0:a)+s)%2==1?P:"",E?N.multiselect?(c=-1!==$.inArray(u,N.selarrrow))&&null===N.selrow&&(N.selrow=u):c=u===N.selrow:c=!1,f=A.length,A.push(""),l=0;l<N.colModel.length;l++)switch(m=N.colModel[l].name){case"rn":A.push((F=l,I=s,q=N.page,R=N.rowNum,M=(parseInt(q,10)-1)*parseInt(R,10)+1+I,"<td role='gridcell' class='"+V.getGuiStyles.call(G,"rowNum","jqgrid-rownum")+"' "+U(F,I,M,null,I,!0)+">"+M+"</td>"));break;case"cb":A.push((S=void 0,S="&nbsp;",k=!(k=void 0),O={rowid:_=u,iRow:j=s,iCol:C=l,data:h,checked:D=c},$.isFunction(N.hasMultiselectCheckBox)&&(k=N.hasMultiselectCheckBox.call(T,O)),k&&(S=$.isFunction(N.checkboxHtml)?N.checkboxHtml.call(T,O):"<input type='checkbox' id='jqg_"+N.id+"_"+_+"' class='cbox' name='jqg_"+N.id+"_"+_+"'"+(D?" checked='checked' aria-checked='true'":" aria-checked='false'")+"/>"),"<td role='gridcell' "+U(C,j,"",null,_,!0)+">"+S+"</td>"));break;case"subgrid":A.push(V.addSubGridCell.call(G,l,s+a,u,h));break;default:A.push((g=u,v=h[m],y=p,w=h,"<td role='gridcell' "+U(b=l,s+a,x=T.formatter(g,v,b,y,"add",w),y,g,w)+">"+x+"</td>"))}N.grouping&&(V.groupingPrepare&&!B._locgr&&V.groupingPrepare.call(G,h,s),L=$.isFunction(B.groupCollapse)?B.groupCollapse.call(T,{group:B.groups[B.groups.length-1],rowid:u,data:h}):B.groupCollapse),A[f]=T.constructTr(u,L,d,h,p,c),A.push("</tr>"),N.rowIndexes[u]=W,W++,N.grouping&&(z.push(A),A=[]),A.length>N.maxItemsToJoin&&(A=[A.join("")])}return N.grouping&&V.groupingRender&&(o&&(B._locgr=!0),A=[V.groupingRender.call(G,z,H)],jgrid.clearArray(z)),A},fillSelectOptions:function(e,t,i,r,a,n){var o,s,l,d,c,u,h,p,f=[],m=!1,g=function(e,t){if(0<t)return e};if(t){if("function"==typeof t&&(t=t()),"string"==typeof t)for(s=t.split(r),o=0;o<s.length;o++)2<(l=s[o].split(i)).length&&(l[1]=$.map(l,g).join(i)),f.push({value:l[0],innerHtml:l[1],selectValue:$.trim(l[0]),selectText:$.trim(l[1]),selected:!1}),""===l[0]&&(m=!0);else if("object"==typeof t)for(h in t)t.hasOwnProperty(h)&&f.push({value:h,innerHtml:t[h],selectValue:$.trim(h),selectText:$.trim(t[h]),selected:!1}),""===h&&(m=!0);if("string"==typeof n){for(p=a?$.map(n.split(","),(function(e){return $.trim(e)})):[$.trim(n)],n=$.trim(n),o=0;o<f.length;o++)c=f[o],a||c.selectValue!==n||(u=c.selected=!0),a&&-1<$.inArray(c.selectValue,p)&&(u=c.selected=!0);if(!u)for(o=0;o<f.length;o++)c=f[o],a||c.selectText!==n||(c.selected=!0),a&&-1<$.inArray(c.selectText,p)&&(c.selected=!0)}for(o=0;o<f.length;o++)c=f[o],(d=document.createElement("option")).value=c.value,d.innerHTML=c.innerHtml,c.selected&&(d.selected=!0),e.appendChild(d);return m}},getMethod:function(e){return this.getAccessor($.fn.jqGrid,e)},extend:function(e){$.extend($.fn.jqGrid,e),this.no_legacy_api||$.fn.extend(e)}});var clearArray=jgrid.clearArray,jqID=jgrid.jqID,getGridComponentIdSelector=jgrid.getGridComponentIdSelector,getGridComponentId=jgrid.getGridComponentId,getGridComponent=jgrid.getGridComponent,stripPref=jgrid.stripPref,randId=jgrid.randId,getAccessor=jgrid.getAccessor,convertOnSaveLocally=jgrid.convertOnSaveLocally,stripHtml=jgrid.stripHtml,htmlEncode=jgrid.htmlEncode,htmlDecode=jgrid.htmlDecode,mergeCssClasses=jgrid.mergeCssClasses,hasOneFromClasses=jgrid.hasOneFromClasses,feedback=function(){var e=$.makeArray(arguments);return e.unshift(""),e.unshift(""),e.unshift(this.p),jgrid.feedback.apply(this,e)};$.fn.jqGrid=function(e){var t,i=$.fn.jqGrid;if("string"==typeof e){if(!(t=i[e]))throw"jqGrid - No such method: "+e;return t.apply(this,$.makeArray(arguments).slice(1))}return this.each((function(){if(!this.grid){var t,r,a=this,n=$(a),o=$.isFunction,s=$.isArray,l=$.extend,d=$.inArray,c=$.trim,u=$.each,h=i.setSelection,p=i.getGridRes,f=o(defaults.fatalError)?defaults.fatalError:alert,m=e.locale||defaults.locale||"en-US",g=null!=locales[m]&&"boolean"==typeof locales[m].isRTL&&locales[m].isRTL?"rtl":"ltr",v=e.iconSet||defaults.iconSet||("bootstrap"===(e.guiStyle||defaults.guiStyle)||"bootstrapPrimary"===(e.guiStyle||defaults.guiStyle)?"glyph":"jQueryUI"),b=e.guiStyle||defaults.guiStyle||"jQueryUI",y=function(e){return i.getIconRes.call(a,e)},w=function(e,t){return n.jqGrid("getGuiStyles",e,t)};null==e&&(e={datatype:"local"}),void 0!==e.datastr&&s(e.datastr)&&(r=e.datastr,e.datastr=[]),void 0!==e.data&&(t=e.data,e.data=[]),null!=jgrid.formatter&&null!=jgrid.formatter.unused||f("CRITICAL ERROR!!!\n\n\nOne uses probably\n\n\t$.extend($.jgrid.defaults, {...});\n\nto set default settings of jqGrid instead of the usage the DEEP version of jQuery.extend (with true as the first parameter):\n\n\t$.extend(true, $.jgrid.defaults, {...});\n\nOne other possible reason:\n\nyou included some OLD version of language file (grid.locale-en.js for example) AFTER jquery.jqGrid.min.js. For example all language files of jqGrid 4.7.0 uses non-deep call of jQuery.extend.\n\n\nSome options of jqGrid could still work, but another one will be broken."),void 0===e.datatype&&void 0!==e.dataType&&(e.datatype=e.dataType,delete e.dataType),void 0===e.mtype&&void 0!==e.type&&(e.mtype=e.type,delete e.type),a.p={iconSet:v};var x=l(!0,{height:"auto",page:1,rowNum:20,maxRowNum:1e4,pagingDuringEditing:"prevent",sortingDuringEditing:"prevent",reloadingDuringEditing:"prevent",autoresizeOnLoad:!1,columnsToReResizing:[],autoResizing:{wrapperClassName:"ui-jqgrid-cell-wrapper",minColWidth:33,maxColWidth:300,adjustGridWidth:!0,compact:!1,fixWidthOnShrink:!1},doubleClickSensitivity:250,minResizingWidth:10,rowTotal:null,records:0,pager:"",pgbuttons:!0,pginput:!0,colModel:[],additionalProperties:[],arrayReader:[],rowList:[],colNames:[],sortorder:"asc",threeStateSort:!1,sortname:"",mtype:"GET",altRows:!1,selarrrow:[],savedRow:[],editingInfo:{},shrinkToFit:!0,xmlReader:{},subGrid:!1,subGridModel:[],reccount:0,lastpage:0,lastsort:0,selrow:null,singleSelectClickMode:"toggle",selectOnContextMenu:!0,beforeSelectRow:null,onSelectRow:null,onSortCol:null,ondblClickRow:null,onRightClickRow:null,onPaging:null,onSelectAll:null,onInitGrid:null,loadComplete:null,gridComplete:null,loadError:function(e,t,i){if("abort"!==t&&"abort"!==i){var r=e.getResponseHeader("Content-Type"),a=e.responseText||"",o=function(e){try{var t,i=$.parseJSON(e),r=[];for(t in i)i.hasOwnProperty(t)&&"StackTrace"!==t&&r.push(t+": "+i[t]);e=r.join("<br />")}catch(e){}return e};"text/html"===r?a=function(e){var t,i,r,a=document.createElement("div");for(r=/<body[^>]*>([\s\S]*)<\/body\s*>/gim.exec(e),a.innerHTML=null!=r&&2===r.length?r[1]:e,i=(t=a.getElementsByTagName("script")).length;i--;)t[i].parentNode.removeChild(t[i]);e=a.innerHTML;try{""===$.trim($(e).text())&&(e="")}catch(e){}return e}(a):("application/json"===r||"text/plain"===r)&&(a=o(a)),500!==e.status&&0!==e.status&&(a=(t||i)+(i&&i!==t?": "+i:"")+" "+e.status+" "+e.statusText+(""!==a?"<hr />":"")+a),n.jqGrid("displayErrorMessage",a||t||i)}},loadBeforeSend:null,afterInsertRow:null,beforeRequest:null,beforeProcessing:null,onHeaderClick:null,viewrecords:!1,loadonce:!1,forceClientSorting:!1,multiselect:!1,multikey:!1,editurl:"clientArray",search:!1,caption:"",hidegrid:!0,hiddengrid:!1,useUnformattedDataForCellAttr:!0,postData:{},userData:{},treeGrid:!1,treeGridModel:"nested",treeReader:{},treeANode:-1,ExpandColumn:null,tree_root_level:0,prmNames:{page:"page",rows:"rows",sort:"sidx",order:"sord",search:"_search",filters:"filters",nd:"nd",id:"id",idold:"idOld",oper:"oper",editoper:"edit",addoper:"add",deloper:"del",subgridid:"id",npage:null,totalrows:"totalrows"},forceFit:!1,gridstate:"visible",cellEdit:!1,iCol:-1,iRow:-1,nv:0,loadui:"enable",toolbar:[!1,""],scroll:!1,multiboxonly:!1,deselectAfterSort:!0,resetPageAfterSort:!0,multiPageSelection:!1,selectAllMode:"filtered",scrollrows:!1,autowidth:!1,scrollOffset:18,cellLayout:5,subGridWidth:16,multiselectWidth:16,multiselectPosition:"left",gridview:!0,rownumWidth:25,rownumbers:!1,pagerpos:"center",footerrow:!1,userDataOnFooter:!1,hoverrows:!0,altclass:"ui-priority-secondary",viewsortcols:[!1,"vertical",!0],resizeclass:"",autoencode:!0,autoEncodeOnEdit:!1,remapColumns:[],cmNamesInputOrder:[],ajaxGridOptions:{},direction:g,toppager:!1,headertitles:!1,scrollTimeout:40,maxItemsToJoin:32768,data:[],lastSelectedData:[],quickEmpty:"quickest",_index:{},indexByColumnData:{},dataIndexById:{},iColByName:{},iPropByName:{},reservedColumnNames:["rn","cb","subgrid"],grouping:!1,groupingView:{groupField:[],groupOrder:[],groupText:[],groupColumnShow:[],groupSummary:[],showSummaryOnHide:!1,useDefaultValuesOnGrouping:!0,summary:[],displayField:[],groupSummaryPos:[],formatDisplayField:[],_locgr:!1,commonIconClass:y("grouping.common"),plusicon:y("grouping.plus"),minusicon:y("grouping.minus")},ignoreCase:!0,cmTemplate:{},idPrefix:"",iconSet:v,guiStyle:b,locale:m,multiSort:!1,showSortOrder:!0,sortOrderPosition:"afterSortIcons",multiSortOrder:"lastClickedFirstSorted",maxSortColumns:3,treeIcons:{commonIconClass:y("treeGrid.common"),plusLtr:y("treeGrid.plusLtr"),plusRtl:y("treeGrid.plusRtl"),minus:y("treeGrid.minus"),leaf:y("treeGrid.leaf")}},defaults,{navOptions:l(!0,{commonIconClass:y("nav.common"),editicon:y("nav.edit"),addicon:y("nav.add"),delicon:y("nav.del"),searchicon:y("nav.search"),refreshicon:y("nav.refresh"),viewicon:y("nav.view"),saveicon:y("nav.save"),cancelicon:y("nav.cancel"),buttonicon:y("nav.newbutton")},jgrid.nav||{}),actionsNavOptions:l(!0,{commonIconClass:y("actions.common"),editicon:y("actions.edit"),delicon:y("actions.del"),saveicon:y("actions.save"),cancelicon:y("actions.cancel")},jgrid.actionsNav||{}),formEditing:l(!0,{commonIconClass:y("form.common"),prevIcon:y("form.prev"),nextIcon:y("form.next"),saveicon:[!0,"left",y("form.save")],closeicon:[!0,"left",y("form.undo")]},jgrid.edit||{}),searching:l(!0,{commonIconClass:y("search.common"),findDialogIcon:y("search.search"),resetDialogIcon:y("search.reset"),queryDialogIcon:y("search.query")},jgrid.search||{}),formViewing:l(!0,{commonIconClass:y("form.common"),prevIcon:y("form.prev"),nextIcon:y("form.next"),closeicon:[!0,"left",y("form.cancel")]},jgrid.view||{}),formDeleting:l(!0,{commonIconClass:y("form.common"),delicon:[!0,"left",y("form.del")],cancelicon:[!0,"left",y("form.cancel")]},jgrid.del||{})},e||{}),_=function(e){return p.call(n,e)},C=function(e){var t=jgrid.getRes(x,e);return void 0!==t?t:p.call(n,"defaults."+e)};if(x.recordpos=x.recordpos||("rtl"===x.direction?"left":"right"),x.autoResizing.widthOfVisiblePartOfSortIcon=void 0!==x.autoResizing.widthOfVisiblePartOfSortIcon?x.autoResizing.widthOfVisiblePartOfSortIcon:"fontAwesome"===x.iconSet?13:12,x.datatype=void 0!==x.datatype?x.datatype:void 0!==t||null==x.url?"local":null!=x.jsonReader&&"object"==typeof x.jsonReader?"json":"xml",x.jsonReader=x.jsonReader||{},x.url=x.url||"",x.cellsubmit=void 0!==x.cellsubmit?x.cellsubmit:void 0===x.cellurl?"clientArray":"remote",x.gridview=void 0!==x.gridview?x.gridview:null==x.afterInsertRow,void 0!==t&&(x.data=t,e.data=t),void 0!==r&&(x.datastr=r,e.datastr=r),"TABLE"===a.tagName.toUpperCase())if(""===a.id&&n.attr("id",randId()),void 0!==document.documentMode&&document.documentMode<=5)f("Grid can not be used in this ('quirks') mode!");else{n.empty().attr("tabindex","0"),(a.p=x).id=a.id,x.idSel="#"+jqID(a.id),x.gBoxId=getGridComponentId.call(a,COMPONENT_NAMES.GRID_BOX_DIV),x.gBox=getGridComponentIdSelector.call(a,COMPONENT_NAMES.GRID_BOX_DIV),x.gViewId=getGridComponentId.call(a,COMPONENT_NAMES.GRID_VIEW_DIV),x.gView=getGridComponentIdSelector.call(a,COMPONENT_NAMES.GRID_VIEW_DIV),x.rsId=getGridComponentId.call(a,COMPONENT_NAMES.COLUMN_RESIZER_DIV),x.rs=getGridComponentIdSelector.call(a,COMPONENT_NAMES.COLUMN_RESIZER_DIV),x.cbId=getGridComponentId.call(a,COMPONENT_NAMES.HEADER_SELECT_ALL_ROWS_CHECKBOX),x.cb=getGridComponentIdSelector.call(a,COMPONENT_NAMES.HEADER_SELECT_ALL_ROWS_CHECKBOX);var j=jgrid.fixScrollOffsetAndhBoxPadding,D=function(e){var t,i={},r=e.length;for(t=0;t<r;t++)i[e[t].name]=t;return i},S=function(){var e,t,i={},r=x.colModel,a=r.length;for(e=0;e<a;e++)((t=r[e]).createColumnIndex||x.createColumnIndex&&!1!==t.createColumnIndex||"select"===t.stype&&(t.searchoptions||{}).generateValue||"select"===t.edittype&&(t.editoptions||{}).generateValue)&&(i[r[e].name]={});return i},k=function(e){var t,i,r={},a=e.length;for(t=0;t<a;t++)r["string"==typeof(i=e[t])?i:i.name]=t;return r},O=function(){var e,t,i={};for(this.p.rowIndexes=i,t=0;t<this.rows.length;t++)e=this.rows[t],$(e).hasClass("jqgrow")&&(i[e.id]=e.rowIndex)},F=function(e){var t=$(this).data("pageX");t?(t=(t=String(t).split(";"))[t.length-1],$(this).data("pageX",t+";"+e.pageX)):$(this).data("pageX",e.pageX)},I=function(e,t){return e=parseInt(e,10),isNaN(e)?t||0:e},q={headers:[],cols:[],footers:[],dragStart:function(e,t,i,r){var a=this,n=$(a.bDiv),o=n.closest(x.gBox).offset(),s=r.offset().left+("rtl"===x.direction?0:a.headers[e].width+(jgrid.cell_width?0:I(x.cellLayout,0))-2);a.resizing={idx:e,startX:s,sOL:s,moved:!1,delta:s-t.pageX},a.curGbox=$(x.rs),a.curGbox.prependTo("body"),a.curGbox.css({display:"block",left:s,top:i[1]+o.top+1,height:i[2]}),a.curGbox.css("height",i[2]-(a.curGbox.outerHeight()-a.curGbox.height())+"px"),a.curGbox.data("idx",e),a.curGbox.data("delta",s-t.pageX),F.call(this.curGbox,t),feedback.call(getGridComponent(COMPONENT_NAMES.BODY_TABLE,n)[0],"resizeStart",t,e),document.onselectstart=function(){return!1},$(document).on("mousemove.jqGrid",(function(e){if(q.resizing)return q.dragMove(e),!1})).on("mouseup.jqGrid"+x.id,(function(){if(q.resizing)return q.dragEnd(),!1}))},dragMove:function(e){var t=this,i=t.resizing;if(i){var r,a,n=e.pageX+i.delta-i.startX,o=t.headers,s=o[i.idx],l="ltr"===x.direction?s.width+n:s.width-n,d=((x.colModel[i.idx]||{}).autoResizing||{}).minColWidth||x.minResizingWidth;i.moved=!0,d<l&&(null==t.curGbox&&(t.curGbox=$(x.rs)),t.curGbox.css({left:i.sOL+n}),!0===x.forceFit?(r=o[i.idx+x.nv],(a="ltr"===x.direction?r.width-n:r.width+n)>x.autoResizing.minColWidth&&(s.newWidth=l,r.newWidth=a)):(t.newWidth="ltr"===x.direction?x.tblwidth+n:x.tblwidth-n,s.newWidth=l))}},resizeColumn:function(e,t,r){var a,n=this,o=n.headers,s=n.footers,l=o[e],d=l.newWidth||l.width,c=getGridComponent(COMPONENT_NAMES.BODY_TABLE,n.bDiv),u=getGridComponent(COMPONENT_NAMES.HEADER_TABLE,n.hDiv).children("thead").children("tr").first()[0].cells;d=parseInt(d,10),x.colModel[e].width=d,l.width=d,u[e].style.width=d+"px",n.cols[e].style.width=d+"px",n.fbRows&&($(n.fbRows[0].cells[e]).css("width",d),$(getGridComponent(COMPONENT_NAMES.FROZEN_HEADER_TABLE,n.fhDiv)[0].rows[0].cells[e]).css("width",d),x.footerrow&&$(getGridComponent(COMPONENT_NAMES.FROZEN_FOOTER_TABLE,n.fsDiv)[0].rows[0].cells[e]).css("width",d)),0<s.length&&(s[e].style.width=d+"px"),!0!==r&&j.call(c[0]),!0===x.forceFit?(d=(a=o[e+x.nv]).newWidth||a.width,a.width=d,u[e+x.nv].style.width=d+"px",n.cols[e+x.nv].style.width=d+"px",0<s.length&&(s[e+x.nv].style.width=d+"px"),x.colModel[e+x.nv].width=d):(x.tblwidth=n.newWidth||x.tblwidth,!0!==r&&(n.hDiv.scrollLeft=n.bDiv.scrollLeft,x.footerrow&&(n.sDiv.scrollLeft=n.bDiv.scrollLeft))),x.autowidth||void 0!==x.widthOrg&&"auto"!==x.widthOrg&&"100%"!==x.widthOrg||!0===r||i.setGridWidth.call(c,n.newWidth+x.scrollOffset,!1),t||feedback.call(c[0],"resizeStop",d,e)},dragEnd:function(){var e=this;e.hDiv.style.cursor="default",e.resizing&&(null!==e.resizing&&!0===e.resizing.moved&&($(e.headers[e.resizing.idx].el).removeData("autoResized"),e.resizeColumn(e.resizing.idx,!1)),$(x.rs).removeData("pageX"),e.resizing=!1,setTimeout((function(){$(x.rs).css("display","none").prependTo(x.gBox)}),x.doubleClickSensitivity)),e.curGbox=null,document.onselectstart=function(){return!0},$(document).off("mousemove.jqGrid mouseup.jqGrid"+x.id)},populateVisible:function(){var e=this,t=$(e),i=e.grid,r=i.bDiv,a=$(r);i.timer&&clearTimeout(i.timer),i.timer=null;var n=a.height();if(n){var o,s;if(e.rows.length)try{s=(o=e.rows[1])&&$(o).outerHeight()||i.prevRowHeight}catch(e){s=i.prevRowHeight}if(s){i.prevRowHeight=s;var l=x.rowNum;i.scrollTop=r.scrollTop;var d,c,u,h=i.scrollTop,p=Math.round(t.position().top)-h,f=p+t.height(),m=s*l;if(f<n&&p<=0&&(void 0===x.lastpage||(parseInt((f+h+m-1)/m,10)||0)<=x.lastpage)&&(c=parseInt((n-f+m-1)/m,10)||1,0<=f||c<2||!0===x.scroll?(d=(Math.round((f+h)/m)||0)+1,p=-1):p=1),0<p&&(d=(parseInt(h/m,10)||0)+1,c=(parseInt((h+n)/m,10)||0)+2-d,u=!0),c){if(x.lastpage&&(d>x.lastpage||1===x.lastpage||d===x.page&&d===x.lastpage))return;i.hDiv.loading?i.timer=setTimeout((function(){i.populateVisible.call(e)}),x.scrollTimeout):(x.page=d,u&&(i.selectionPreserver.call(e),i.emptyRows.call(e,!1,!1)),i.populate.call(e,c))}}}},scrollGrid:function(){if(x.scroll){var e=this.scrollTop;void 0===q.scrollTop&&(q.scrollTop=0),e!==q.scrollTop&&(q.scrollTop=e,q.timer&&clearTimeout(q.timer),q.timer=setTimeout((function(){q.populateVisible.call(a)}),x.scrollTimeout))}return q.hDiv.scrollLeft=this.scrollLeft,x.footerrow&&(q.sDiv.scrollLeft=this.scrollLeft),!1},selectionPreserver:function(){var e=$(this),t=x.selrow,i=x.selarrrow?$.makeArray(x.selarrrow):null,r=this.grid.bDiv,a=r.scrollLeft,n=function(){var o;if(x.selrow=null,!x.multiPageSelection){if(clearArray(x.selarrrow),x.multiselect&&i&&0<i.length)for(o=0;o<i.length;o++)i[o]!==t&&h.call(e,i[o],!1,null);t&&h.call(e,t,!1,null)}r.scrollLeft=a,e.off(".selectionPreserver",n)};e.on("jqGridGridComplete.selectionPreserver",n)}};a.grid=q,feedback.call(a,"beforeInitGrid"),x.iColByName=D(x.colModel),x.iPropByName=k(x.additionalProperties),jgrid.msie=0<jgrid.msiever();var R,M=$("<div class='"+w("gView","ui-jqgrid-view")+"' role='grid' aria-multiselectable='"+!!x.multiselect+"'></div>"),T=jgrid.msie;x.direction=c(x.direction.toLowerCase()),-1===d(x.direction,["ltr","rtl"])&&(x.direction="ltr"),R=x.direction,$(M).insertBefore(a),n.removeClass("scroll").appendTo(M);var N=$("<div class='"+w("gBox","ui-jqgrid")+"'></div>");$(N).attr({id:x.gBoxId,dir:R}).insertBefore(M),$(M).attr("id",x.gViewId).appendTo(N),$("<div class='"+w("overlay","jqgrid-overlay")+"' id='lui_"+x.id+"'></div>").insertBefore(M),$("<div class='"+w("loading","loading")+"' id='load_"+x.id+"'>"+C("loadtext")+"</div>").insertBefore(M),n.attr({role:"presentation","aria-labelledby":"gbox_"+a.id});var G,E=function(e,t,i,r,n,s){var l,d,c,u,h,p=x.colModel[e],f=p.autoResizable?"<span class='"+x.autoResizing.wrapperClassName+"'>":"",m=p.autoResizable?i.substring(f.length,i.length-"</span>".length):i,g=x.useUnformattedDataForCellAttr&&null!=s?s[p.name]:p.autoResizable?m:i,v=p.classes,b=p.align?"text-align:"+p.align+";":"",y=function(e){return"string"==typeof e?e.replace(/'/g,"&#39;"):e},w=" aria-describedby='"+x.id+"_"+p.name+"'";if(!0===p.hidden&&(b+="display:none;"),0===t)b+="width: "+q.headers[e].width+"px;";else if((o(p.cellattr)||"string"==typeof p.cellattr&&null!=jgrid.cellattr&&o(jgrid.cellattr[p.cellattr]))&&"string"==typeof(d=(o(p.cellattr)?p.cellattr:jgrid.cellattr[p.cellattr]).call(a,n,g,r,p,s,m)))for(d=d.replace(/\n/g,"&#xA;");;){if(null===(c=/^\s*(\w+[\w|\-]*)\s*=\s*([\"|\'])(.*?)\2(.*)/.exec(d))||c.length<5)return!h&&p.title&&(h=g),w+" style='"+y(b)+"'"+(v?" class='"+y(v)+"'":"")+(h?" title='"+y(h)+"'":"");switch(u=c[3],d=c[4],c[1].toLowerCase()){case"class":v?v+=" "+u:v=u;break;case"title":h=u;break;case"style":b+=u;break;default:w+=" "+c[1]+"="+c[2]+u+c[2]}}return l=""!==b?"style='"+b+"'":"",(l+=(void 0!==v?" class='"+v+"'":"")+(p.title&&g?" title='"+stripHtml(i).replace(/'/g,"&apos;")+"'":""))+w},A=function(e){return null==e||""===e?"&#160;":x.autoencode?htmlEncode(e):String(e)},z=function(e){var t=x.treeReader,i=t.loaded,r=t.leaf_field,a=t.expanded_field,n=function(e){return!0===e||"true"===e||"1"===e};if("nested"===x.treeGridModel&&!e[r]){var o=parseInt(e[t.left_field],10),s=parseInt(e[t.right_field],10);e[r]=s===o+1}void 0!==e[i]&&(e[i]=n(e[i])),e[r]=n(e[r]),e[a]=n(e[a])},P=function(e,t){var i,r;for(i in x.indexByColumnData)x.indexByColumnData.hasOwnProperty(i)&&(r=e[i],e.hasOwnProperty(i)&&void 0!==r&&""!==r&&(x.ignoreCase&&(r=String(r).toLowerCase()),void 0===x.indexByColumnData[i][r]&&(x.indexByColumnData[i][r]={}),x.indexByColumnData[i][r][t]=e[i],void 0===x.dataIndexById[t]&&(x.dataIndexById[t]={}),void 0===x.dataIndexById[t][i]&&(x.dataIndexById[t][i]={}),x.dataIndexById[t][i][r]=x.indexByColumnData[i][r]))},B=function(){var e,t,i,r,n,d,c,u,h,p,f,m,g=x.data,v=g.length,b=x.localReader,y=x.additionalProperties,w=b.cell,$=x.arrayReaderInfos;if("local"===x.datatype&&!0===b.repeatitems)for(r=!1===x.keyName?o(b.id)?b.id.call(a,g):b.id:x.keyName,isNaN(r)?o(r)||null!=x.arrayReaderInfos[r]&&(n=x.arrayReaderInfos[r].order):n=Number(r),e=0;e<v;e++){for(h in t=g[e],i=w&&getAccessor(t,w)||t,p=s(i),c={},$)$.hasOwnProperty(h)&&(m=$[h],d=getAccessor(i,p?m.order:m.name),1===m.type&&null!=(f=y[m.index])&&o(f.convert)&&(d=f.convert(d,i)),void 0!==d&&(c[h]=d));void 0!==c[r]?u=void 0!==c[r]?c[r]:randId():(void 0===(u=getAccessor(t,s(t)?n:r))&&(u=getAccessor(i,s(i)?n:r)),void 0===u&&(u=randId())),u=String(u),c[b.id]=u,x.treeGrid&&z(c),l(g[e],c)}else if(x.treeGrid)for(e=0;e<v;e++)z(g[e])},L=function(){var e,t,i,r,a=x.data.length;for(e=!1===x.keyName||x.loadonce&&x.dataTypeOrg?x.localReader.id:x.keyName,x._index={},x.dataIndexById={},x.indexByColumnData=S(),t=0;t<a;t++)r=x.data[t],void 0===(i=getAccessor(r,e))&&(i=String(randId()),void 0===r[e]&&(r[e]=i)),x._index[i]=t,P.call(this,r,i)},H=function(e,t){var i,r,n,s=x.colModel,l=s.length,d=function(e){return null==e||""===e?"&#160;":htmlEncode(e)},c=function(e){return null==e||""===e?"&#160;":String(e)};for(i=0;i<l;i++)(r=s[i]).cellBuilder=null,e||(n={colModel:r,gid:x.id,pos:i},void 0===r.formatter?r.cellBuilder=x.autoencode?d:c:"string"==typeof r.formatter&&null!=$.fn.fmatter&&o($.fn.fmatter.getCellBuilder)?r.cellBuilder=$.fn.fmatter.getCellBuilder.call(a,r.formatter,n,t||"add"):o(r.getCellBuilder)&&(r.cellBuilder=r.getCellBuilder.call(a,n,t||"add")))},V=function(e,t,r,a){var n=this,l=$(n),d=new Date,c=x.datatype,u="local"!==c&&x.loadonce||"xmlstring"===c||"jsonstring"===c,h=("xmlstring"===c||"xml"===c)&&$.isXMLDoc(e),p="_id_",f=x.localReader,m=getAccessor;if(e&&("xml"!==c||h)){switch(-1!==x.treeANode||x.scroll?t=1<t?t:1:(q.emptyRows.call(n,!1,!0),t=1),u&&(clearArray(x.data),clearArray(x.lastSelectedData),x._index={},x.grouping&&null!=x.groupingView&&(x.groupingView.groups=[],x.groupingView._locgr=!1),x.localReader.id=p),x.reccount=0,c){case"xml":case"xmlstring":f=x.xmlReader,m=jgrid.getXmlData;break;case"json":case"jsonp":case"jsonstring":f=x.jsonReader}var g,v,b,y,w,_,C,j,D,S,k,F,R,M={},T=x.colModel,N=T.length,G=x.arrayReaderInfos,E={},A=function(e){return function(t){var i=null!=t&&o(t.getAttribute)?t.getAttribute(e):null;return null!==i?i:void 0}},B=function(e){return function(){var t,i=E[e];if(null!=i)return 0<(t=i.childNodes).length?t[0].nodeValue:void 0}};x.page=I(m(e,f.page),x.page),x.lastpage=I(m(e,f.total),1),x.records=I(m(e,f.records)),o(f.userdata)?x.userData=f.userdata.call(n,e)||{}:h?m(e,f.userdata,!0).each((function(){x.userData[this.getAttribute("name")]=$(this).text()})):x.userData=m(e,f.userdata)||{},H();var L,V,W,U,Y={},X=x.additionalProperties,K=function(e,t){h&&"string"==typeof t&&(/^\w+$/.test(t)?Y[e]=B(t):/^\[\w+\]$/.test(t)&&(Y[e]=A(t.substring(1,t.length-1))))},J=function(e){var t=e.name,i=h?e.xmlmap||t:("local"===c&&!x.dataTypeOrg||"jsonstring"===c||"json"===c||"jsonp"===c)&&e.jsonmap||t;!1!==x.keyName&&!0===e.key&&(x.keyName=t),("string"==typeof i||o(i))&&(Y[t]=i),o(i)||K(t,i)};for(g=0;g<N;g++)J(T[g]);for(N=X.length,g=0;g<N;g++)"object"==typeof(W=X[g])&&null!=W?J(W):K(W,W);if(w=!1===x.keyName?o(f.id)?f.id.call(n,e):f.id:x.keyName,isNaN(w)?o(w)||(G[w]&&(_=G[w].order),h&&!1===x.keyName&&("string"==typeof w&&/^\[\w+\]$/.test(w)?w=A(w.substring(1,w.length-1)):"string"==typeof w&&/^\w+$/.test(w)&&(w=B(w)))):_=Number(w),y=m(e,f.root,!0),f.row)if(1===y.length&&"string"==typeof f.row&&/^\w+$/.test(f.row)){for(U=[],k=(S=y[0].childNodes).length,D=0;D<k;D++)1===(F=S[D]).nodeType&&F.nodeName===f.row&&U.push(F);y=U}else y=m(y,f.row,!0);null==y&&s(e)&&(y=e),y||(y=[]),0<(b=y.length)&&x.page<=0&&(x.page=1);var Q=parseInt(x.rowNum,10);a&&(Q*=a+1);var Z,ee,te=[],ie=[];for(U=[],g=0;g<b;g++){if(ee=y[g],v=f.repeatitems&&f.cell&&m(ee,f.cell,!0)||ee,L=f.repeatitems&&(h||s(v)),M={},E={},h&&!L&&null!=v)for(k=(S=v.childNodes).length,D=0;D<k;D++)1===(F=S[D]).nodeType&&(E[F.nodeName]=F);for(j in G)G.hasOwnProperty(j)&&(R=G[j],L?(V=v[R.order],h&&null!=V&&(V=V.textContent||V.text)):V=null!=Y[j]&&"string"!=typeof Y[j]?Y[j].call(n,v,{cmName:j,iItem:g}):m(v,"string"==typeof Y[j]?Y[j]:R.name),1===R.type&&null!=(W=X[R.index])&&o(W.convert)&&(V=W.convert(V,v)),void 0!==V&&(M[j]=V));if(void 0!==M[w]?Z=void 0!==M[w]?M[w]:randId():(void 0===(Z=m(ee,s(ee)?_:w))&&(Z=m(v,s(v)?_:w)),void 0===Z&&(Z=randId())),void 0===M[w]&&(M[w]=Z),Z=String(Z),C=x.idPrefix+Z,x.treeGrid&&z(M),g<Q)ie.push(C),te.push(v),U.push(M);else if(!u)break;(u||!0===x.treeGrid)&&(M[p]=Z,x.data.push(M),P(M,Z),x._index[M[p]]=x.data.length-1)}if(u&&!0!==x.treeGrid){if(x.forceClientSorting)return;x.lastSelectedData=x.data.slice()}var re=jgrid.parseDataToHtml.call(n,b,ie,U,te,t,a,u);H(!0);var ae=-1<x.treeANode?x.treeANode:0,ne=$(n.tBodies[0]);if(!0===x.treeGrid&&0<ae?$(n.rows[ae]).after(re.join("")):x.scroll?ne.append(re.join("")):(null==n.firstElementChild||void 0!==document.documentMode&&document.documentMode<=9?ne.html(ne.html()+re.join("")):n.firstElementChild.innerHTML+=re.join(""),n.grid.cols=n.rows[0].cells),x.grouping){O.call(n);var oe,se=function(e){var t=$(this).closest("tr.jqgroup").attr("id");return l.jqGrid("groupingToggle",t,this,e),!1};for(g=0;g<n.rows.length;g++)(oe=$(n.rows[g])).hasClass("jqgroup")&&oe.children("td").children("span.tree-wrap").click(se)}if(!0===x.subGrid)try{i.addSubGrid.call(l,x.iColByName.subgrid)}catch(e){}if(!1===x.gridview||o(x.afterInsertRow))for(g=0;g<Math.min(b,Q);g++)feedback.call(n,"afterInsertRow",ie[g],U[g],te[g]);if(x.totaltime=new Date-d,0<g&&0===x.records&&(x.records=b),clearArray(re),!0===x.treeGrid)try{i.setTreeNode.call(l,ae+1,g+ae+1)}catch(e){}x.reccount=Math.min(b,Q),x.treeANode=-1,x.userDataOnFooter&&i.footerData.call(l,"set",x.userData,!0),u&&(x.records=b,x.lastpage=Math.ceil(b/Q)),r||n.updatepager(!1,!0),function(){var e,t,i=$.fn.fmatter;for(e=0;e<x.colModel.length;e++)"string"==typeof(t=x.colModel[e].formatter)&&null!=i&&o(i[t])&&o(i[t].pageFinalization)&&i[t].pageFinalization.call(this,e)}.call(n)}},W=function(e){var t,i=e.outerWidth();return i<=0&&(t=$(this).closest(".ui-jqgrid>.ui-jqgrid-view").css("font-size")||"11px",$(document.body).append("<div id='testpg' class='"+w("gBox","ui-jqgrid")+"' style='font-size:"+t+";visibility:hidden;margin:0;padding:0;' ></div>"),$(e).clone().appendTo("#testpg"),i=$("#testpg>.ui-pg-table").width(),$("#testpg").remove()),0<i&&e.parent().width(i),i},U=function(){this.grid.hDiv.loading=!0,x.hiddengrid||i.progressBar.call($(this),{method:"show",loadtype:x.loadui,htmlcontent:C("loadtext")})},Y=function(){this.grid.hDiv.loading=!1,i.progressBar.call($(this),{method:"hide",loadtype:x.loadui})},X=function(e){var t=this,r=$(t),n=t.grid;if(!n.hDiv.loading){var d,c,h=x.scroll&&!1===e,p={},m=x.prmNames;x.page<=0&&(x.page=Math.min(1,x.lastpage)),null!==m.search&&(p[m.search]=x.search),null!==m.nd&&(p[m.nd]=(new Date).getTime()),(isNaN(parseInt(x.rowNum,10))||parseInt(x.rowNum,10)<=0)&&(x.rowNum=x.maxRowNum),null!==m.rows&&(p[m.rows]=x.rowNum),null!==m.page&&(p[m.page]=x.page),null!==m.sort&&(p[m.sort]=x.sortname),null!==m.order&&(p[m.order]=x.sortorder),null!==x.rowTotal&&null!==m.totalrows&&(p[m.totalrows]=x.rowTotal);var g=o(x.loadComplete),v=g?x.loadComplete:null,b=0;if(1<(e=e||1)?null!==m.npage?(p[m.npage]=e,b=e-1,e=1):v=function(i){x.page++,n.hDiv.loading=!1,g&&x.loadComplete.call(t,i),X.call(t,e-1)}:null!==m.npage&&delete x.postData[m.npage],x.grouping&&i.groupingSetup){i.groupingSetup.call(r);var y,w,C,D,S=x.groupingView,k="";for(y=0;y<S.groupField.length;y++){for(w=S.groupField[y],C=0;C<x.colModel.length;C++)(D=x.colModel[C]).name===w&&D.index&&(w=D.index);k+=w+" "+S.groupOrder[y]+", "}p[m.sort]=k+p[m.sort]}l(x.postData,p);var O=x.scroll?t.rows.length-1:1,F=function(){j.call(t),x.autowidth||void 0!==x.widthOrg&&"auto"!==x.widthOrg&&"100%"!==x.widthOrg||i.setGridWidth.call(r,x.tblwidth+x.scrollOffset,!1)},I=function(){var e;if(x.autoresizeOnLoad)i.autoResizeAllColumns.call(r),clearArray(x.columnsToReResizing),x.autowidth&&i.setGridWidth.call(r,r.closest(".ui-jqgrid").parent().width(),!0);else{for(e=0;e<x.columnsToReResizing.length;e++)i.autoResizeColumn.call(r,x.columnsToReResizing[e]);clearArray(x.columnsToReResizing)}},R=function(){feedback.call(t,"loadComplete",c),I(),r.triggerHandler("jqGridAfterLoadComplete",[c]),Y.call(t),x.datatype="local",x.datastr=null,F()},M=function(i){r.triggerHandler("jqGridLoadComplete",[i]),v&&v.call(t,i),I(),r.triggerHandler("jqGridAfterLoadComplete",[i]),h&&n.populateVisible.call(t),1===e&&Y.call(t),F()},T=function(){var r=function(){var e=$(this),t=x.multiSort?[]:"",r={},a=!1,n={},l=[],d=[],c=_("formatter.date.srcformat"),h=_("formatter.date.newformat");if(!s(x.data))return{};x.multiSort&&Z(t,r);var p,m,g=!!x.grouping&&x.groupingView,v=function(e,i,r){var o,s,u=e.index||e.name,f=e.sorttype||"text";if(n[e.name]={reader:x.dataTypeOrg?e.name:e.jsonmap||e.name,iCol:i,stype:f,srcfmt:"",newfmt:"",sfunc:e.sortfunc||null,isAddProp:!0===r},"date"!==f&&"datetime"!==f||(e.formatter&&"string"==typeof e.formatter&&"date"===e.formatter?(o=e.formatoptions&&e.formatoptions.srcformat?e.formatoptions.srcformat:c,s=e.formatoptions&&e.formatoptions.newformat?e.formatoptions.newformat:h):o=s=e.datefmt||"Y-m-d",n[e.name].srcfmt=o,n[e.name].newfmt=s),x.grouping)for(m=0,p=g.groupField.length;m<p;m++)e.name===g.groupField[m]&&(l[m]=n[u],d[m]=u);x.multiSort||a||e.index!==x.sortname&&e.name!==x.sortname||(t=e.name,a=!0)};if(u(x.colModel,(function(e){v(this,e)})),u(x.additionalProperties,(function(e){v("string"==typeof this?{name:this}:this,e,!0)})),x.treeGrid)return i.SortTree.call(e,t,x.sortorder,null!=n[t]&&n[t].stype?n[t].stype:"text",null!=n[t]&&n[t].srcfmt?n[t].srcfmt:""),!1;var b={eq:function(e){return e.equals},ne:function(e){return e.notEquals},lt:function(e){return e.less},le:function(e){return e.lessOrEquals},gt:function(e){return e.greater},ge:function(e){return e.greaterOrEquals},cn:function(e){return e.contains},nc:function(e,t){return"OR"===t?e.orNot().contains:e.andNot().contains},bw:function(e){return e.startsWith},bn:function(e,t){return"OR"===t?e.orNot().startsWith:e.andNot().startsWith},en:function(e,t){return"OR"===t?e.orNot().endsWith:e.andNot().endsWith},ew:function(e){return e.endsWith},ni:function(e,t){return"OR"===t?e.orNot().inSet:e.andNot().inSet},in:function(e){return e.inSet},nu:function(e){return e.isNull},nn:function(e,t){return"OR"===t?e.orNot().isNull:e.andNot().isNull}},y=jgrid.from.call(this,x.data);if(x.ignoreCase&&(y=y.ignoreCase()),!0===x.search){var w=x.postData[(x.searching||{}).sFilter||x.prmNames.filters];if(w)"string"==typeof w&&(w=$.parseJSON(w)),function e(t){var i,r,a,s,l,d,c,u=0;if(null!=t.groups){for((r=t.groups.length&&"OR"===t.groupOp.toString().toUpperCase())&&y.orBegin(),i=0;i<t.groups.length;i++){0<u&&r&&y.or();try{e(t.groups[i])}catch(e){f(e)}u++}r&&y.orEnd()}if(null!=t.rules)try{for((a=t.rules.length&&"OR"===t.groupOp.toString().toUpperCase())&&y.orBegin(),i=0;i<t.rules.length;i++)l=t.rules[i],s=t.groupOp.toString().toUpperCase(),b[l.op]&&l.field?(0<u&&s&&"OR"===s&&(y=y.or()),null!=(c=n[l.field])&&(d=c.reader,y=b[l.op](y,s)(o(d)?'jQuery.jgrid.getAccessor(this,jQuery("'+x.idSel+'")[0].p.colModel['+c.iCol+"].jsonmap)":"jQuery.jgrid.getAccessor(this,'"+d+"')",l.data,n[l.field]))):null!=x.customSortOperations&&null!=x.customSortOperations[l.op]&&o(x.customSortOperations[l.op].filter)&&(y=y.custom(l.op,l.field,l.data)),u++;a&&y.orEnd()}catch(e){f(e)}}(w);else try{var C=n[x.postData.searchField];y=b[x.postData.searchOper](y)(o(C.reader)?'jQuery.jgrid.getAccessor(this,jQuery("'+x.idSel+'")[0].p.colModel['+C.iCol+"].jsonmap)":"jQuery.jgrid.getAccessor(this,'"+C.reader+"')",x.postData.searchString,n[x.postData.searchField])}catch(e){}}if(x.grouping)for(m=0;m<p&&m<d.length&&m<l.length;m++)y.orderBy(d[m],g.groupOrder[m],l[m].stype,l[m].srcfmt);x.multiSort?u(t,(function(){y.orderBy(this,r[this],n[this].stype,n[this].srcfmt,n[this].sfunc)})):t&&x.sortorder&&a&&y.orderBy(x.sortname,"DESC"===x.sortorder.toUpperCase()?"d":"a",n[t].stype,n[t].srcfmt,n[t].sfunc),x.lastSelectedData=y.select();var j=parseInt(x.rowNum,10),D=x.lastSelectedData.length,S=parseInt(x.page,10),k=Math.ceil(D/j),O={};if(x.grouping&&x.groupingView._locgr){var F,I,q;if(x.groupingView.groups=[],x.footerrow&&x.userDataOnFooter){for(I in x.userData)x.userData.hasOwnProperty(I)&&(x.userData[I]=0);q=!0}for(F=0;F<D;F++){if(q)for(I in x.userData)x.userData.hasOwnProperty(I)&&(x.userData[I]+=parseFloat(x.lastSelectedData[F][I]||0));i.groupingPrepare.call(e,x.lastSelectedData[F],F,j)}}n=y=null;var R=x.localReader;return O[R.total]=k,O[R.page]=S,O[R.records]=D,O[R.root]=x.lastSelectedData.slice((S-1)*j,S*j),O[R.userdata]=x.userData,O}.call(t);V.call(t,r,O,1<e,b),M(r)};if(!feedback.call(t,"beforeRequest"))return;if(o(x.datatype))return void x.datatype.call(t,x.postData,"load_"+x.id,O,e,b);switch(d=x.datatype.toLowerCase(),$(q.eDiv).hide(),d){case"json":case"jsonp":case"xml":case"script":$.ajax(l({url:x.url,type:x.mtype,dataType:d,data:jgrid.serializeFeedback.call(a,x.serializeGridData,"jqGridSerializeGridData",x.postData),success:function(i,r,a){x.jqXhr=null,$(q.eDiv).hide(),o(x.beforeProcessing)&&!1===x.beforeProcessing.call(t,i,r,a)?Y.call(t):(V.call(t,i,O,1<e,b),M(i),(x.loadonce||x.treeGrid)&&(x.dataTypeOrg=x.datatype,x.datatype="local",x.forceClientSorting&&T()))},error:function(i,r,a){x.jqXhr=null,o(x.loadError)&&x.loadError.call(t,i,r,a),1===e&&Y.call(t)},beforeSend:function(e,i){var r=!0;if(o(x.loadBeforeSend)&&(r=x.loadBeforeSend.call(t,e,i)),void 0===r&&(r=!0),!1===r)return!1;x.jqXhr=e,U.call(t)}},jgrid.ajaxOptions,x.ajaxGridOptions));break;case"xmlstring":U.call(t),c="string"==typeof x.datastr?$.parseXML(x.datastr):x.datastr,V.call(t,c),R(),x.forceClientSorting&&T();break;case"jsonstring":U.call(t),c=x.datastr&&"string"==typeof x.datastr?$.parseJSON(x.datastr):x.datastr,V.call(t,c),R(),x.forceClientSorting&&T();break;case"local":case"clientside":U.call(t),x.datatype="local",T()}}},K=function(e){var t=this.grid;$(x.cb,t.hDiv).prop("checked",e),x.frozenColumns&&$(x.cb,t.fhDiv).prop("checked",e)},J=function(e){var t,i;for(t=0;t<x.savedRow.length;t++)i=x.savedRow[t],"save"===e?i.hasOwnProperty("ic")?n.jqGrid("saveCell",i.id,i.ic):n.jqGrid("saveRow",i.id):i.hasOwnProperty("ic")?n.jqGrid("restoreCell",i.id,i.ic):n.jqGrid("restoreRow",i.id)},Q=function(e,t){var i,r,n,o,s,l,d,c,u,h=w("states.hover"),p=w("states.disabled"),f="<td class='ui-pg-button "+p+"'><span class='ui-separator'></span></td>",m="",g="<table style='table-layout:auto;white-space: pre;"+("left"===x.pagerpos?"margin-right:auto;":"right"===x.pagerpos?"margin-left:auto;":"margin-left:auto;margin-right:auto;")+"' class='ui-pg-table'><tbody><tr>",v="",b=function(e,t,i){return!(0<x.savedRow.length&&"prevent"===x.pagingDuringEditing||!feedback.call(a,"onPaging",e,{newPage:t,currentPage:I(x.page,1),lastPage:I(x.lastpage,1),currentRowNum:I(x.rowNum,10),newRowNum:i})||(x.selrow=null,x.multiselect&&(x.multiPageSelection||clearArray(x.selarrrow),K.call(a,!1)),J(x.pagingDuringEditing),0))};if(t+="_"+e,i="pg_"+e,r=e+"_left",n=e+"_center",o=e+"_right",$("#"+jqID(e)).append("<div id='"+i+"' class='ui-pager-control' role='group'><table class='ui-pg-table' style='width:100%;table-layout:fixed;height:100%;'><tbody><tr><td id='"+r+"' class='ui-jqgrid-pg-left'"+(void 0!==x.pagerLeftWidth?" style='width:"+x.pagerLeftWidth+"px;'":"")+"></td><td id='"+n+"' class='ui-jqgrid-pg-center'"+(void 0!==x.pagerCenterWidth?" style='width:"+x.pagerCenterWidth+"px;'":"")+"></td><td id='"+o+"' class='ui-jqgrid-pg-right'"+(void 0!==x.pagerRightWidth?" style='width:"+x.pagerRightWidth+"px;'":"")+"></td></tr></tbody></table></div>").attr("dir","ltr"),i="#"+jqID(i),0<x.rowList.length){v="<td dir='"+R+"'>";var _,j=C("pgrecs");for(v+="<select class='"+w("pager.pagerSelect","ui-pg-selbox")+"' "+(j?"title='"+j+"'":"")+">",l=0;l<x.rowList.length;l++)1===(_=x.rowList[l].toString().split(":")).length&&(_[1]=_[0]),v+="<option value='"+_[0]+"'"+(I(x.rowNum,0)===I(_[0],0)?" selected='selected'":"")+">"+_[1]+"</option>";v+="</select></td>"}if("rtl"===R&&(g+=v),!0===x.pginput&&(m="<td dir='"+R+"'>"+jgrid.format(C("pgtext")||"","<input aria-label='Page No.' class='"+w("pager.pagerInput","ui-pg-input")+"' type='text' size='2' maxlength='7' value='0'/>","<span id='sp_1_"+e+"'>0</span>")+"</td>"),e="#"+jqID(e),!0===x.pgbuttons){var D=["first","prev","next","last"],S=D.slice(),k=w("pager.pagerButton","ui-pg-button");for("rtl"===R&&D.reverse(),l=0;l<D.length;l++)g+=(d=D[l],c=S[l],u=C("pg"+d),"<td role='button' tabindex='0' id='"+d+t+"' class='"+k+"' "+(u?"title='"+u+"'":"")+"><span class='"+y("pager."+c)+"'></span></td>"),1===l&&(g+=""!==m?f+m+f:"")}else""!==m&&(g+=m);"ltr"===R&&(g+=v),g+="</tr></tbody></table>",!0===x.viewrecords&&$("td"+e+"_"+x.recordpos,i).append("<span dir='"+R+"' style='text-align:"+x.recordpos+"' class='ui-paging-info'></span>");var O=$("td"+e+"_"+x.pagerpos,i);O.append(g),s=W.call(this,O.children(".ui-pg-table")),x._nvtd=[],x._nvtd[0]=s?Math.floor((x.width-s)/2):Math.floor(x.width/3),x._nvtd[1]=0,g=null,$(".ui-pg-selbox",i).on("change",(function(){var e=I(this.value,10),t=Math.round(x.rowNum*(x.page-1)/e-.5)+1;return b("records",t,e)&&(x.page=t,x.rowNum=e,x.pager&&$(".ui-pg-selbox",x.pager).val(e),x.toppager&&$(".ui-pg-selbox",x.toppager).val(e),X.call(a)),!1})),!0===x.pgbuttons&&($(".ui-pg-button",i).hover((function(){hasOneFromClasses(this,p)?this.style.cursor="default":($(this).addClass(h),this.style.cursor="pointer")}),(function(){hasOneFromClasses(this,p)||($(this).removeClass(h),this.style.cursor="default")})),$("#first"+jqID(t)+", #prev"+jqID(t)+", #next"+jqID(t)+", #last"+jqID(t)).click((function(){if(hasOneFromClasses(this,p))return!1;var e=I(x.page,1),i=e,r=this.id,n=I(x.lastpage,1),o=!1,s=!0,l=!0,d=!0,c=!0;return 0===n||1===n?(e<=1&&(l=s=!1),c=d=!1):1<n&&1<=e?1===e?l=s=!1:e===n&&(c=d=!1):1<n&&0===e&&(c=d=!1,e=n-1),this.id==="first"+t&&s&&(r="first",i=1,o=!0),this.id==="prev"+t&&l&&(r="prev",i=e-1,o=!0),this.id==="next"+t&&d&&(r="next",i=e+1,o=!0),this.id==="last"+t&&c&&(r="last",i=n,o=!0),b(r,i,I(x.rowNum,10))&&(x.page=i,o&&X.call(a)),!1}))),!0===x.pginput&&$("input.ui-pg-input",i).on("keypress.jqGrid",(function(e){var t=e.charCode||e.keyCode||0,i=I($(this).val(),1);return 13===t?(b("user",i,I(x.rowNum,10))&&($(this).val(i),x.page=0<$(this).val()?$(this).val():x.page,X.call(a)),!1):this})),O.children(".ui-pg-table").on("keydown.jqGrid",(function(e){var t;13===e.which&&0<(t=O.find(":focus")).length&&t.trigger("click")}))},Z=function(e,t,i){if(u((x.sortname+" "+x.sortorder).split(","),(function(){var t=$.trim(this).split(" ");2===t.length&&e.push(t[0])})),null!=i){var r=$.inArray(i.index||i.name,e);""!==i.lso&&r<0?e.push(i.index||i.name):""===i.lso&&0<=r&&e.splice(r,1)}u(x.colModel,(function(){var i,r=this.index||this.name;this.lso&&(i=this.lso.split("-"),$.inArray(r,e)<0&&e.push(r),t[r]=i[i.length-1])}))},ee=function(e,t,r,n,s,l){var c=this,h=c.grid,p=x.colModel[t],f=w("states.disabled");if(null!=p&&p.sortable&&!(0<x.savedRow.length&&"prevent"===x.sortingDuringEditing)){if(x.lastsort===t&&""!==x.sortname?"asc"===x.sortorder?x.sortorder="desc":"desc"===x.sortorder?x.sortorder="asc":x.sortorder=p.firstsortorder||"asc":x.sortorder=p.firstsortorder||"asc",p.lso?"asc"===p.lso?p.lso+="-desc":"desc"===p.lso?p.lso+="-asc":"asc-desc"!==p.lso&&"desc-asc"!==p.lso||!x.threeStateSort&&!x.multiSort||(p.lso=""):p.lso=p.firstsortorder||"asc",!r&&x.resetPageAfterSort&&(x.page=1),x.multiSort)!function(e,t){var i,r="",n=x.colModel[e],s=w("states.disabled"),l=x.frozenColumns?$(a.grid.headers[e].el).add($(t)):$(a.grid.headers[e].el),c=l.find("span.s-ico"),h=c.children("span.ui-icon-asc"),p=c.children("span.ui-icon-desc"),f=h,m=p,g=[],v={};if(l.find("span.ui-grid-ico-sort").addClass(s),l.attr("aria-selected","false"),n.lso?(c.show(),"desc"===(i=(i=n.lso.split("-"))[i.length-1])&&(f=p,m=h),f.removeClass(s).css("display",""),x.showOneSortIcon&&m.hide(),l.attr("aria-selected","true")):x.viewsortcols[0]||c.hide(),Z(g,v,n),"string"==typeof x.sortname&&""!==x.sortname&&x.sortname.split(",").length<g.length){var b=function(e){u(x.colModel,(function(){var t,i="#jqgh_"+jgrid.jqID(x.id+"_"+this.name),r=$(i);if(this.lso&&(this.index||this.name)===e){if("function"==typeof g.indexOf)t=g.indexOf(e);else{for(t=0;t<g.length&&g[t]!==e;t++);t===g.length&&(t=-1)}0<=t&&(g.splice(t,1),this.lso="")}x.frozenColumns&&(r=r.add($(q.fhDiv).find(i))),r.children(".s-ico")[this.lso?"show":"hide"]()}))};if("lastClickedFirstSorted"===x.multiSortOrder&&1<g.length)for(g.unshift(g[g.length-1]),g.pop();g.length>x.maxSortColumns;)b(g[g.length-1]);else o(x.multiSortOrder)&&(g=x.multiSortOrder.call(a,{sortNames:g,cm:n,sortDirs:v,removeSorting:b})||g)}u(g,(function(){0<r.length&&(r+=", "),r+=this+" "+v[this],x.sortorder=v[this]})),x.sortname=r.substring(0,r.length-x.sortorder.length-1),x.showSortOrder&&u(x.colModel,(function(){if(this.sortable){var e=d(this.name,g),t="#jqgh_"+jgrid.jqID(x.id+"_"+this.name),i=$(t);x.frozenColumns&&(i=i.add($(q.fhDiv).find(t))),i.children(".ui-jqgrid-sort-order").html(e<0?"&nbsp;":o(x.formatSortOrder)?x.formatSortOrder.call(a,{cm:this,sortIndex:e}):e+1)}}))}(t,s);else{if(n){if(x.lastsort===t&&x.sortorder===n&&!r)return;x.sortorder=n}var m=h.headers,g=h.fhDiv,v=m[x.lastsort]?$(m[x.lastsort].el):$(),b=x.frozenColumns?$(s):$(m[t].el),y=b.find("span.s-ico"),_=y.children(".ui-icon-"+x.sortorder),C=y.children(".ui-icon-"+("asc"===x.sortorder?"desc":"asc"));p=x.colModel[x.lastsort],v.find(".ui-grid-ico-sort").addClass(f),v.attr("aria-selected","false"),x.frozenColumns&&(g.find(".ui-grid-ico-sort").addClass(f),g.find("th").attr("aria-selected","false")),x.viewsortcols[0]||(x.lastsort!==t?(x.frozenColumns&&g.find("span.s-ico").hide(),v.find("span.s-ico").hide(),y.show()):""===x.sortname&&y.show()),x.lastsort!==t&&"true"===v.data("autoResized")&&(null!=p&&null!=p.autoResizing&&p.autoResizing.compact||x.autoResizing.compact)&&x.columnsToReResizing.push(x.lastsort),p=x.colModel[t],y.css("display",""),""!==p.lso?(_.removeClass(f).css("display",""),x.showOneSortIcon&&C.removeClass(f).hide(),b.attr("aria-selected","true")):(b.attr("aria-selected","false"),x.threeStateSort&&(x.sortorder="",x.viewsortcols[0]||y.hide())),x.lastsort!==t&&"true"===b.data("autoResized")&&(null!=p&&null!=p.autoResizing&&p.autoResizing.compact||x.autoResizing.compact)&&x.columnsToReResizing.push(t),x.sortname=p.index||e}if(feedback.call(c,"onSortCol",x.sortname,t,x.sortorder,l||{})){if("local"===x.datatype?x.deselectAfterSort&&!x.multiPageSelection&&i.resetSelection.call($(c)):x.multiPageSelection||(x.selrow=null,x.multiselect&&(K.call(c,!1),clearArray(x.selarrrow))),J(x.sortingDuringEditing),x.scroll){var j=h.bDiv.scrollLeft;q.emptyRows.call(c,!0,!1),h.hDiv.scrollLeft=j}x.subGrid&&"local"===x.datatype&&$("td.sgexpanded","#"+jqID(x.id)).each((function(){$(this).trigger("click")})),X.call(c),x.lastsort=t,x.sortname!==e&&t&&(x.lastsort=t)}else x.lastsort=t}},te=function(e){return x.iColByName[(e.id||"").substring(x.id.length+1)]};-1===d(x.multikey,["shiftKey","altKey","ctrlKey"])&&(x.multikey=!1),x.keyName=!1,x.sortorder=x.sortorder.toLowerCase(),jgrid.cell_width=jgrid.cellWidth();var ie,re,ae=jgrid.cmTemplate;for(ie=0;ie<x.colModel.length;ie++)G="string"==typeof(re=x.colModel[ie]).template?null==ae||"object"!=typeof ae[re.template]&&!o(ae[re.template])?{}:ae[re.template]:re.template,o(G)&&(G=G.call(a,{cm:re,iCol:ie})),re=l(!0,{},x.cmTemplate,G||{},re),!1===x.keyName&&!0===re.key&&(x.keyName=re.name),x.colModel[ie]=re;for(x.indexByColumnData=S(),ie=0;ie<x.additionalProperties.length;ie++)re=x.additionalProperties[ie],!1===x.keyName&&!0===re.key&&(x.keyName=re.name);if(0===x.colNames.length)for(ie=0;ie<x.colModel.length;ie++)x.colNames[ie]=void 0!==x.colModel[ie].label?x.colModel[ie].label:x.colModel[ie].name;if(x.colNames.length===x.colModel.length){if(!0===x.grouping&&(x.scroll=!1,x.rownumbers=!1,x.treeGrid=!1,x.gridview=!0),x.subGrid&&o(i.setSubGrid))try{i.setSubGrid.call(n)}catch(t){}if(x.multiselect&&("left"===x.multiselectPosition||"right"===x.multiselectPosition)){var ne="left"===x.multiselectPosition?"unshift":"push";x.colNames[ne]("<input id='"+x.cbId+"' class='cbox' type='checkbox' aria-checked='false'/>"),x.colModel[ne]({name:"cb",width:jgrid.cell_width?x.multiselectWidth+x.cellLayout:x.multiselectWidth,labelClasses:"jqgh_cbox",classes:"td_cbox",sortable:!1,resizable:!1,hidedlg:!0,search:!1,align:"center",fixed:!0,frozen:!0})}if(x.rownumbers&&(x.colNames.unshift(""),x.colModel.unshift({name:"rn",width:jgrid.cell_width?x.rownumWidth+x.cellLayout:x.rownumWidth,labelClasses:"jqgh_rn",sortable:!1,resizable:!1,hidedlg:!0,search:!1,align:"center",fixed:!0,frozen:!0})),x.iColByName=D(x.colModel),x.xmlReader=l(!0,{root:"rows",row:"row",page:"rows>page",total:"rows>total",records:"rows>records",repeatitems:!0,cell:"cell",id:"[id]",userdata:"userdata",subgrid:{root:"rows",row:"row",repeatitems:!0,cell:"cell"}},x.xmlReader),x.jsonReader=l(!0,{root:"rows",page:"page",total:"total",records:"records",repeatitems:!0,cell:"cell",id:"id",userdata:"userdata",subgrid:{root:"rows",repeatitems:!0,cell:"cell"}},x.jsonReader),x.localReader=l(!0,{root:"rows",page:"page",total:"total",records:"records",repeatitems:!1,cell:"cell",id:"id",userdata:"userdata",subgrid:{root:"rows",repeatitems:!0,cell:"cell"}},x.localReader),x.scroll&&(x.pgbuttons=!1,x.pginput=!1,x.rowList=[]),!0===x.treeGrid){try{i.setTreeGrid.call(n)}catch(t){}"local"!==x.datatype&&(x.localReader={id:"_id_"}),x.iPropByName=k(x.additionalProperties)}if(function(){var e,t,i,r=x.remapColumns,a=x.colModel,n=a.length,o=[];for(e=0;e<n;e++)i=a[e].name,d(i,x.reservedColumnNames)<0&&o.push(i);if(null!=r)for(t=o.slice(),e=0;e<r.length;e++)o[e]=t[r[e]];x.cmNamesInputOrder=o}(),function(){var e,t,i,r,a,n=x.colModel,o=x.cmNamesInputOrder,s=x.additionalProperties,l=o.length;for(x.arrayReaderInfos={},t=x.arrayReaderInfos,a=0;a<l;a++)i=o[a],d(i,x.reservedColumnNames)<0&&!t.hasOwnProperty(i)&&(void 0!==(r=x.iColByName[i])?t[i]={name:i,index:r,order:a,type:0}:void 0!==(r=x.iPropByName[i])?t[i]={name:i,index:r,order:a,type:1}:i===(x.prmNames.rowidName||"rowid")&&(t[i]={index:r,type:2}));for(l=n.length,e=0;e<l;e++)i=n[e].name,d(i,x.reservedColumnNames)<0&&!t.hasOwnProperty(i)&&(t[i]={name:i,index:e,order:a,type:0},a++);for(l=s.length,e=0;e<l;e++)null==(i=s[e])||t.hasOwnProperty(i)||("object"==typeof i&&"string"===$.type(i.name)&&(i=i.name),t[i]={name:i,index:e,order:a,type:1},a++)}(),x.data.length&&(B.call(a),L.call(a)),!0===x.shrinkToFit&&!0===x.forceFit)for(ie=x.colModel.length-1;0<=ie;ie--)if(!0!==x.colModel[ie].hidden){x.colModel[ie].resizable=!1;break}var oe,se,le,de,ce,ue,he,pe,fe,me=[],ge=[],ve=[],be="<thead><tr class='ui-jqgrid-labels' role='row'>",ye="<tbody><tr style='display:none;'>",we=w("states.hover"),$e=w("states.hoverTh")||we,xe=w("states.disabled");if(x.multiSort)for(me=x.sortname.split(","),fe=0;fe<me.length;fe++)ve=c(me[fe]).split(" "),me[fe]=c(ve[0]),ge[fe]=ve[1]?c(ve[1]):x.sortorder||"asc";for(ie=0;ie<x.colNames.length;ie++){switch(re=x.colModel[ie],ce=x.headertitles||re.headerTitle?" title='"+stripHtml("string"==typeof re.headerTitle?re.headerTitle:x.colNames[ie])+"'":"",be+="<th id='"+x.id+"_"+re.name+"' class='"+w("colHeaders","ui-th-column ui-th-"+R+" "+(re.labelClasses||""))+"'"+ce+">",oe=re.index||re.name,re.labelAlign){case"left":ue="text-align:left;";break;case"right":ue="text-align:right;";break;case"likeData":ue=void 0===re.align||"left"===re.align?"text-align:left;":"right"===re.align?"text-align:right;":"";break;default:ue=""}be+="<div id='jqgh_"+x.id+"_"+re.name+"'"+(T?" class='ui-th-div-ie'":"")+(""===ue?"":" style='"+ue+"'")+" role='columnheader'>",pe=re.autoResizable&&"actions"!==re.formatter||re.rotated?"<span class='"+x.autoResizing.wrapperClassName+"'>"+x.colNames[ie]+"</span>":x.colNames[ie],x.sortIconsBeforeText?(be+=(x.builderSortIcons||jgrid.builderSortIcons).call(a,ie),be+=pe):(be+=pe,be+=(x.builderSortIcons||jgrid.builderSortIcons).call(a,ie)),be+="</div></th>",ye+="<td></td>",re.width=re.width?parseInt(re.width,10):150,"boolean"!=typeof re.title&&(re.title=!0),re.lso="",oe===x.sortname&&(x.lastsort=ie,re.lso=x.sortorder||re.firstsortorder||"asc"),x.multiSort&&-1!==(ve=d(oe,me))&&(re.lso=ge[ve])}be+="</tr></thead>",ye+="</tr></tbody>";var _e,Ce,je,De,Se,ke,Oe,Fe,Ie,qe,Re,Me=$("<table class='"+w("hTable","ui-jqgrid-htable")+"' style='width:1px' role='presentation' aria-labelledby='gbox_"+x.id+"'>"+be+ye+"</table>");if($(Me[0].tHead).children("tr").children("th").hover((function(){$(this).addClass($e)}),(function(){$(this).removeClass($e)})),x.multiselect&&$(x.cb,Me).on("click",(function(){var e,t,i,r=w("states.select"),n=[],o=x.iColByName.cb,s=function(e,t){$(e)[t?"addClass":"removeClass"](r).attr(t?{"aria-selected":"true",tabindex:"0"}:{"aria-selected":"false",tabindex:"-1"}),void 0!==o&&$(e.cells[o]).children("input.cbox").prop("checked",t)},l=q.fbRows,d=xe+" ui-subgrid jqgroup jqfoot jqgfirstrow jqgskipselect",c=x._index;if(clearArray(x.selarrrow),this.checked){if(e=!0,x.selrow=1<a.rows.length?a.rows[a.rows.length-1].id:null,x.multiPageSelection&&("local"===x.datatype||x.treeGrid))if("filtered"===x.selectAllMode&&null!=x.lastSelectedData&&0<x.lastSelectedData.length)for(x.selarrrow=[],i=0;i<x.lastSelectedData.length;i++)x.lastSelectedData[i].hasOwnProperty(x.localReader.id)&&x.selarrrow.push(x.idPrefix+x.lastSelectedData[i][x.localReader.id]);else if(null!=x.data&&0<x.data.length&&null!=c)for(t in c)c.hasOwnProperty(t)&&x.selarrrow.push(x.idPrefix+t)}else e=!1,x.selrow=null;var u=e?x.selarrrow:n;$(a.rows).each((function(t){hasOneFromClasses(this,d)||(s(this,e),$.inArray(this.id,u)<0&&u.push(this.id),l&&s(l[t],e))})),feedback.call(a,"onSelectAll",e?x.selarrrow:n,e)})),!0===x.autowidth){var Te=Math.floor($(N).innerWidth());x.width=0<Te?Te:"nw"}isNaN(x.width)?isNaN(parseFloat(x.width))||(x.width=parseFloat(x.width)):x.width=Number(x.width),x.widthOrg=x.width,Se=0,ke=jgrid.cell_width?0:I(x.cellLayout,0),Oe=0,Fe=I(x.scrollOffset,0),Ie=!1,qe=0,Re=jgrid.isCellClassHidden,u(x.colModel,(function(){if(void 0===this.hidden&&(this.hidden=!1),x.grouping&&x.autowidth){var e=d(this.name,x.groupingView.groupField);0<=e&&x.groupingView.groupColumnShow.length>e&&(this.hidden=!x.groupingView.groupColumnShow[e])}this.widthOrg=Ce=I(this.width,0),!1!==this.hidden||Re(this.classes)||(Se+=Ce+ke,this.fixed?qe+=Ce+ke:Oe++)})),isNaN(x.width)&&(x.width=Se+(!1!==x.shrinkToFit||isNaN(x.height)?0:Fe)),q.width=x.width,x.tblwidth=Se,!1===x.shrinkToFit&&!0===x.forceFit&&(x.forceFit=!1),!0===x.shrinkToFit&&0<Oe&&(je=q.width-ke*Oe-qe,isNaN(x.height)||(je-=Fe,Ie=!0),Se=0,u(x.colModel,(function(e){!1!==this.hidden||Re(this.classes)||this.fixed||(Ce=Math.round(je*this.width/(x.tblwidth-ke*Oe-qe)),this.width=Ce,Se+=Ce,_e=e)})),De=0,Ie?q.width-qe-(Se+ke*Oe)!==Fe&&(De=q.width-qe-(Se+ke*Oe)-Fe):Ie||1===Math.abs(q.width-qe-(Se+ke*Oe))||(De=q.width-qe-(Se+ke*Oe)),x.colModel[_e].width+=De,x.tblwidth=Se+De+ke*Oe+qe,x.tblwidth>x.width&&(x.colModel[_e].width-=x.tblwidth-parseInt(x.width,10),x.tblwidth=x.width)),$(N).css("width",q.width+"px").append("<div class='"+w("resizer","ui-jqgrid-resize-mark")+"' id='"+x.rsId+"'>&#160;</div>"),$(x.rs).on("selectstart",(function(){return!1})).click(F).dblclick((function(e){var t=$(this).data("idx"),r=$(this).data("pageX"),o=x.colModel[t];if(null==r||null==o)return!1;var s=String(r).split(";"),l=parseFloat(s[0]),d=parseFloat(s[1]);return 2===s.length&&(5<Math.abs(l-d)||5<Math.abs(e.pageX-l)||5<Math.abs(e.pageX-d))||(feedback.call(a,"resizeDblClick",t,o,e)&&o.autoResizable&&i.autoResizeColumn.call(n,t),feedback.call(a,"afterResizeDblClick",{iCol:t,cm:o,cmName:o.name})),!1})),$(M).css("width",q.width+"px");var Ne="";x.footerrow&&(Ne+="<table role='presentation' style='width:1px' class='"+w("gridFooter","ui-jqgrid-ftable")+"'><tbody><tr role='row' class='"+w("rowFooter","footrow footrow-"+R)+"'>");var Ge="<tr class='"+w("gridRow","jqgfirstrow ui-row-"+x.direction)+"' role='row' style='height:auto'>";if(x.disableClick=!1,$("th",Me[0].tHead.rows[0]).each((function(e){var t=x.colModel[e],i=t.name,r=$(this),n=r.children("div"),s=n.children("span.s-ico"),l=x.showOneSortIcon;se=t.width,void 0===t.resizable&&(t.resizable=!0),t.resizable?(le=document.createElement("span"),$(le).html("&#160;").addClass("ui-jqgrid-resize ui-jqgrid-resize-"+R).on("selectstart",(function(){return!1})),r.addClass(x.resizeclass)):le="",r.css("width",se+"px").prepend(le);var c="";if(!(le=null)===t.hidden&&(r.css("display","none"),c="display:none;"),Ge+="<td role='gridcell' "+(t.classes?"class='"+t.classes+"' ":"")+"style='height:0;width:"+se+"px;"+c+"'></td>",q.headers[e]={width:se,el:this},"boolean"!=typeof(de=t.sortable)&&(t.sortable=!0,de=!0),"cb"!==i&&"subgrid"!==i&&"rn"!==i&&de&&x.viewsortcols[2]&&n.addClass("ui-jqgrid-sortable"),de)if(x.multiSort){var u="desc"===t.lso?"asc":"desc";x.viewsortcols[0]?(s.css("display",""),t.lso&&(s.children("span.ui-icon-"+t.lso).removeClass(xe),l&&s.children("span.ui-icon-"+u).hide())):t.lso&&(s.css("display",""),s.children("span.ui-icon-"+t.lso).removeClass(xe),l&&s.children("span.ui-icon-"+u).hide()),x.showSortOrder&&(ve=d(i,me),s["beforeSortIcons"===x.sortOrderPosition?"before":"after"]("<span class='ui-jqgrid-sort-order'>"+(ve<0?"&nbsp;":o(x.formatSortOrder)?x.formatSortOrder.call(a,{cm:this,sortIndex:ve}):ve+1)+"</span>"))}else{var h="desc"===x.sortorder?"asc":"desc";x.viewsortcols[0]?(s.css("display",""),e===x.lastsort&&(s.children("span.ui-icon-"+x.sortorder).removeClass(xe),l&&s.children("span.ui-icon-"+h).hide())):e===x.lastsort&&""!==t.lso&&(s.css("display",""),s.children("span.ui-icon-"+x.sortorder).removeClass(xe),l&&s.children("span.ui-icon-"+h).hide())}x.footerrow&&(Ne+="<td role='gridcell' "+E(e,0,"",null,"",!1)+">&#160;</td>")})).mousedown((function(e){var t,i,r=$(this),a=r.closest(".ui-jqgrid-hdiv").hasClass("frozen-div");if(1===$(e.target).closest("th>span.ui-jqgrid-resize").length)return null!=(t=te(this))&&(!0===x.forceFit&&(x.nv=function(e){var t,i=e,r=e;for(t=e+1;t<x.colModel.length;t++)if(!0!==x.colModel[t].hidden){r=t;break}return r-i}(t)),q.dragStart(t,e,(i=[r.position().left+r.outerWidth()],"rtl"===x.direction&&(i[0]=x.width-i[0]),i[0]-=a?0:q.bDiv.scrollLeft,i.push($(q.hDiv).position().top),i.push($(q.bDiv).offset().top-$(q.hDiv).offset().top+$(q.bDiv).height()+(q.sDiv?$(q.sDiv).height():0)),i),r)),!1})).click((function(e){if(x.disableClick)return x.disableClick=!1;var t,i,r="th.ui-th-column>div";x.viewsortcols[2]?r+=".ui-jqgrid-sortable":r+=">span.s-ico>span.ui-grid-ico-sort";var n=$(e.target).closest(r);if(1===n.length){x.viewsortcols[2]||(t=!0,i=n.hasClass("ui-icon-desc")?"asc":"desc");var o=te(this);return null!=o&&ee.call(a,$("div",this)[0].id.substring(5+x.id.length+1),o,t,i,this,e),!1}})),x.sortable&&o(i.sortableColumns))try{i.sortableColumns.call(n,$(Me[0].tHead.rows[0]))}catch(t){}x.footerrow&&(Ne+="</tr></tbody></table>"),Ge+="</tr>",n.html("<tbody>"+Ge+"</tbody>"),n.addClass(w("grid","ui-jqgrid-btable"+(!0===x.altRows&&n.jqGrid("isBootstrapGuiStyle")?" table-striped":"")));var Ee,Ae,ze=!(!x.caption||!0!==x.hiddengrid),Pe=$("<div class='ui-jqgrid-hbox"+("rtl"===R?"-rtl":"")+"'></div>"),Be=w("top"),Le=w("bottom");q.hDiv=document.createElement("div"),$(q.hDiv).css({width:q.width+"px"}).addClass(w("hDiv","ui-jqgrid-hdiv")).append(Pe).scroll((function(){var e=$(this).next(".ui-jqgrid-bdiv")[0];return e&&(e.scrollLeft=this.scrollLeft),!1})),$(Pe).append(Me),Me=null,ze&&$(q.hDiv).hide(),x.rowNum=parseInt(x.rowNum,10),(isNaN(x.rowNum)||x.rowNum<=0)&&(x.rowNum=x.maxRowNum),x.pager&&("string"==typeof x.pager&&"#"!==x.pager.substr(0,1)?(Ae=x.pager,Ee=$("#"+jqID(x.pager))):!0===x.pager?(Ae=randId(),(Ee=$("<div id='"+Ae+"'></div>")).appendTo("body"),x.pager="#"+jqID(Ae)):Ae=(Ee=$(x.pager)).attr("id"),0<Ee.length?(Ee.css({width:q.width+"px"}).addClass(w("pager.pager","ui-jqgrid-pager "+Le)).appendTo(N),ze&&Ee.hide(),Q.call(a,Ae,""),x.pager="#"+jqID(Ae)):x.pager=""),!1===x.cellEdit&&!0===x.hoverrows&&n.on("mouseover.jqGrid",(function(e){he=$(e.target).closest("tr.jqgrow"),"ui-subgrid"!==$(he).attr("class")&&$(he).addClass(we)})).on("mouseout.jqGrid",(function(e){he=$(e.target).closest("tr.jqgrow"),$(he).removeClass(we)}));var He=function(e){var t,i,r;do{if(0<(t=$(e).closest("td")).length){if(r=(i=t.parent()).parent().parent(),i.is(".jqgrow")&&(r[0]===this||r.is("table.ui-jqgrid-btable")&&(r[0].id||"").replace("_frozen","")===this.id))break;e=t.parent()}}while(0<t.length);return t};n.before(q.hDiv).click((function(e){var t=w("states.select"),r=e.target,o=He.call(a,r),s=o.parent();if(0!==s.length&&!hasOneFromClasses(s,xe)){var l=s[0].id,d=o[0].cellIndex,c=$(r).hasClass("cbox")&&$(r).is(":enabled")&&!hasOneFromClasses(r,xe),u=feedback.call(a,"beforeSelectRow",l,e),p=!1,f=jgrid.detectRowEditing.call(a,l),m=null!=f&&"cellEditing"!==f.mode;if("A"!==r.tagName&&(!m||c)){if(feedback.call(a,"onCellSelect",l,d,o.html(),e),!0===x.cellEdit){if(u&&x.multiselect&&c){if(h.call(n,l,!0,e),c&&!x.noCellSelection)return;p=!0}try{i.editCell.call(n,s[0].rowIndex,d,!0)}catch(e){}if(!x.multiselect||!x.noCellSelection||x.multiboxonly&&p)return}if(u)if(x.multikey)e[x.multikey]&&!p?h.call(n,l,!0,e):x.multiselect&&c&&(c=$("#jqg_"+jqID(x.id)+"_"+l).is(":checked"),$("#jqg_"+jqID(x.id)+"_"+l).prop("checked",!c));else if(x.multiselect&&x.multiboxonly)if(c&&!p)h.call(n,l,!0,e);else{var g=x.frozenColumns?x.id+"_frozen":"";$(x.selarrrow).each((function(e,r){var a=i.getGridRowById.call(n,r);a&&$(a).removeClass(t),$("#jqg_"+jqID(x.id)+"_"+jqID(r)).prop("checked",!1),g&&($("#"+jqID(r),"#"+jqID(g)).removeClass(t),$("#jqg_"+jqID(x.id)+"_"+jqID(r),"#"+jqID(g)).prop("checked",!1))})),clearArray(x.selarrrow),p||h.call(n,l,!0,e)}else{var v=x.selrow;p||h.call(n,l,!0,e),"toggle"!==x.singleSelectClickMode||x.multiselect||v!==l||(a.grid.fbRows&&(s=s.add(a.grid.fbRows[s[0].rowIndex]===s[0]?a.rows[s[0].rowIndex]:a.grid.fbRows[s[0].rowIndex])),s.removeClass(t).attr({"aria-selected":"false",tabindex:"-1"}),x.selrow=null)}else c&&$(r).prop("checked",!1)}}})).on("reloadGrid",(function(e,t){var r=this,a=r.grid,n=$(this),o=r.p;if(0<o.savedRow.length&&"prevent"===o.reloadingDuringEditing)return!1;if(!0===o.treeGrid&&(o.datatype=o.treedatatype),t=l({},defaults.reloadGridOptions||{},o.reloadGridOptions||{},t||{}),"local"===o.datatype&&o.dataTypeOrg&&o.loadonce&&t.fromServer&&(o.datatype=o.dataTypeOrg,delete o.dataTypeOrg),t.current&&a.selectionPreserver.call(r),"local"===o.datatype?(o.multiPageSelection||i.resetSelection.call(n),o.data.length&&(B.call(r),L.call(r))):o.treeGrid||o.multiPageSelection||(o.selrow=null,o.multiselect&&(clearArray(o.selarrrow),K.call(r,!1)),clearArray(o.savedRow),o.editingInfo={}),J(o.reloadingDuringEditing),o.iRow=-1,o.iCol=-1,o.scroll&&q.emptyRows.call(r,!0,!1),t.page){var s=parseInt(t.page,10);s>o.lastpage&&(s=o.lastpage),s<1&&(s=1),o.page=s,a.prevRowHeight?a.bDiv.scrollTop=(s-1)*a.prevRowHeight*o.rowNum:a.bDiv.scrollTop=0}return a.prevRowHeight&&o.scroll&&void 0===t.page?(delete o.lastpage,a.populateVisible.call(r)):a.populate.call(r),!0===o._inlinenav&&n.jqGrid("showAddEditButtons",!1),!1})).dblclick((function(e){var t=He.call(a,e.target),i=t.parent();if(0<t.length&&!feedback.call(a,"ondblClickRow",i.attr("id"),i[0].rowIndex,t[0].cellIndex,e))return!1})).on("contextmenu",(function(e){var t=He.call(a,e.target),i=t.parent(),r=i.attr("id");if(0!==t.length)return x.multiselect||x.selrow===r||!0!==x.selectOnContextMenu||h.call(n,r,!0,e),!!feedback.call(a,"onRightClickRow",r,i[0].rowIndex,t[0].cellIndex,e)&&void 0})),q.bDiv=document.createElement("div"),T&&"auto"===String(x.height).toLowerCase()&&(x.height="100%"),$(q.bDiv).append($("<div style='position:relative;'></div>").append("<div></div>").append(a)).addClass("ui-jqgrid-bdiv").css({height:x.height+(isNaN(x.height)?"":"px"),width:q.width+"px"}).scroll(q.scrollGrid),x.maxHeight&&$(q.bDiv).css("max-height",x.maxHeight+(isNaN(x.maxHeight)?"":"px")),n.css({width:"1px"}),$.support.tbody||2===$(">tbody",a).length&&$(">tbody:gt(0)",a).remove(),x.multikey&&$(q.bDiv).on(jgrid.msie?"selectstart":"mousedown",(function(){return!1})),ze&&$(q.bDiv).hide(),q.cDiv=document.createElement("div");var Ve=y("gridMinimize.visible"),We=y("gridMinimize.hidden"),Ue=C("showhide"),Ye=!0===x.hidegrid?$("<a role='link' class='"+w("titleButton","ui-jqgrid-titlebar-close")+"'"+(Ue?" title='"+Ue+"'":"")+"/>").hover((function(){Ye.addClass(we)}),(function(){Ye.removeClass(we)})).append("<span class='"+Ve+"'></span>"):"";if($(q.cDiv).append("<span class='ui-jqgrid-title'>"+x.caption+"</span>").append(Ye).addClass(w("gridTitle","ui-jqgrid-titlebar ui-jqgrid-caption"+("rtl"===R?"-rtl ":" ")+Be)),$(q.cDiv).insertBefore(q.hDiv),x.toolbar[0]){q.uDiv=document.createElement("div"),"top"===x.toolbar[1]?$(q.uDiv).insertBefore(q.hDiv):"bottom"===x.toolbar[1]&&$(q.uDiv).insertAfter(q.hDiv);var Xe=w("toolbarUpper","ui-userdata");"both"===x.toolbar[1]?(q.ubDiv=document.createElement("div"),$(q.uDiv).addClass(Xe).attr("id","t_"+x.id).insertBefore(q.hDiv),$(q.ubDiv).addClass(w("toolbarBottom","ui-userdata")).attr("id","tb_"+x.id).insertAfter(q.hDiv),ze&&$(q.ubDiv).hide()):$(q.uDiv).width(q.width).addClass(Xe).attr("id","t_"+x.id),ze&&$(q.uDiv).hide()}if("string"==typeof x.datatype&&(x.datatype=x.datatype.toLowerCase()),x.toppager?(x.toppager=x.id+"_toppager",q.topDiv=$("<div id='"+x.toppager+"'></div>")[0],$(q.topDiv).addClass(w("pager.pager","ui-jqgrid-toppager"+(x.caption?"":" "+Be))).css({width:q.width+"px"}).insertBefore(q.hDiv),Q.call(a,x.toppager,"_t"),x.toppager="#"+jqID(x.toppager)):""!==x.pager||x.scroll||(x.rowNum=x.maxRowNum),x.footerrow&&(q.sDiv=$("<div class='ui-jqgrid-sdiv'></div>")[0],Pe=$("<div class='ui-jqgrid-hbox"+("rtl"===R?"-rtl":"")+"'></div>"),$(q.sDiv).append(Pe).width(q.width).insertAfter(q.hDiv),$(Pe).append(Ne),q.footers=$(".ui-jqgrid-ftable",q.sDiv)[0].rows[0].cells,x.rownumbers&&(q.footers[0].className=w("rowNum","jqgrid-rownum")),ze&&$(q.sDiv).hide()),Pe=null,x.caption){var Ke=x.datatype;!0===x.hidegrid&&($(".ui-jqgrid-titlebar-close",q.cDiv).click((function(e){var t=".ui-jqgrid-bdiv,.ui-jqgrid-hdiv,.ui-jqgrid-pager,.ui-jqgrid-sdiv",i=this;!0===x.toolbar[0]&&("both"===x.toolbar[1]&&(t+=",#"+jqID($(q.ubDiv).attr("id"))),t+=",#"+jqID($(q.uDiv).attr("id")));var r=$(t,x.gView).length;return x.toppager&&(t+=","+x.toppager),"visible"===x.gridstate?$(t,x.gBox).slideUp("fast",(function(){0==--r&&($("span",i).removeClass(Ve).addClass(We),x.gridstate="hidden",$(x.gBox).hasClass("ui-resizable")&&$(".ui-resizable-handle",x.gBox).hide(),$(q.cDiv).addClass(Le),ze||feedback.call(a,"onHeaderClick",x.gridstate,e))})):"hidden"===x.gridstate&&($(q.cDiv).removeClass(Le),$(t,x.gBox).slideDown("fast",(function(){0==--r&&($("span",i).removeClass(We).addClass(Ve),ze&&(x.datatype=Ke,X.call(a),ze=!1),x.gridstate="visible",$(x.gBox).hasClass("ui-resizable")&&$(".ui-resizable-handle",x.gBox).show(),ze||feedback.call(a,"onHeaderClick",x.gridstate,e))}))),!1})),ze&&(x.datatype="local",$(".ui-jqgrid-titlebar-close",q.cDiv).trigger("click")))}else $(q.cDiv).hide(),$(q.cDiv).nextAll("div:visible").first().addClass("ui-corner-top");$(q.hDiv).after(q.bDiv),q.eDiv=$("<div class='"+w("gridError","ui-jqgrid-errorbar ui-jqgrid-errorbar-"+R)+"' style='display:none;'><span class='"+w("gridErrorText","ui-jqgrid-error")+"'></span></div>")[0],$(q.hDiv).after(q.eDiv),$(N).click(F).dblclick((function(e){var t=$(x.rs),r=t.offset(),o=t.data("idx"),s=t.data("delta"),l=x.colModel[o],d=$(this).data("pageX")||t.data("pageX");if(null==d||null==l)return!1;var c=String(d).split(";"),u=parseFloat(c[0]),h=parseFloat(c[1]);return 2===c.length&&(5<Math.abs(u-h)||5<Math.abs(e.pageX-u)||5<Math.abs(e.pageX-h))||(feedback.call(a,"resizeDblClick",o,l)&&r.left-1<=e.pageX+s&&e.pageX+s<=r.left+t.outerWidth()+1&&l.autoResizable&&i.autoResizeColumn.call(n,o),feedback.call(a,"afterResizeDblClick",{iCol:o,cm:l,cmName:l.name})),!1})),x.pager||$(q.cDiv).nextAll("div:visible").filter(":last").addClass(Le),$(".ui-jqgrid-labels",q.hDiv).on("selectstart",(function(){return!1})),a.formatCol=E,a.sortData=ee,a.updatepager=function(e,t){var i,r,a,n,o,s,l,d,c=this,u=$(c),h=c.grid,p=x.pager||"",f=x.pager?"_"+x.pager.substr(1):"",m=h.bDiv,g=$.fmatter?$.fmatter.NumberFormat:null,v=x.toppager?"_"+x.toppager.substr(1):"",b=w("states.hover"),y=w("states.disabled");if((a=parseInt(x.page,10)-1)<0&&(a=0),o=(a*=parseInt(x.rowNum,10))+x.reccount,x.scroll){var j=$(getGridComponent(COMPONENT_NAMES.BODY_TABLE,m)[0].rows).slice(1);a=o-j.length,x.reccount=j.length;var D=j.outerHeight()||h.prevRowHeight;if(D){var S=a*D,k=jgrid.fixMaxHeightOfDiv.call(c,parseInt(x.records,10)*D);$(m).children("div").first().css({height:k+"px"}).children("div").first().css({height:S+"px",display:""}),0===m.scrollTop&&1<x.page&&(m.scrollTop=x.rowNum*(x.page-1)*D)}m.scrollLeft=h.hDiv.scrollLeft}if(p+=x.toppager?(p?",":"")+x.toppager:""){if(l=_("formatter.integer")||{},i=I(x.page),r=I(x.lastpage),$(".selbox",p).prop("disabled",!1),!0===x.pginput){var O=$(".ui-pg-input",p),F=String(x.page).length;O.val(x.page),O.each((function(){var e=parseInt($(this).attr("size"),10);0<e&&e<F&&$(this).attr("size",F)})),d=x.toppager?"#sp_1"+f+",#sp_1"+v:"#sp_1"+f,$(d).html($.fmatter?g(x.lastpage,l):x.lastpage).closest(".ui-pg-table").each((function(){W.call(c,$(this))}))}x.viewrecords&&(0===x.reccount?$(".ui-paging-info",p).html(C("emptyrecords")):(n=a+1,s=x.records,$.fmatter&&(n=g(n,l),o=g(o,l),s=g(s,l)),$(".ui-paging-info",p).html(jgrid.format(C("recordtext"),n,o,s)))),!0===x.pgbuttons&&(r<=0&&(i=0),i<=0&&(i=r=0),1===i||0===i?($("#first"+f+", #prev"+f).addClass(y).removeClass(b),x.toppager&&$("#first_t"+v+", #prev_t"+v).addClass(y).removeClass(b)):($("#first"+f+", #prev"+f).removeClass(y),x.toppager&&$("#first_t"+v+", #prev_t"+v).removeClass(y)),i===r||0===i?($("#next"+f+", #last"+f).addClass(y).removeClass(b),x.toppager&&$("#next_t"+v+", #last_t"+v).addClass(y).removeClass(b)):($("#next"+f+", #last"+f).removeClass(y),x.toppager&&$("#next_t"+v+", #last_t"+v).removeClass(y)))}!0===e&&!0===x.rownumbers&&$(">td.jqgrid-rownum",c.rows).each((function(e){$(this).html(a+1+e)})),t&&x.jqgdnd&&u.jqGrid("gridDnD","updateDnD"),feedback.call(c,"gridComplete"),u.triggerHandler("jqGridAfterGridComplete")},a.refreshIndex=L,a.addItemDataToColumnIndex=P,a.removeItemDataFromColumnIndex=function(e){var t,i,r,a=x.dataIndexById[e];if(null!=a){for(t in a)if(a.hasOwnProperty(t))for(r in i=a[t])i.hasOwnProperty(r)&&(delete x.indexByColumnData[t][r][e],$.isEmptyObject(x.indexByColumnData[t][r])&&delete x.indexByColumnData[t][r]);delete x.dataIndexById[e]}},a.generateValueFromColumnIndex=function(e,t,i){var r,a,n=$(this).jqGrid("getUniqueValueFromColumnIndex",e),o="";if(null!=n)for(i=i||";",t=t||":",r=0,a=n.length;r<a;r++)""!==o&&(o+=i||";"),o+=n[r]+(t||":")+n[r];return o},a.setHeadCheckBox=K,a.fixScrollOffsetAndhBoxPadding=j,a.constructTr=function(e,t,r,a,n,s){var l,d="-1",c="",u=t?"display:none;":"",h=w("gridRow","jqgrow ui-row-"+x.direction)+(r?" "+r:"")+(s?" "+w("states.select"):""),p=$(this).triggerHandler("jqGridRowAttr",[a,n,e]);if("object"!=typeof p&&(p=o(x.rowattr)?x.rowattr.call(this,a,n,e):"string"==typeof x.rowattr&&null!=jgrid.rowattr&&o(jgrid.rowattr[x.rowattr])?jgrid.rowattr[x.rowattr].call(this,a,n,e):{}),null!=p&&!$.isEmptyObject(p)){p.hasOwnProperty("id")&&(e=p.id,delete p.id),p.hasOwnProperty("tabindex")&&(d=p.tabindex,delete p.tabindex),p.hasOwnProperty("style")&&(u+=p.style,delete p.style),p.hasOwnProperty("class")&&(h+=" "+p.class,delete p.class);try{delete p.role}catch(e){}for(l in p)p.hasOwnProperty(l)&&(c+=" "+l+"="+p[l])}if(x.treeGrid&&parseInt(a[x.treeReader.level_field],10)!==parseInt(x.tree_root_level,10)){var f=i.getNodeParent.call($(this),a);!f||!f.hasOwnProperty(x.treeReader.expanded_field)||f[x.treeReader.expanded_field]||t||(u+="display:none;")}return"<tr role='row' id='"+e+"' tabindex='"+d+"' class='"+h+"'"+(""===u?"":" style='"+u+"'")+c+">"},a.formatter=function(e,t,i,r,n,s){var l,d,c=x.colModel[i];if(void 0!==c.formatter){var u={rowId:e=""!==String(x.idPrefix)?(d=e,stripPref(x.idPrefix,d)):e,colModel:c,gid:x.id,pos:i,rowData:s||r};l=o(c.cellBuilder)?c.cellBuilder.call(a,t,u,r,n):o(c.formatter)?c.formatter.call(a,t,u,r,n):$.fmatter?$.fn.fmatter.call(a,c.formatter,t,u,r,n):A(t)}else l=A(t);if(l=c.autoResizable&&"actions"!==c.formatter?"<span class='"+x.autoResizing.wrapperClassName+"'>"+l+"</span>":l,x.treeGrid&&"edit"!==n&&(null==x.ExpandColumn&&0===i||x.ExpandColumn===c.name)){null==s&&(s=x.data[x._index[e]]);var h=parseInt(s[x.treeReader.level_field]||0,10),p=0===parseInt(x.tree_root_level,10)?h:h-1,f=s[x.treeReader.leaf_field],m=s[x.treeReader.expanded_field],g=s[x.treeReader.icon_field],v=f?(null!=g&&""!==g?g:x.treeIcons.leaf)+" tree-leaf":m?x.treeIcons.minus+" tree-minus":x.treeIcons.plus+" tree-plus";if(!f&&g&&"string"==typeof g){var b=g.split(",");2===b.length&&(v=m?b[0]:b[1])}l="<div class='tree-wrap' style='width:"+18*(p+1)+"px;'><div class='"+mergeCssClasses(x.treeIcons.commonIconClass,v,"treeclick")+"' style='"+(!0===x.ExpandColClick?"cursor:pointer;":"")+("rtl"===x.direction?"margin-right:":"margin-left:")+18*p+"px;'></div></div><span class='cell-wrapper"+(f?"leaf":"")+"'"+(x.ExpandColClick?" style='cursor:pointer;'":"")+">"+l+"</span>"}return l},l(q,{populate:X,emptyRows:function(e,t){var i=q.bDiv,r=null!=q.fbDiv?q.fbDiv.children(".ui-jqgrid-btable")[0]:null,a=function(e){if(e){var t=e.rows,i=t[0];if(x.deepempty)t&&$(t).slice(1).remove();else if(x.quickEmpty)if("quickest"===x.quickEmpty)e.replaceChild(document.createElement("tbody"),e.tBodies[0]),e.firstChild.appendChild(i);else for(;1<t.length;)e.deleteRow(t.length-1);else $(e.firstChild).empty().append(i)}};$(this).off(".jqGridFormatter"),a(this),a(r),e&&x.scroll&&($(i.firstChild).css({height:"auto"}),$(i.firstChild.firstChild).css({height:0,display:"none"}),0!==i.scrollTop&&(i.scrollTop=0)),!0===t&&x.treeGrid&&(clearArray(x.data),clearArray(x.lastSelectedData),x._index={},x.dataIndexById={},x.indexByColumnData={}),x.rowIndexes={},x.iRow=-1,x.iCol=-1},beginReq:U,endReq:Y}),a.addXmlData=V,a.addJSONData=V,a.rebuildRowIndexes=O,a.grid.cols=a.rows[0].cells,feedback.call(a,"onInitGrid"),x.treeGrid&&"local"===x.datatype&&null!=x.data&&0<x.data.length&&(x.datatype="jsonstring",x.datastr=x.data,x.data=[]),X.call(a),x.hiddengrid=!1}else f(_("errors.model"))}else f("Element is not a table!")}}))};var base=$.fn.jqGrid;jgrid.extend({getGridRes:function(e){var t=this[0];if(!t||!t.grid||!t.p)return null;var i=jgrid.getRes(locales[t.p.locale],e)||jgrid.getRes(locales["en-US"],e),r=jgrid.getRes(jgrid,e);return"object"!=typeof i||null===i||$.isArray(i)?void 0!==r?r:i:$.extend(!0,{},i,r||{})},getGuiStyles:function(e,t){var i=this instanceof $&&0<this.length?this[0]:this;if(!i||!i.grid||!i.p)return"";var r,a=i.p.guiStyle||jgrid.defaults.guiStyle||"jQueryUI",n=jgrid.getRes(jgrid.guiStyles[a],e);return void 0===n&&"string"==typeof(r=jgrid.getRes(jgrid.guiStyles[a],"baseGuiStyle"))&&(n=jgrid.getRes(jgrid.guiStyles[r],e)),jgrid.mergeCssClasses(n||"",t||"")},isBootstrapGuiStyle:function(){return 0<=$.inArray("ui-jqgrid-bootstrap",$(this).jqGrid("getGuiStyles","gBox").split(" "))},displayErrorMessage:function(e){var t=this instanceof $&&0<this.length?this[0]:this;if(t&&t.grid&&t.p&&e){var i=$(t.grid.eDiv),r=i.children(".ui-jqgrid-error");r.html(e),i.show(),t.p.errorDisplayTimeout&&setTimeout((function(){r.empty(),i.hide()}),t.p.errorDisplayTimeout)}},getIconRes:function(e){var t=this instanceof $&&0<this.length?this[0]:this;if(!t||!t.p)return"";var i=t.p,r=jgrid.icons[i.iconSet],a=function(e,t,i){var r,a,n,o=t.split("."),s=o.length,l=[];if(null==(e="string"==typeof e?jgrid.icons[e]:e))return"";for((r=e).common?l.push(r.common):i&&i.common&&l.push(i.common),n=0;n<s&&(a=o[n]);n++){if(n+1===s&&r.ignoreParents&&(l=[]),void 0===(r=r[a])){if("common"===a)break;return""}if("string"==typeof r){l.push(r);break}null!=r&&r.common&&l.push(r.common)}return jgrid.mergeCssClasses.apply(this,l)};if(null==r)return"";var n=a(i.iconSet,e);return""===n&&null!=r.baseIconSet&&(n=a(r.baseIconSet,e,jgrid.icons[i.iconSet])),n||""},isInCommonIconClass:function(e){var t=this instanceof $&&0<this.length?this[0]:this;if(!t||!t.p)return"";var i=t.p,r=jgrid.icons[i.iconSet];if(null==r)return!1;var a=r.common;if(void 0===a){if(null==r.baseIconSet)return!1;if(null==(r=jgrid.icons[r.baseIconSet]))return!1;a=r.common}return"string"==typeof a&&0<=$.inArray(e,a.split(" "))},getUniqueValueFromColumnIndex:function(e){var t=this[0];if(!t||!t.grid)return null;var i,r=[],a="",n=t.p.indexByColumnData[e];if(null!=n){for(a in n)if(n.hasOwnProperty(a)){for(i in n[a])if(n[a].hasOwnProperty(i)){a=String(n[a][i]);break}r.push(a)}t.p.ignoreCase?void 0===String.prototype.localeCompare?r.sort((function(e,t){var i=e.toLowerCase(),r=t.toLowerCase();return i===r?0:r<i?1:-1})):r.sort((function(e,t){return String(e).toLowerCase().localeCompare(String(t).toLowerCase())})):r.sort()}return r},generateDatalistFromColumnIndex:function(e){if(!this[0]||!this[0].grid)return null;var t,i,r=this.jqGrid("getUniqueValueFromColumnIndex",e),a=$("<datalist></datalist>");if(!(null!=r&&0<r.length))return $();for(t=0,i=r.length;t<i;t++)a.append($("<option></option>").attr("value",r[t]));return a},getGridParam:function(e){var t=this[0];return t&&t.grid?e?void 0!==t.p[e]?t.p[e]:null:t.p:null},setGridParam:function(e,t){return this.each((function(){null==t&&(t=!1),this.grid&&"object"==typeof e&&(!0===t?$.extend(this.p,e):$.extend(!0,this.p,e))}))},abortAjaxRequest:function(){return this.each((function(){null!=this.p.jqXhr&&this.p.jqXhr.abort(),this.grid.endReq.call(this)}))},getGridRowById:function(e){if(null==e)return null;var t,i=e.toString();return this.each((function(){var r,a,n=this.rows;if(null!=this.p.rowIndexes&&(a=n[this.p.rowIndexes[i]])&&a.id===i&&(t=a),!t)try{for(r=n.length;r--;)if(a=n[r],i===a.id){t=a;break}}catch(r){t=0<(t=$(this.grid.bDiv).find("#"+jqID(e))).length?t[0]:null}})),t},getDataIDs:function(){var e=[];return this.each((function(){var t,i,r=this.rows,a=r.length;if(a&&0<a)for(t=0;t<a;t++)i=r[t],$(i).hasClass("jqgrow")&&e.push(i.id)})),e},setSelection:function(e,t,i){return this.each((function(){var r,a,n,o,s,l,d,c,u,h,p,f,m,g,v=this,b=$(v),y=v.p,w=base.getGuiStyles,x=base.getGridRowById,_=w.call(b,"states.select"),C=w.call(b,"states.disabled"),j=v.grid.fbRows,D=function(e,t){var i=t?"addClass":"removeClass",r=y.iColByName.cb,a=t?{"aria-selected":"true",tabindex:"0"}:{"aria-selected":"false",tabindex:"-1"},n=function(e){$(e)[i](_).attr(a),void 0!==r&&$(e.cells[r]).children("input.cbox").prop("checked",t)};n(e),j&&n(j[e.rowIndex])};void 0!==e&&(t=!1!==t,null!=i&&0<(d=$(i.target).closest("tr.jqgrow")).length&&(a=d[0],j&&(a=v.rows[a.rowIndex])),null==a&&(a=x.call(b,e)),!a||!a.className||-1<a.className.indexOf(C)||(!0===y.scrollrows&&null!=(n=x.call(b,e))&&0<=(n=n.rowIndex)&&(u=v.rows[n],(p=(h=v.grid.bDiv).clientHeight)+(f=h.scrollTop)<=(m=$(u).position().top)+(g=u.clientHeight)?h.scrollTop=m-(p+f)+g+f:m<p+f&&m<f&&(h.scrollTop=m)),y.multiselect?(v.setHeadCheckBox(!1),y.selrow=a.id,c=jgrid.detectRowEditing.call(v,a.id),-1===(o=$.inArray(y.selrow,y.selarrrow))?(r=!0,y.selarrrow.push(y.selrow)):null===c||"inlineEditing"!==c.mode&&$(i.target).hasClass("cbox")?(r=!1,y.selarrrow.splice(o,1),s=y.selarrrow[0],y.selrow=void 0===s?null:s):r=!0,"ui-subgrid"!==a.className&&D(a,r),t&&feedback.call(v,"onSelectRow",a.id,r,i||{})):"ui-subgrid"!==a.className&&(y.selrow!==a.id?(null!==y.selrow&&(l=x.call(b,y.selrow))&&D(l,!1),D(a,!0),r=!0):r=!1,y.selrow=a.id,t&&feedback.call(v,"onSelectRow",a.id,r,i||{}))))}))},resetSelection:function(e){return this.each((function(){var t,i=this,r=$(this),a=i.p,n=base.getGuiStyles,o=base.getGridRowById,s=n.call(r,"states.select"),l="edit-cell "+s,d="selected-row "+n.call(r,"states.hover"),c=a.iColByName.cb,u=void 0!==c,h=i.grid.fbRows,p=function(e){var t,i="removeClass",r={"aria-selected":"false",tabindex:"-1"};$(e)[i](s).attr(r),u&&$(e.cells[c]).children("input.cbox").prop("checked",!1),h&&(t=h[e.rowIndex],$(t)[i](s).attr(r),u&&$(t.cells[c]).children("input.cbox").prop("checked",!1))};if(void 0!==e){if(t=o.call(r,e),p(t),u){i.setHeadCheckBox(!1);var f=$.inArray(e,a.selarrrow);-1!==f&&a.selarrrow.splice(f,1)}}else a.multiselect?($(i.rows).each((function(){var e=$.inArray(this.id,a.selarrrow);-1!==e&&(p(this),a.selarrrow.splice(e,1))})),i.setHeadCheckBox(!1),a.multiPageSelection||clearArray(a.selarrrow),a.selrow=null):a.selrow&&(t=o.call(r,a.selrow),p(t),a.selrow=null);!0===a.cellEdit&&0<=parseInt(a.iCol,10)&&0<=parseInt(a.iRow,10)&&(null!=(t=i.rows[a.iRow])&&($(t.cells[a.iCol]).removeClass(l),$(t).removeClass(d)),h&&null!=(t=h[a.iRow])&&($(t.cells[a.iCol]).removeClass(l),$(t).removeClass(d)))}))},isCellEditing:function(e,t,i){var r=this[0],a=jgrid.detectRowEditing.call(r,e);if(null!=a&&("inlineEditing"===a.mode||"cellEditing"===a.mode&&a.savedRow.ic===t)){t=isNaN(t)?r.p.iColByName[t]:parseInt(t,10);var n=null!=i&&i.id===e?i:base.getGridRowById.call($(r),e),o=r.p.colModel[t],s=o.editable;if($.isFunction(s)&&(s=s.call(r,{rowid:e,id:stripPref(r.p.idPrefix,e),iCol:t,iRow:n.rowIndex,cmName:o.name,cm:o,mode:a.mode,td:n.cells[t],tr:n,dataElement:jgrid.getDataFieldOfCell.call(r,n,t)[0]})),!0===s)return!0}return!1},getRowData:function(e,t){var i,r={};return"object"==typeof e&&(t=e,e=void 0),t=t||{},this.each((function(){var a,n,o,s,l,d,c,u=this,h=u.p,p=!1,f=1,m=u.rows;if(void 0===e)p=!0,i=[],f=m.length;else if(!(a=base.getGridRowById.call($(u),e)))return r;for(n=0;n<f;n++)if(p&&(a=m[n]),$(a).hasClass("jqgrow")){for(jgrid.detectRowEditing.call(u,e),s=$(a).find("td[role=gridcell]"),o=0;o<s.length;o++)if(d=(l=h.colModel[o]).name,$.inArray(d,h.reservedColumnNames)<0&&"actions"!==l.formatter&&(!t.skipHidden||!l.hidden))if(c=s[o],base.isCellEditing.call($(u),e,o,a))r[d]=jgrid.getEditedValue.call(u,jgrid.getDataFieldOfCell.call(u,a,o),l,{},l.editable);else if(!0===h.treeGrid&&d===h.ExpandColumn)r[d]=htmlDecode($("span",c).first().html());else try{r[d]=$.unformat.call(u,c,{rowId:e,colModel:l},o)}catch(a){r[d]=htmlDecode($(c).html())}!t.includeId||!1!==h.keyName&&null!=r[h.keyName]||(r[h.prmNames.id]=stripPref(h.idPrefix,a.id)),p&&(i.push(r),r={})}})),i||r},delRowData:function(e){var t=!1;return this.each((function(){var i,r,a,n=this,o=n.p,s=$.jgrid.detectRowEditing.call(n,e);if(!(i=base.getGridRowById.call($(n),e)))return!1;if(o.subGrid&&(a=$(i).next()).hasClass("ui-subgrid")&&a.remove(),null!=s)try{"inlineEditing"===s.mode&&null!=base.restoreRow?base.restoreRow.call($(n),e):"cellEditing"===s.mode&&null!=base.restoreCell&&base.restoreCell.call($(n),s.savedRow.id,s.savedRow.ic)}catch(i){}if(i.rowIndex===o.iRow&&(o.iRow=-1,o.iCol=-1),$(i).remove(),o.records--,o.reccount--,n.updatepager(!0,!1),t=!0,o.multiselect&&-1!==(r=$.inArray(e,o.selarrrow))&&o.selarrrow.splice(r,1),o.multiselect&&0<o.selarrrow.length?o.selrow=o.selarrrow[o.selarrrow.length-1]:o.selrow===e&&(o.selrow=null),"local"===o.datatype){var l=stripPref(o.idPrefix,e),d=o._index[l];void 0!==d&&(n.removeItemDataFromColumnIndex(l),o.data.splice(d,1),n.refreshIndex())}if(n.rebuildRowIndexes(),!0===o.altRows&&t&&!$(n).jqGrid("isBootstrapGuiStyle")){var c=o.altclass,u=n.grid.fbRows;$(n.rows).each((function(e){var t=$(this);u&&(t=t.add(u[this.rowIndex])),t[e%2==0?"addClass":"removeClass"](c)}))}feedback.call(n,"afterDelRow",e)})),t},setRowData:function(e,t,i){var r=!0;return this.each((function(){var a,n=this,o=n.p,s=typeof i,l={};if(!n.grid)return!1;if(!(a=base.getGridRowById.call($(n),e)))return!1;if(t)try{var d,c=stripPref(o.idPrefix,e),u=o._index[c],h={},p=null!=u?o.data[u]:void 0;if($(o.colModel).each((function(e){var i=this,r=i.name,a=getAccessor(t,r);void 0!==a&&("local"===o.datatype&&null!=p&&(a=convertOnSaveLocally.call(n,a,i,p[r],c,p,e),$.isFunction(i.saveLocally)?i.saveLocally.call(n,{newValue:a,newItem:l,oldItem:p,id:c,cm:i,cmName:r,iCol:e}):l[r]=a),h[r]=a)})),$(o.colModel).each((function(i){var r,s=this.name,d=getAccessor(t,s),c=$(a.cells[i]);if(void 0!==d){"local"===o.datatype&&null!=p&&(d=l[s]),r=this.title?{title:d}:{},d=n.formatter(e,d,i,t,"edit",h),"select"===this.formatter&&(r=this.title?{title:stripHtml(d)}:{});var u=c;!0===o.treeGrid&&s===o.ExpandColumn&&(u=u.children("span.cell-wrapperleaf,span.cell-wrapper").first()),u.html(d),c.attr(r),o.frozenColumns&&(u=$(n.grid.fbRows[a.rowIndex].cells[i]),!0===o.treeGrid&&s===o.ExpandColumn&&(u=u.children("span.cell-wrapperleaf,span.cell-wrapper").first()),u.html(d).attr(r))}})),"local"===o.datatype){if(o.treeGrid)for(d in o.treeReader)o.treeReader.hasOwnProperty(d)&&delete l[o.treeReader[d]];void 0!==p&&(o.data[u]=$.extend(!0,p,l),n.removeItemDataFromColumnIndex(c),n.addItemDataToColumnIndex(o.data[u],c))}feedback.call(n,"afterSetRow",{rowid:e,inputData:t,iData:u,iRow:a.rowIndex,tr:a,localData:l,cssProp:i})}catch(s){r=!1}r&&("string"===s?$(a).addClass(i):null!==i&&"object"===s&&$(a).css(i))})),r},changeRowid:function(e,t){return this.each((function(){var i,r,a,n,o,s,l,d=this,c=$(d),u=d.p;if(d.grid&&u&&e!==t&&(n=c.jqGrid("getGridRowById",e))&&null==c.jqGrid("getGridRowById",t)){var h=jgrid.stripPref(u.idPrefix,e),p=jgrid.stripPref(u.idPrefix,t),f=!1===u.keyName?u.prmNames.id:u.keyName,m=function(){var e=this.id,t=e.length-h.length;0<t&&e.substr(t)===h&&$(this).attr("id",e.substr(0,t)+p)};for(0<=u.iColByName[f]&&c.jqGrid("setCell",e,f,p),"local"===u.datatype&&void 0!==u._index[h]&&(u._index[p]=u._index[h],i=u.data[u._index[h]],delete u._index[h],i.hasOwnProperty(f)&&(i[f]=p)),u.rowIndexes[t]=n.rowIndex,delete u.rowIndexes[e],(o=null==d.grid.fbRows?$(n):$(n).add(d.grid.fbRows[n.rowIndex])).attr("id",t),u.selrow===e&&(u.selrow=t),$.isArray(u.selarrrow)&&0<=(r=$.inArray(e,u.selarrrow))&&(u.selarrrow[r]=t),u.multiselect&&(a="jqg_"+u.id+"_"+t,o.find("input.cbox").attr("id",a).attr("name",a)),r=0;r<u.colModel.length;r++)"actions"===(s=u.colModel[r]).formatter?o.find(".ui-jqgrid-actions .ui-pg-div").each(m):("showlink"===s.formatter||null!=s.unformat&&null!=s.formatter)&&(l=c.jqGrid("getCell",t,r),c.jqGrid("setCell",t,r,l,!1,!1,!0));feedback.call(d,"afterChangeRowid",{rowid:t,oldRowid:e,iRow:n.rowIndex,tr:n})}}))},addRowData:function(e,t,i,r){$.inArray(i,["first","last","before","after","afterSelected","beforeSelected"])<0&&(i="last");var a,n,o,s,l,d,c,u,h,p,f,m=!1;return t&&($.isArray(t)?(d=!0,c=e):d=!(t=[t]),this.each((function(){var g,v,b=this,y=b.p,w=t.length,x=$(b),_=b.rows,C=0,j=base.getGridRowById,D=y.colModel,S=y.additionalProperties;for(d||(void 0!==e?e=String(e):(e=randId(),!1!==y.keyName&&(c=y.keyName,void 0!==t[0][c]&&(e=t[0][c])))),u=y.altclass;C<w;){if(h=t[C],n=[],d)try{void 0===(e=h[c])&&(e=randId())}catch(g){e=randId()}for(f=jgrid.stripPref(y.idPrefix,e),g={},s=0;s<D.length;s++)p=D[s],"rn"!==(a=p.name)&&"cb"!==a&&"subgrid"!==a&&(l=convertOnSaveLocally.call(b,h[a],p,void 0,f,{},s),$.isFunction(p.saveLocally)?p.saveLocally.call(b,{newValue:l,newItem:g,oldItem:{},id:f,rowid:e,cm:p,cmName:a,iCol:s}):void 0!==l&&(g[a]=l));for(s=0;s<S.length;s++)"object"==typeof(a=S[s])&&a.hasOwnProperty("name")&&(a=a.name),void 0!==(l=getAccessor(h,a))&&(g[a]=l);if("local"===y.datatype&&(g[y.localReader.id]=f,y._index[f]=y.data.length,y.data.push(g),b.addItemDataToColumnIndex(g,f)),v=y.grouping,y.grouping=!1,n=jgrid.parseDataToHtml.call(b,1,[e],[h]),y.grouping=v,n=n.join(""),0===_.length)$(b.tBodies[0]).append(n);else switch("afterSelected"!==i&&"beforeSelected"!==i||(void 0===r&&null!==y.selrow?(r=y.selrow,i="afterSelected"===i?"after":"before"):i="afterSelected"===i?"last":"first"),i){case"last":$(_[_.length-1]).after(n),o=_.length-1;break;case"first":$(_[0]).after(n),o=1;break;case"after":(o=j.call(x,r))&&($(_[o.rowIndex+1]).hasClass("ui-subgrid")?($(_[o.rowIndex+1]).after(n),o=o.rowIndex+2):($(o).after(n),o=o.rowIndex+1));break;case"before":(o=j.call(x,r))&&($(o).before(n),o=o.rowIndex-1)}!0===y.subGrid&&base.addSubGrid.call(x,y.iColByName.subgrid,o),y.records++,y.reccount++,0===y.lastpage&&(y.lastpage=1),feedback.call(b,"afterAddRow",{rowid:e,inputData:t,position:i,srcRowid:r,iRow:o,tr:_[o],localData:g,iData:y.data.length-1}),C++}!0!==y.altRows||d||x.jqGrid("isBootstrapGuiStyle")||("last"===i?(_.length-1)%2==0&&$(_[_.length-1]).addClass(u):$(_).each((function(e){e%2==1?$(this).addClass(u):$(this).removeClass(u)}))),b.rebuildRowIndexes(),b.updatepager(!0,!0),m=!0}))),m},footerData:function(e,t,i){var r=!1,a={};return null==e&&(e="get"),"boolean"!=typeof i&&(i=!0),e=e.toLowerCase(),this.each((function(){var n,o,s,l,d=this,c=d.p;if(!d.grid||!c.footerrow)return!1;if("set"===e&&function(e){var t;for(t in e)if(e.hasOwnProperty(t))return!1;return!0}(t))return!1;r=!0;var u=$(d.grid.sDiv).children(".ui-jqgrid-hbox"+("rtl"===c.direction?"-rtl":"")).children(".ui-jqgrid-ftable")[0];if(null==u||null==u.rows)return!1;var h=u.rows[0].cells,p=c.colModel,f=null==d.grid.fsDiv?{}:d.grid.fsDiv.children(".ui-jqgrid-ftable")[0].rows[0].cells;if("get"===e)for(l=0;l<p.length;l++)s=p[l].name,$.inArray(s,c.reservedColumnNames)<0&&(!1!==t?(n=$(h[l]).text(),$.trim(n)&&(a[s]=n)):a[s]=$(h[l]).html());else if("set"===e)for(s in t)l=c.iColByName[s],t.hasOwnProperty(s)&&void 0!==l&&(n=i?d.formatter("",t[s],l,t,"edit"):t[s],(o=$(h[l]).add(f[l])).html(n),p[l].title&&o.attr({title:stripHtml(n)}))})),"get"===e?a:r},resetColumnResizerHeight:function(){return this.each((function(){if($.jgrid.msie){var e,t,i,r,a=this.grid.headers;for(i=0;i<a.length;i++)(r=(e=$(a[i].el)).height())&&0<(t=e.children(".ui-jqgrid-resize")).length&&.5<Math.abs(r-t.height())&&e.children(".ui-jqgrid-resize").height(r)}}))},rotateColumnHeaders:function(e,t){return this.each((function(){var i,r,a,n,o,s,l,d,c,u,h,p,f,m,g,v,b=$(this),y=this.p,w=y.frozenColumns&&$.isFunction(base.getNumberOfFrozenColumns)?b.jqGrid("getNumberOfFrozenColumns"):0;for($.isArray(e)||(e=[e]),i=0;i<e.length;i++)s=e[i],0<=(r=isNaN(s)?y.iColByName[s]:parseInt(s,10))&&(a=this.grid.headers[r].el,l=(n=r<w?$(a).add($(this.grid.fhDiv.find("#"+jqID(a.id)))):$(a)).children("div"),d=l.children("span.s-ico"),u=l.children("span.ui-jqgrid-sort-order"),(c=l.children("span."+y.autoResizing.wrapperClassName)).length<1&&(d.detach(),u.detach(),l.wrapInner("<span class='"+y.autoResizing.wrapperClassName+"'></span>"),c=l.children("span."+y.autoResizing.wrapperClassName),l.each((function(e){e<d.length&&$(this).append(d[e]),e<u.length&&$(this).append(u[e])}))),h=d.outerWidth(!0),p=c.outerWidth(),g=parseFloat(n.css("padding-top")||0),v=parseFloat(n.css("padding-bottom")||0),f=parseFloat(n.css("padding-left")||0),m=parseFloat(n.css("padding-right")||0),y.showSortOrder&&(h+=.5*h),o=void 0===t||0===t?p+h+f+m:t,n.height(o),n.css({paddingTop:m+"px",paddingBottom:f+"px",paddingLeft:g+"px",paddingRight:v+"px"}),l.css("min-width",o-f-m+"px").addClass("ui-jqgrid-rotate").css({bottom:0}),y.colModel[r].rotated=!0);b.jqGrid("resetColumnResizerHeight"),y.frozenColumns&&setTimeout((function(){b.triggerHandler("jqGridResetFrozenHeights",{header:{resizeDiv:!0,resizedRows:{iRowStart:0,iRowEnd:-1}},resizeFooter:!0,body:{resizeDiv:!0,resizedRows:{iRowStart:-1,iRowEnd:-1}}})}),0)}))},showHideCol:function(e,t,i){return this.each((function(){var r,a=this,n=$(a),o=a.grid,s=!1,l=a.p,d=jgrid.cell_width?0:l.cellLayout;if(o){"string"==typeof e&&(e=[e]),i=i||{};var c=""==(t="none"!==t&&!1!==t?"":"none"),u=l.groupHeader,h=u&&("object"==typeof u||$.isFunction(u));if(h&&!i.skipSetGroupHeaders&&base.destroyGroupHeader.call(n,!1),$(l.colModel).each((function(n){var u=function(e){var i,r,a,o,s,d,u,h,p,f,m,g,v,b,y;for(i=0,r=e.length;i<r;i++)o=(a=e[i]).cells[n],(!$(a).hasClass("jqgroup")||null!=o&&1===o.colSpan)&&(s=$(o),0===i&&$(a).hasClass("jqgfirstrow")?(s.css("height","1px"),s.css("display",t),s.css("height","0")):s.css("display",t),c&&null!=o&&"TH"===o.tagName.toUpperCase()&&s.hasClass("ui-th-column")&&(d=s.children("div")).hasClass("ui-jqgrid-rotate")&&(u=d.children("span.s-ico"),(h=d.children("span."+l.autoResizing.wrapperClassName)).outerHeight(),p=h.outerWidth(),u.outerHeight(),f=u.outerWidth(!0),0<h.length&&(g=parseFloat(s.css("padding-top")||0),v=parseFloat(s.css("padding-bottom")||0),b=parseFloat(s.css("padding-left")||0),y=parseFloat(s.css("padding-right")||0),l.showSortOrder&&(f+=.5*f),m=p+f+b+y,s.height(m),s.css({paddingTop:y+"px",paddingBottom:b+"px",paddingLeft:g+"px",paddingRight:v+"px"}),d.css("min-width",m-b-y+"px").css({bottom:0}))))};if(-1!==$.inArray(this.name,e)&&this.hidden===c){if(!0===l.frozenColumns&&!0===this.frozen&&!i.notSkipFrozen)return!0;u($(o.hDiv).find(".ui-jqgrid-htable>thead>tr")),!0===l.frozenColumns&&null!=o.fhDiv&&u($(o.fhDiv).find(".ui-jqgrid-htable>thead>tr")),u(a.rows),!0===l.frozenColumns&&null!=o.fbRows&&u(a.rows),l.footerrow&&(u($(o.sDiv).find("tr.footrow")),!0===l.frozenColumns&&null!=o.fsDiv&&u($(o.fsDiv).find("tr.footrow"))),r=parseInt(this.width,10),"none"===t?l.tblwidth-=r+d:l.tblwidth+=r+d,this.hidden=!c,s=!0,i.skipFeedback?(i.toReport=i.toReport||{},i.toReport[this.name]=c):feedback.call(a,"onShowHideCol",c,this.name,n,i)}})),!0===s){var p=l.autowidth||void 0!==l.widthOrg&&"auto"!==l.widthOrg&&"100%"!==l.widthOrg?l.width:l.tblwidth+parseInt(l.scrollOffset,10);i.skipSetGridWidth?i.newGridWidth=p:base.setGridWidth.call(n,p)}if(h&&!i.skipSetGroupHeaders)if(null!=l.pivotOptions&&null!=l.pivotOptions.colHeaders&&1<l.pivotOptions.colHeaders.length){var f,m=l.pivotOptions.colHeaders;for(f=0;f<m.length;f++)m[f]&&m[f].groupHeaders.length&&base.setGroupHeaders.call(n,m[f])}else base.setGroupHeaders.call(n,l.groupHeader)}}))},hideCol:function(e,t){return this.each((function(){base.showHideCol.call($(this),e,"none",t)}))},showCol:function(e,t){return this.each((function(){base.showHideCol.call($(this),e,"",t)}))},remapColumns:function(e,t,i){var r,a,n,o,s=this[0],l=s.p,d=s.grid,c=$.makeArray,u=!0===l.frozenColumns,h=this.jqGrid("getNumberOfFrozenColumns");function p(e){var t=e.length?c(e):$.extend({},e);$.each(o,(function(i){e[i]=t[this]}))}function f(e,t){(t?e.children(t):e.children()).each((function(){var e=this,t=c(e.cells);$.each(o,(function(i){var r=t[this],a=e.cells[i];null!=r&&null!=a&&r.cellIndex!==i&&r.parentNode.insertBefore(r,a)}))}))}if(null!=d&&null!=l){for(o=function(){var t,i=[],r=[],a=e.length;for(t=0;t<a;t++)u&&e[t]<h?i.push(e[t]):r.push(e[t]);return i.concat(r)}(),p(l.colModel),p(l.colNames),p(d.headers),n=$(d.hDiv).children("div").children("table.ui-jqgrid-htable").children("thead"),u&&null!=d.fhDiv&&(n=n.add(d.fhDiv.children("table.ui-jqgrid-htable").children("thead"))),f(n,i&&":not(.ui-jqgrid-labels)"),t&&(n=$(s.tBodies[0]),u&&null!=d.fbDiv&&(n=n.add(d.fbDiv.children("table.ui-jqgrid-btable").children("tbody").first())),f(n,"tr.jqgfirstrow,tr.jqgrow,tr.jqfoot")),l.footerrow&&(n=$(d.sDiv).children("div").children("table.ui-jqgrid-ftable").children("tbody").first(),u&&null!=d.fsDiv&&(n=n.add(d.fsDiv.children("table.ui-jqgrid-ftable").children("tbody").first())),f(n)),l.remapColumns&&(l.remapColumns.length?p(l.remapColumns):l.remapColumns=c(o)),l.lastsort=$.inArray(l.lastsort,o),l.iColByName={},r=0,a=l.colModel.length;r<a;r++)l.iColByName[l.colModel[r].name]=r;feedback.call(s,"onRemapColumns",o,t,i)}},remapColumnsByName:function(e,t,i){var r,a,n=this[0].p,o=[],s=e.slice(),l=$.inArray;for(n.subGrid&&l("subgrid",s)<0&&s.unshift("subgrid"),n.multiselect&&l("cb",s)<0&&s.unshift("cb"),n.rownumbers&&l("rn",s)<0&&s.unshift("rn"),r=0,a=s.length;r<a;r++)o.push(n.iColByName[s[r]]);return base.remapColumns.call(this,o,t,i),this},setGridWidth:function(e,t){return this.each((function(){var i,r,a,n,o=this,s=o.p,l=o.grid,d=0,c=0,u=!1,h=0,p=jgrid.isCellClassHidden,f=e;if(l&&null!=s){o.fixScrollOffsetAndhBoxPadding();var m,g,v,b,y=s.colModel,w=s.scrollOffset,x=jgrid.cell_width?0:s.cellLayout,_=l.headers,C=l.footers,j=l.bDiv,D=l.hDiv,S=l.sDiv,k=l.cols,O=$(D).find(">div>.ui-jqgrid-htable>thead>tr").first()[0].cells,F=function(e){l.width=s.width=e,$(s.gBox).css("width",e+"px"),$(s.gView).css("width",e+"px"),$(j).css("width",e+"px"),$(D).css("width",e+"px"),s.pager&&$(s.pager).css("width",e+"px"),s.toppager&&$(s.toppager).css("width",e+"px"),!0===s.toolbar[0]&&($(l.uDiv).css("width",e+"px"),"both"===s.toolbar[1]&&$(l.ubDiv).css("width",e+"px")),s.footerrow&&$(S).css("width",e+"px")};if("boolean"!=typeof t&&(t=s.shrinkToFit),!isNaN(f)){if(F(f=parseInt(f,10)),!1===t&&!0===s.forceFit&&(s.forceFit=!1),!0===t){if($.each(y,(function(){!1!==this.hidden||p(this.classes)||(i=this.widthOrg,d+=i+x,this.fixed?h+=this.width+x:c++)})),0===c)return;if(s.tblwidth=parseInt(d,10),a=f-x*c-h,isNaN(s.height)||(j.clientHeight<j.scrollHeight||1===o.rows.length)&&(u=!0,a-=w),(b=a/(s.tblwidth-x*c-h))<0)return;if(v=(d=0)<k.length,$.each(y,(function(e){!1!==this.hidden||p(this.classes)||this.fixed||(i=Math.round(this.widthOrg*b),this.width=i,d+=i,_[e].width=i,O[e].style.width=i+"px",s.footerrow&&(C[e].style.width=i+"px"),v&&(k[e].style.width=i+"px"),r=e)})),!r)return;n=0,u?f-h-(d+x*c)!==w&&(n=f-h-(d+x*c)-w):1!==Math.abs(f-h-(d+x*c))&&(n=f-h-(d+x*c)),(m=y[r]).width+=n,s.tblwidth=parseInt(d+n+x*c+h,10),s.tblwidth>f&&(g=s.tblwidth-parseInt(f,10),s.tblwidth=f,m.width=m.width-g),i=m.width,_[r].width=i,O[r].style.width=i+"px",v&&(k[r].style.width=i+"px"),s.footerrow&&(C[r].style.width=i+"px"),s.tblwidth+(u?w:0)<s.width&&F(s.tblwidth+(u?w:0)),j.offsetWidth>j.clientWidth&&(s.autowidth||void 0!==s.widthOrg&&"auto"!==s.widthOrg&&"100%"!==s.widthOrg||F(j.offsetWidth))}s.tblwidth&&(s.tblwidth=parseInt(s.tblwidth,10),f=s.tblwidth,D.scrollLeft=j.scrollLeft,g=Math.abs(f-s.width),s.shrinkToFit&&!t&&g<3&&0<g&&(f<s.width&&F(f),j.offsetWidth>j.clientWidth&&(s.autowidth||void 0!==s.widthOrg&&"auto"!==s.widthOrg&&"100%"!==s.widthOrg||F(j.offsetWidth)))),o.fixScrollOffsetAndhBoxPadding();var I={resizeDiv:!0,resizedRows:{iRowStart:t?0:-1,iRowEnd:-1}};$(o).triggerHandler("jqGridResetFrozenHeights",[{header:I,resizeFooter:!0,body:I}])}}}))},setGridHeight:function(e){return this.each((function(){var t=this,i=t.grid,r=t.p;if(i){var a=$(i.bDiv);a.css({height:e+(isNaN(e)?"":"px")}),!0===r.frozenColumns&&$(r.idSel+"_frozen").parent().height(a.height()-16),r.height=e,r.scroll&&i.populateVisible.call(t),t.fixScrollOffsetAndhBoxPadding(),$(t).triggerHandler("jqGridResetFrozenHeights")}}))},setCaption:function(e){return this.each((function(){var t=this.grid.cDiv;this.p.caption=e,$("span.ui-jqgrid-title, span.ui-jqgrid-title-rtl",t).html(e),$(t).show(),$(t).nextAll("div").removeClass(base.getGuiStyles.call(this,"top")),$(this).triggerHandler("jqGridResetFrozenHeights")}))},setLabel:function(e,t,i,r){return this.each((function(){var a,n,o=this.p;if(this.grid){if(isNaN(e)){if(void 0===(a=o.iColByName[e]))return}else a=parseInt(e,10);0<=a&&(n=$(this.grid.headers[a].el),o.frozenColumns&&(n=n.add(this.grid.fhDiv.find("#"+jqID(n)))),t&&(n.each((function(){var e=$("[id^=jqgh_]",this),i=e.children("span.ui-jqgrid-cell-wrapper");if(0<i.length)i.html(t);else{var r=$(".s-ico",this);e.empty().html(t)[o.sortIconsBeforeText?"prepend":"append"](r)}})),o.colNames[a]=t),i&&("string"==typeof i?n.addClass(i):n.css(i)),"object"==typeof r&&n.attr(r))}}))},setCell:function(e,t,i,r,a,n){return this.each((function(){var o,s,l,d,c,u,h,p,f,m,g,v=this,b=v.p,y=b.colModel,w={};if(v.grid&&0<=(o=isNaN(t)?b.iColByName[t]:parseInt(t,10))&&(u=base.getGridRowById.call($(v),e))){if(h=jgrid.getCell.call(v,u,o),""!==i||!0===n){if(d=y[o],"local"===b.datatype&&(m=stripPref(b.idPrefix,e),void 0!==(g=b._index[m])&&(c=b.data[g])),null==c){for(l=0;l<u.cells.length;l++)if(l!==o&&0<(p=jgrid.getDataFieldOfCell.call(v,u,l)).length){try{f=$.unformat.call(v,p,{rowId:e,colModel:y[l]},l)}catch(o){f=htmlDecode(p[0].innerHTML)}w[y[l].name]=f}}else w=c;w[d.name]=i,s=v.formatter(e,i,o,w,"edit");var x=h;!0===b.treeGrid&&d.name===b.ExpandColumn&&(x=x.children("span.cell-wrapperleaf,span.cell-wrapper").first()),x.html(s),d.title&&h.attr({title:i}),null!=c&&(s=convertOnSaveLocally.call(v,i,d,c[d.name],m,c,o),$.isFunction(d.saveLocally)?d.saveLocally.call(v,{newValue:s,newItem:c,oldItem:c,id:m,cm:d,cmName:d.name,iCol:o}):c[d.name]=s)}(r||a)&&(h=jgrid.getCell.call(v,u,o),r&&h["string"==typeof r?"addClass":"css"](r),"object"==typeof a&&h.attr(a))}}))},getCell:function(e,t){var i=!1;return this.each((function(){var r,a,n,o,s=this,l=s.p;if(s.grid&&0<=(r=isNaN(t)?l.iColByName[t]:parseInt(t,10))&&(a=base.getGridRowById.call($(s),e))){n=jgrid.getDataFieldOfCell.call(s,a,r).first(),o=l.colModel[r];try{i=base.isCellEditing.call($(s),e,r,a)?jgrid.getEditedValue.call(s,n,o,{},o.editable):$.unformat.call(s,n,{rowId:a.id,colModel:o},r)}catch(r){i=htmlDecode(n.html())}}})),i},getCol:function(e,t,i){var r,a,n,o,s=[],l=0;return t="boolean"==typeof t&&t,void 0===i&&(i=!1),this.each((function(){var d,c,u=this,h=u.p;if(u.grid&&0<=(d=isNaN(e)?h.iColByName[e]:parseInt(e,10))){var p,f,m=u.rows,g=m.length,v=0,b=0,y=h.colModel[d];if(g&&0<g){for(;v<g;){if(p=m[v],$(p).hasClass("jqgrow")){c=jgrid.getDataFieldOfCell.call(u,p,d).first(),f=p.id;try{r=base.isCellEditing.call($(u),f,d,p)?jgrid.getEditedValue.call(u,c,y,{},y.editable):$.unformat.call(u,c,{rowId:f,colModel:y},d)}catch(d){r=htmlDecode(c.html())}i?(o=parseFloat(r),isNaN(o)||(l+=o,void 0===n&&(n=a=o),a=Math.min(a,o),n=Math.max(n,o),b++)):t?s.push({id:f,value:r}):s.push(r)}v++}if(i)switch(i.toLowerCase()){case"sum":s=l;break;case"avg":s=l/b;break;case"count":s=g-1;break;case"min":s=a;break;case"max":s=n}}}})),s},clearGridData:function(e){return this.each((function(){var t=this,i=t.p,r=t.rows,a=t.grid;a&&i&&r&&("boolean"!=typeof e&&(e=!1),$(t).off(".jqGridFormatter"),a.emptyRows.call(t,!1,!0),i.footerrow&&e&&$(".ui-jqgrid-ftable td",a.sDiv).html("&#160;"),i.selrow=null,clearArray(i.selarrrow),clearArray(i.savedRow),i.editingInfo={},clearArray(i.data),clearArray(i.lastSelectedData),i._index={},i.rowIndexes={},i.dataIndexById={},i.indexByColumnData={},i.records=0,i.page=1,i.lastpage=0,i.reccount=0,t.updatepager(!0,!1))}))},getInd:function(e,t){var i=base.getGridRowById.call($(this),e);return!!i&&(!0===t?i:i.rowIndex)},bindKeys:function(e){var t=$.extend({onEnter:null,onSpace:null,onLeftKey:null,onRightKey:null,scrollingRows:!0},e||{});return this.each((function(){var e=this,i=e.p,r=$(e);i.scrollrows=t.scrollingRows,r.on("keydown.jqGrid",(function(a){var n=$(this).find("tr[tabindex=0]")[0],o=jgrid.detectRowEditing.call(e,$(a.target).closest("tr.jqgrow").attr("id")),s=function(e){do{if(null===(n=n[e]))return}while($(n).is(":hidden")||!$(n).hasClass("jqgrow"));base.setSelection.call(r,n.id,!0),a.preventDefault()},l=function(a,n){var o=t["on"+a+(n||"")];r.triggerHandler("jqGridKey"+a,[i.selrow]),$.isFunction(o)&&o.call(e,i.selrow)},d=function(e){if(i.treeGrid){var t=i.data[i._index[stripPref(i.idPrefix,n.id)]][i.treeReader.expanded_field];"Right"===e&&(t=!t),t&&$(n).find("div.treeclick").trigger("click")}l(e,"Key")};if(n&&null===o)switch(a.keyCode){case 38:s("previousSibling");break;case 40:s("nextSibling");break;case 37:d("Left");break;case 39:d("Right");break;case 13:l("Enter");break;case 32:l("Space")}}))}))},unbindKeys:function(){return this.each((function(){$(this).off("keydown.jqGrid")}))},getLocalRow:function(e){var t,i=!1;return this.each((function(){var r=this.p;void 0!==e&&null!=r&&null!=r._index&&null!=r.data&&0<=(t=r._index[stripPref(r.idPrefix,e)])&&(i=r.data[t])})),i},progressBar:function(e){return e=$.extend({htmlcontent:"",method:"hide",loadtype:"disable"},e||{}),this.each((function(){var t="show"===e.method,i=jqID(this.p.id),r=$("#load_"+i);switch(""!==e.htmlcontent&&r.html(e.htmlcontent),e.loadtype){case"disable":break;case"enable":r.toggle(t);break;case"block":$("#lui_"+i).toggle(t),r.toggle(t)}}))},setColWidth:function(e,t,i,r){return this.each((function(){var a,n=$(this),o=this.grid,s=this.p;if("string"==typeof e){if(void 0===(e=s.iColByName[e]))return}else if("number"!=typeof e)return;null!=(a=o.headers[e])&&(a.newWidth=t,o.newWidth=s.tblwidth+t-a.width,o.resizeColumn(e,!s.frozenColumns,r),!1===i||r||(this.fixScrollOffsetAndhBoxPadding(),base.setGridWidth.call(n,o.newWidth+s.scrollOffset,!1)))}))},getAutoResizableWidth:function(e){var t=this;if(0===t.length)return-1;var i,r,a,n,o,s=(t=t[0]).rows,l=t.p,d=l.colModel[e],c=$(t.grid.headers[e].el),u=c.children("div"),h=parseFloat(c.css(d.rotated?"padding-top":"padding-left")||0),p=parseFloat(c.css(d.rotated?"padding-bottom":"padding-right")||0),f=u.children("span.s-ico"),m=u.children(".ui-jqgrid-sort-order"),g=u.children("."+l.autoResizing.wrapperClassName),v=d.rotated?g.outerHeight():g.outerWidth(),b=parseFloat(g.css(d.rotated?"height":"width")||0),y=0,w=0,x=null!=d.autoResizing&&void 0!==d.autoResizable.compact?d.autoResizable.compact:l.autoResizing.compact,_=l.autoResizing.wrapperClassName;if(null==d||!d.autoResizable||0===g.length||d.hidden||jgrid.isCellClassHidden(d.classes)||d.fixed)return-1;for(x&&!f.is(":visible")&&"none"===f.css("display")||(w=d.rotated?f.outerHeight(!0):f.outerWidth(!0)+(0<m.length?m.outerWidth(!0):0),l.sortIconsBeforeText||(w-="rtl"===l.direction?parseFloat(f.css("padding-left")||0)+parseFloat(f.css("margin-left")||0):parseFloat(f.css("padding-right")||0)+parseFloat(f.css("margin-right")||0))),d.rotated?w=Math.max(w,v+h+p):w+=v+h+(b===v?h+p:0)+parseFloat(u.css("margin-left")||0)+parseFloat(u.css("margin-right")||0),a=0,s=t.rows;a<s.length;a++)r=(i=s[a]).cells[e],n=$(i.cells[e]),null!=r&&($(i).hasClass("jqgrow")&&"none"!==i.style.display&&"none"!==r.style.display||$(i).hasClass("jqgroup")&&1===r.colSpan)?(o=$(r.firstChild)).hasClass(_)?w=Math.max(w,o.outerWidth()+y):l.treeGrid&&l.ExpandColumn===d.name&&(o=n.children(".cell-wrapper,.cell-wrapperleaf"),w=Math.max(w,o.outerWidth()+y+n.children(".tree-wrap").outerWidth())):$(i).hasClass("jqgfirstrow")&&(y=(jgrid.cell_width?parseFloat(n.css("padding-left")||0)+parseFloat(n.css("padding-right")||0):0)+parseFloat(n.css("border-right")||0)+parseFloat(n.css("border-left")||0));return w=Math.max(w,null!=d.autoResizing&&void 0!==d.autoResizing.minColWidth?d.autoResizing.minColWidth:l.autoResizing.minColWidth),Math.min(w,null!=d.autoResizing&&void 0!==d.autoResizing.maxColWidth?d.autoResizing.maxColWidth:l.autoResizing.maxColWidth)},autoResizeColumn:function(e,t){return this.each((function(){var i,r=$(this),a=this.p,n=a.colModel[e],o=$(this.grid.headers[e].el),s=base.getAutoResizableWidth.call(r,e),l=(n.autoResizing||{}).resetWidthOrg;null==n||s<0||s===n.width||(base.setColWidth.call(r,e,s,a.autoResizing.adjustGridWidth&&!a.autoResizing.fixWidthOnShrink&&!t,t),a.autoResizing.fixWidthOnShrink&&a.shrinkToFit&&!t&&(n.fixed=!0,i=n.widthOrg,n.widthOrg=n.width,base.setGridWidth.call(r,a.width,!0),n.widthOrg=i,n.fixed=!1),(l||void 0===l&&a.autoResizing.resetWidthOrg)&&(n.widthOrg=n.width),o.data("autoResized","true"))}))},autoResizeAllColumns:function(){return this.each((function(){var e,t,i=$(this),r=this.p,a=r.colModel,n=a.length,o=r.shrinkToFit,s=r.autoResizing.adjustGridWidth,l=r.autoResizing.fixWidthOnShrink,d=parseInt(r.widthOrg,10),c=this.grid,u=base.autoResizeColumn;for(r.shrinkToFit=!1,r.autoResizing.adjustGridWidth=!0,r.autoResizing.fixWidthOnShrink=!1,e=0;e<n;e++)(t=a[e]).autoResizable&&"actions"!==t.formatter&&u.call(i,e,!0);c.hDiv.scrollLeft=c.bDiv.scrollLeft,r.footerrow&&(c.sDiv.scrollLeft=c.bDiv.scrollLeft),this.fixScrollOffsetAndhBoxPadding(),isNaN(d)?s&&base.setGridWidth.call(i,c.newWidth+r.scrollOffset,!1):base.setGridWidth.call(i,d,!1),r.autoResizing.fixWidthOnShrink=l,r.autoResizing.adjustGridWidth=s,r.shrinkToFit=o}))}});var getTdByColumnIndex=function(e,t){var i=this.grid.fbRows;return null!=(e=null!=i&&i[0].cells.length>t?i[e.rowIndex]:e)&&null!=e.cells?$(e.cells[t]):$()},safeHeightSet=function(e,t){var i=e.height();1<=Math.abs(i-t)&&0<t&&(e.height(t),i=e.height(),1<=Math.abs(t-i)&&e.height(t+Math.round(t-i)))};jgrid.extend({editCell:function(e,t,i){return this.each((function(){var r,a,n,o,s=this,l=$(s),d=s.p,c=s.rows;if(s.grid&&!0===d.cellEdit&&null!=c&&null!=c[e]&&(e=parseInt(e,10),t=parseInt(t,10),!isNaN(e)&&!isNaN(t))){var u,h=c[e],p=null!=h?h.id:null,f=$(h),m=parseInt(d.iCol,10),g=parseInt(d.iRow,10),v=$(c[g]),b=d.savedRow;if(null!=p){if(d.selrow=p,d.knv||l.jqGrid("GridNav"),0<b.length&&0<v.length){if(!0===i&&e===g&&t===m)return;l.jqGrid("saveCell",b[0].id,b[0].ic)}else setTimeout((function(){$("#"+jgrid.jqID(d.knv)).attr("tabindex","-1").focus()}),1);if("subgrid"!==(r=(o=d.colModel[t]).name)&&"cb"!==r&&"rn"!==r){n=getTdByColumnIndex.call(s,h,t);var y=o.editable;$.isFunction(y)&&(y=y.call(s,{rowid:p,iCol:t,iRow:e,cmName:r,cm:o,mode:"cell"}));var w=l.jqGrid("getGuiStyles","states.select","edit-cell"),x=l.jqGrid("getGuiStyles","states.hover","selected-row");if(!0!==y||!0!==i||n.hasClass("not-editable-cell"))d.noCellSelection||(0<=m&&0<=g&&(getTdByColumnIndex.call(s,v[0],m).removeClass(w),v.removeClass(x)),n.addClass(w),f.addClass(x)),a=n.html().replace(/&#160;/gi,""),feedback.call(s,"onSelectCell",p,r,a,e,t);else{d.noCellSelection||(0<=m&&0<=g&&(getTdByColumnIndex.call(s,v[0],m).removeClass(w),v.removeClass(x)),n.addClass(w),f.addClass(x)),o.edittype||(o.edittype="text"),u=o.edittype;try{a=$.unformat.call(s,n,{rowId:p,colModel:o},t)}catch(r){a="textarea"===u?n.text():n.html()}if(d.autoEncodeOnEdit&&(a=jgrid.oldDecodePostedData(a)),("&nbsp;"===a||"&#160;"===a||1===a.length&&160===a.charCodeAt(0))&&(a=""),$.isFunction(d.formatCell)){var _=d.formatCell.call(s,p,r,a,e,t);void 0!==_&&(a=_)}feedback.call(s,"beforeEditCell",p,r,a,e,t),b.push({id:e,ic:t,name:r,v:a}),d.editingInfo[p]={mode:"cellEditing",savedRow:b[b.length-1],editable:{}},d.editingInfo[p].editable[r]=y;var C=$.extend({},o.editoptions||{},{id:e+"_"+r,name:r,rowId:p,mode:"cell",cm:o,iCol:t}),j=jgrid.createEl.call(s,u,C,a,!0,$.extend({},jgrid.ajaxOptions,d.ajaxSelectOptions||{})),D=n,S=!0===d.treeGrid&&r===d.ExpandColumn;S&&(D=n.children("span.cell-wrapperleaf,span.cell-wrapper")),D.html("").append(j).attr("tabindex","0"),S&&$(j).width(n.width()-n.children("div.tree-wrap").outerWidth()),jgrid.bindEv.call(s,j,C),d.frozenColumns&&t<l.jqGrid("getNumberOfFrozenColumns")&&safeHeightSet($(s.rows[h.rowIndex].cells[t]),n.height()),setTimeout((function(){$(j).focus()}),0),$("input, select, textarea",n).on("keydown",(function(i){if(27===i.keyCode&&(0<$("input.hasDatepicker",n).length?$(".ui-datepicker").is(":hidden")?l.jqGrid("restoreCell",e,t):$("input.hasDatepicker",n).datepicker("hide"):l.jqGrid("restoreCell",e,t)),13===i.keyCode&&!i.shiftKey)return l.jqGrid("saveCell",e,t),!1;if(9===i.keyCode){if(s.grid.hDiv.loading)return!1;i.shiftKey?l.jqGrid("prevCell",e,t):l.jqGrid("nextCell",e,t)}i.stopPropagation()})),feedback.call(s,"afterEditCell",p,r,a,e,t)}d.iCol=t,d.iRow=e}}}}))},saveCell:function(e,t){return this.each((function(){var i=this,r=$(i),a=i.p,n=i.grid,o=jgrid.info_dialog,s=jgrid.jqID;if(n&&!0===a.cellEdit){var l=r.jqGrid("getGridRes","errors"),d=l.errcap,c=r.jqGrid("getGridRes","edit").bClose,u=a.savedRow,h=1<=u.length?0:null;if(null!==h){var p,f=i.rows[e],m=null!=f?f.id:null,g=null!=f?$(f):$(),v=a.colModel[t],b=v.name,y=getTdByColumnIndex.call(i,f,t),w={},x=jgrid.getEditedValue.call(i,y,v,w);if(x!==u[h].v){void 0!==(p=r.triggerHandler("jqGridBeforeSaveCell",[m,b,x,e,t]))&&(x=p),$.isFunction(a.beforeSaveCell)&&void 0!==(p=a.beforeSaveCell.call(i,m,b,x,e,t))&&(x=p);var _=jgrid.checkValues.call(i,x,t,void 0,void 0,{oldValue:u[h].v,newValue:x,cmName:b,rowid:m,iCol:t,iRow:e,cm:v,tr:f,td:y,mode:"cell"}),C=v.formatoptions||{};if(null==_||!0===_||!0===_[0]){var j=r.triggerHandler("jqGridBeforeSubmitCell",[m,b,x,e,t])||{};if($.isFunction(a.beforeSubmitCell)&&((j=a.beforeSubmitCell.call(i,m,b,x,e,t))||(j={})),0<$("input.hasDatepicker",y).length&&$("input.hasDatepicker",y).datepicker("hide"),"date"===v.formatter&&!0!==C.sendFormatted&&(x=$.unformat.date.call(i,x,v)),"remote"===a.cellsubmit)if(a.cellurl){var D={};D[b]=x;var S=a.prmNames,k=S.id,O=S.oper;D[k]=jgrid.stripPref(a.idPrefix,m),D[O]=S.editoper,D=$.extend(j,D),a.autoEncodeOnEdit&&$.each(D,(function(e,t){$.isFunction(t)||(D[e]=jgrid.oldEncodePostedData(t))})),r.jqGrid("progressBar",{method:"show",loadtype:a.loadui,htmlcontent:r.jqGrid("getGridRes","defaults.savetext")||"Saving..."}),n.hDiv.loading=!0,$.ajax($.extend({url:$.isFunction(a.cellurl)?a.cellurl.call(i,a.cellurl,e,t,m,x,b):a.cellurl,data:jgrid.serializeFeedback.call(i,a.serializeCellData,"jqGridSerializeCellData",D),type:"POST",complete:function(s){if(n.endReq.call(i),(s.status<300||304===s.status)&&(0!==s.status||4!==s.readyState)){var l=r.triggerHandler("jqGridAfterSubmitCell",[i,s,D.id,b,x,e,t])||[!0,""];(!0===l||!0===l[0]&&$.isFunction(a.afterSubmitCell))&&(l=a.afterSubmitCell.call(i,s,D.id,b,x,e,t)),null==l||!0===l||!0===l[0]?(r.jqGrid("setCell",m,t,x,!1,!1,!0),y.addClass("dirty-cell"),g.addClass("edited"),feedback.call(i,"afterSaveCell",m,b,x,e,t),u.splice(0,1),delete a.editingInfo[m]):(o.call(i,d,l[1],c),r.jqGrid("restoreCell",e,t))}},error:function(n,s,l){r.triggerHandler("jqGridErrorCell",[n,s,l]),$.isFunction(a.errorCell)?a.errorCell.call(i,n,s,l):o.call(i,d,n.status+" : "+n.statusText+"<br/>"+s,c),r.jqGrid("restoreCell",e,t)}},jgrid.ajaxOptions,a.ajaxCellOptions||{}))}else try{o.call(i,d,l.nourl,c),r.jqGrid("restoreCell",e,t)}catch(s){}if("clientArray"===a.cellsubmit){if(r.jqGrid("setCell",m,t,"select"===v.edittype&&"select"!==v.formatter?w.text:x,!1,!1,!0),y.addClass("dirty-cell"),g.addClass("edited"),feedback.call(i,"afterSaveCell",m,b,x,e,t),a.frozenColumns&&t<r.jqGrid("getNumberOfFrozenColumns"))try{i.rows[f.rowIndex].cells[t].style.height=""}catch(s){}u.splice(0,1),delete a.editingInfo[m]}}else try{setTimeout((function(){var e=jgrid.getRelativeRect.call(i,y);o.call(i,d,x+" "+_[1],c,{top:e.top,left:e.left+$(i).closest(".ui-jqgrid").offset().left})}),50),r.jqGrid("restoreCell",e,t)}catch(s){}}else r.jqGrid("restoreCell",e,t)}setTimeout((function(){$("#"+s(a.knv)).attr("tabindex","-1").focus()}),0)}}))},restoreCell:function(e,t){return this.each((function(){var i,r,a,n=this,o=n.p,s=n.rows[e],l=s.id;if(n.grid&&!0===o.cellEdit){var d=o.savedRow,c=getTdByColumnIndex.call(n,s,t);if(1<=d.length){if($.isFunction($.fn.datepicker))try{$("input.hasDatepicker",c).datepicker("hide")}catch(i){}if(r=o.colModel[t],!0===o.treeGrid&&null!=r&&r.name===o.ExpandColumn?c.children("span.cell-wrapperleaf,span.cell-wrapper").empty():c.empty(),c.attr("tabindex","-1"),i=d[0].v,null!=r&&(a=r.formatoptions||{},"date"===r.formatter&&!0!==a.sendFormatted&&(i=$.unformat.date.call(n,i,r)),$(n).jqGrid("setCell",l,t,i,!1,!1,!0),o.frozenColumns&&t<$(n).jqGrid("getNumberOfFrozenColumns")))try{n.rows[s.rowIndex].cells[t].style.height=""}catch(i){}feedback.call(n,"afterRestoreCell",l,i,e,t),d.splice(0,1),delete o.editingInfo[l]}setTimeout((function(){$("#"+o.knv).attr("tabindex","-1").focus()}),0)}}))},nextCell:function(e,t){return this.each((function(){var i,r,a,n=this,o=$(n),s=n.p,l=!1,d=n.rows;if(n.grid&&!0===s.cellEdit&&null!=d&&null!=d[e]){for(i=t+1;i<s.colModel.length;i++)if(r=(a=s.colModel[i]).editable,$.isFunction(r)&&(r=r.call(n,{rowid:d[e].id,iCol:i,iRow:e,cmName:a.name,cm:a,mode:"cell"})),!0===r){l=i;break}!1!==l?o.jqGrid("editCell",e,l,!0):0<s.savedRow.length&&o.jqGrid("saveCell",e,t)}}))},prevCell:function(e,t){return this.each((function(){var i,r,a,n=this,o=$(n),s=n.p,l=!1,d=n.rows;if(n.grid&&!0===s.cellEdit&&null!=d&&null!=d[e]){for(i=t-1;0<=i;i--)if(r=(a=s.colModel[i]).editable,$.isFunction(r)&&(r=r.call(n,{rowid:d[e].id,iCol:i,iRow:e,cmName:a.name,cm:a,mode:"cell"})),!0===r){l=i;break}!1!==l?o.jqGrid("editCell",e,l,!0):0<s.savedRow.length&&o.jqGrid("saveCell",e,t)}}))},GridNav:function(){return this.each((function(){var e,t,i=this,r=$(i),a=i.p,n=i.grid;if(n&&!0===a.cellEdit){var o=n.bDiv;a.knv=a.id+"_kn";var s=$("<div style='position:fixed;top:0px;width:1px;height:1px;' tabindex='0'><div tabindex='-1' style='width:1px;height:1px;' id='"+a.knv+"'></div></div>");$(s).insertBefore(n.cDiv),$("#"+a.knv).focus().keydown((function(n){var o=parseInt(a.iRow,10),s=parseInt(a.iCol,10);switch(t=n.keyCode,"rtl"===a.direction&&(37===t?t=39:39===t&&(t=37)),t){case 38:0<o-1&&(l(o-1,s,"vu"),r.jqGrid("editCell",o-1,s,!1));break;case 40:o+1<=i.rows.length-1&&(l(o+1,s,"vd"),r.jqGrid("editCell",o+1,s,!1));break;case 37:0<=s-1&&(l(o,e=d(s-1,"lft"),"h"),r.jqGrid("editCell",o,e,!1));break;case 39:s+1<=a.colModel.length-1&&(l(o,e=d(s+1,"rgt"),"h"),r.jqGrid("editCell",o,e,!1));break;case 13:0<=s&&0<=o&&r.jqGrid("editCell",o,s,!0);break;default:return!0}return!1}))}function l(e,t,r){var a=i.rows[e];if("v"===r.substr(0,1)){var n=o.clientHeight,s=o.scrollTop,l=a.offsetTop+a.clientHeight,d=a.offsetTop;"vd"===r&&s+n<=l&&(o.scrollTop=o.scrollTop+a.clientHeight),"vu"===r&&d<s&&(o.scrollTop=o.scrollTop-a.clientHeight)}if("h"===r){var c=o.clientWidth,u=o.scrollLeft,h=a.cells[t],p=h.offsetLeft+h.clientWidth,f=h.offsetLeft;p>=c+parseInt(u,10)?o.scrollLeft=o.scrollLeft+h.clientWidth:f<u&&(o.scrollLeft=o.scrollLeft-h.clientWidth)}}function d(e,t){var i,r=0,n=a.colModel;if("lft"===t)for(r=e+1,i=e;0<=i;i--)if(!0!==n[i].hidden){r=i;break}if("rgt"===t)for(r=e-1,i=e;i<n.length;i++)if(!0!==n[i].hidden){r=i;break}return r}}))},getChangedCells:function(e){var t=[];return e||(e="all"),this.each((function(){var i=this,r=i.p,a=jgrid.htmlDecode,n=i.rows;i.grid&&!0===r.cellEdit&&$(n).each((function(o){var s={};if($(this).hasClass("edited")){var l=this;$(this.cells).each((function(t){var d=r.colModel[t],c=d.name,u=getTdByColumnIndex.call(i,l,t);if("cb"!==c&&"subgrid"!==c&&"rn"!==c&&("dirty"!==e||u.hasClass("dirty-cell")))try{s[c]=$.unformat.call(i,u[0],{rowId:n[o].id,colModel:d},t)}catch(t){s[c]=a(u.html())}})),s.id=this.id,t.push(s)}}))})),t}});var getGuiStyles=base.getGuiStyles,getGridRes=base.getGridRes;jgrid.jqModal=jgrid.jqModal||{},$.extend(!0,jgrid.jqModal,{toTop:!0}),$.extend(jgrid,{showModal:function(e){e.w.show()},closeModal:function(e){e.w.hide().attr("aria-hidden","true"),e.o&&e.o.remove()},hideModal:function(e,t){var i=!(!(t=$.extend({jqm:!0,gb:"",removemodal:!1},t||{})).gb||"string"!=typeof t.gb||"#gbox_"!==t.gb.substr(0,6))&&$("#"+t.gb.substr(6))[0],r=$(e);if(t.onClose){var a=i?t.onClose.call(i,e):t.onClose(e);if("boolean"==typeof a&&!a)return}if($.fn.jqm&&!0===t.jqm)r.attr("aria-hidden","true").jqmHide();else{if(""!==t.gb)try{$(">.jqgrid-overlay",t.gb).first().hide()}catch(e){}r.hide().attr("aria-hidden","true")}t.removemodal&&r.remove()},createModal:function(e,t,i,r,a,n,o){var s=jgrid.jqID,l=this.p;i=$.extend(!0,{resizingRightBottomIcon:base.getIconRes.call(this,"form.resizableLtr")},jgrid.jqModal||{},null!=l&&l.jqModal||{},i);var d=document.createElement("div"),c="#"+s(e.themodal),u="rtl"===$(i.gbox).attr("dir"),h=!!e.resizeAlso&&"#"+s(e.resizeAlso);o=$.extend({},o||{}),d.className=getGuiStyles.call(this,"dialog.window","ui-jqdialog"),d.id=e.themodal,d.dir=u?"rtl":"ltr";var p=document.createElement("div");p.className=getGuiStyles.call(this,"dialog.document"),$(p).attr("role","document");var f=document.createElement("div");f.className=getGuiStyles.call(this,"dialog.subdocument"),p.appendChild(f),d.appendChild(p);var m=document.createElement("div");m.className=getGuiStyles.call(this,"dialog.header","ui-jqdialog-titlebar "+(u?"ui-jqdialog-titlebar-rtl":"ui-jqdialog-titlebar-ltr")),m.id=e.modalhead,$(m).append("<span class='ui-jqdialog-title'>"+i.caption+"</span>");var g=getGuiStyles.call(this,"states.hover"),v=$("<a aria-label='Close' class='"+getGuiStyles.call(this,"dialog.closeButton","ui-jqdialog-titlebar-close")+"'></a>").hover((function(){v.addClass(g)}),(function(){v.removeClass(g)})).append("<span class='"+base.getIconRes.call(this,"form.close")+"'></span>");$(m).append(v);var b=document.createElement("div");$(b).addClass(getGuiStyles.call(this,"dialog.content","ui-jqdialog-content")).attr("id",e.modalcontent),$(b).append(t),f.appendChild(b),$(f).prepend(m),!0===n?$("body").append(d):"string"==typeof n?$(n).append(d):$(d).insertBefore(r),$(d).css(o),void 0===i.jqModal&&(i.jqModal=!0);var y={};if($.fn.jqm&&!0===i.jqModal?(0===i.left&&0===i.top&&i.overlay&&((i=$(a).offset()).left+=4,i.top+=4),y.top=i.top+"px",y.left=i.left):0===i.left&&0===i.top||(y.left=i.left,y.top=i.top+"px"),$("a.ui-jqdialog-titlebar-close",m).click((function(){var e=$(c).data("onClose")||i.onClose,t=$(c).data("gbox")||i.gbox;return jgrid.hideModal(c,{gb:t,jqm:i.jqModal,onClose:e,removemodal:i.removemodal||!1}),!1})),0!==i.width&&i.width||(i.width=300),0!==i.height&&i.height||(i.height=200),!i.zIndex){var w=$(r).parents("*[role=dialog]").first().css("z-index");w?(i.zIndex=parseInt(w,10)+2,i.toTop=!0):i.zIndex=950}if(y.left&&(y.left+="px"),$(d).css($.extend({width:isNaN(i.width)?"auto":i.width+"px",height:isNaN(i.height)?"auto":i.height+"px",zIndex:i.zIndex},y)).attr({tabIndex:"-1",role:"dialog","aria-labelledby":e.modalhead,"aria-hidden":"true"}),void 0===i.drag&&(i.drag=!0),void 0===i.resize&&(i.resize=!0),i.drag)if($.fn.jqDrag)$(m).css("cursor","move"),$(d).jqDrag(m);else try{$(d).draggable({handle:$("#"+s(m.id))})}catch(e){}if(i.resize)if($.fn.jqResize)$(b).append("<div class='jqResize ui-resizable-handle ui-resizable-se "+i.resizingRightBottomIcon+"'></div>"),$(c).jqResize(".jqResize",h);else try{$(d).resizable({handles:"se, sw",alsoResize:h})}catch(e){}!0===i.closeOnEscape&&$(d).keydown((function(e){if(27===e.which){var t=$(c).data("onClose")||i.onClose;jgrid.hideModal(c,{gb:i.gbox,jqm:i.jqModal,onClose:t,removemodal:i.removemodal||!1,formprop:!i.recreateForm||!1,form:i.form||""})}}))},viewModal:function(e,t){if(t=$.extend(!0,{overlay:30,modal:!1,overlayClass:getGuiStyles.call(this,"overlay"),onShow:jgrid.showModal,onHide:jgrid.closeModal,gbox:"",jqm:!0,jqM:!0},jgrid.jqModal||{},t||{}),$.fn.jqm&&!0===t.jqm)t.jqM?$(e).attr("aria-hidden","false").jqm(t).jqmShow():$(e).attr("aria-hidden","false").jqmShow();else{""!==t.gbox&&($(">.jqgrid-overlay",t.gbox).first().show(),$(e).data("gbox",t.gbox)),$(e).show().attr("aria-hidden","false");try{$(":input:visible",e)[0].focus()}catch(e){}}},info_dialog:function(e,t,i,r){var a=this,n=a.p,o=$.extend(!0,{width:290,height:"auto",dataheight:"auto",drag:!0,resize:!1,left:250,top:170,zIndex:1e3,jqModal:!0,modal:!1,closeOnEscape:!0,align:"center",buttonalign:"center",buttons:[]},jgrid.jqModal||{},null!=n&&n.jqModal||{},{caption:"<b>"+e+"</b>"},r||{}),s=o.jqModal;$.fn.jqm&&!s&&(s=!1);var l,d="",c=getGuiStyles.call(a,"states.hover");if(0<o.buttons.length)for(l=0;l<o.buttons.length;l++)void 0===o.buttons[l].id&&(o.buttons[l].id="info_button_"+l),d+=jgrid.builderFmButon.call(a,o.buttons[l].id,o.buttons[l].text);var u=isNaN(o.dataheight)?o.dataheight:o.dataheight+"px",h="text-align:"+o.align+";",p=$("#info_dialog"),f="<div id='info_id'>";f+="<div id='infocnt' style='margin:0px;padding-bottom:1em;width:100%;overflow:auto;position:relative;height:"+u+";"+h+"'>"+t+"</div>",(i||""!==d)&&(f+="<hr class='"+getGuiStyles.call(a,"dialog.hr")+"' style='margin:1px'/><div style='text-align:"+o.buttonalign+";padding:.8em 0 .5em 0;background-image:none;border-width: 1px 0 0 0;'>"+(i?jgrid.builderFmButon.call(a,"closedialog",i):"")+d+"</div>"),f+="</div>";try{"false"===p.attr("aria-hidden")&&jgrid.hideModal("#info_dialog",{jqm:s}),p.remove()}catch(e){}jgrid.createModal.call(a,{themodal:"info_dialog",modalhead:"info_head",modalcontent:"info_content",resizeAlso:"infocnt"},f,o,"","",!0),p=$("#info_dialog"),d&&$.each(o.buttons,(function(){$("#"+jgrid.jqID(this.id),"#info_id").on("click",{click:this.onClick},(function(e){return $.isFunction(e.data.click)&&e.data.click.call(a,e,p),!1}))})),$("#closedialog","#info_id").click((function(){return jgrid.hideModal("#info_dialog",{jqm:s,onClose:p.data("onClose")||o.onClose,gb:p.data("gbox")||o.gbox}),!1})),$(".fm-button","#info_dialog").hover((function(){$(this).addClass(c)}),(function(){$(this).removeClass(c)})),$.isFunction(o.beforeOpen)&&o.beforeOpen(),jgrid.viewModal.call(a,"#info_dialog",{onHide:function(e){e.w.hide().remove(),e.o&&e.o.remove()},modal:o.modal,jqm:s}),$.isFunction(o.afterOpen)&&o.afterOpen();try{p.focus()}catch(e){}},bindEv:function(e,t){$.isFunction(t.dataInit)&&t.dataInit.call(this,e,t),t.dataEvents&&$.each(t.dataEvents,(function(){void 0!==this.data?$(e).on(this.type,"object"==typeof this.data&&null!==this.data?$.extend(!0,{},t,this.data):this.data,this.fn):$(e).on(this.type,t,this.fn)}))},createEl:function(e,t,i,r,a){var n="",o=this,s=o.p,l=jgrid.info_dialog,d=function(e){return getGridRes.call($(o),e)},c=d("errors.errcap"),u=d("edit"),h=u.msg,p=u.bClose;function f(e,t,i){var r=["dataInit","dataEvents","dataUrl","buildSelect","sopt","searchhidden","defaultValue","attr","custom_element","custom_value","generateValue","postData","selectFilled","rowId","column","mode","cm","iCol"];void 0!==i&&$.isArray(i)&&$.merge(r,i),$.each(t,(function(t,i){-1===$.inArray(t,r)&&$(e).attr(t,i)})),t.hasOwnProperty("id")||$(e).attr("id",jgrid.randId())}if(null==t)return"";switch(e){case"textarea":n=document.createElement("textarea"),r?t.cols||$(n).css({width:"100%","box-sizing":"border-box"}):t.cols||(t.cols=19),t.rows||(t.rows=2),("&nbsp;"===i||"&#160;"===i||1===i.length&&160===i.charCodeAt(0))&&(i=""),n.value=i,f(n,t),$(n).attr({role:"textbox"});break;case"checkbox":if((n=document.createElement("input")).type="checkbox",""!==i&&null!=i||(i=t.hasOwnProperty("defaultValue")?$.isFunction(t.defaultValue)?t.defaultValue.call(o,{cellValue:i,options:t}):t.defaultValue:"false"),t.value){var m=t.value.split(":");i===m[0]&&(n.checked=!0,n.defaultChecked=!0),n.value=i,$(n).data("offval",m[1])}else{var g=String(i).toLowerCase();g.search(/(false|f|0|no|n|off|undefined)/i)<0&&""!==g?(n.checked=!0,n.defaultChecked=!0,n.value=i):n.value="on",$(n).data("offval","off")}f(n,t,["value"]),$(n).attr({role:"checkbox","aria-checked":n.checked?"true":"false"});break;case"select":n=document.createElement("select");var v,b=[],y=null;!0===t.multiple||"multiple"===t.multiple?(v=!0,n.multiple="multiple",$(n).attr("aria-multiselectable","true"),b=i.split(","),b=$.map(b,(function(e){return $.trim(e)}))):(v=!1,b[0]=$.trim(i)),void 0===t.size&&(t.size=v?3:1);try{y=t.rowId}catch(e){}if(s&&s.idPrefix&&(y=jgrid.stripPref(s.idPrefix,y)),void 0===t.dataUrl&&t.generateValue&&null!=s.indexByColumnData[t.cm.name]&&(t.value=o.generateValueFromColumnIndex(t.cm.name,t.separator,t.delimiter)),void 0!==t.dataUrl){var w=t.postData||a.postData,x={elem:n,options:t,cm:t.cm,mode:t.mode,rowid:y,iCol:t.iCol,ovm:b};f(n,t,w?["postData"]:void 0),$.ajax($.extend({url:$.isFunction(t.dataUrl)?t.dataUrl.call(o,y,i,String(t.name),x):t.dataUrl,type:"GET",dataType:"html",data:$.isFunction(w)?w.call(o,y,i,String(t.name)):w,context:x,success:function(e,t,i){var r=this.ovm,a=this.elem,n=this.cm,s=this.iCol,l=$.extend({},this.options),d=this.rowid,c=this.mode,u=$.isFunction(l.buildSelect)?l.buildSelect.call(o,e,i,n,s):e;"string"==typeof u&&(u=$($.trim(u)).html()),u&&($(a).append(u),setTimeout((function(){var e;$("option",a).each((function(t){0===t&&a.multiple&&(this.selected=!1),-1<$.inArray($.trim($(this).val()),r)&&(this.selected=!0,e=!0)})),e||$("option",a).each((function(){-1<$.inArray($.trim($(this).text()),r)&&(this.selected=!0)})),jgrid.fullBoolFeedback.call(o,l.selectFilled,"jqGridSelectFilled",{elem:a,options:l,cm:n,rowid:d,mode:c,cmName:null!=n?n.name:l.name,iCol:s})}),0))}},a||{}))}else t.value&&(jgrid.fillSelectOptions(n,t.value,void 0===t.separator?":":t.separator,void 0===t.delimiter?";":t.delimiter,v,i),f(n,t,["value"]),jgrid.fullBoolFeedback.call(o,t.selectFilled,"jqGridSelectFilled",{elem:n,options:t,cm:t.cm,rowid:y,mode:t.mode,cmName:null!=t.cm?t.cm.name:t.name,iCol:t.iCol}));break;case"text":case"password":case"button":var _;_="button"===e?"button":"textbox",(n=document.createElement("input")).type=e,f(n,t),n.value=i,"button"!==e&&(r?t.size||$(n).css({width:"100%","box-sizing":"border-box"}):t.size||(t.size=20)),$(n).attr("role",_);break;case"image":case"file":(n=document.createElement("input")).type=e,f(n,t);break;case"custom":n=document.createElement("span");try{if(!$.isFunction(t.custom_element))throw"editoptions.custom_element is not a function";var C=t.custom_element.call(o,i,t);if(!(C instanceof jQuery||jgrid.isHTMLElement(C)||"string"==typeof C))throw"editoptions.custom_element returns value of a wrong type";C=$(C).addClass("customelement").attr({id:t.id,name:t.name}),$(n).empty().append(C)}catch(e){"e1"===e&&l.call(o,c,"function 'custom_element' "+h.nodefined,p),"e2"===e?l.call(o,c,"function 'custom_element' "+h.novalue,p):l.call(o,c,"string"==typeof e?e:e.message,p)}}return n},checkDate:function(e,t){var i,r={};if(i=-1!==(e=e.toLowerCase()).indexOf("/")?"/":-1!==e.indexOf("-")?"-":-1!==e.indexOf(".")?".":"/",e=e.split(i),3!==(t=t.split(i)).length)return!1;var a,n,o,s,l,d=-1,c=-1,u=-1;for(n=0;n<e.length;n++)o=isNaN(t[n])?0:parseInt(t[n],10),r[e[n]]=o,-1!==(a=e[n]).indexOf("y")&&(d=n),-1!==a.indexOf("m")&&(u=n),-1!==a.indexOf("d")&&(c=n);return a="y"===e[d]||"yyyy"===e[d]?4:"yy"===e[d]?2:-1,-1!==d&&(s=r[e[d]].toString(),2===a&&1===s.length&&(a=1),!(s.length!==a||0===r[e[d]]&&"00"!==t[d]||-1===u||(s=r[e[u]].toString()).length<1||r[e[u]]<1||12<r[e[u]]||-1===c||(s=r[e[c]].toString()).length<1||r[e[c]]<1||31<r[e[c]]||2===r[e[u]]&&r[e[c]]>((l=r[e[d]])%4!=0||l%100==0&&l%400!=0?28:29)||r[e[c]]>[0,31,29,31,30,31,30,31,31,30,31,30,31][r[e[u]]]))},isEmpty:function(e){return!(!e.match(/^\s+$/)&&""!==e)},checkTime:function(e){var t;if(!jgrid.isEmpty(e)){if(!(t=e.match(/^(\d{1,2}):(\d{2})([apAP][Mm])?$/)))return!1;if(t[3]){if(t[1]<1||12<t[1])return!1}else if(23<t[1])return!1;if(59<t[2])return!1}return!0},checkValues:function(e,t,i,r,a){var n,o,s,l,d,c=this,u=c.p,h=u.colModel,p=jgrid.isEmpty,f=getGridRes.call($(c),"edit.msg"),m=function(e){var t=n[e];return $.isFunction(t)?t.call(c,a):t},g=getGridRes.call($(c),"formatter.date.masks");if(void 0===i){if("string"==typeof t&&(t=u.iColByName[t]),void 0===t||t<0)return[!0,"",""];l=h[t],n=l.editrules,null!=l.formoptions&&(o=l.formoptions.label)}else n=i,o=void 0===r?"_":r,l=h[t];if(n){if(o||(o=null!=u.colNames?u.colNames[t]:l.label),!0===m("required")&&p(e))return[!1,o+": "+f.required,""];var v=!1!==m("required");if(!0===m("number")&&(!1!==v||!p(e))&&isNaN(e))return[!1,o+": "+f.number,""];if(void 0!==n.minValue&&!isNaN(n.minValue)&&parseFloat(e)<parseFloat(n.minValue))return[!1,o+": "+f.minValue+" "+n.minValue,""];if(void 0!==n.maxValue&&!isNaN(n.maxValue)&&parseFloat(e)>parseFloat(n.maxValue))return[!1,o+": "+f.maxValue+" "+n.maxValue,""];if(!0===m("email")&&!(!1===v&&p(e)||/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?$/i.test(e)))return[!1,o+": "+f.email,""];if(!0===m("integer")&&(!1!==v||!p(e))){if(isNaN(e))return[!1,o+": "+f.integer,""];if(e%1!=0||-1!==e.indexOf("."))return[!1,o+": "+f.integer,""]}if(!0===m("date")&&!(!1===v&&p(e)||(l.formatoptions&&l.formatoptions.newformat?(s=l.formatoptions.newformat,g.hasOwnProperty(s)&&(s=g[s])):s=h[t].datefmt||"Y-m-d",jgrid.checkDate(s,e))))return[!1,o+": "+f.date+" - "+s,""];if(!0===m("time")&&!(!1===v&&p(e)||jgrid.checkTime(e)))return[!1,o+": "+f.date+" - hh:mm (am/pm)",""];if(!0===m("url")&&!(!1===v&&p(e)||/^(((https?)|(ftp)):\/\/([\-\w]+\.)+\w{2,3}(\/[%\-\w]+(\.\w{2,})?)*(([\w\-\.\?\\\/+@&#;`~=%!]*)(\.\w{2,})?)*\/?)/i.test(e)))return[!1,o+": "+f.url,""];if(!0===n.custom){if(!1!==v||!p(e))return $.isFunction(n.custom_func)?(d=n.custom_func.call(c,e,o,t),$.isArray(d)?d:[!1,f.customarray,""]):[!1,f.customfcheck,""]}else if($.isFunction(n.custom)&&(!1!==v||!p(e)))return d=n.custom.call(c,a),$.isArray(d)?d:[!1,f.customarray,""]}return[!0,"",""]}}),jgrid.extend({getColProp:function(e){var t,i=this[0];return null!=i&&i.grid&&void 0!==(t=i.p.iColByName[e])?i.p.colModel[t]:{}},setColProp:function(e,t){return this.each((function(){var i,r=this.p;this.grid&&null!=r&&t&&void 0!==(i=r.iColByName[e])&&$.extend(!0,r.colModel[i],t)}))},sortGrid:function(e,t,i){return this.each((function(){var r,a,n,o=this.grid,s=this.p,l=s.colModel,d=l.length,c=!1;if(o)for(e||(e=s.sortname),"boolean"!=typeof t&&(t=!1),a=0;a<d;a++)if((r=l[a]).index===e||r.name===e){!0===s.frozenColumns&&!0===r.frozen&&(c=o.fhDiv.find("#"+jqID(s.id+"_"+e))),c&&0!==c.length||(c=o.headers[a].el),("boolean"!=typeof(n=r.sortable)||n)&&this.sortData(r.index||r.name,a,t,i,c);break}}))},clearBeforeUnload:function(){return this.each((function(){var e,t=this,i=t.p,r=t.grid,a=jgrid.clearArray,n=Object.prototype.hasOwnProperty;$.isFunction(r.emptyRows)&&r.emptyRows.call(t,!0,!0),$(document).off("mousemove.jqGrid mouseup.jqGrid"+i.id),$(t).off();var o,s=r.headers.length;for(o=0;o<s;o++)r.headers[o].el=null;for(e in r)r.hasOwnProperty(e)&&(r.propOrMethod=null);var l=["formatCol","sortData","updatepager","refreshIndex","setHeadCheckBox","constructTr","clearToolbar","fixScrollOffsetAndhBoxPadding","rebuildRowIndexes","modalAlert","toggleToolbar","triggerToolbar","formatter","addXmlData","addJSONData","ftoolbar","_inlinenav","nav","grid","p"];for(s=l.length,o=0;o<s;o++)n.call(t,l[o])&&(t[l[o]]=null);t._index={},a(i.data),a(i.lastSelectedData),a(i.selarrrow),a(i.savedRow),i.editingInfo={}}))},GridDestroy:function(){return this.each((function(){var e=this.p;if(this.grid&&null!=e){e.pager&&$(e.pager).remove();try{$("#alertmod_"+jqID(e.id)).remove(),$(this).jqGrid("clearBeforeUnload"),$(e.gBox).remove()}catch(e){}}}))},GridUnload:function(){return this.each((function(){var e=$(this),t=this.p,i=$.fn.jqGrid;this.grid&&(e.removeClass(i.getGuiStyles.call(e,"grid","ui-jqgrid-btable")),t.pager&&(t.pager.substr(1,$.jgrid.uidPref.length)===$.jgrid.uidPref?$(t.pager).remove():$(t.pager).empty().removeClass(i.getGuiStyles.call(e,"pager.pager","ui-jqgrid-pager "+i.getGuiStyles.call(e,"bottom"))).removeAttr("style").removeAttr("dir")),e.jqGrid("clearBeforeUnload"),e.removeAttr("style").removeAttr("tabindex").removeAttr("role").removeAttr("aria-labelledby").removeAttr("style"),e.empty(),e.insertBefore(t.gBox).show(),$(t.pager).insertBefore(t.gBox).show(),$(t.gBox).remove())}))},setGridState:function(e){return this.each((function(){var t=this,i=t.p,r=t.grid,a=r.cDiv,n=$(r.uDiv),o=$(r.ubDiv);if(r&&null!=i){var s=function(e){return base.getIconRes.call(t,"gridMinimize."+e)},l=s("visible"),d=s("hidden");"hidden"===e?($(".ui-jqgrid-bdiv, .ui-jqgrid-hdiv",i.gView).slideUp("fast"),i.pager&&$(i.pager).slideUp("fast"),i.toppager&&$(i.toppager).slideUp("fast"),!0===i.toolbar[0]&&("both"===i.toolbar[1]&&o.slideUp("fast"),n.slideUp("fast")),i.footerrow&&$(".ui-jqgrid-sdiv",i.gBox).slideUp("fast"),$(".ui-jqgrid-titlebar-close span",a).removeClass(l).addClass(d),i.gridstate="hidden"):"visible"===e&&($(".ui-jqgrid-hdiv, .ui-jqgrid-bdiv",i.gView).slideDown("fast"),i.pager&&$(i.pager).slideDown("fast"),i.toppager&&$(i.toppager).slideDown("fast"),!0===i.toolbar[0]&&("both"===i.toolbar[1]&&o.slideDown("fast"),n.slideDown("fast")),i.footerrow&&$(".ui-jqgrid-sdiv",i.gBox).slideDown("fast"),$(".ui-jqgrid-titlebar-close span",a).removeClass(d).addClass(l),i.gridstate="visible")}}))},filterToolbar:function(e){return this.each((function(){var t=this,i=t.grid,r=$(t),a=t.p,n=jgrid.info_dialog,o=jgrid.htmlEncode;if(!this.ftoolbar){var s,l=$.extend(!0,{autosearch:!0,autosearchDelay:500,searchOnEnter:!0,beforeSearch:null,afterSearch:null,beforeClear:null,afterClear:null,searchurl:"",sField:"searchField",sValue:"searchString",sOper:"searchOper",sFilter:a.prmNames.filters,stringResult:!1,groupOp:"AND",defaultSearch:"bw",idMode:"new",searchOperators:!1,resetIcon:"&times;",applyLabelClasses:!0,loadFilterDefaults:!0,operands:{eq:"==",ne:"!",lt:"<",le:"<=",gt:">",ge:">=",bw:"^",bn:"!^",in:"=",ni:"!=",ew:"|",en:"!@",cn:"~",nc:"!~",nu:"#",nn:"!#"}},jgrid.search,a.searching||{},e||{}),d=a.colModel,c=function(e){return getGridRes.call(r,e)},u=c("errors.errcap"),h=c("edit.bClose"),p=c("edit.msg"),f=getGuiStyles.call(t,"states.hover"),m=getGuiStyles.call(t,"states.select"),g=getGuiStyles.call(t,"filterToolbar.dataField"),v={},b=function(e){var t="gs_";switch(l.idMode){case"compatibility":t+=a.idPrefix;break;case"new":t+=a.id+"_"}return t+e},y=function(e){return"#"+jqID(b(e))},w=function(e){var t=(e.value||"").split(":");return{on:t[0]||"on",off:t[1]||"off"}},x=function(e){var t,i,r,n,o,s,c=a.postData[l.sFilter],u={},h=a.iColByName;if(e)for(i=0;i<d.length;i++)!1!==(o=d[i]).search&&(s=o.searchoptions||{},u[o.name]={op:s.sopt?s.sopt[0]:"select"===o.stype||"checkbox"===o.stype?"eq":l.defaultSearch,data:void 0!==s.defaultValue?s.defaultValue:""});if(!c||!a.search)return u;if("string"==typeof c)try{c=$.parseJSON(c)}catch(e){c={}}else c=c||{};if(r=c.rules||{},null==c||null!=c.groupOp&&null!=l.groupOp&&c.groupOp.toUpperCase()!==l.groupOp.toUpperCase()||null==r||0===r.length||null!=c.groups&&0<c.groups.length)return u;for(i=0;i<r.length;i++)for(n=r[i],o=d[h[n.field]],t=0;t<d.length;t++)if(((o=d[t]).index||o.name)===n.field&&!1!==o.search){if((s=o.searchoptions||{}).sopt){if($.inArray(n.op,s.sopt)<0)continue}else if("select"===o.stype||"checkbox"===o.stype){if("eq"!==n.op)continue}else if(n.op!==l.defaultSearch)continue;u[o.name]={op:n.op,data:n.data}}return u},_=function(e,t){switch(t){case 1:e.data("state",1).prop({checked:!0,indeterminate:!1});break;case 0:e.data("state",0).prop({checked:!1,indeterminate:!1});break;default:e.data("state",-1).prop({checked:!1,indeterminate:!0})}},C=function(){var e={},n=0,o={};$.each(d,(function(){var r,s,d=this,u=d.index||d.name,h=d.searchoptions||{},p=$(y(d.name),!0===d.frozen&&!0===a.frozenColumns?i.fhDiv:i.hDiv),f=function(e,t){var i=d.formatoptions||{};return void 0!==i[e]?i[e]:c("formatter."+(t||d.formatter)+"."+e)},m=function(e){var t=f("thousandsSeparator").replace(/([\.\*\_\'\(\)\{\}\+\?\\])/g,"\\$1");return e.replace(new RegExp(t,"g"),"")};if(s=l.searchOperators?p.parent().prev().children("a").data("soper")||l.defaultSearch:h.sopt?h.sopt[0]:"select"===d.stype||"checkbox"===d.stype?"eq":l.defaultSearch,"custom"===d.stype&&$.isFunction(h.custom_value)&&0<p.length&&"SPAN"===p[0].nodeName.toUpperCase())r=h.custom_value.call(t,p.children(".customelement").first(),"get");else if("select"===d.stype)r=p.prop("multiple")?null==(r=p.val())||0===r.length?"":r.join(a.inFilterSeparator||","):p.val();else if("checkbox"===d.stype){var g=w(h);switch(p.data("state")){case-1:r="";break;case 0:r=g.off;break;default:r=g.on}}else switch(r=$.trim(p.val()),d.formatter){case"integer":""!==(r=m(r).replace(f("decimalSeparator","number"),"."))&&(r=String(parseInt(r,10)));break;case"number":""!==(r=m(r).replace(f("decimalSeparator"),"."))&&"0"===String(r).charAt(0)&&(r=String(parseFloat(r)));break;case"currency":var v=f("prefix"),b=f("suffix");v&&v.length&&r.substr(0,v.length)===v&&(r=r.substr(v.length)),b&&b.length&&r.length>b.length&&r.substr(r.length-b.length,b.length)===b&&(r=r.substr(0,r.length-b.length)),""!==(r=m(r).replace(f("decimalSeparator"),"."))&&(r=String(parseFloat(r)))}if(r||"nu"===s||"nn"===s||0<=$.inArray(s,a.customUnaryOperations))e[u]=r,o[u]=s,n++;else if(e.hasOwnProperty(u)&&delete e[u],!l.stringResult&&!l.searchOperators&&"local"!==a.datatype)try{null!=a.postData&&a.postData.hasOwnProperty(u)&&delete a.postData[u]}catch(r){}}));var s,u=0<n;if(l.stringResult||l.searchOperators||"local"===a.datatype){var h='{"groupOp":"'+l.groupOp+'","rules":[',p=0;$.each(e,(function(e,t){0<p&&(h+=","),h+='{"field":"'+e+'",',h+='"op":"'+o[e]+'",',h+='"data":"'+(t+="").replace(/\\/g,"\\\\").replace(/\"/g,'\\"')+'"}',p++})),h+="]}",a.postData[l.sFilter]=h,$.each([l.sField,l.sValue,l.sOper],(function(e,t){a.postData.hasOwnProperty(t)&&delete a.postData[t]}))}else $.extend(a.postData,e);a.searchurl&&(s=a.url,r.jqGrid("setGridParam",{url:a.searchurl}));var f="stop"===r.triggerHandler("jqGridToolbarBeforeSearch");!f&&$.isFunction(l.beforeSearch)&&(f=l.beforeSearch.call(t)),f||r.jqGrid("setGridParam",{search:u}).trigger("reloadGrid",[$.extend({page:1},l.reloadGridSearchOptions||{})]),s&&r.jqGrid("setGridParam",{url:s}),r.triggerHandler("jqGridToolbarAfterSearch"),$.isFunction(l.afterSearch)&&l.afterSearch.call(t)},j=c("search.odata")||[],D=a.customSortOperations,S=[],k=$("<tr></tr>",{class:"ui-search-toolbar",role:"row form"});l.loadFilterDefaults&&(v=x()||{}),$.each(d,(function(e){var i,o,d,m,y,w,x,O=this,F="filter",I=O.searchoptions||{},q=O.editoptions||{},R=$("<th></th>",{class:getGuiStyles.call(t,"colHeaders","ui-th-column ui-th-"+a.direction+" "+(l.applyLabelClasses&&O.labelClasses||"")),role:"gridcell","aria-describedby":a.id+"_"+O.name}),M=$("<div></div>"),T=$("<table class='ui-search-table'><tbody><tr><td class='ui-search-oper'></td><td class='ui-search-input'></td><td class='ui-search-clear' style='width:1px'></td></tr></tbody></table>"),N=T.children("tbody").children("tr").children("td"),G=N.eq(0),E=N.eq(1),A=N.eq(2);if(!0===this.hidden&&R.css("display","none"),this.search=!1!==this.search,void 0===this.stype&&(this.stype="text"),i=$.extend({mode:F,name:O.name,cm:O,iCol:e,id:b(O.name)},I),this.search){if(l.searchOperators){for(m=a.search&&null!=v[this.name]?v[this.name].op:i.sopt?i.sopt[0]:"select"===O.stype||"checkbox"===O.stype?"eq":l.defaultSearch,y=0;y<j.length;y++)if(j[y].oper===m){d=l.operands[m]||"";break}var z;if(void 0===d&&null!=D)for(z in D)if(D.hasOwnProperty(z)&&z===m){d=D[z].operand;break}void 0===d&&(d="="),G.append("<a title='"+(null!=i.searchtitle?i.searchtitle:c("search.operandTitle"))+"' data-soper='"+m+"' class='"+getGuiStyles.call(t,"searchToolbar.operButton","soptclass")+"' data-colname='"+this.name+"'>"+d+"</a>")}if(G.data("colindex",e),null!=i.sopt&&1!==i.sopt.length||G.hide(),a.search&&null!=v[this.name]&&(i.defaultValue=v[this.name].data),void 0===i.clearSearch&&(i.clearSearch="text"===this.stype),i.clearSearch){var P=$.isFunction(l.resetTitle)?l.resetTitle.call(t,{options:l,cm:O,cmName:O.name,iCol:e}):(c("search.resetTitle")||"Clear Search Value")+" "+jgrid.stripHtml(a.colNames[e]);A.append("<a title='"+P+"' aria-label='"+P+"' class='"+getGuiStyles.call(t,"searchToolbar.clearButton","clearsearchclass")+"'><span>"+l.resetIcon+"</span></a>")}else A.hide();switch(M.append(T),this.stype){case"checkbox":var B=void 0!==i.defaultValue?i.defaultValue:"-1";x=$("<input role='search' type='checkbox' class='"+g+"' name='"+(O.index||O.name)+"' id='"+b(O.name)+"' aria-labelledby='jqgh_"+a.id+"_"+O.name+"' data-state='"+B+"'/>"),"-1"===B?x.prop("indeterminate",!0):"1"===B&&x.prop("checked",!0),x.click((function(){var e=$(this);switch(e.data("state")){case-1:_(e,1);break;case 0:_(e,-1);break;default:_(e,0)}!0===l.autosearch&&C()})),E.append(x),i.attr&&x.attr(i.attr),S.push({elem:x[0],options:i});break;case"select":var L,H,V;if(o=this.surl||i.dataUrl)$.ajax($.extend({url:o,context:{$tdInput:E,options:i,cm:O,iCol:e},dataType:"html",success:function(e,r,a){var n,o,s,d=this.cm,c=this.iCol,u=this.options,h=this.$tdInput;void 0!==u.buildSelect?(n=u.buildSelect.call(t,e,a,d,c))&&h.append(n):h.append(e),(s=h.children("select")).attr({name:d.index||d.name,id:b(d.name)}),u.attr&&s.attr(u.attr),s.addClass(g),s.css({width:"100%"}),0===s.find("option[value='']").length&&"string"==typeof i.noFilterText&&((o=document.createElement("option")).value="",o.innerHTML=i.noFilterText,s.prepend(o),null!=$(s[0].options[s[0].selectedIndex]).attr("selected")||s[0].multiple||(s[0].selectedIndex=0)),s[0].multiple&&0===s.find("option[selected]").length&&-1!==s[0].selectedIndex&&(s[0].options[s[0].selectedIndex].selected=!1),void 0!==u.defaultValue&&s.val(u.defaultValue),jgrid.bindEv.call(t,s[0],u),jgrid.fullBoolFeedback.call(t,u.selectFilled,"jqGridSelectFilled",{elem:s[0],options:u,cm:d,cmName:d.name,iCol:c,mode:F}),!0===l.autosearch&&s.change((function(){return C(),!1}))}},jgrid.ajaxOptions,a.ajaxSelectOptions||{}));else if(O.searchoptions?(L=void 0===I.value?q.value||"":I.value,H=void 0===I.separator?q.separator||":":I.separator,V=void 0===I.delimiter?q.delimiter||";":I.delimiter):O.editoptions&&(L=void 0===q.value?"":q.value,H=void 0===q.separator?":":q.separator,V=void 0===q.delimiter?";":q.delimiter),I.generateValue&&null!=a.indexByColumnData[O.name]&&(L=t.generateValueFromColumnIndex(O.name,H,V)),L){if((w=document.createElement("select")).style.width="100%",x=$(w).attr({name:O.index||O.name,role:"search",id:b(O.name),"aria-describedby":a.id+"_"+O.name}),i.attr&&x.attr(i.attr),!jgrid.fillSelectOptions(w,L,H,V,null!=i.attr&&i.attr.multiple)&&"string"==typeof i.noFilterText){var W=document.createElement("option");W.value="",W.innerHTML=i.noFilterText,W.selected=!0,x.prepend(W)}void 0!==i.defaultValue&&x.val(i.defaultValue),x.addClass(g),S.push({elem:w,options:i}),E.append(w),jgrid.fullBoolFeedback.call(t,i.selectFilled,"jqGridSelectFilled",{elem:w,options:O.searchoptions||q,cm:O,cmName:O.name,iCol:e,mode:F}),!0===l.autosearch&&x.change((function(){return C(),!1}))}break;case"text":if(x=$("<input role='search' type='text' class='"+g+"' name='"+(O.index||O.name)+"' id='"+b(O.name)+"' aria-labelledby='jqgh_"+a.id+"_"+O.name+"' value='"+(void 0!==i.defaultValue?i.defaultValue:"")+"'/>"),E.append(x),O.createColumnIndex&&i.generateDatalist){var U="dl_"+b(O.name),Y=r.jqGrid("generateDatalistFromColumnIndex",O.name);null!=Y&&0<Y.length&&(x.attr("list",U),E.append(Y.attr("id",U)))}i.attr&&x.attr(i.attr),S.push({elem:x[0],options:i}),!0===l.autosearch&&(l.searchOnEnter?x.keypress((function(e){return 13===(e.charCode||e.keyCode||0)?(C(),!1):this})):x.keydown((function(e){switch(e.which){case 13:return!1;case 9:case 16:case 37:case 38:case 39:case 40:case 27:break;default:s&&clearTimeout(s),s=setTimeout((function(){C()}),l.autosearchDelay)}})));break;case"custom":E.append("<span style='width:100%;padding:0;box-sizing:border-box;' name='"+(O.index||O.name)+"' id='"+b(O.name)+"'/>");try{if(!$.isFunction(i.custom_element))throw"e1";var X=i.custom_element.call(t,void 0!==i.defaultValue?i.defaultValue:"",i);if(!X)throw"e2";X=$(X).addClass("customelement"),M.find("span[name='"+(O.index||O.name)+"']").append(X)}catch(e){"e1"===e&&n.call(t,u,"function 'custom_element' "+p.nodefined,h),"e2"===e?n.call(t,u,"function 'custom_element' "+p.novalue,h):n.call(t,u,"string"==typeof e?e:e.message,h)}}}R.append(M),R.find(".ui-search-oper .soptclass,.ui-search-clear .clearsearchclass").hover((function(){$(this).addClass(f)}),(function(){$(this).removeClass(f)})),k.append(R),l.searchOperators||G.hide()})),$(i.hDiv).find(">div>.ui-jqgrid-htable>thead").append(k),$.each(S,(function(){jgrid.bindEv.call(t,this.elem,this.options)})),l.searchOperators&&($(".soptclass",k).click((function(e){var i=$(this).offset();!function(e,i,n){$("#sopt_menu").remove(),i=parseInt(i,10),n=parseInt(n,10)+18;var s,c,u=0,h=[],p=$(e).data("soper"),g=$(e).data("colname"),v=$(".ui-jqgrid-view").css("font-size")||"11px",b="<ul id='sopt_menu' class='"+getGuiStyles.call(t,"searchToolbar.menu","ui-search-menu")+"' role='menu' tabindex='0' style='z-index:9999;display:block;font-size:"+v+";left:"+i+"px;top:"+n+"px;'>";if(void 0!==(u=a.iColByName[g])){var y,w,x,_,S,k=d[u],O=$.extend({},k.searchoptions);for(O.sopt||(O.sopt=[],O.sopt[0]="select"===k.stype||"checkbox"===k.stype?"eq":l.defaultSearch),$.each(j,(function(){h.push(this.oper)})),null!=D&&$.each(D,(function(e){h.push(e)})),u=0;u<O.sopt.length;u++)x=O.sopt[u],-1!==(c=$.inArray(x,h))&&(void 0!==(y=j[c])?(_=l.operands[x],S=y.text):null!=D&&(_=(w=D[x]).operand,S=w.text),s=p===x?m:"",b+='<li class="'+getGuiStyles.call(t,"searchToolbar.menuItem","ui-jqgrid-menu-item "+s)+'" role="presentation"><a class="'+getGuiStyles.call(t,"searchToolbar.menuItemButton","g-menu-item")+'" tabindex="0" role="menuitem" value="'+o(x)+'" data-oper="'+o(_)+'"><table><tr><td style="width:25px">'+o(_)+"</td><td>"+o(S)+"</td></tr></table></a></li>");b+="</ul>",$("body").append(b),$("#sopt_menu > li > a").hover((function(){$(this).addClass(f)}),(function(){$(this).removeClass(f)})).click((function(){var t=$(this).attr("value"),i=$(this).data("oper");if(r.triggerHandler("jqGridToolbarSelectOper",[t,i,e]),$("#sopt_menu").hide(),$(e).data("soper",t).text(i),!0===l.autosearch){var n=$(e).parent().next().children()[0];($(n).val()||"nu"===t||"nn"===t||0<=$.inArray(t,a.customUnaryOperations))&&C()}}))}}(this,i.left,i.top),e.stopPropagation()})),$("body").on("click",(function(e){"soptclass"!==e.target.className&&$("#sopt_menu").hide()}))),$(".clearsearchclass",k).click((function(){var e,t,i=$(this).closest(".ui-search-clear"),r=i.siblings(".ui-search-oper"),n=r.children("a"),o=n.data("soper"),s=parseInt(r.data("colindex"),10),c=i.siblings(".ui-search-input"),u=d[s],h=$.extend({},u.searchoptions||{}),p=h.defaultValue||"";switch(u.stype){case"select":p?c.find("select").val(p):c.find("select")[0].selectedIndex=0;break;case"checkbox":_(c.find("input[type=checkbox]"),-1);break;default:c.find("input").val(p)}("nu"===o||"nn"===o||0<=$.inArray(o,a.customUnaryOperations))&&(e=h.sopt?h.sopt[0]:"select"===u.stype||"checkbox"===u.stype?"eq":l.defaultSearch,t=null!=D&&null!=D[e]?D[e].operand:l.operands[e]||"",n.data("soper",e).text(t)),!0===l.autosearch&&C()})),t.ftoolbar=!0,t.triggerToolbar=C,t.clearToolbar=function(e){var n,o={},s=0;e="boolean"!=typeof e||e,$.each(d,(function(){var e,r,l=this,d=$(y(l.name),!0===l.frozen&&!0===a.frozenColumns?i.fhDiv:i.hDiv),c=l.searchoptions||{};switch(void 0!==c.defaultValue&&(e=c.defaultValue),n=l.index||l.name,l.stype){case"checkbox":_(d,-1);break;case"select":if(r=!(0<d.length&&d[0].multiple),d.find("option").each((function(t){if(this.selected=0===t&&r,$(this).val()===e)return!(this.selected=!0)})),void 0!==e)o[n]=e,s++;else try{delete a.postData[n]}catch(l){}break;case"text":if(d.val(e||""),void 0!==e)o[n]=e,s++;else try{delete a.postData[n]}catch(l){}break;case"custom":$.isFunction(c.custom_value)&&0<d.length&&"SPAN"===d[0].nodeName.toUpperCase()&&(void 0===e&&(e=""),c.custom_value.call(t,d.children(".customelement").first(),"set",e))}}));var c,u=0<s;if(a.resetsearch=!0,l.stringResult||l.searchOperators||"local"===a.datatype){var h='{"groupOp":"'+l.groupOp+'","rules":[',p=0;$.each(o,(function(e,t){0<p&&(h+=","),h+='{"field":"'+e+'",',h+='"op":"eq",',h+='"data":"'+(t+="").replace(/\\/g,"\\\\").replace(/\"/g,'\\"')+'"}',p++})),h+="]}",a.postData[l.sFilter]=h,$.each([l.sField,l.sValue,l.sOper],(function(e,t){a.postData.hasOwnProperty(t)&&delete a.postData[t]}))}else $.extend(a.postData,o);a.searchurl&&(c=a.url,r.jqGrid("setGridParam",{url:a.searchurl}));var f="stop"===r.triggerHandler("jqGridToolbarBeforeClear");!f&&$.isFunction(l.beforeClear)&&(f=l.beforeClear.call(t)),f||e&&r.jqGrid("setGridParam",{search:u}).trigger("reloadGrid",[$.extend({page:1},l.reloadGridResetOptions||{})]),c&&r.jqGrid("setGridParam",{url:c}),r.triggerHandler("jqGridToolbarAfterClear"),$.isFunction(l.afterClear)&&l.afterClear.call(t)},t.toggleToolbar=function(){var e=$("tr.ui-search-toolbar",i.hDiv),t=!0===a.frozenColumns&&$("tr.ui-search-toolbar",i.fhDiv);"none"===e.css("display")?(e.show(),t&&t.show()):(e.hide(),t&&t.hide()),!0===a.frozenColumns&&(r.jqGrid("destroyFrozenColumns"),r.jqGrid("setFrozenColumns"))},!0===a.frozenColumns&&(r.jqGrid("destroyFrozenColumns"),r.jqGrid("setFrozenColumns")),r.on("jqGridRefreshFilterValues.filterToolbar"+(l.loadFilterDefaults?" jqGridAfterLoadComplete.filterToolbar":""),(function(){var e,i,r,n,o,s,d,c=x(!0)||{};if(l.stringResult||l.searchOperators||"local"===a.datatype||!a.search){for(e in c)if(c.hasOwnProperty(e)&&(i=c[e],s=(r=$(y(e))).closest("th.ui-th-column"),0<r.length&&0<s.length)){if(d=(a.colModel[s[0].cellIndex]||{}).searchoptions||{},"SELECT"===r[0].tagName.toUpperCase()&&r[0].multiple)r.val(i.data.split(a.inFilterSeparator||","));else if(r.is("input[type=checkbox]")){var u=w(d);_(r,i.data===u.on?1:i.data===u.off?0:-1)}else if(0<r.find(".customelement").length&&$.isFunction(d.custom_value)){var h=d.custom_value.call(t,r.find(".customelement").first(),"get");""===i.data&&void 0!==d.defaultValue&&(i.data=d.defaultValue),void 0===h&&(h=""),i.data!==h&&String(i.data)!==String(h)&&d.custom_value.call(t,r.find(".customelement").first(),"set",i.data)}else""===i.data&&void 0!==d.defaultValue&&(i.data=d.defaultValue),$.trim(r.val())!==String(i.data)&&r.val(i.data);(n=r.closest(".ui-search-input").siblings(".ui-search-oper").children(".soptclass")).data("soper",i.op),n.text(l.operands[i.op]||(a.customSortOperations[i.op]||{}).operand)}for(o=0;o<a.colModel.length;o++)e=a.colModel[o].name,c.hasOwnProperty(e)||$(y(e)).val("")}}))}}))},destroyFilterToolbar:function(){return this.each((function(){var e=this;e.ftoolbar&&(e.triggerToolbar=null,e.clearToolbar=null,e.toggleToolbar=null,e.ftoolbar=!1,$(e.grid.hDiv).find("table thead tr.ui-search-toolbar").remove(),!0===e.p.frozenColumns&&$(e).jqGrid("destroyFrozenColumns").jqGrid("setFrozenColumns"))}))},destroyGroupHeader:function(e){return void 0===e&&(e=!0),this.each((function(){var t,i,r,a,n,o=this.grid,s=this.p.colModel,l=$("table.ui-jqgrid-htable thead",o.hDiv);if(o){$(this).off(".setGroupHeaders");var d=$("<tr>",{role:"row"}).addClass("ui-jqgrid-labels"),c=o.headers;for(t=0,i=c.length;t<i;t++){n=s[t].hidden?"none":"",r=$(c[t].el).width(c[t].width).css("display",n);try{r.removeAttr("rowSpan")}catch(t){r.attr("rowSpan",1)}d.append(r),0<(a=r.children("span.ui-jqgrid-resize")).length&&(a[0].style.height=""),r.children("div")[0].style.top=""}$(l).children("tr.ui-jqgrid-labels").remove(),$(l).prepend(d),!0===e&&$(this).jqGrid("setGridParam",{groupHeader:null})}}))},setGroupHeaders:function(e){return e=$.extend({useColSpanStyle:!1,applyLabelClasses:!0,groupHeaders:[]},e||{}),this.each((function(){this.p.groupHeader=e;var t,i,r,a,n,o,s,l,d,c,u,h,p,f,m=this,g=0,v=m.p,b=v.colModel,y=b.length,w=m.grid.headers,x=$("table.ui-jqgrid-htable",m.grid.hDiv),_=jgrid.isCellClassHidden,C=x.children("thead").children("tr.ui-jqgrid-labels"),j=C.last().addClass("jqg-second-row-header"),D=x.children("thead"),S=x.find(".jqg-first-row-header");void 0===S[0]?S=$("<tr>",{role:"row","aria-hidden":"true"}).addClass("jqg-first-row-header").css("height","auto"):S.empty();var k=function(e,t){var i;for(i=0;i<t.length;i++)if(t[i].startColumnName===e)return t[i];return 0};for($(m).prepend(D),r=$("<tr>",{role:"row"}).addClass("ui-jqgrid-labels jqg-third-row-header"),t=0;t<y;t++)if(n=w[t].el,o=$(n),i=b[t],s={height:"0",width:w[t].width+"px",display:i.hidden?"none":""},$("<th>",{role:"gridcell"}).css(s).addClass("ui-first-th-"+v.direction+(e.applyLabelClasses?" "+(i.labelClasses||""):"")).appendTo(S),n.style.width="",f=getGuiStyles.call(m,"colHeaders","ui-th-column-header ui-th-"+v.direction+" "+(e.applyLabelClasses&&i.labelClasses||"")),d=k(i.name,e.groupHeaders)){for(c=d.numberOfColumns,u=d.titleText,l=h=0;l<c&&t+l<y;l++)b[t+l].hidden||_(b[t+l].classes)||h++;a=$("<th>").addClass(f).html(u||"&nbsp;"),0<h&&a.attr("colspan",String(h)),v.headertitles&&a.attr("title",a.text()),0===h&&a.hide(),o.before(a),r.append(n),g=c-1}else 0===g?e.useColSpanStyle?o.attr("rowspan",C.length+1):($("<th>").addClass(f).css({display:i.hidden?"none":"","border-top":"0 none"}).insertBefore(o),r.append(n)):(r.append(n),g--);(p=$(m).children("thead")).prepend(S),r.insertAfter(j),x.prepend(p),$(m).triggerHandler("jqGridAfterSetGroupHeaders")}))},getNumberOfFrozenColumns:function(){var e=this;if(0===e.length)return 0;var t,i=(e=e[0]).p.colModel,r=i.length,a=-1;for(t=0;t<r&&!0===i[t].frozen;t++)a=t;return a+1},setFrozenColumns:function(e){return e=e||{},this.each((function(){var t=this,i=$(t),r=t.p,a=t.grid;if(a&&null!=r&&!0!==r.frozenColumns){var n,o,s=r.colModel,l=s.length,d=-1,c=!1,u=[],h=jqID(r.id),p=getGuiStyles.call(t,"states.hover");if(!0!==r.subGrid&&!0!==r.treeGrid&&!r.scroll){for(n=0;n<l&&!0===s[n].frozen;n++)c=!0,d=n,u.push("#jqgh_"+h+"_"+jqID(s[n].name));if(r.sortable){o=$(a.hDiv).find(".ui-jqgrid-htable .ui-jqgrid-labels");try{o.sortable("destroy")}catch(o){}i.jqGrid("setGridParam",{sortable:{options:{items:0<u.length?">th:not(:has("+u.join(",")+"),:hidden)":">th:not(:hidden)"}}}),i.jqGrid("sortableColumns",o)}if(0<=d&&c){var f=r.caption?$(a.cDiv).outerHeight():0,m=$(".ui-jqgrid-htable",r.gView).height();r.toppager&&(f+=$(a.topDiv).outerHeight()),!0===r.toolbar[0]&&"bottom"!==r.toolbar[1]&&(f+=$(a.uDiv).outerHeight()),a.fhDiv=$("<div style='position:absolute;overflow:hidden;"+("rtl"===r.direction?"right:0;border-top-left-radius:0;":"left:0;border-top-right-radius:0;")+"top:"+f+"px;height:"+m+"px;' class='"+getGuiStyles.call(t,"hDiv","frozen-div ui-jqgrid-hdiv")+"'></div>"),a.fbDiv=$("<div style='position:absolute;overflow:hidden;"+("rtl"===r.direction?"right:0;":"left:0;")+"top:"+(parseInt(f,10)+parseInt(m,10)+1)+"px;overflow:hidden;' class='frozen-bdiv ui-jqgrid-bdiv'></div>"),$(r.gView).append(a.fhDiv);var g=$(".ui-jqgrid-htable",r.gView).clone(!0),v=g[0].tHead.rows;if(r.groupHeader){$(v[0].cells).filter(":gt("+d+")").remove(),$(v).filter(".jqg-third-row-header").each((function(){$(this).children("th[id]").each((function(){var e,i=$(this).attr("id");i&&i.substr(0,t.id.length+1)===t.id+"_"&&(e=i.substr(t.id.length+1),r.iColByName[e]>d&&$(this).remove())}))}));var b,y=-1,w=-1;$(v).filter(".jqg-second-row-header").children("th").each((function(){if(b=parseInt($(this).attr("colspan")||1,10),1<parseInt($(this).attr("rowspan")||1,10)?(y++,w++):b&&(y+=b,w++),y===d)return!1})),y!==d&&(w=d),$(v).filter(".jqg-second-row-header,.ui-search-toolbar").each((function(){$(this).children(":gt("+w+")").remove()}))}else $(v).each((function(){$(this).children(":gt("+d+")").remove()}));if($(g).width(1),$(a.fhDiv).append(g).scroll((function(){this.scrollLeft=0})),r.footerrow){var x=$(".ui-jqgrid-bdiv",r.gView).height();a.fsDiv=$("<div style='position:absolute;"+("rtl"===r.direction?"right:0;":"left:0;")+"top:"+(parseInt(f,10)+parseInt(m,10)+parseInt(x,10)+1)+"px;' class='frozen-sdiv ui-jqgrid-sdiv'></div>"),$(r.gView).append(a.fsDiv);var _=$(".ui-jqgrid-ftable",r.gView).clone(!0);$("tr",_).each((function(){$("td:gt("+d+")",this).remove()})),$(_).width(1),$(a.fsDiv).append(_)}$(r.gView).append(a.fbDiv),$(a.bDiv).scroll((function(){$(a.fbDiv).scrollTop($(this).scrollTop())})),$(a.fbDiv).on("mousewheel.setFrozenColumns DOMMouseScroll.setFrozenColumns",(function(i){a.bDiv.scrollTop+=$.isFunction(e.mouseWheel)?e.mouseWheel.call(t,i):"mousewheel"===i.type?-i.originalEvent.wheelDelta/10:6*i.originalEvent.detail})),!0===r.hoverrows&&$(r.idSel).off("mouseover.jqGrid mouseout.jqGrid");var C=function(e,t){var i=e.height();1<=Math.abs(i-t)&&0<t&&(e.height(t),i=e.height(),1<=Math.abs(t-i)&&e.height(t+Math.round(t-i)))},j=function(e,t){var i=e.width();1<=Math.abs(i-t)&&(e.width(t),i=e.width(),1<=Math.abs(t-i)&&e.width(t+Math.round(t-i)))},D=function(e,t,i,a){var o,s,l,d,c,u,h,p,f,m,g,v,b=$(t).position().top;if(null!=e&&0<e.length){if(e[0].scrollTop=t.scrollTop,e.css("rtl"===r.direction?{top:b,right:0}:{top:b,left:0}),l=e.children("table").children("thead").children("tr"),0===(d=$(t).children("div").children("table").children("thead").children("tr")).length&&0<e.children("table").length&&(l=$(e.children("table")[0].rows),d=$($(t).children("div").children("table")[0].rows)),m=0<(s=Math.min(l.length,d.length))?$(l[0]).position().top:0,g=0<s?$(d[0]).position().top:0,0<=i)for(0<=a&&(s=Math.min(a+1,s)),o=i;o<s;o++)if("none"!==(c=$(d[o])).css("display")&&c.is(":visible")){if(b=c.position().top,h=(u=$(l[o])).position().top,p=c.height(),null!=r.groupHeader&&r.groupHeader.useColSpanStyle)for(v=c[0].cells,n=0;n<v.length;n++)null!=(f=v[n])&&"TH"===f.nodeName.toUpperCase()&&(p=Math.max(p,$(f).height()));C(u,p+(b-g)+(m-h))}C(e,t.clientHeight)}},S={resizeDiv:!0,resizedRows:{iRowStart:0,iRowEnd:-1}},k={header:S,resizeFooter:!0,body:S};i.on("jqGridAfterGridComplete.setFrozenColumns",(function(){$(r.idSel+"_frozen").remove(),$(a.fbDiv).height(a.hDiv.clientHeight);var e=$(this).clone(!0),t=e[0].rows,n=i[0].rows;if($(t).filter("tr[role=row]").each((function(){$(this.cells).filter("td[role=gridcell]:gt("+d+")").remove()})),a.fbRows=t,e.width(1).attr("id",r.id+"_frozen"),e.appendTo(a.fbDiv),!0===r.hoverrows){var o=function(e,t,i){$(e)[t](p),$(i[e.rowIndex])[t](p)};$(t).filter(".jqgrow").hover((function(){o(this,"addClass",n)}),(function(){o(this,"removeClass",n)})),$(n).filter(".jqgrow").hover((function(){o(this,"addClass",t)}),(function(){o(this,"removeClass",t)}))}D(a.fhDiv,a.hDiv,0,-1),D(a.fbDiv,a.bDiv,0,-1),a.sDiv&&D(a.fsDiv,a.sDiv,0,-1)}));var O=function(e){$(a.fbDiv).scrollTop($(a.bDiv).scrollTop()),e.header.resizeDiv&&D(a.fhDiv,a.hDiv,e.header.resizedRows.iRowStart,e.header.resizedRows.iRowEnd),e.body.resizeDiv&&D(a.fbDiv,a.bDiv,e.body.resizedRows.iRowStart,e.body.resizedRows.iRowEnd),e.resizeFooter&&a.sDiv&&e.resizeFooter&&D(a.fsDiv,a.sDiv,0,-1);var t=a.fhDiv[0].clientWidth;e.header.resizeDiv&&null!=a.fhDiv&&1<=a.fhDiv.length&&C($(a.fhDiv),a.hDiv.clientHeight),e.body.resizeDiv&&null!=a.fbDiv&&0<a.fbDiv.length&&j($(a.fbDiv),t),e.resizeFooter&&null!=a.fsDiv&&0<=a.fsDiv.length&&j($(a.fsDiv),t)};$(r.gBox).on("resizestop.setFrozenColumns",(function(){setTimeout((function(){O(k)}),50)})),i.on("jqGridInlineEditRow.setFrozenColumns jqGridInlineAfterRestoreRow.setFrozenColumns jqGridInlineAfterSaveRow.setFrozenColumns jqGridAfterEditCell.setFrozenColumns jqGridAfterRestoreCell.setFrozenColumns jqGridAfterSaveCell.setFrozenColumns jqGridResizeStop.setFrozenColumns",(function(e,t){var r=i.jqGrid("getInd",t);O({header:{resizeDiv:!1,resizedRows:{iRowStart:-1,iRowEnd:-1}},resizeFooter:!0,body:{resizeDiv:!0,resizedRows:{iRowStart:r,iRowEnd:r}}})})),i.on("jqGridResizeStop.setFrozenColumns",(function(){O(k)})),i.on("jqGridResetFrozenHeights.setFrozenColumns",(function(e,t){O(t||k)})),a.hDiv.loading||setTimeout((function(){i.triggerHandler("jqGridAfterGridComplete")}),0),r.frozenColumns=!0}}}}))},destroyFrozenColumns:function(){return this.each((function(){var e=$(this),t=this.grid,i=this.p,r=jqID(i.id);if(t&&!0===i.frozenColumns){if($(t.fhDiv).remove(),$(t.fbDiv).off(".setFrozenColumns"),$(t.fbDiv).remove(),t.fhDiv=null,t.fbDiv=null,t.fbRows=null,i.footerrow&&($(t.fsDiv).remove(),t.fsDiv=null),e.off(".setFrozenColumns"),!0===i.hoverrows){var a,n=getGuiStyles.call(this,"states.hover");e.on("mouseover.jqGrid",(function(e){a=$(e.target).closest("tr.jqgrow"),"ui-subgrid"!==$(a).attr("class")&&$(a).addClass(n)})).on("mouseout.jqGrid",(function(e){a=$(e.target).closest("tr.jqgrow"),$(a).removeClass(n)}))}if(i.frozenColumns=!1,i.sortable){var o=$(t.hDiv).find(".ui-jqgrid-htable .ui-jqgrid-labels");o.sortable("destroy"),e.jqGrid("setGridParam",{sortable:{options:{items:">th:not(:has(#jqgh_"+r+"_cb,#jqgh_"+r+"_rn,#jqgh_"+r+"_subgrid),:hidden)"}}}),e.jqGrid("sortableColumns",o)}}}))}}),$.fn.jqFilter=function(e){if("string"==typeof e){var t=$.fn.jqFilter[e];if(!t)throw"jqFilter - No such method: "+e;var i=$.makeArray(arguments).slice(1);return t.apply(this,i)}var r=$.extend(!0,{filter:null,columns:[],onChange:null,afterRedraw:null,error:!1,errmsg:"",errorcheck:!0,showQuery:!0,sopt:null,ops:[],operands:null,numopts:["eq","ne","lt","le","gt","ge","nu","nn","in","ni"],stropts:["eq","ne","bw","bn","ew","en","cn","nc","nu","nn","in","ni"],strarr:["text","string","blob"],groupOps:[{op:"AND",text:"AND"},{op:"OR",text:"OR"}],groupButton:!0,ruleButtons:!0,direction:"ltr"},jgrid.filter,e||{});return this.each((function(){if(!this.filter){null!==(this.p=r).filter&&void 0!==r.filter||(r.filter={groupOp:r.groupOps[0].op,rules:[],groups:[]});var e,t,i=r.columns.length,a=/msie/i.test(navigator.userAgent)&&!window.opera,n=$.isFunction,o=null!=jgrid.defaults&&n(jgrid.defaults.fatalError)?jgrid.defaults.fatalError:alert,s=function(){return $("#"+jgrid.jqID(r.id))[0]||null},l=function(e,t){return $(s()).jqGrid("getGuiStyles",e,t||"")},d=function(e){return $(s()).jqGrid("getGridRes","search."+e)},c=function(e){var t=s(),i=t.p.iColByName[e];return void 0!==i?{cm:t.p.colModel[i],iCol:i}:void 0!==(i=t.p.iPropByName[e])?{cm:t.p.additionalProperties[i],iCol:i,isAddProp:!0}:{cm:null,iCol:-1}},u=l("states.error"),h=l("dialog.content");if(r.initFilter=$.extend(!0,{},r.filter),i){for(e=0;e<i;e++)(t=r.columns[e]).stype?t.inputtype=t.stype:t.inputtype||(t.inputtype="text"),t.sorttype?t.searchtype=t.sorttype:t.searchtype||(t.searchtype="string"),void 0===t.hidden&&(t.hidden=!1),t.label||(t.label=t.name),t.cmName=t.name,t.index&&(t.name=t.index),t.hasOwnProperty("searchoptions")||(t.searchoptions={}),t.hasOwnProperty("searchrules")||(t.searchrules={});r.showQuery&&$(this).append("<table class='queryresult "+h+"' style='display:block;max-width:440px;border:0px none;' dir='"+r.direction+"'><tbody><tr><td class='query'></td></tr></tbody></table>");var p=function(e,t){var i=[!0,""],a=s();if(n(t.searchrules))i=t.searchrules.call(a,e,t);else if(jgrid&&jgrid.checkValues)try{i=jgrid.checkValues.call(a,e,-1,t.searchrules,t.label)}catch(e){}i&&i.length&&!1===i[0]&&(r.error=!i[0],r.errmsg=i[1])};this.onchange=function(){return r.error=!1,r.errmsg="",!!n(r.onChange)&&r.onChange.call(s(),r,this)},this.reDraw=function(){$("table.group:first",this).remove();var e=this.createTableForGroup(r.filter,null);$(this).append(e),n(r.afterRedraw)&&r.afterRedraw.call(s(),r,this)},this.createTableForGroup=function(e,t){var i,a=this,n=$("<table class='"+l("searchDialog.operationGroup","group")+"' style='border:0px none;'><tbody></tbody></table>"),o="left";"rtl"===r.direction&&(o="right",n.attr("dir","rtl")),null===t&&n.append("<tr class='error' style='display:none;'><th colspan='5' class='"+u+"' align='"+o+"'></th></tr>");var s=$("<tr></tr>");n.append(s);var c=$("<th colspan='5' align='"+o+"'></th>");if(s.append(c),!0===r.ruleButtons){var h=$("<select class='"+l("searchDialog.operationSelect","opsel")+"'></select>");c.append(h);var p,f="";for(i=0;i<r.groupOps.length;i++)p=e.groupOp===a.p.groupOps[i].op?" selected='selected'":"",f+="<option value='"+a.p.groupOps[i].op+"'"+p+">"+a.p.groupOps[i].text+"</option>";h.append(f).on("change",(function(){e.groupOp=$(h).val(),a.onchange()}))}var m,g,v,b="<span></span>";if(r.groupButton&&(b=$("<input type='button' value='+ {}' title='"+d("addGroupTitle")+"' class='"+l("searchDialog.addGroupButton","add-group")+"'/>")).on("click",(function(){return void 0===e.groups&&(e.groups=[]),e.groups.push({groupOp:r.groupOps[0].op,rules:[],groups:[]}),a.reDraw(),a.onchange(),!1})),c.append(b),!0===r.ruleButtons){var y,w=$("<input type='button' value='+' title='"+d("addRuleTitle")+"' class='"+l("searchDialog.addRuleButton","add-rule ui-add")+"'/>");w.on("click",(function(){var t,r,n;for(void 0===e.rules&&(e.rules=[]),i=0;i<a.p.columns.length;i++)if(t=void 0===a.p.columns[i].search||a.p.columns[i].search,r=!0===a.p.columns[i].hidden,!0===a.p.columns[i].searchoptions.searchhidden&&t||t&&!r){y=a.p.columns[i];break}return n=y.searchoptions.sopt?y.searchoptions.sopt:a.p.sopt?a.p.sopt:-1!==$.inArray(y.searchtype,a.p.strarr)?a.p.stropts:a.p.numopts,e.rules.push({field:y.name,op:n[0],data:""}),a.reDraw(),!1})),c.append(w)}if(null!==t){var x=$("<input type='button' value='-' title='"+d("deleteGroupTitle")+"' class='"+l("searchDialog.deleteGroupButton","delete-group")+"'/>");c.append(x),x.on("click",(function(){for(i=0;i<t.groups.length;i++)if(t.groups[i]===e){t.groups.splice(i,1);break}return a.reDraw(),a.onchange(),!1}))}if(void 0!==e.groups)for(i=0;i<e.groups.length;i++)m=$("<tr></tr>"),n.append(m),g=$("<td class='first'></td>"),m.append(g),(v=$("<td colspan='4'></td>")).append(this.createTableForGroup(e.groups[i],e)),m.append(v);if(void 0===e.groupOp&&(e.groupOp=a.p.groupOps[0].op),void 0!==e.rules)for(i=0;i<e.rules.length;i++)n.append(this.createTableRowForRule(e.rules[i],e));return n},this.createTableRowForRule=function(e,t){var i,o,u,h,p=this,f=s(),m=$("<tr></tr>"),g="";m.append("<td class='first'></td>");var v=$("<td class='columns'></td>");m.append(v);var b,y=$("<select class='"+l("searchDialog.label","selectLabel")+"'></select>"),w=[];v.append(y),y.on("change",(function(){e.field=$(y).val();var t,i,r=$(this).parents("tr:first");for(i=0;i<p.p.columns.length;i++)if(p.p.columns[i].name===e.field){t=p.p.columns[i];break}if(t){var s=$.extend({},t.editoptions||{});delete s.readonly,delete s.disabled;var d=$.extend({},s||{},t.searchoptions||{},c(t.cmName),{id:jgrid.randId(),name:t.name,mode:"search"});d.column=t,a&&"text"===t.inputtype&&(d.size||(d.size=10));var u=jgrid.createEl.call(f,t.inputtype,$.extend({},d,d.attr||{}),"",!0,p.p.ajaxSelectOptions||{},!0);$(u).addClass(l("searchDialog.elem","input-elm")),o=d.sopt?d.sopt:p.p.sopt?p.p.sopt:-1!==$.inArray(t.searchtype,p.p.strarr)?p.p.stropts:p.p.numopts;var h,m,g,v="",x=0;for(w=[],$.each(p.p.ops,(function(){w.push(this.oper)})),p.p.cops&&$.each(p.p.cops,(function(e){w.push(e)})),i=0;i<o.length;i++)m=o[i],-1!==(b=$.inArray(o[i],w))&&(g=void 0!==(h=p.p.ops[b])?h.text:p.p.cops[m].text,0===x&&(e.op=m),v+="<option value='"+m+"'>"+g+"</option>",x++);if($(".selectopts",r).empty().append(v),$(".selectopts",r)[0].selectedIndex=0,jgrid.msie&&jgrid.msiever()<9){var _=parseInt($("select.selectopts",r)[0].offsetWidth,10)+1;$(".selectopts",r).width(_),$(".selectopts",r).css("width","auto")}if($(".data",r).empty().append(u),t.createColumnIndex&&d.generateDatalist){var C="dl_"+u.id,j=$(f).jqGrid("generateDatalistFromColumnIndex",t.name);null!=j&&0<j.length&&($(u).attr("list",C),$(".data",r).append(j.attr("id",C)))}jgrid.bindEv.call(f,u,d),$(".input-elm",r).on("change",d,(function(t){var i=t.target,r=t.data.column;e.data=r&&"custom"===r.inputtype&&n(r.searchoptions.custom_value)?r.searchoptions.custom_value.call(f,$(this).find(".customelement").first(),"get"):i.value,$(i).is("input[type=checkbox]")&&!$(i).is(":checked")&&(e.data=$(i).data("offval")),p.onchange()})),setTimeout((function(){e.data=$(u).val(),p.onchange()}),0)}}));var x,_,C=0;for(i=0;i<p.p.columns.length;i++)x=void 0===p.p.columns[i].search||p.p.columns[i].search,_=!0===p.p.columns[i].hidden,(!0===p.p.columns[i].searchoptions.searchhidden&&x||x&&!_)&&(h="",e.field===p.p.columns[i].name&&(h=" selected='selected'",C=i),g+="<option value='"+p.p.columns[i].name+"'"+h+">"+p.p.columns[i].label+"</option>");y.append(g);var j=$("<td class='operators'></td>");m.append(j),u=r.columns[C],a&&"text"===u.inputtype&&(u.searchoptions.size||(u.searchoptions.size=10));var D=$.extend({},u.editoptions||{});delete D.readonly,delete D.disabled;var S=$.extend({},D,u.searchoptions||{},c(u.cmName),{id:jgrid.randId(),name:u.name,mode:"search"});S.column=u;var k=jgrid.createEl.call(f,u.inputtype,$.extend({},S,S.attr||{}),e.data,!0,p.p.ajaxSelectOptions||{},!0);("nu"===e.op||"nn"===e.op||0<=$.inArray(e.op,f.p.customUnaryOperations))&&($(k).attr("readonly","true"),$(k).attr("disabled","true"));var O,F,I=$("<select class='"+l("searchDialog.operator","selectopts")+"'></select>");for(j.append(I),I.on("change",(function(){e.op=$(I).val();var t=$(this).parents("tr:first"),i=$(".input-elm",t)[0];"nu"===e.op||"nn"===e.op||0<=$.inArray(e.op,f.p.customUnaryOperations)?(e.data="","SELECT"!==i.tagName.toUpperCase()&&(i.value=""),i.setAttribute("readonly","true"),i.setAttribute("disabled","true")):("SELECT"===i.tagName.toUpperCase()&&(e.data=i.value),i.removeAttribute("readonly"),i.removeAttribute("disabled")),p.onchange()})),o=u.searchoptions.sopt?u.searchoptions.sopt:p.p.sopt?p.p.sopt:-1!==$.inArray(u.searchtype,p.p.strarr)?p.p.stropts:p.p.numopts,g="",$.each(p.p.ops,(function(){w.push(this.oper)})),p.p.cops&&$.each(p.p.cops,(function(e){w.push(e)})),i=0;i<o.length;i++)F=o[i],-1!==(b=$.inArray(o[i],w))&&(O=p.p.ops[b],g+="<option value='"+F+"'"+(h=e.op===F?" selected='selected'":"")+">"+(void 0!==O?O.text:p.p.cops[F].text)+"</option>");I.append(g);var q=$("<td class='data'></td>");if(m.append(q),q.append(k),u.createColumnIndex&&u.searchoptions.generateDatalist){var R="dl_"+k.id,M=$(f).jqGrid("generateDatalistFromColumnIndex",u.name);null!=M&&0<M.length&&($(k).attr("list",R),q.append(M.attr("id",R)))}jgrid.bindEv.call(f,k,u.searchoptions),$(k).addClass(l("searchDialog.elem","input-elm")).on("change",(function(){e.data="custom"===u.inputtype?u.searchoptions.custom_value.call(f,$(this).find(".customelement").first(),"get"):$(this).val(),$(this).is("input[type=checkbox]")&&!$(this).is(":checked")&&(e.data=$(this).data("offval")),$.isArray(e.data)&&(e.data=e.data.join(r.inFilterSeparator||",")),p.onchange()}));var T=$("<td></td>");if(m.append(T),!0===r.ruleButtons){var N=$("<input type='button' value='-' title='"+d("deleteRuleTitle")+"' class='"+l("searchDialog.deleteRuleButton","delete-rule ui-del")+"'/>");T.append(N),N.on("click",(function(){for(i=0;i<t.rules.length;i++)if(t.rules[i]===e){t.rules.splice(i,1);break}return p.reDraw(),p.onchange(),!1}))}return m},this.getStringForGroup=function(e){var t,i="(";if(void 0!==e.groups)for(t=0;t<e.groups.length;t++){1<i.length&&(i+=" "+e.groupOp+" ");try{i+=this.getStringForGroup(e.groups[t])}catch(e){o(e)}}if(void 0!==e.rules)try{for(t=0;t<e.rules.length;t++)1<i.length&&(i+=" "+e.groupOp+" "),i+=this.getStringForRule(e.rules[t])}catch(e){o(e)}return"()"==(i+=")")?"":i},this.getStringForRule=function(e){var t,i,a,o="",l="",d=e.data;for(t=0;t<r.ops.length;t++)if(r.ops[t].oper===e.op){o=r.operands.hasOwnProperty(e.op)?r.operands[e.op]:"",l=r.ops[t].oper;break}if(""===l&&null!=r.cops)for(a in r.cops)if(r.cops.hasOwnProperty(a)&&(l=a,o=r.cops[a].operand,n(r.cops[a].buildQueryValue)))return r.cops[a].buildQueryValue.call(r,{cmName:e.field,searchValue:d,operand:o});for(t=0;t<r.columns.length;t++)if(r.columns[t].name===e.field){i=r.columns[t];break}return null==i?"":("bw"!==l&&"bn"!==l||(d+="%"),"ew"!==l&&"en"!==l||(d="%"+d),"cn"!==l&&"nc"!==l||(d="%"+d+"%"),"in"!==l&&"ni"!==l||(d=" ("+d+")"),r.errorcheck&&p(e.data,i),-1!==$.inArray(i.searchtype,["int","integer","float","number","currency"])||"nn"===l||"nu"===l||0<=$.inArray(l,s().p.customUnaryOperations)?e.field+" "+o+" "+d:e.field+" "+o+' "'+d+'"')},this.resetFilter=function(){r.filter=$.extend(!0,{},r.initFilter),this.reDraw(),this.onchange()},this.hideError=function(){$("th."+u,this).html(""),$("tr.error",this).hide()},this.showError=function(){$("th."+u,this).html(r.errmsg),$("tr.error",this).show()},this.toUserFriendlyString=function(){return this.getStringForGroup(r.filter)},this.toString=function(){var e=this;function t(t){if(e.p.errorcheck){var i,r;for(i=0;i<e.p.columns.length;i++)if(e.p.columns[i].name===t.field){r=e.p.columns[i];break}r&&p(t.data,r)}return t.op+"(item."+t.field+",'"+t.data+"')"}return function e(i){var r,a="(";if(void 0!==i.groups)for(r=0;r<i.groups.length;r++)1<a.length&&("OR"===i.groupOp?a+=" || ":a+=" && "),a+=e(i.groups[r]);if(void 0!==i.rules)for(r=0;r<i.rules.length;r++)1<a.length&&("OR"===i.groupOp?a+=" || ":a+=" && "),a+=t(i.rules[r]);return"()"==(a+=")")?"":a}(r.filter)},this.reDraw(),r.showQuery&&this.onchange(),this.filter=!0}}}))},$.extend($.fn.jqFilter,{toSQLString:function(){var e="";return this.each((function(){e=this.toUserFriendlyString()})),e},filterData:function(){var e;return this.each((function(){e=this.p.filter})),e},getParameter:function(e){return void 0!==e&&this.p.hasOwnProperty(e)?this.p[e]:this.p},resetFilter:function(){return this.each((function(){this.resetFilter()}))},addFilter:function(e){"string"==typeof e&&(e=$.parseJSON(e)),this.each((function(){this.p.filter=e,this.reDraw(),this.onchange()}))}});var xmlJsonClass={xml2json:function(e,t){9===e.nodeType&&(e=e.documentElement);var i=this.removeWhite(e),r=this.toObj(i),a=this.toJson(r,e.nodeName,"\t");return"{\n"+t+(t?a.replace(/\t/g,t):a.replace(/\t|\n/g,""))+"\n}"},json2xml:function(e,t){var i,r=function(e,t,i){var a,n,o,s,l="";if(e instanceof Array)if(0===e.length)l+=i+"<"+t+">__EMPTY_ARRAY_</"+t+">\n";else for(a=0,n=e.length;a<n;a+=1)l+=i+r(e[a],t,i+"\t")+"\n";else if("object"==typeof e){for(s in o=!1,l+=i+"<"+t,e)e.hasOwnProperty(s)&&("@"===s.charAt(0)?l+=" "+s.substr(1)+'="'+e[s].toString()+'"':o=!0);if(l+=o?">":"/>",o){for(s in e)e.hasOwnProperty(s)&&("#text"===s?l+=e[s]:"#cdata"===s?l+="<![CDATA["+e[s]+"]]>":"@"!==s.charAt(0)&&(l+=r(e[s],s,i+"\t")));l+=("\n"===l.charAt(l.length-1)?i:"")+"</"+t+">"}}else"function"==typeof e?l+=i+"<"+t+"><![CDATA["+e+"]]></"+t+">":(void 0===e&&(e=""),'""'===e.toString()||0===e.toString().length?l+=i+"<"+t+">__EMPTY_STRING_</"+t+">":l+=i+"<"+t+">"+e.toString()+"</"+t+">");return l},a="";for(i in e)e.hasOwnProperty(i)&&(a+=r(e[i],i,""));return t?a.replace(/\t/g,t):a.replace(/\t|\n/g,"")},toObj:function(e){var t,i,r={},a=/function/i,n=0,o=0,s=!1;if(1===e.nodeType){if(e.attributes.length)for(t=0;t<e.attributes.length;t+=1)r["@"+e.attributes[t].nodeName]=(e.attributes[t].nodeValue||"").toString();if(e.firstChild){for(i=e.firstChild;i;i=i.nextSibling)1===i.nodeType?s=!0:3===i.nodeType&&i.nodeValue.match(/[^ \f\n\r\t\v]/)?n+=1:4===i.nodeType&&(o+=1);if(s)if(n<2&&o<2)for(this.removeWhite(e),i=e.firstChild;i;i=i.nextSibling)3===i.nodeType?r["#text"]=this.escape(i.nodeValue):4===i.nodeType?a.test(i.nodeValue)?r[i.nodeName]=[r[i.nodeName],i.nodeValue]:r["#cdata"]=this.escape(i.nodeValue):r[i.nodeName]?r[i.nodeName]instanceof Array?r[i.nodeName][r[i.nodeName].length]=this.toObj(i):r[i.nodeName]=[r[i.nodeName],this.toObj(i)]:r[i.nodeName]=this.toObj(i);else e.attributes.length?r["#text"]=this.escape(this.innerXml(e)):r=this.escape(this.innerXml(e));else if(n)e.attributes.length?r["#text"]=this.escape(this.innerXml(e)):"__EMPTY_ARRAY_"===(r=this.escape(this.innerXml(e)))?r="[]":"__EMPTY_STRING_"===r&&(r="");else if(o)if(1<o)r=this.escape(this.innerXml(e));else for(i=e.firstChild;i;i=i.nextSibling){if(a.test(e.firstChild.nodeValue)){r=e.firstChild.nodeValue;break}r["#cdata"]=this.escape(i.nodeValue)}}e.attributes.length||e.firstChild||(r=null)}else 9===e.nodeType?r=this.toObj(e.documentElement):(null!=$.jgrid&&null!=$.jgrid.defaults&&$.isFunction($.jgrid.defaults.fatalError)?$.jgrid.defaults.fatalError:alert)("unhandled node type: "+e.nodeType);return r},toJson:function(e,t,i,r){void 0===r&&(r=!0);var a,n,o,s=t?'"'+t+'"':"",l="\t",d="\n",c=[],u=[];if(r||(d=l=""),"[]"===e)s+=t?":[]":"[]";else if(e instanceof Array){for(n=0,a=e.length;n<a;n+=1)c[n]=this.toJson(e[n],"",i+l,r);s+=(t?":[":"[")+(1<c.length?d+i+l+c.join(","+d+i+l)+d+i:c.join(""))+"]"}else if(null===e)s+=(t&&":")+"null";else if("object"==typeof e){for(o in e)e.hasOwnProperty(o)&&(u[u.length]=this.toJson(e[o],o,i+l,r));s+=(t?":{":"{")+(1<u.length?d+i+l+u.join(","+d+i+l)+d+i:u.join(""))+"}"}else s+="string"==typeof e?(t&&":")+'"'+e.replace(/\\/g,"\\\\").replace(/\"/g,'\\"')+'"':(t&&":")+e.toString();return s},innerXml:function(e){var t,i="",r=function(e){var t,i,a="";if(1===e.nodeType){for(a+="<"+e.nodeName,t=0;t<e.attributes.length;t+=1)a+=" "+e.attributes[t].nodeName+'="'+(e.attributes[t].nodeValue||"").toString()+'"';if(e.firstChild){for(a+=">",i=e.firstChild;i;i=i.nextSibling)a+=r(i);a+="</"+e.nodeName+">"}else a+="/>"}else 3===e.nodeType?a+=e.nodeValue:4===e.nodeType&&(a+="<![CDATA["+e.nodeValue+"]]>");return a};if(e.hasOwnProperty("innerHTML"))i=e.innerHTML;else for(t=e.firstChild;t;t=t.nextSibling)i+=r(t);return i},escape:function(e){return e.replace(/[\\]/g,"\\\\").replace(/[\"]/g,'\\"').replace(/[\n]/g,"\\n").replace(/[\r]/g,"\\r")},removeWhite:function(e){e.normalize();for(var t,i=e.firstChild;i;)3===i.nodeType?i.nodeValue.match(/[^ \f\n\r\t\v]/)?i=i.nextSibling:(t=i.nextSibling,e.removeChild(i),i=t):(1===i.nodeType&&this.removeWhite(i),i=i.nextSibling);return e}};window.xmlJsonClass=xmlJsonClass;var jgridFeedback=jgrid.feedback,fullBoolFeedback=jgrid.fullBoolFeedback,builderFmButon=jgrid.builderFmButon,addFormIcon=function(e,t,i){var r;!0===t[0]&&(r="<span class='"+mergeCssClasses("fm-button-icon",i,t[2])+"'></span>","right"===t[1]?e.addClass("fm-button-icon-right").append(r):e.addClass("fm-button-icon-left").prepend(r))},getGuiStateStyles=function(e){return getGuiStyles.call(this,"states."+e)},hideRowsWithoutVissibleCells=function(e){e.find("tr[data-rowpos]").each((function(){var e=0;$(this).children("td").each((function(){"hidden"!==$(this).css("visibility")&&e++})),e||$(this).hide()}))},isEmptyString=function(e){return"&nbsp;"===e||"&#160;"===e||1===e.length&&160===e.charCodeAt(0)};jgrid.extend({searchGrid:function(e){return this.each((function(){var t=this,i=$(t),r=t.p;if(t.grid&&null!=r){var a=$.extend(!0,{drag:!0,sField:"searchField",sValue:"searchString",sOper:"searchOper",sFilter:r.prmNames.filters,loadDefaults:!0,beforeShowSearch:null,afterShowSearch:null,onInitializeSearch:null,afterRedraw:null,afterChange:null,closeAfterSearch:!1,closeAfterReset:!1,closeOnEscape:!1,searchOnEnter:!1,multipleSearch:!1,multipleGroup:!1,top:0,left:0,removemodal:!0,resize:!0,width:450,height:"auto",dataheight:"auto",showQuery:!1,errorcheck:!0,sopt:null,stringResult:void 0,onClose:null,onSearch:null,onReset:null,columns:[],tmplNames:null,tmplFilters:null,tmplLabel:" Template: ",showOnLoad:!1,layer:null,operands:{eq:"=",ne:"<>",lt:"<",le:"<=",gt:">",ge:">=",bw:"LIKE",bn:"NOT LIKE",in:"IN",ni:"NOT IN",ew:"LIKE",en:"NOT LIKE",cn:"LIKE",nc:"NOT LIKE",nu:"IS NULL",nn:"IS NOT NULL"}},base.getGridRes.call(i,"search"),jgrid.search||{},r.searching||{},e||{}),n="fbox_"+r.id,o=a.commonIconClass,s={themodal:"searchmod"+n,modalhead:"searchhd"+n,modalcontent:"searchcnt"+n,resizeAlso:n},l="#"+jqID(s.themodal),d=r.gBox,c=r.gView,u=$.each,h=r.postData[a.sFilter],p=function(){var e=$.makeArray(arguments);return e.unshift("Search"),e.unshift("Filter"),e.unshift(a),jgridFeedback.apply(t,e)},f=function(){jgrid.hideModal(l,{gb:d,jqm:a.jqModal,onClose:a.onClose,removemodal:a.removemodal})};if("string"==typeof h&&(h=""!==$.trim(h)?$.parseJSON(h):void 0),$(l).remove(),void 0!==$(l)[0])k($("#fbox_"+jqID(r.id)));else{var m=$("<div><div id='"+n+"' class='"+getGuiStyles.call(t,"dialog.body","searchFilter")+"' style='overflow:auto'></div></div>").insertBefore(c);"rtl"===r.direction&&m.attr("dir","rtl");var g,v,b="",y="",w=!1,x=-1,_=$.extend([],r.colModel),C=builderFmButon.call(t,n+"_search",a.Find,mergeCssClasses(o,a.findDialogIcon),"right"),j=builderFmButon.call(t,n+"_reset",a.Reset,mergeCssClasses(o,a.resetDialogIcon),"left");if(a.showQuery&&(b=builderFmButon.call(t,n+"_query","Query",mergeCssClasses(o,a.queryDialogIcon),"left")+"&#160;"),a.searchForAdditionalProperties&&u(r.additionalProperties,(function(){var e="string"==typeof this?{name:this}:this;e.label||(e.label=e.name),e.isAddProp=!0,_.push(e)})),a.columns.length?(_=a.columns,g=_[x=0].index||_[0].name):u(_,(function(e,t){if(t.label||(t.label=t.isAddProp?t.name:r.colNames[e]),!w){var i=void 0===t.search||t.search,a=!0===t.hidden;(t.searchoptions&&!0===t.searchoptions.searchhidden&&i||i&&!a)&&(w=!0,g=t.index||t.name,x=e)}})),!h&&g||!1===a.multipleSearch){var D="eq";0<=x&&_[x].searchoptions&&_[x].searchoptions.sopt?D=_[x].searchoptions.sopt[0]:a.sopt&&a.sopt.length&&(D=a.sopt[0]),h={groupOp:"AND",rules:[{field:g,op:D,data:""}]}}w=!1,a.tmplNames&&a.tmplNames.length&&(w=!0,y=a.tmplLabel,y+="<select class='ui-template'>",y+="<option value='default'>Default</option>",u(a.tmplNames,(function(e,t){y+="<option value='"+e+"'>"+t+"</option>"})),y+="</select>"),v="<div class='"+getGuiStyles.call(t,"dialog.footer")+"'><table class='EditTable' style='border:0px none;margin-top:5px' id='"+n+"_2'><tbody><tr><td colspan='2'><hr class='"+getGuiStyles.call(t,"dialog.hr")+"' style='margin:1px'/></td></tr><tr><td class='EditButton EditButton-"+r.direction+"'  style='float:"+("rtl"===r.direction?"right":"left")+";'>"+j+y+"</td><td class='EditButton EditButton-"+r.direction+"'>"+b+C+"</td></tr></tbody></table></div>",n=jqID(n),a.gbox=d,a.height="auto",$(n="#"+n).jqFilter({columns:_,filter:a.loadDefaults?h:null,showQuery:a.showQuery,errorcheck:a.errorcheck,sopt:a.sopt,groupButton:a.multipleGroup,ruleButtons:a.multipleSearch,afterRedraw:a.afterRedraw,ops:a.odata,cops:r.customSortOperations,operands:a.operands,ajaxSelectOptions:r.ajaxSelectOptions,groupOps:a.groupOps,onChange:function(e,i){e.showQuery&&$(".query",i).text(i.toUserFriendlyString()),fullBoolFeedback.call(t,a.afterChange,"jqGridFilterAfterChange",$(n),a,e,i)},direction:r.direction,id:r.id}),m.append(v),w&&a.tmplFilters&&a.tmplFilters.length&&$(".ui-template",m).on("change",(function(){var e=$(this).val();return"default"===e?$(n).jqFilter("addFilter",h):$(n).jqFilter("addFilter",a.tmplFilters[parseInt(e,10)]),!1})),!0===a.multipleGroup&&(a.multipleSearch=!0),p("onInitialize",$(n)),a.layer?jgrid.createModal.call(t,s,m,a,c,$(d)[0],"#"+jqID(a.layer),{position:"relative"}):jgrid.createModal.call(t,s,m,a,c,$(d)[0]),(a.searchOnEnter||a.closeOnEscape)&&$(l).keydown((function(e){var t=$(e.target);return!a.searchOnEnter||13!==e.which||t.hasClass("add-group")||t.hasClass("add-rule")||t.hasClass("delete-group")||t.hasClass("delete-rule")||t.hasClass("fm-button")&&t.is("[id$=_query]")?a.closeOnEscape&&27===e.which?($("#"+jqID(s.modalhead)).find(".ui-jqdialog-titlebar-close").click(),!1):void 0:($(n+"_search").click(),!1)})),b&&$(n+"_query").on("click",(function(){return $(".queryresult",m).toggle(),!1})),void 0===a.stringResult&&(a.stringResult=a.multipleSearch),$(n+"_search").on("click",(function(){var e,o={},s="",l=$(n),d=l.find(".input-elm");if(d.filter(":focus")&&(d=d.filter(":focus")),d.change(),e=l.jqFilter("filterData"),a.errorcheck&&(l[0].hideError(),a.showQuery||l.jqFilter("toSQLString"),l[0].p.error))return l[0].showError(),!1;if(a.stringResult||"local"===r.datatype){try{s=JSON.stringify(e)}catch(e){}"string"==typeof s&&(o[a.sFilter]=s,u([a.sField,a.sValue,a.sOper],(function(){o[this]=""})))}else a.multipleSearch?(o[a.sFilter]=e,u([a.sField,a.sValue,a.sOper],(function(){o[this]=""}))):(o[a.sField]=e.rules[0].field,o[a.sValue]=e.rules[0].data,o[a.sOper]=e.rules[0].op,o[a.sFilter]="");return $.extend(r.postData,o),fullBoolFeedback.call(t,a.onSearch,"jqGridFilterSearch",r.filters)&&(r.search=!0,i.trigger("reloadGrid",[$.extend({page:1},a.reloadGridSearchOptions||{})])),a.closeAfterSearch&&f(),!1})),$(n+"_reset").on("click",(function(){var e={},o=$(n);return r.search=!1,!(r.resetsearch=!0)===a.multipleSearch?e[a.sField]=e[a.sValue]=e[a.sOper]="":e[a.sFilter]="",o[0].resetFilter(),w&&$(".ui-template",m).val("default"),$.extend(r.postData,e),fullBoolFeedback.call(t,a.onReset,"jqGridFilterReset")&&i.trigger("reloadGrid",[$.extend({page:1},a.reloadGridResetOptions||{})]),a.closeAfterReset&&f(),!1})),k($(n));var S=getGuiStateStyles.call(t,"hover");$(".fm-button:not(."+getGuiStateStyles.call(t,"disabled").split(" ").join(".")+")",m).hover((function(){$(this).addClass(S)}),(function(){$(this).removeClass(S)}))}}function k(e){p("beforeShow",e)&&($(l).data("onClose",a.onClose),jgrid.viewModal.call(t,l,{gbox:d,jqm:a.jqModal,overlay:a.overlay,modal:a.modal,overlayClass:a.overlayClass,toTop:a.toTop,onHide:function(e){e.w.remove(),e.o&&e.o.remove()}}),p("afterShow",e))}}))},editGridRow:function(e,t){return this.each((function(){var i=this,r=$(i),a=i.p;if(i.grid&&null!=a&&e){var n,o,s=a.id,l=base.getGridRes,d=base.setSelection,c=$.extend(!0,{top:0,left:0,width:300,datawidth:"auto",height:"auto",dataheight:"auto",drag:!0,resize:!0,url:null,mtype:"POST",clearAfterAdd:!0,closeAfterEdit:!1,reloadAfterSubmit:!0,onInitializeForm:null,beforeInitData:null,beforeShowForm:null,afterShowForm:null,beforeSubmit:null,afterSubmit:null,onclickSubmit:null,afterComplete:null,onclickPgButtons:null,afterclickPgButtons:null,editData:{},closeOnEscape:!1,addedrow:"first",topinfo:"",bottominfo:"",labelswidth:"",savekey:[!1,13],navkeys:[!1,38,40],checkOnSubmit:!1,checkOnUpdate:!1,_savedData:{},processing:!1,onClose:null,ajaxEditOptions:{},serializeEditData:null,viewPagerButtons:!0,overlayClass:getGuiStyles.call(this,"overlay"),removemodal:!0,skipPostTypes:["image","file"],saveui:"enable",savetext:l.call(r,"defaults.savetext")||"Saving..."},l.call(r,"edit"),jgrid.edit,a.formEditing||{},t||{}),u="FrmGrid_"+s,h=u,p="TblGrid_"+s,f="#"+jqID(p),m=f+"_2",g={themodal:"editmod"+s,modalhead:"edithd"+s,modalcontent:"editcnt"+s,resizeAlso:u},v="#"+jqID(g.themodal),b=a.gBox,y=a.colModel,w=a.iColByName,x=1,_=0,C=c.commonIconClass,j=function(){jgrid.hideModal(v,{gb:b,jqm:c.jqModal,onClose:c.onClose,removemodal:c.removemodal})},D=l.call(r,"errors.errcap"),S=function(){var e=$.makeArray(arguments);return e.unshift(""),e.unshift("AddEdit"),e.unshift(c),jgridFeedback.apply(i,e)},k=getGuiStateStyles.call(i,"hover"),O=getGuiStateStyles.call(i,"disabled"),F=getGuiStateStyles.call(i,"select"),I=getGuiStateStyles.call(i,"active"),q=getGuiStateStyles.call(i,"error");$(v).remove(),u="#"+jqID(u),"new"===e?(e="_empty",o="add",c.caption=c.addCaption):(c.caption=c.editCaption,o="edit");var R=!0;!c.checkOnUpdate||!0!==c.jqModal&&void 0!==c.jqModal||c.modal||(R=!1);var M=isNaN(c.dataheight)?c.dataheight:c.dataheight+"px",T=isNaN(c.datawidth)?c.datawidth:c.datawidth+"px",N=$("<form name='FormPost' id='"+h+"' class='FormGrid' onSubmit='return false;' style='width:"+T+";overflow:auto;position:relative;height:"+M+";'></form>").data("disabled",!1),G=$("<table id='"+p+"' class='EditTable'><tbody></tbody></table>");$(y).each((function(){var e=this.formoptions;x=Math.max(x,e&&e.colpos||0),_=Math.max(_,e&&e.rowpos||0)})),$(N).append(G);var E=$("<tr id='FormError' style='display:none'><td class='"+q+"' colspan='"+2*x+"'>&#160;</td></tr>");if(E[0].rp=0,$(G).append(E),(E=$("<tr style='display:none' class='tinfo'><td class='topinfo' colspan='"+2*x+"'>"+(c.topinfo||"&#160;")+"</td></tr>"))[0].rp=0,$(G).append(E),S("beforeInitData",N,o)){!function(){var t=jgrid.detectRowEditing.call(i,e);if(null!=t)if("inlineEditing"===t.mode)base.restoreRow.call(r,e);else{var a=t.savedRow,n=i.rows[a.id];base.restoreCell.call(r,a.id,a.ic),$(n.cells[a.ic]).removeClass("edit-cell "+F),$(n).addClass(F).attr({"aria-selected":"true",tabindex:"0"})}}();var A="rtl"===a.direction,z=A?"nData":"pData",P=A?"pData":"nData";!function(e,t,n){var o,l=0,d=[],h=!1,p=$(t),f=String(c.labelswidth)+(!c.labelswidth||isNaN(c.labelswidth)?"":"px"),m="<td class='CaptionTD"+(f?"' style='width:"+f+";":"")+"'>&#160;</td><td class='DataTD'>&#160;</td>",g="";for(o=1;o<=n;o++)g+=m;if("_empty"!==e&&(h=base.getInd.call(r,e)),$(y).each((function(t){var o,s,f,m,v,b=this,y=b.name,w=b.editable,x=!1,_=!1,C="_empty"===e?"addForm":"editForm";switch($.isFunction(w)&&(w=w.call(i,{rowid:e,iCol:t,iRow:h,cmName:y,cm:b,mode:C})),s=!(b.editrules&&!0===b.editrules.edithidden||!0!==b.hidden&&"hidden"!==w),String(w).toLowerCase()){case"hidden":w=!0;break;case"disabled":x=w=!0;break;case"readonly":_=w=!0}if("cb"!==y&&"subgrid"!==y&&!0===w&&"rn"!==y){if(!1===h)m="";else{o=$(i.rows[h].cells[t]);try{m=$.unformat.call(i,o,{rowId:e,colModel:b},t)}catch(t){m=b.edittype&&"textarea"===b.edittype?o.text():o.html()}isEmptyString(m)&&(m="")}var j=$.extend({},b.editoptions||{},{id:y,name:y,rowId:e,mode:C,cm:b,iCol:t}),D=$.extend({},{elmprefix:"",elmsuffix:"",rowabove:!1,rowcontent:""},b.formoptions||{}),S=parseInt(D.rowpos,10)||l+1,k=parseInt(2*(parseInt(D.colpos,10)||1),10);if("_empty"===e&&j.defaultValue&&(m=$.isFunction(j.defaultValue)?j.defaultValue.call(i):j.defaultValue),b.edittype||(b.edittype="text"),a.autoEncodeOnEdit&&(m=jgrid.oldDecodePostedData(m)),v=jgrid.createEl.call(i,b.edittype,j,m,!1,$.extend({},jgrid.ajaxOptions,a.ajaxSelectOptions||{})),(c.checkOnSubmit||c.checkOnUpdate)&&(c._savedData[y]=m),$(v).addClass("FormElement"),-1<$.inArray(b.edittype,["text","textarea","checkbox","password","select"])&&$(v).addClass(getGuiStyles.call(i,"dialog.dataField")),f=p.find("tr[data-rowpos="+S+"]"),D.rowabove){var F=$("<tr><td class='contentinfo' colspan='"+2*n+"'>"+D.rowcontent+"</td></tr>");p.append(F),F[0].rp=S}0===f.length&&(f=$("<tr data-rowpos='"+S+"'></tr>").addClass("FormData").attr("id","tr_"+y),$(f).append(g),p.append(f),f[0].rp=S);var I=$("td:eq("+(k-2)+")",f[0]),q=$("td:eq("+(k-1)+")",f[0]);I.html(void 0===D.label?a.colNames[t]:D.label||"&#160;");var R=q[isEmptyString(q.html())?"html":"append"](D.elmprefix);if(R.append(v).append(D.elmsuffix),"INPUT"===v.tagName.toUpperCase()&&b.createColumnIndex&&j.generateDatalist){var M=r.jqGrid("generateDatalistFromColumnIndex",b.name);null!=M&&0<M.length&&($(v).attr("list","dl_"+v.id),R.append(M.attr("id","dl_"+v.id)))}x?(I.addClass(O),q.addClass(O),$(v).prop("readonly",!0),$(v).prop("disabled",!0)):_&&$(v).prop("readonly",!0),"custom"===b.edittype&&$.isFunction(j.custom_value)&&j.custom_value.call(i,$("#"+jqID(y),u),"set",m),jgrid.bindEv.call(i,v,j),s&&I.add(q).css("visibility","hidden"),d[l]=t,l++}})),hideRowsWithoutVissibleCells(p),0<l){var v=$("<tr class='FormData' style='display:none'><td class='CaptionTD'>&#160;</td><td colspan='"+(2*n-1)+"' class='DataTD'><input class='FormElement' id='id_g' type='text' name='"+s+"_id' value='"+e+"'/></td></tr>");v[0].rp=l+999,p.append(v),(c.checkOnSubmit||c.checkOnUpdate)&&(c._savedData[s+"_id"]=e)}}(e,G,x);var B=builderFmButon.call(i,z,"",mergeCssClasses(C,c.prevIcon),"","left"),L=builderFmButon.call(i,P,"",mergeCssClasses(C,c.nextIcon),"","right"),H=builderFmButon.call(i,"sData",c.bSubmit),V=builderFmButon.call(i,"cData",c.bCancel),W="<div class='"+getGuiStyles.call(i,"dialog.footer")+"'><table class='EditTable' id='"+p+"_2'><tbody><tr><td colspan='2'><hr class='"+getGuiStyles.call(i,"dialog.hr")+"' style='margin:1px'/></td></tr><tr id='Act_Buttons'><td class='navButton navButton-"+a.direction+"'>"+(A?L+B:B+L)+"</td><td class='EditButton EditButton-"+a.direction+"'>"+H+"&#160;"+V+"</td></tr>";if(W+="<tr style='display:none' class='binfo'><td class='bottominfo' colspan='2'>"+(c.bottominfo||"&#160;")+"</td></tr>",W+="</tbody></table></div>",0<_){var U=[];$.each($(G)[0].rows,(function(e,t){U[e]=t})),U.sort((function(e,t){return e.rp>t.rp?1:e.rp<t.rp?-1:0})),$.each(U,(function(e,t){$("tbody",G).append(t)}))}c.gbox=b;var Y=!1;!0===c.closeOnEscape&&(c.closeOnEscape=!1,Y=!0);var X=$("<div></div>").append($("<div class='"+getGuiStyles.call(i,"dialog.body")+"'></div>").append(N)).append(W);if(jgrid.createModal.call(i,g,X,c,a.gView,$(b)[0]),c.topinfo&&$(".tinfo",f).show(),c.bottominfo&&$(".binfo",m).show(),W=X=null,$(v).keydown((function(e){var t,i,r=(e.target.tagName||"").toUpperCase();if(!0===$(u).data("disabled"))return!1;if(13===e.which&&"TEXTAREA"!==r){if(i=(t=$(m).find(":focus")).attr("id"),0<t.length&&0<=$.inArray(i,["pData","nData","cData"]))return t.trigger("click"),!1;if(!0===c.savekey[0]&&13===c.savekey[1])return $("#sData",m).trigger("click"),!1}if(!0===c.savekey[0]&&e.which===c.savekey[1]&&"TEXTAREA"!==r)return $("#sData",m).trigger("click"),!1;if(27===e.which)return ie()&&Y&&j(),!1;if(!0===c.navkeys[0]){if("_empty"===$("#id_g",f).val())return!0;if(e.which===c.navkeys[1])return $("#pData",m).trigger("click"),!1;if(e.which===c.navkeys[2])return $("#nData",m).trigger("click"),!1}})),c.checkOnUpdate&&($("a.ui-jqdialog-titlebar-close span",v).removeClass("jqmClose"),$("a.ui-jqdialog-titlebar-close",v).off("click").click((function(){return ie()&&j(),!1}))),addFormIcon($("#sData",m),c.saveicon,C),addFormIcon($("#cData",m),c.closeicon,C),c.checkOnSubmit||c.checkOnUpdate){H=builderFmButon.call(i,"sNew",c.bYes),L=builderFmButon.call(i,"nNew",c.bNo),V=builderFmButon.call(i,"cNew",c.bExit);var K=c.zIndex||999;K++,$("<div class='"+c.overlayClass+" jqgrid-overlay confirm' style='z-index:"+K+";display:none;'>&#160;</div><div class='"+getGuiStyles.call(i,"dialog.content","confirm ui-jqconfirm")+"' style='z-index:"+(K+1)+"'>"+c.saveData+"<br/><br/>"+H+L+V+"</div>").insertAfter(u),$("#sNew",v).click((function(){return ee(),$(u).data("disabled",!1),$(".confirm",v).hide(),!1})),$("#nNew",v).click((function(){return $(".confirm",v).hide(),$(u).data("disabled",!1),setTimeout((function(){$(u).find("input,textarea,select,button,object,*[tabindex]").filter(":input:visible:not(:disabled)").first().focus()}),0),!1})),$("#cNew",v).click((function(){return $(".confirm",v).hide(),$(u).data("disabled",!1),j(),!1}))}S("onInitializeForm",$(u),o),"_empty"!==e&&c.viewPagerButtons?$("#pData,#nData",m).show():$("#pData,#nData",m).hide(),S("beforeShowForm",$(u),o),$(v).data("onClose",c.onClose),jgrid.viewModal.call(i,v,{gbox:b,jqm:c.jqModal,overlay:c.overlay,modal:c.modal,overlayClass:c.overlayClass,toTop:c.toTop,onHide:function(e){e.w.remove(),e.o&&e.o.remove()}}),R||$("."+jqID(c.overlayClass)).click((function(){return ie()&&j(),!1})),$(".fm-button",v).hover((function(){$(this).addClass(k)}),(function(){$(this).removeClass(k)})),$("#sData",m).click((function(){return n={},$("#FormError",f).hide(),Q(),"_empty"===n[s+"_id"]?ee():!0===c.checkOnSubmit&&te(n,c._savedData)?($(u).data("disabled",!0),$(".confirm",v).show()):ee(),!1})),$("#cData",m).click((function(){return ie()&&j(),!1})),$("#nData",m).click((function(){if(!ie())return!1;$("#FormError",f).hide();var e=ae();if(e[0]=parseInt(e[0],10),-1!==e[0]&&e[1][e[0]+1]){if(!S("onclickPgButtons","next",$(u),e[1][e[0]]))return!1;Z(e[1][e[0]+1],u),d.call(r,e[1][e[0]+1]),S("afterclickPgButtons","next",$(u),e[1][e[0]+1]),re(e[0]+1,e)}return!1})),$("#pData",m).click((function(){if(!ie())return!1;$("#FormError",f).hide();var e=ae();if(-1!==e[0]&&e[1][e[0]-1]){if(!S("onclickPgButtons","prev",$(u),e[1][e[0]]))return!1;if(hasOneFromClasses($("#"+jqID(e[1][e[0]-1])),O))return!1;Z(e[1][e[0]-1],u),d.call(r,e[1][e[0]-1]),S("afterclickPgButtons","prev",$(u),e[1][e[0]-1]),re(e[0]-1,e)}return!1})),S("afterShowForm",$(u),o);var J=ae();re(J[0],J)}}function Q(){return $(f+" > tbody > tr > td .FormElement").each((function(){var e,t,a=$(".customelement",this),o=a.length?a.attr("name"):this.name,s=w[o],d=void 0!==s&&y[s]||{},u=d.editoptions||{};if(a.length&&$.isFunction(u.custom_value)){try{if(n[o]=u.custom_value.call(i,$("#"+jqID(o),f),"get"),void 0===n[o])throw"e1"}catch(e){"e1"===e?jgrid.info_dialog.call(i,D,"function 'custom_value' "+c.msg.novalue,c.bClose):jgrid.info_dialog.call(i,D,e.message,c.bClose)}return!0}switch(t=$(this)[0].type){case"checkbox":var h="string"==typeof u.value?u.value.split(":"):["Yes","No"];n[o]=$(this).is(":checked")?h[0]:h[1];break;case"select-one":n[o]=$("option:selected",this).val();break;case"select-multiple":n[o]=$(this).val(),n[o]=n[o]?n[o].join(","):"";var p=[];$("option:selected",this).each((function(e,t){p[e]=$(t).text()}));break;case"date":n[o]=$(this).val(),3===String(n[o]).split("-").length&&(e=(d.formatoptions||{}).newformat||l.call(r,"formatter.date.newformat"),n[o]=jgrid.parseDate.call(r[0],"Y-m-d",n[o],e));break;default:void 0!==t&&$.inArray(t,c.skipPostTypes)<0&&(n[o]=$(this).val())}})),!0}function Z(e,t){var n,o,l,d,u,h=0;(c.checkOnSubmit||c.checkOnUpdate)&&(c._savedData={},c._savedData[s+"_id"]=e);var p=a.colModel;if("_empty"===e)return $(p).each((function(){n=this.name,l=$.extend({},this.editoptions||{}),(o=$("#"+jqID(n),t))&&o.length&&null!==o[0]&&(d="","custom"===this.edittype&&$.isFunction(l.custom_value)?l.custom_value.call(i,o,"set",d):l.defaultValue?(d=$.isFunction(l.defaultValue)?l.defaultValue.call(i):l.defaultValue,"checkbox"===o[0].type?(u=d.toLowerCase()).search(/(false|f|0|no|n|off|undefined)/i)<0&&""!==u?(o[0].checked=!0,o[0].defaultChecked=!0,o[0].value=d):(o[0].checked=!1,o[0].defaultChecked=!1):o.val(d)):"checkbox"===o[0].type?(o[0].checked=!1,o[0].defaultChecked=!1,d=$(o).data("offval")):o[0].type&&"select"===o[0].type.substr(0,6)?o[0].selectedIndex=0:o.val(d),(!0===c.checkOnSubmit||c.checkOnUpdate)&&(c._savedData[n]=d))})),void $("#id_g",t).val(e);var m=base.getInd.call(r,e,!0);m&&($(m.cells).filter("td[role=gridcell]").each((function(r){var o;if("cb"!==(n=p[r].name)&&"subgrid"!==n&&"rn"!==n&&!0===p[r].editable){try{o=$.unformat.call(i,$(this),{rowId:e,colModel:p[r]},r)}catch(e){o="textarea"===p[r].edittype?$(this).text():$(this).html()}switch(a.autoEncodeOnEdit&&(o=jgrid.oldDecodePostedData(o)),(!0===c.checkOnSubmit||c.checkOnUpdate)&&(c._savedData[n]=o),n="#"+jqID(n),p[r].edittype){case"password":case"text":case"button":case"image":case"textarea":isEmptyString(o)&&(o=""),$(n,t).val(o);break;case"select":var s=o.split(",");s=$.map(s,(function(e){return $.trim(e)})),$(n+" option",t).each((function(){var e,t=this,i=$(t),a=$.trim(i.val());if(p[r].editoptions.multiple||s[0]!==a?p[r].editoptions.multiple&&-1<(e=$.inArray(a,s))?(s.splice(e,1),t.selected=!0):t.selected=!1:(s.splice(0,1),t.selected=!0),0===s.length)return!1})),0<s.length&&$(n+" option",t).each((function(){var e,t=$(this),i=$.trim(t.text());if(p[r].editoptions.multiple||$.trim(o)!==i&&s[0]!==i?p[r].editoptions.multiple&&-1<(e=$.inArray(i,s))&&(s.splice(e,1),this.selected=!0):(s.splice(0,1),this.selected=!0),0===s.length)return!1}));break;case"checkbox":o=String(o),o=p[r].editoptions&&p[r].editoptions.value?p[r].editoptions.value.split(":")[0]===o:(o=o.toLowerCase()).search(/(false|f|0|no|n|off|undefined)/i)<0&&""!==o,$(n,t).prop({checked:o,defaultChecked:o});break;case"custom":try{if(!p[r].editoptions||!$.isFunction(p[r].editoptions.custom_value))throw"e1";p[r].editoptions.custom_value.call(i,$(n,t),"set",o)}catch(e){"e1"===e?jgrid.info_dialog.call(i,D,"function 'custom_value' "+c.msg.nodefined,c.bClose):jgrid.info_dialog.call(i,D,e.message,c.bClose)}}h++}})),0<h&&$("#id_g",f).val(e))}function ee(){var t,l,h,p,g,v,b,w,x,_=[!0,"",""],C=_,D={},S=a.prmNames,k=base.getInd.call(r,e),O=!1===k?null:i.rows[k],F=r.triggerHandler("jqGridAddEditBeforeCheckValues",[n,$(u),o]);for(h in F&&"object"==typeof F&&(n=F),k=!1===k?-1:k,$.isFunction(c.beforeCheckValues)&&(F=c.beforeCheckValues.call(i,n,$(u),o))&&"object"==typeof F&&(n=F),n)if(n.hasOwnProperty(h)&&(w=a.iColByName[h],null!=(C=jgrid.checkValues.call(i,n[h],h,void 0,void 0,{oldValue:"_empty"===e?null:base.getCell.call(r,e,w),newValue:n[h],cmName:h,rowid:e,cm:y[w],iCol:w,iRow:k,tr:O,td:null==O?null:O.cells[w],mode:"_empty"===e?"addForm":"editForm"}))&&!0!==C||(C=_),!1===C[0]))break;if(x=c.url||a.editurl,$.each(y,(function(e,t){var r=t.name;n.hasOwnProperty(r)&&("date"!==t.formatter||null!=t.formatoptions&&!0===t.formatoptions.sendFormatted||(n[r]=$.unformat.date.call(i,n[r],t)),"clientArray"!==x&&t.editoptions&&!0===t.editoptions.NullIfEmpty&&""===n[r]&&(n[r]="null"))})),C[0]&&(void 0===(D=r.triggerHandler("jqGridAddEditClickSubmit",[c,n,o]))&&$.isFunction(c.onclickSubmit)&&(D=c.onclickSubmit.call(i,c,n,o)||{}),null!=(C=r.triggerHandler("jqGridAddEditBeforeSubmit",[n,$(u),o]))&&!0!==C||(C=_),C[0]&&$.isFunction(c.beforeSubmit)&&(null!=(C=c.beforeSubmit.call(i,n,$(u),o))&&!0!==C||(C=_))),C[0]&&!c.processing){if(c.processing=!0,$("#sData",m).addClass(I),v=c.url||a.editurl,l=S.oper,t="clientArray"===v&&!1!==a.keyName?a.keyName:S.id,n[l]="_empty"===$.trim(n[s+"_id"])?S.addoper:S.editoper,(n[l]!==S.addoper||void 0===n[t])&&(n[t]=n[s+"_id"]),delete n[s+"_id"],n=$.extend(n,c.editData,D),!0===a.treeGrid){if(n[l]===S.addoper){p=a.selrow;var q="adjacency"===a.treeGridModel?a.treeReader.parent_id_field:"parent_id";n[q]=p}for(g in a.treeReader)if(a.treeReader.hasOwnProperty(g)&&(b=a.treeReader[g],n.hasOwnProperty(b))){if(n[l]===S.addoper&&"parent_id_field"===g)continue;delete n[b]}}n[t]=jgrid.stripPref(a.idPrefix,n[t]),a.autoEncodeOnEdit&&$.each(n,(function(e,t){$.isFunction(t)||(n[e]=jgrid.oldEncodePostedData(t))}));var R=$.extend({url:$.isFunction(v)?v.call(i,n[t],o,n,c):v,type:$.isFunction(c.mtype)?c.mtype.call(i,o,c,n[t],n):c.mtype,data:jgrid.serializeFeedback.call(i,$.isFunction(c.serializeEditData)?c.serializeEditData:a.serializeEditData,"jqGridAddEditSerializeEditData",n),complete:function(e,h){if(r.jqGrid("progressBar",{method:"hide",loadtype:c.saveui}),$("#sData",m).removeClass(I),n[t]=$("#id_g",f).val(),300<=e.status&&304!==e.status||0===e.status&&4===e.readyState?(C[0]=!1,C[1]=r.triggerHandler("jqGridAddEditErrorTextFormat",[e,o]),$.isFunction(c.errorTextFormat)?C[1]=c.errorTextFormat.call(i,e,o):C[1]=h+" Status: '"+e.statusText+"'. Error code: "+e.status):(null!=(C=r.triggerHandler("jqGridAddEditAfterSubmit",[e,n,o]))&&!0!==C||(C=_),C[0]&&$.isFunction(c.afterSubmit)&&(null!=(C=c.afterSubmit.call(i,e,n,o))&&!0!==C||(C=_))),!1===C[0])$("#FormError>td",f).html(C[1]),$("#FormError",f).show();else{a.autoEncodeOnEdit&&$.each(n,(function(e,t){n[e]=jgrid.oldDecodePostedData(t)}));var g,v=[$.extend({},c.reloadGridOptions||{})];if(n[l]===S.addoper?(C[2]||(C[2]=jgrid.randId()),null==n[t]||"_empty"===n[t]||n[l]===S.addoper?n[t]=C[2]:C[2]=n[t],c.reloadAfterSubmit?r.trigger("reloadGrid",v):!0===a.treeGrid?base.addChildNode.call(r,C[2],p,n):base.addRowData.call(r,C[2],n,c.addedrow),c.closeAfterAdd?(!0!==a.treeGrid&&d.call(r,C[2]),j()):c.clearAfterAdd&&Z("_empty",u)):(c.reloadAfterSubmit?(r.trigger("reloadGrid",v),c.closeAfterEdit||setTimeout((function(){d.call(r,n[t])}),1e3)):!0===a.treeGrid?base.setTreeRow.call(r,n[t],n):base.setRowData.call(r,n[t],n),c.closeAfterEdit&&j()),$.isFunction(c.afterComplete)){var b=e;setTimeout((function(){r.triggerHandler("jqGridAddEditAfterComplete",[b,n,$(u),o]),c.afterComplete.call(i,b,n,$(u),o),b=null}),50)}if((c.checkOnSubmit||c.checkOnUpdate)&&($(u).data("disabled",!1),"_empty"!==c._savedData[s+"_id"]))for(g in c._savedData)c._savedData.hasOwnProperty(g)&&n[g]&&(c._savedData[g]=n[g])}c.processing=!1;try{$(u).find("input,textarea,select,button,object,*[tabindex]").filter(":input:visible:not(:disabled)").first().focus()}catch(e){}}},jgrid.ajaxOptions,c.ajaxEditOptions);if(R.url||c.useDataProxy||($.isFunction(a.dataProxy)?c.useDataProxy=!0:(C[0]=!1,C[1]+=" "+jgrid.errors.nourl)),C[0])if(r.jqGrid("progressBar",{method:"show",loadtype:c.saveui,htmlcontent:c.savetext}),c.useDataProxy){var M=a.dataProxy.call(i,R,"set_"+s);void 0===M&&(M=[!0,""]),!1===M[0]?(C[0]=!1,C[1]=M[1]||"Error deleting the selected row!"):(R.data.oper===S.addoper&&c.closeAfterAdd&&j(),R.data.oper===S.editoper&&c.closeAfterEdit&&j())}else"clientArray"===R.url?(c.reloadAfterSubmit=!1,n=R.data,R.complete({status:200,statusText:""},"")):$.ajax(R)}!1===C[0]&&($("#FormError>td",f).html(C[1]),$("#FormError",f).show())}function te(e,t){var i,r=!1;for(i in e)if(e.hasOwnProperty(i)&&String(e[i])!==String(t[i])){r=!0;break}return r}function ie(){var e=!0;return $("#FormError",f).hide(),c.checkOnUpdate&&(n={},Q(),te(n,c._savedData)&&($(u).data("disabled",!0),$(".confirm",v).show(),e=!1)),e}function re(e,t){var i=t[1].length-1;0===e||void 0!==t[1][e-1]&&hasOneFromClasses($("#"+jqID(t[1][e-1])),O)?$("#pData",m).addClass(O):$("#pData",m).removeClass(O),e===i||void 0!==t[1][e+1]&&hasOneFromClasses($("#"+jqID(t[1][e+1])),O)?$("#nData",m).addClass(O):$("#nData",m).removeClass(O)}function ae(){var e=base.getDataIDs.call(r),t=$("#id_g",f).val();return[$.inArray(t,e),e]}}))},viewGridRow:function(e,t){return this.each((function(){var i=this,r=$(i),a=i.p;if(i.grid&&null!=a&&e){var n=a.id,o=$.extend(!0,{top:0,left:0,width:0,datawidth:"auto",height:"auto",dataheight:"auto",drag:!0,resize:!0,closeOnEscape:!1,labelswidth:"",navkeys:[!1,38,40],onClose:null,beforeShowForm:null,beforeInitData:null,viewPagerButtons:!0,removemodal:!0},base.getGridRes.call(r,"view"),jgrid.view||{},a.formViewing||{},t||{}),s="#ViewGrid_"+jqID(n),l="#ViewTbl_"+jqID(n),d=l+"_2",c="ViewGrid_"+n,u="ViewTbl_"+n,h=o.commonIconClass,p={themodal:"viewmod"+n,modalhead:"viewhd"+n,modalcontent:"viewcnt"+n,resizeAlso:c},f="#"+jqID(p.themodal),m=a.gBox,g=a.colModel,v=1,b=0,y=function(){var e=$.makeArray(arguments);return e.unshift(""),e.unshift("View"),e.unshift(o),jgridFeedback.apply(i,e)},w=function(){jgrid.hideModal(f,{gb:m,jqm:o.jqModal,onClose:o.onClose,removemodal:o.removemodal})},x=getGuiStateStyles.call(i,"hover"),_=getGuiStateStyles.call(i,"disabled"),C=isNaN(o.dataheight)?o.dataheight:o.dataheight+"px",j=isNaN(o.datawidth)?o.datawidth:o.datawidth+"px",D=$("<div class='"+getGuiStyles.call(i,"dialog.body")+"'><form name='FormPost' id='"+c+"' class='FormGrid' style='width:"+j+";overflow:auto;position:relative;height:"+C+";'></form></div>"),S=D.children("form.FormGrid"),k=$("<table id='"+u+"' class='EditTable'><tbody></tbody></table>");if($(f).remove(),$(g).each((function(){var e=this.formoptions;v=Math.max(v,e&&e.colpos||0),b=Math.max(b,e&&e.rowpos||0)})),S.append(k),y("beforeInitData",S)){!function(e,t,n){var s,l,d,c,u,h,p,f,m=0,v=[],b=base.getInd.call(r,e),y=getGuiStyles.call(i,"dialog.viewData"),w=$(t),x=getGuiStyles.call(i,"dialog.viewLabel"),_=String(o.labelswidth)+(!o.labelswidth||isNaN(o.labelswidth)?"":"px"),C="<td class='"+getGuiStyles.call(i,"dialog.viewCellLabel","CaptionTD form-view-label")+(_?"' style='width:"+_+";":"")+"'>&#160;</td><td class='"+getGuiStyles.call(i,"dialog.viewCellData","DataTD form-view-data")+"'>&#160;</td>",j="",D=["integer","number","currency"],S=0,k=0;for(u=0;u<n;u++)j+=C;if($(g).each((function(){var e=this;(l=(!e.editrules||!0!==e.editrules.edithidden)&&!0===e.hidden)||"right"!==e.align||(e.formatter&&-1!==$.inArray(e.formatter,D)?S=Math.max(S,parseInt(e.width,10)):k=Math.max(k,parseInt(e.width,10)))})),h=0!==S?S:0!==k?k:0,$(g).each((function(e){var t=this;if(s=t.name,p=!1,l=(!t.editrules||!0!==t.editrules.edithidden)&&!0===t.hidden,f="boolean"!=typeof t.viewable||t.viewable,"cb"!==s&&"subgrid"!==s&&"rn"!==s&&f){c=!1===b?"":jgrid.getDataFieldOfCell.call(i,i.rows[b],e).html(),p="right"===t.align&&0!==h;var r=$.extend({},{rowabove:!1,rowcontent:""},t.formoptions||{}),o=parseInt(r.rowpos,10)||m+1,u=parseInt(2*(parseInt(r.colpos,10)||1),10);if(r.rowabove){var g=$("<tr><td class='contentinfo' colspan='"+2*n+"'>"+r.rowcontent+"</td></tr>");w.append(g),g[0].rp=o}0===(d=w.find("tr[data-rowpos="+o+"]")).length&&((d=$("<tr data-rowpos='"+o+"'></tr>").addClass("FormData").attr("id","trv_"+s)).append(j),w.append(d),d[0].rp=o);var _=void 0===r.label?a.colNames[e]:r.label,C=$("td:eq("+(u-1)+")",d[0]),D=$("td:eq("+(u-2)+")",d[0]);D.html("<label for='"+s+"'"+(x?" class='"+x+"'>":">")+(_||"&nbsp;")+"</label>"),C[isEmptyString(C.html())?"html":"append"]("<span id='"+s+"'"+(y?" class='"+y+"'>":">")+(c||"&nbsp;")+"</span>").attr("id","v_"+s),p&&$("td:eq("+(u-1)+") span",d[0]).css({"text-align":"right",width:h+"px"}),l&&D.add(C).css("visibility","hidden"),v[m]=e,m++}})),hideRowsWithoutVissibleCells(w),0<m){var O=$("<tr class='FormData' style='display:none'><td class='CaptionTD'>&#160;</td><td colspan='"+(2*n-1)+"' class='DataTD'><input class='FormElement' id='id_g' type='text' name='id' value='"+e+"'/></td></tr>");O[0].rp=m+99,w.append(O)}}(e,k,v);var O="rtl"===a.direction,F=O?"nData":"pData",I=O?"pData":"nData",q=builderFmButon.call(i,F,"",mergeCssClasses(h,o.prevIcon),"","left"),R=builderFmButon.call(i,I,"",mergeCssClasses(h,o.nextIcon),"","right"),M=builderFmButon.call(i,"cData",o.bClose);if(0<b){var T=[];$.each($(k)[0].rows,(function(e,t){T[e]=t})),T.sort((function(e,t){return e.rp>t.rp?1:e.rp<t.rp?-1:0})),$.each(T,(function(e,t){$("tbody",k).append(t)}))}o.gbox=m;var N=$("<div></div>").append(D).append("<div class='"+getGuiStyles.call(i,"dialog.footer")+"'><table border='0' class='EditTable' id='"+u+"_2'><tbody><tr id='Act_Buttons'><td class='navButton navButton-"+a.direction+"' width='"+(o.labelswidth||"auto")+"'>"+(O?R+q:q+R)+"</td><td class='EditButton EditButton-"+a.direction+"'>"+M+"</td></tr></tbody></table></div>");jgrid.createModal.call(i,p,N,o,a.gView,$(a.gView)[0]),o.viewPagerButtons||$("#pData, #nData",d).hide(),N=null,$(f).keydown((function(e){var t,i;if(!0===$(s).data("disabled"))return!1;if(13===e.which&&(i=(t=$(d).find(":focus")).attr("id"),0<t.length&&0<=$.inArray(i,["pData","nData","cData"])))return t.trigger("click"),!1;if(27===e.which)return o.closeOnEscape&&w(),!1;if(!0===o.navkeys[0]){if(e.which===o.navkeys[1])return $("#pData",d).trigger("click"),!1;if(e.which===o.navkeys[2])return $("#nData",d).trigger("click"),!1}})),addFormIcon($("#cData",d),o.closeicon,h),y("beforeShowForm",$(s)),jgrid.viewModal.call(i,f,{gbox:m,jqm:o.jqModal,overlay:o.overlay,toTop:o.toTop,modal:o.modal,onHide:function(e){e.w.remove(),e.o&&e.o.remove()}}),$(".fm-button:not(."+_.split(" ").join(".")+")",d).hover((function(){$(this).addClass(x)}),(function(){$(this).removeClass(x)})),E(),$("#cData",d).click((function(){return w(),!1})),$("#nData",d).click((function(){$("#FormError",l).hide();var e=P();if(e[0]=parseInt(e[0],10),-1!==e[0]&&e[1][e[0]+1]){if(!y("onclickPgButtons","next",$(s),e[1][e[0]]))return!1;A(e[1][e[0]+1]),base.setSelection.call(r,e[1][e[0]+1]),y("afterclickPgButtons","next",$(s),e[1][e[0]+1]),z(e[0]+1,e)}return E(),!1})),$("#pData",d).click((function(){$("#FormError",l).hide();var e=P();if(-1!==e[0]&&e[1][e[0]-1]){if(!y("onclickPgButtons","prev",$(s),e[1][e[0]]))return!1;A(e[1][e[0]-1]),base.setSelection.call(r,e[1][e[0]-1]),y("afterclickPgButtons","prev",$(s),e[1][e[0]-1]),z(e[0]-1,e)}return E(),!1}));var G=P();z(G[0],G)}}function E(){!0!==o.closeOnEscape&&!0!==o.navkeys[0]||setTimeout((function(){$("#cData").focus()}),0)}function A(e){var t,a,n=0,o=base.getInd.call(r,e,!0);o&&($("td",o).each((function(e){a=g[e],"cb"!==(t=a.name)&&"subgrid"!==t&&"rn"!==t&&(t=jqID("v_"+t),$("#"+t+" span",l).html(jgrid.getDataFieldOfCell.call(i,o,e).html()),n++)})),0<n&&$("#id_g",l).val(e))}function z(e,t){var i=t[1].length-1;0===e||void 0!==t[1][e-1]&&hasOneFromClasses($("#"+jqID(t[1][e-1])),_)?$("#pData",d).addClass(_):$("#pData",d).removeClass(_),e===i||void 0!==t[1][e+1]&&hasOneFromClasses($("#"+jqID(t[1][e+1])),_)?$("#nData",d).addClass(_):$("#nData",d).removeClass(_)}function P(){var e=base.getDataIDs.call(r),t=$("#id_g",l).val();return[$.inArray(t,e),e]}}))},delGridRow:function(e,t){return this.each((function(){var i=this,r=i.p,a=$(i);if(i.grid&&null!=r&&e){var n,o,s,l,d=r.id,c=$.extend(!0,{top:0,left:0,width:240,removemodal:!0,height:"auto",dataheight:"auto",datawidth:"auto",drag:!0,resize:!0,url:"",mtype:"POST",reloadAfterSubmit:!0,beforeShowForm:null,beforeInitData:null,afterShowForm:null,beforeSubmit:null,onclickSubmit:null,afterSubmit:null,closeOnEscape:!1,delData:{},idSeparator:",",onClose:null,ajaxDelOptions:{},processing:!1,serializeDelData:null,useDataProxy:!1,delui:"disable",deltext:base.getGridRes.call(a,"defaults.deltext")||"Deleting..."},base.getGridRes.call(a,"del"),jgrid.del||{},r.formDeleting||{},t||{}),u="DelTbl_"+d,h="#DelTbl_"+jqID(d),p={themodal:"delmod"+d,modalhead:"delhd"+d,modalcontent:"delcnt"+d,resizeAlso:u},f="#"+jqID(p.themodal),m=r.gBox,g=c.commonIconClass,v=function(){var e=$.makeArray(arguments);return e.unshift(""),e.unshift("Delete"),e.unshift(c),jgridFeedback.apply(i,e)},b=getGuiStateStyles.call(i,"hover"),y=getGuiStateStyles.call(i,"active"),w=getGuiStateStyles.call(i,"error");if($.isArray(e)||(e=[String(e)]),void 0!==$(f)[0]){if(!v("beforeInitData",$(h)))return;$("#DelData>td",h).text(e.join(c.idSeparator)).data("rowids",e),$("#DelError",h).hide(),!0===c.processing&&(c.processing=!1,$("#dData",h).removeClass(y)),v("beforeShowForm",$(h)),jgrid.viewModal.call(i,f,{gbox:m,jqm:c.jqModal,jqM:!1,overlay:c.overlay,toTop:c.toTop,modal:c.modal}),v("afterShowForm",$(h))}else{var x=isNaN(c.dataheight)?c.dataheight:c.dataheight+"px",_=isNaN(c.datawidth)?c.datawidth:c.datawidth+"px",C="<div class='"+getGuiStyles.call(i,"dialog.body")+"'><div id='"+u+"' class='formdata' style='width:"+_+";overflow:auto;position:relative;height:"+x+";'>";C+="<table class='DelTable'><tbody>",C+="<tr id='DelError' style='display:none'><td class='"+w+"'></td></tr>",C+="<tr id='DelData' style='display:none'><td >"+e.join(c.idSeparator)+"</td></tr>",C+="<tr><td class='delmsg'>"+c.msg+"</td></tr>",C+="</tbody></table></div></div>";var j=builderFmButon.call(i,"dData",c.bSubmit),D=builderFmButon.call(i,"eData",c.bCancel);if(C+="<div class='"+getGuiStyles.call(i,"dialog.footer")+"'><table class='EditTable' id='"+u+"_2'><tbody><tr><td><hr class='"+getGuiStyles.call(i,"dialog.hr")+"' style='margin:1px'/></td></tr><tr><td class='DelButton EditButton EditButton-"+r.direction+"'>"+j+"&#160;"+D+"</td></tr></tbody></table></div>",c.gbox=m,jgrid.createModal.call(i,p,C,c,r.gView,$(r.gView)[0]),$("#DelData>td",h).data("rowids",e),!v("beforeInitData",$(C)))return;$(".fm-button",h+"_2").hover((function(){$(this).addClass(b)}),(function(){$(this).removeClass(b)})),addFormIcon($("#dData",h+"_2"),c.delicon,g),addFormIcon($("#eData",h+"_2"),c.cancelicon,g),$("#dData",h+"_2").click((function(){var e,t=[!0,""],u=$("#DelData>td",h),p=u.text(),g=u.data("rowids"),b={};if($.isFunction(c.onclickSubmit)&&(b=c.onclickSubmit.call(i,c,p,g)||{}),$.isFunction(c.beforeSubmit)&&(t=c.beforeSubmit.call(i,p,g)||t),t[0]&&!c.processing){if(c.processing=!0,s=r.prmNames,n=$.extend({},c.delData,b),l=s.oper,n[l]=s.deloper,o=s.id,!(p=g.slice()).length)return!1;for(e in p)p.hasOwnProperty(e)&&(p[e]=jgrid.stripPref(r.idPrefix,p[e]));n[o]=p.join(c.idSeparator),$(this).addClass(y);var w=c.url||r.editurl,x=$.extend({url:$.isFunction(w)?w.call(i,n[o],n,c,g):w,type:c.mtype,data:$.isFunction(c.serializeDelData)?c.serializeDelData.call(i,n,g):n,complete:function(e,o){var s;if(a.jqGrid("progressBar",{method:"hide",loadtype:c.delui}),$("#dData",h+"_2").removeClass(y),300<=e.status&&304!==e.status||0===e.status&&4===e.readyState?(t[0]=!1,$.isFunction(c.errorTextFormat)?t[1]=c.errorTextFormat.call(i,e):t[1]=o+" Status: '"+e.statusText+"'. Error code: "+e.status):$.isFunction(c.afterSubmit)&&(t=c.afterSubmit.call(i,e,n,g)||[!0]),!1===t[0])$("#DelError>td",h).html(t[1]),$("#DelError",h).show();else{if("local"===r.datatype||!0===r.treeGrid||!c.reloadAfterSubmit)if(!0===r.treeGrid)try{base.delTreeNode.call(a,g[0])}catch(e){}else for(g=g.slice(),s=0;s<g.length;s++)base.delRowData.call(a,g[s]);c.reloadAfterSubmit&&a.trigger("reloadGrid",[$.extend({},c.reloadGridOptions||{})]),setTimeout((function(){v("afterComplete",e,p,$(h),g)}),50)}c.processing=!1,t[0]&&jgrid.hideModal(f,{gb:m,jqm:c.jqModal,onClose:c.onClose,removemodal:c.removemodal})}},jgrid.ajaxOptions,c.ajaxDelOptions);if(x.url||c.useDataProxy||($.isFunction(r.dataProxy)?c.useDataProxy=!0:(t[0]=!1,t[1]+=" "+jgrid.errors.nourl)),t[0])if(a.jqGrid("progressBar",{method:"show",loadtype:c.delui,htmlcontent:c.deltext}),c.useDataProxy){var _=r.dataProxy.call(i,x,"del_"+d);void 0===_&&(_=[!0,""]),!1===_[0]?(t[0]=!1,t[1]=_[1]||"Error deleting the selected row!"):jgrid.hideModal(f,{gb:m,jqm:c.jqModal,onClose:c.onClose,removemodal:c.removemodal})}else"clientArray"===x.url?(n=x.data,x.complete({status:200,statusText:""},"")):$.ajax(x)}return!1===t[0]&&($("#DelError>td",h).html(t[1]),$("#DelError",h).show()),!1})),$("#eData",h+"_2").click((function(){return jgrid.hideModal(f,{gb:m,jqm:c.jqModal,onClose:c.onClose,removemodal:c.removemodal}),!1})),v("beforeShowForm",$(h)),jgrid.viewModal.call(i,f,{gbox:m,jqm:c.jqModal,overlay:c.overlay,toTop:c.toTop,modal:c.modal}),v("afterShowForm",$(h))}!0===c.closeOnEscape&&setTimeout((function(){$(".ui-jqdialog-titlebar-close","#"+jqID(p.modalhead)).attr("tabindex","-1").focus()}),0)}}))},navGrid:function(e,t,i,r,a,n,o){return"object"==typeof e&&(o=n,n=a,a=r,r=i,i=t,t=e,e=void 0),r=r||{},i=i||{},o=o||{},a=a||{},n=n||{},this.each((function(){var s=this,l=s.p,d=$(s);if(s.grid&&null!=l&&!(s.nav&&0<$(e).find(".navtable").length)){var c=l.id,u=$.extend({edit:!0,add:!0,del:!0,search:!0,refresh:!0,refreshstate:"firstpage",view:!1,closeOnEscape:!0,beforeRefresh:null,afterRefresh:null,cloneToTop:!1,hideEmptyPagerParts:!0,alertwidth:200,alertheight:"auto",alerttop:null,removemodal:!0,alertleft:null,alertzIndex:null,iconsOverText:!1},base.getGridRes.call(d,"nav"),jgrid.nav||{},l.navOptions||{},t||{});u.position=u.position||("rtl"===l.direction?"right":"left");var h,p,f,m=l.idSel,g=l.gBox,v=u.commonIconClass,b={themodal:"alertmod_"+c,modalhead:"alerthd_"+c,modalcontent:"alertcnt_"+c},y=function(){var e=document.documentElement,t=window,i=1024,r=768,a=d.closest(".ui-jqgrid").offset();void 0===$("#"+jqID(b.themodal))[0]&&(u.alerttop||u.alertleft||(void 0!==t.innerWidth?(i=t.innerWidth,r=t.innerHeight):null!=e&&void 0!==e.clientWidth&&0!==e.clientWidth&&(i=e.clientWidth,r=e.clientHeight),i=i/2-parseInt(u.alertwidth,10)/2-a.left+(void 0!==t.pageXOffset?t.pageXOffset:(e||document.body.parentNode||document.body).scrollLeft),r=r/2-25-a.top+(void 0!==t.pageYOffset?t.pageYOffset:(e||document.body.parentNode||document.body).scrollTop)),jgrid.createModal.call(s,b,"<div class='"+getGuiStyles.call(s,"dialog.body")+"'><div>"+u.alerttext+"</div></div>",{gbox:g,jqModal:u.jqModal,drag:!0,resize:!0,caption:u.alertcap,top:null!=u.alerttop?u.alerttop:r,left:null!=u.alertleft?u.alertleft:i,width:u.alertwidth,height:u.alertheight,closeOnEscape:u.closeOnEscape,zIndex:u.alertzIndex,removemodal:u.removemodal},l.gView,$(g)[0],!1)),jgrid.viewModal.call(s,"#"+jqID(b.themodal),{gbox:g,toTop:u.alertToTop,jqm:u.jqModal});var n=$("#"+jqID(b.modalhead)).find(".ui-jqdialog-titlebar-close");n.attr({tabindex:"0",href:"#",role:"button"}),setTimeout((function(){n.focus()}),50)},w=function(e){var t;if(13===e.which&&0<(t=$(this).find(".ui-pg-button").filter(":focus")).length){var i=t[0].id,r=i.substr(0,0<$(this).closest(".ui-jqgrid-toppager").length?i.length-c.length-5:i.length-c.length-1)+"mod"+l.id,a=$(".ui-jqdialog").filter(":visible").map((function(){return this.id}));if($.inArray(r,a)<0)return t.trigger("click"),!1}},x=getGuiStateStyles.call(s,"hover"),_=getGuiStateStyles.call(s,"disabled"),C=getGuiStyles.call(s,"navButton","ui-pg-button");if(s.grid){s.modalAlert=y,void 0===e&&(l.pager?(e=l.pager,l.toppager&&(u.cloneToTop=!0)):l.toppager&&(e=l.toppager));var j,D,S,k,O,F,I,q=1,R=["left","center","right"],M="<div class='"+getGuiStyles.call(s,"navButton","ui-pg-button "+getGuiStateStyles.call(s,"disabled"))+"'><span class='ui-separator'></span></div>",T=function(){hasOneFromClasses(this,_)||$(this).addClass(x)},N=function(){$(this).removeClass(x)},G=function(){return hasOneFromClasses(this,_)||($.isFunction(u.addfunc)?u.addfunc.call(s,r):base.editGridRow.call(d,"new",r)),!1},E=function(e,t,i){if(!hasOneFromClasses(this,_)){var r=l.selrow;r?$.isFunction(e)?e.call(s,r,i):base[t].call(d,r,i):y()}return!1},A=function(){return E.call(this,u.editfunc,"editGridRow",i)},z=function(){return E.call(this,u.viewfunc,"viewGridRow",o)},P=function(){var e;return hasOneFromClasses(this,_)||(l.multiselect?0===(e=l.selarrrow).length&&(e=null):e=l.selrow,e?$.isFunction(u.delfunc)?u.delfunc.call(s,e,a):base.delGridRow.call(d,e,a):y()),!1},B=function(){return hasOneFromClasses(this,_)||($.isFunction(u.searchfunc)?u.searchfunc.call(s,n):base.searchGrid.call(d,n)),!1},L=function(){if(!hasOneFromClasses(this,_)){$.isFunction(u.beforeRefresh)&&u.beforeRefresh.call(s),l.search=!1,l.resetsearch=!0;try{if("currentfilter"!==u.refreshstate){l.postData.filters="";try{$("#fbox_"+m).jqFilter("resetFilter")}catch(h){}$.isFunction(s.clearToolbar)&&s.clearToolbar(!1)}}catch(h){}switch(u.refreshstate){case"firstpage":d.trigger("reloadGrid",[$.extend({},u.reloadGridOptions||{},{page:1})]);break;case"current":case"currentfilter":d.trigger("reloadGrid",[$.extend({},u.reloadGridOptions||{},{current:!0})])}$.isFunction(u.afterRefresh)&&u.afterRefresh.call(s)}return!1},H=function(e,t,i){var r=$("<div class='"+C+"' tabindex='0' role='button'></div>"),a=u[e+"icon"],n=$.trim(u[e+"text"]);return r.append("<div class='ui-pg-div'><span class='"+(u.iconsOverText?mergeCssClasses("ui-pg-button-icon-over-text",v,a):mergeCssClasses(v,a))+"'></span>"+(n?"<span class='ui-pg-button-text"+(u.iconsOverText?" ui-pg-button-icon-over-text":"")+"'>"+n+"</span>":"")+"</div>"),$(f).append(r),r.attr({title:u[e+"title"]||"",id:t||e+"_"+k}).click(i).hover(T,N),r};for(u.cloneToTop&&l.toppager&&(q=2),j=0;j<q;j++){if(f=$("<div class='ui-pg-table navtable' role='toolbar' style='float:"+("rtl"===l.direction?"right":"left")+";table-layout:auto;'></div>"),0===j?(k=c,(S=e)===l.toppager&&(k+="_top",q=1)):(S=l.toppager,k=c+"_top"),u.add&&H("add",r.id,G),u.edit&&H("edit",i.id,A),u.view&&H("view",o.id,z),u.del&&H("del",a.id,P),(u.add||u.edit||u.del||u.view)&&$(f).append(M),u.search&&(D=H("search",n.id,B),n.showOnLoad&&!0===n.showOnLoad&&$(D,f).click()),u.refresh&&H("refresh","",L),p=$(".ui-jqgrid>.ui-jqgrid-view").css("font-size")||"11px",$("body").append("<div id='testpg2' class='"+getGuiStyles.call(s,"gBox","ui-jqgrid")+"' style='font-size:"+p+";visibility:hidden;' ></div>"),h=$(f).clone().appendTo("#testpg2").width(),$("#testpg2").remove(),$(S+"_"+u.position,S).append(f),u.hideEmptyPagerParts)for(O=0;O<R.length;O++)R[O]!==u.position&&(0===(I=$(S+"_"+R[O],S)).length||0===I[0].childNodes.length?I.hide():1===I[0].childNodes.length&&(F=I[0].firstChild,!$(F).is("table.ui-pg-table")||0!==F.rows&&0!==F.rows[0].cells.length||I.hide()));l._nvtd&&(h>l._nvtd[0]&&($(S+"_"+u.position,S).width(h),l._nvtd[0]=h),l._nvtd[1]=h),s.nav=!0,f.on("keydown.jqGrid",w)}d.triggerHandler("jqGridResetFrozenHeights")}}}))},navButtonAdd:function(e,t){return"object"==typeof e&&(t=e,e=void 0),this.each((function(){var i=this,r=i.p;if(i.grid){var a=$.extend({caption:"newButton",title:"",onClickButton:null,position:"last",iconsOverText:!1},base.getGridRes.call($(i),"nav"),jgrid.nav||{},r.navOptions||{},t||{}),n=a.id,o=getGuiStateStyles.call(i,"hover"),s=getGuiStateStyles.call(i,"disabled"),l=getGuiStyles.call(i,"navButton","ui-pg-button");if(void 0===e)if(r.pager){if(base.navButtonAdd.call($(i),r.pager,a),!r.toppager)return;e=r.toppager,n&&(n+="_top")}else r.toppager&&(e=r.toppager);"string"==typeof e&&0!==e.indexOf("#")&&(e="#"+jqID(e));var d=$(".navtable",e),c=a.commonIconClass;if(0<d.length){if(n&&0<d.find("#"+jqID(n)).length)return;var u=$("<div tabindex='0' role='button'></div>");"NONE"===a.buttonicon.toString().toUpperCase()?$(u).addClass(l).append("<div class='ui-pg-div'>"+(a.caption?"<span class='ui-pg-button-text"+(a.iconsOverText?" ui-pg-button-icon-over-text":"")+"'>"+a.caption+"</span>":"")+"</div>"):$(u).addClass(l).append("<div class='ui-pg-div'><span class='"+(a.iconsOverText?mergeCssClasses("ui-pg-button-icon-over-text",c,a.buttonicon):mergeCssClasses(c,a.buttonicon))+"'></span>"+(a.caption?"<span class='ui-pg-button-text"+(a.iconsOverText?" ui-pg-button-icon-over-text":"")+"'>"+a.caption+"</span>":"")+"</div>"),n&&$(u).attr("id",n),"first"===a.position&&0<d.children("div.ui-pg-button").length?d.children("div.ui-pg-button").first().before(u):d.append(u),$(u,d).attr("title",a.title||"").click((function(e){return hasOneFromClasses(this,s)||$.isFunction(a.onClickButton)&&a.onClickButton.call(i,a,e),!1})).hover((function(){hasOneFromClasses(this,s)||$(this).addClass(o)}),(function(){$(this).removeClass(o)})),$(i).triggerHandler("jqGridResetFrozenHeights")}}}))},navSeparatorAdd:function(e,t){return t=$.extend({sepclass:"ui-separator",sepcontent:"",position:"last"},t||{}),this.each((function(){if(this.grid){var i=this.p,r=getGuiStyles.call(this,"navButton","ui-pg-button "+getGuiStateStyles.call(this,"disabled"));if(void 0===e)if(i.pager){if(base.navSeparatorAdd.call($(this),i.pager,t),!i.toppager)return;e=i.toppager}else i.toppager&&(e=i.toppager);"string"==typeof e&&0!==e.indexOf("#")&&(e="#"+jqID(e));var a=$(".navtable",e);if(0<a.length){var n="<div class='"+r+"'><span class='"+t.sepclass+"'></span>"+t.sepcontent+"</div>";"first"===t.position?0===a.children("div.ui-pg-button").length?a.append(n):a.children("div.ui-pg-button").first().before(n):a.append(n)}}}))},GridToForm:function(e,t){return this.each((function(){var i,r,a,n;if(this.grid){var o=base.getRowData.call($(this),e);if(o)for(i in o)if(o.hasOwnProperty(i))if((r=$("[name="+jqID(i)+"]",t)).is("input:radio")||r.is("input:checkbox"))for(a=0;a<r.length;a++)(n=$(r[a])).prop("checked",n.val()===String(o[i]));else r.val(isEmptyString(o[i])?"":o[i])}}))},FormToGrid:function(e,t,i,r){return this.each((function(){if(this.grid){i||(i="set"),r||(r="first");var a=$(t).serializeArray(),n={};$.each(a,(function(e,t){n[t.name]=t.value})),"add"===i?base.addRowData.call($(this),e,n,r):"set"===i&&base.setRowData.call($(this),e,n)}}))}}),jgrid.extend({groupingSetup:function(){return this.each((function(){var e,t,i,r,a,n=this.p,o=n.colModel,s=n.groupingView,l=function(){return""};if(null===s||"object"!=typeof s&&!$.isFunction(s))n.grouping=!1;else if(s.groupField.length){for(void 0===s.visibiltyOnNextGrouping&&(s.visibiltyOnNextGrouping=[]),s.lastvalues=[],s._locgr||(s.groups=[]),s.counters=[],e=0;e<s.groupField.length;e++)s.groupOrder[e]||(s.groupOrder[e]="asc"),s.groupText[e]||(s.groupText[e]="{0}"),"boolean"!=typeof s.groupColumnShow[e]&&(s.groupColumnShow[e]=!0),"boolean"!=typeof s.groupSummary[e]&&(s.groupSummary[e]=!1),s.groupSummaryPos[e]||(s.groupSummaryPos[e]="footer"),r=o[n.iColByName[s.groupField[e]]],!0===s.groupColumnShow[e]?(s.visibiltyOnNextGrouping[e]=!0,null!=r&&!0===r.hidden&&base.showCol.call($(this),s.groupField[e])):(s.visibiltyOnNextGrouping[e]=$("#"+jgrid.jqID(n.id+"_"+s.groupField[e])).is(":visible"),null!=r&&!0!==r.hidden&&base.hideCol.call($(this),s.groupField[e]));for(s.summary=[],s.hideFirstGroupCol&&(s.formatDisplayField[0]=function(e){return e}),t=0,i=o.length;t<i;t++)r=o[t],s.hideFirstGroupCol&&(r.hidden||s.groupField[0]!==r.name||(r.formatter=l)),r.summaryType&&(a={nm:r.name,st:r.summaryType,v:"",sr:r.summaryRound,srt:r.summaryRoundType||"round"},r.summaryDivider&&(a.sd=r.summaryDivider,a.vd=""),s.summary.push(a))}else n.grouping=!1}))},groupingPrepare:function(e,t){return this.each((function(){var i,r,a,n,o,s,l,d,c,u=this,h=u.p,p=h.groupingView,f=p.groups,m=p.counters,g=p.lastvalues,v=p.isInTheSameGroup,b=p.groupField.length,y=!1,w=base.groupingCalculations.handler,x=function(){var t,i,r;for(t=0;t<o.summary.length;t++)i=o.summary[t],r=$.isArray(i.st)?i.st[n.idx]:i.st,$.isFunction(r)?i.v=r.call(u,i.v,i.nm,e,n):(i.v=w.call($(u),r,i.v,i.nm,i.sr,i.srt,e),"avg"===r.toLowerCase()&&i.sd&&(i.vd=w.call($(u),r,i.vd,i.sd,i.sr,i.srt,e)));return o.summary},_=function(e,t){if(null==e&&p.useDefaultValuesOnGrouping){var i,r=void 0!==h.iColByName[t]?h.colModel[h.iColByName[t]]:h.additionalProperties[h.iPropByName[t]];null!=r&&null!=r.formatter&&(null!=r.formatoptions&&void 0!==r.formatoptions.defaultValue?e=r.formatoptions.defaultValue:"string"==typeof r.formatter&&void 0!==(i=$(u).jqGrid("getGridRes","formatter."+r.formatter+".defaultValue"))&&(e=i))}return e};for(i=0;i<b;i++)if(s=p.groupField[i],l=_(e[s],s),null==(c=null==(d=p.displayField[i])?null:_(e[d],d))&&(c=l),void 0!==l){for(a=[],r=0;r<=i;r++)a.push(e[p.groupField[r]]);for(n={idx:i,dataIndex:s,value:l,displayValue:c,startRow:t,cnt:1,keys:a,summary:[]},o={cnt:1,pos:f.length,summary:$.extend(!0,[],p.summary)},0===t?(f.push(n),g[i]=l,m[i]=o):"object"==typeof l||($.isArray(v)&&$.isFunction(v[i])?v[i].call(u,g[i],l,i,p):g[i]===l)?y?(f.push(n),g[i]=l,m[i]=o):((o=m[i]).cnt+=1,f[o.pos].cnt=o.cnt):(f.push(n),g[i]=l,y=!0,m[i]=o),f[o.pos].summary=x(),r=o.pos-1;0<=r;r--)if(f[r].idx<f[o.pos].idx){f[o.pos].parentGroupIndex=r,f[o.pos].parentGroup=f[r];break}}})),this},getGroupHeaderIndex:function(e,t){var i=this[0].p,r=t?$(t).closest("tr.jqgroup"):$("#"+jgrid.jqID(e)),a=parseInt(r.data("jqgrouplevel"),10),n=i.id+"ghead_"+a+"_";return isNaN(a)||!r.hasClass("jqgroup")||e.length<=n.length?-1:parseInt(e.substring(n.length),10)},groupingToggle:function(e,t){return this.each((function(){var i,r,a,n=this,o=n.p,s=o.groupingView,l=s.minusicon,d=s.plusicon,c=t?$(t).closest("tr.jqgroup"):$("#"+jgrid.jqID(e)),u=function(e){return e.find(">td>span.tree-wrap")},h=!0,p=!1,f=[],m=function(e){var t,i=e.length;for(t=0;t<i;t++)f.push(e[t])},g=parseInt(c.data("jqgrouplevel"),10);for(o.frozenColumns&&0<c.length&&(r=c[0].rowIndex,c=(c=$(n.rows[r])).add(n.grid.fbRows[r])),a=u(c),jgrid.hasAllClasses(a,l)?(a.removeClass(l).addClass(d),p=!0):a.removeClass(d).addClass(l),c=c.next();c.length;c=c.next())if(c.hasClass("jqfoot")){if(i=parseInt(c.data("jqfootlevel"),10),p){if(i=parseInt(c.data("jqfootlevel"),10),(!s.showSummaryOnHide&&i===g||g<i)&&m(c),i<g)break}else if((i===g||s.showSummaryOnHide&&i===g+1)&&m(c),i<=g)break}else if(c.hasClass("jqgroup"))if(i=parseInt(c.data("jqgrouplevel"),10),p){if(i<=g)break;m(c)}else{if(i<=g)break;i===g+1&&(u(c).removeClass(l).addClass(d),m(c)),h=!1}else(p||h)&&m(c);$(f).css("display",p?"none":""),o.frozenColumns&&$(n).triggerHandler("jqGridResetFrozenHeights",[{header:{resizeDiv:!1,resizedRows:{iRowStart:-1,iRowEnd:-1}},resizeFooter:!1,body:{resizeDiv:!0,resizedRows:{iRowStart:r,iRowEnd:c.length?c[0].rowIndex-1:-1}}}]),n.fixScrollOffsetAndhBoxPadding(),$(n).triggerHandler("jqGridGroupingClickGroup",[e,p]),$.isFunction(o.onClickGroup)&&o.onClickGroup.call(n,e,p)})),!1},groupingRender:function(e,t){var i="",r=this[0],a=r.p,n=0,o=[],s=a.groupingView,l=$.makeArray(s.groupSummary),d=s.groupField.length,c=s.groups,u=a.colModel,h=u.length,p=a.page,f="jqGridShowHideCol.groupingRender",m=function(e){return base.getGuiStyles.call(r,"gridRow",e)},g=m("jqgroup ui-row-"+a.direction),v=m("jqfoot ui-row-"+a.direction);function b(e,t,i,n,o){var l,d,p,f,m,g,v,b,y,w,x,_,C,j=c[e],D="",S=0,k=!0;if(0!==t&&0!==c[e].idx)for(l=e;0<=l;l--)if(c[l].idx===c[e].idx-t){j=c[l];break}for(d=j.cnt,x=void 0===o?n:0;x<h;x++){for(p="&#160;",w=u[x],b=0;b<j.summary.length;b++)if(y=j.summary[b],_=$.isArray(y.st)?y.st[i.idx]:y.st,C=$.isArray(w.summaryTpl)?w.summaryTpl[i.idx]:w.summaryTpl||"{0}",y.nm===w.name){"string"==typeof _&&"avg"===_.toLowerCase()&&(y.sd&&y.vd?y.v=y.v/y.vd:y.v&&0<d&&(y.v=y.v/d));try{y.groupCount=j.cnt,y.groupIndex=j.dataIndex,y.groupValue=j.value,g=r.formatter("",y.v,x,y)}catch(e){g=y.v}p=jgrid.format(C,g),w.summaryFormat&&(p=w.summaryFormat.call(r,i,p,g,w,y));break}m=f=!1,void 0!==o&&k&&(w.hidden||(p=o,k=!1,1<n&&(f=!0,S=n-1),m=w.align,w.align="rtl"===a.direction?"right":"left",s.iconColumnName=w.name)),v=!1,0<S&&!w.hidden&&"&#160;"===p?(v=!0,m&&(w.align=m),S--):(D+="<td role='gridcell' "+r.formatCol(x,1,"")+(f?"colspan='"+n+"'":"")+">"+p+"</td>",f=!1,m&&(w.align=m),v&&(w.hidden=!1,S--))}return D}return $.each(u,(function(e,t){var i;for(i=0;i<d;i++)if(s.groupField[i]===t.name){o[i]=e;break}})),l.reverse(),$.each(c,(function(f,m){var y,w,x,_,C,j,D,S,k=a.id+"ghead_"+m.idx,O=k+"_"+f,F=$.isFunction(s.groupCollapse)?s.groupCollapse.call(r,{group:m,rowid:O}):s.groupCollapse,I=1,q=0,R=d-1===m.idx,M=null!=m.parentGroup&&m.parentGroup.collapsed,T="<span style='cursor:pointer;margin-"+("rtl"===a.direction?"right:":"left:")+12*m.idx+"px;' class='"+s.commonIconClass+" "+(F?s.plusicon:s.minusicon)+" tree-wrap'></span>";if(s._locgr&&!(m.startRow+m.cnt>(p-1)*t&&m.startRow<p*t))return!0;M&&(F=!0),void 0!==F&&(m.collapsed=F),n++;try{$.isArray(s.formatDisplayField)&&$.isFunction(s.formatDisplayField[m.idx])?(m.displayValue=s.formatDisplayField[m.idx].call(r,m.displayValue,m.value,u[o[m.idx]],m.idx,m,f),y=m.displayValue):y=r.formatter(O,m.displayValue,o[m.idx],m.value,m)}catch(f){y=m.displayValue}if(i+="<tr id='"+O+"' data-jqgrouplevel='"+m.idx+"' "+(F&&M?"style='display:none;' ":"")+"role='row' class='"+g+" "+k+"'>","string"!=typeof(S=$.isFunction(s.groupText[m.idx])?s.groupText[m.idx].call(r,y,m.cnt,m.summary):jgrid.template(s.groupText[m.idx],y,m.cnt,m.summary))&&"number"!=typeof S&&(S=y),"header"===s.groupSummaryPos[m.idx]?(I=1,"cb"!==u[0].name&&"cb"!==u[1].name||I++,"subgrid"!==u[0].name&&"subgrid"!==u[1].name||I++,i+=b(f,0,m,I,T+"<span class='cell-wrapper'>"+S+"</span>")):i+="<td role='gridcell' style='padding-left:"+12*m.idx+"px;' colspan='"+h+"'>"+T+S+"</td>",i+="</tr>",R){for(j=c[f+1],C=m.startRow,D=void 0!==j?j.startRow:c[f].startRow+c[f].cnt,s._locgr&&(q=(p-1)*t)>m.startRow&&(C=q),x=C;x<D&&e[x-q];x++)i+=e[x-q].join("");if("header"!==s.groupSummaryPos[m.idx]){if(void 0!==j){for(w=0;w<s.groupField.length&&j.dataIndex!==s.groupField[w];w++);n=s.groupField.length-w}for(_=0;_<n;_++)l[_]&&(i+="<tr data-jqfootlevel='"+(m.idx-_)+(F&&(0<m.idx-_||!s.showSummaryOnHide)?"' style='display:none;'":"'")+" role='row' class='"+v+"'>",i+=b(f,_,c[m.idx-_],0),i+="</tr>");n=w}}})),this.off(f).on(f,(function(){var e,t,i,n,o=a.iColByName[s.iconColumnName];if(0<=$.inArray("header",s.groupSummaryPos)){for(n=0;n<u.length;n++)if(!u[n].hidden){i=n;break}if(void 0===i||o===i)return;for(e=0;e<r.rows.length;e++)t=r.rows[e],$(t).hasClass("jqgroup")&&($(t.cells[i]).html(t.cells[o].innerHTML),$(t.cells[o]).html("&nbsp;"));s.iconColumnName=u[i].name}})),i},groupingGroupBy:function(e,t){return this.each((function(){var i,r,a=this.p,n=a.groupingView;for("string"==typeof e&&(e=[e]),a.grouping=!0,n._locgr=!1,void 0===n.visibiltyOnNextGrouping&&(n.visibiltyOnNextGrouping=[]),i=0;i<n.groupField.length;i++)r=a.colModel[a.iColByName[n.groupField[i]]],!n.groupColumnShow[i]&&n.visibiltyOnNextGrouping[i]&&null!=r&&!0===r.hidden&&base.showCol.call($(this),n.groupField[i]);for(i=0;i<e.length;i++)n.visibiltyOnNextGrouping[i]=$(a.idSel+"_"+jgrid.jqID(e[i])).is(":visible");a.groupingView=$.extend(a.groupingView,t||{}),n.groupField=e,$(this).trigger("reloadGrid")}))},groupingRemove:function(e){return this.each((function(){var t,i=this.p,r=this.tBodies[0],a=i.groupingView;if(void 0===e&&(e=!0),!(i.grouping=!1)===e){for(t=0;t<a.groupField.length;t++)!a.groupColumnShow[t]&&a.visibiltyOnNextGrouping[t]&&base.showCol.call($(this),a.groupField);$("tr.jqgroup, tr.jqfoot",r).remove(),$("tr.jqgrow",r).filter(":hidden").show()}else $(this).trigger("reloadGrid")}))},groupingCalculations:{handler:function(e,t,i,r,a,n){var o,s,l={sum:function(){return parseFloat(t||0)+parseFloat(n[i]||0)},min:function(){return""===t?parseFloat(n[i]||0):Math.min(parseFloat(t),parseFloat(n[i]||0))},max:function(){return""===t?parseFloat(n[i]||0):Math.max(parseFloat(t),parseFloat(n[i]||0))},count:function(){return""===t&&(t=0),n.hasOwnProperty(i)?t+1:0},avg:function(){return l.sum()}};if(!l[e])throw"jqGrid Grouping No such method: "+e;return o=l[e](),null!=r&&("fixed"===a?o=o.toFixed(r):(s=Math.pow(10,r),o=Math.round(o*s)/s)),o}}}),$.jgrid.extend({jqGridImport:function(e){return e=$.extend({imptype:"xml",impstring:"",impurl:"",mtype:"GET",impData:{},xmlGrid:{config:"roots>grid",data:"roots>rows"},jsonGrid:{config:"grid",data:"data"},ajaxOptions:{}},e||{}),this.each((function(){var t,i=this,r=function(e,t){var r,a,n,o,s=$(t.xmlGrid.config,e)[0],l=$(t.xmlGrid.data,e)[0];if(xmlJsonClass.xml2json){for(n in r=xmlJsonClass.xml2json(s," "),r=$.parseJSON(r))r.hasOwnProperty(n)&&(a=r[n]);void 0!==a&&(l?(o=r.grid.datatype,r.grid.datatype="xmlstring",r.grid.datastr=e,$(i).jqGrid(a).jqGrid("setGridParam",{datatype:o})):$(i).jqGrid(a))}else(null!=jgrid.defaults&&$.isFunction(jgrid.defaults.fatalError)?jgrid.defaults.fatalError:alert)("xml2json or parse are not present")},a=function(e,t){if(e&&"string"==typeof e){var r,a=$.parseJSON(e),n=a[t.jsonGrid.config],o=a[t.jsonGrid.data];o?(r=n.datatype,n.datatype="jsonstring",n.datastr=o,$(i).jqGrid(n).jqGrid("setGridParam",{datatype:r})):$(i).jqGrid(n)}};switch(e.imptype){case"xml":$.ajax($.extend({url:e.impurl,type:e.mtype,data:e.impData,dataType:"xml",context:e,complete:function(e){!(e.status<300||304===e.status)||0===e.status&&4===e.readyState||(r(e.responseXML,this),$(i).triggerHandler("jqGridImportComplete",[e,this]),$.isFunction(this.importComplete)&&this.importComplete(e))}},e.ajaxOptions));break;case"xmlstring":e.impstring&&"string"==typeof e.impstring&&(t=$.parseXML(e.impstring))&&(r(t,e),$(i).triggerHandler("jqGridImportComplete",[t,e]),$.isFunction(e.importComplete)&&e.importComplete(t),e.impstring=null);break;case"json":$.ajax($.extend({url:e.impurl,type:e.mtype,data:e.impData,dataType:"json",context:e,complete:function(e){try{!(e.status<300||304===e.status)||0===e.status&&4===e.readyState||(a(e.responseText,this),$(i).triggerHandler("jqGridImportComplete",[e,this]),$.isFunction(this.importComplete)&&this.importComplete(e))}catch(e){}}},e.ajaxOptions));break;case"jsonstring":e.impstring&&"string"==typeof e.impstring&&(a(e.impstring,e),$(i).triggerHandler("jqGridImportComplete",[e.impstring,e]),$.isFunction(e.importComplete)&&e.importComplete(e.impstring),e.impstring=null)}}))},jqGridExport:function(e){e=$.extend({exptype:"xmlstring",root:"grid",ident:"\t"},e||{});var t=null;return this.each((function(){if(this.grid){var i,r=$.extend(!0,{},$(this).jqGrid("getGridParam"));if(r.rownumbers&&(r.colNames.splice(0,1),r.colModel.splice(0,1)),r.multiselect&&(r.colNames.splice(0,1),r.colModel.splice(0,1)),r.subGrid&&(r.colNames.splice(0,1),r.colModel.splice(0,1)),r.knv=null,r.treeGrid)for(i in r.treeReader)r.treeReader.hasOwnProperty(i)&&(r.colNames.splice(r.colNames.length-1),r.colModel.splice(r.colModel.length-1));switch(e.exptype){case"xmlstring":t="<"+e.root+">"+xmlJsonClass.json2xml(r,e.ident)+"</"+e.root+">";break;case"jsonstring":t="{"+xmlJsonClass.toJson(r,e.root,e.ident,!1)+"}",void 0!==r.postData.filters&&(t=(t=t.replace(/filters":"/,'filters":')).replace(/\}\]\}"/,"}]}"))}}})),t},excelExport:function(e){return e=$.extend({exptype:"remote",url:null,oper:"oper",tag:"excel",exportOptions:{}},e||{}),this.each((function(){var t;this.grid&&"remote"===e.exptype&&((t=$.extend({},this.p.postData,e.exportOptions))[e.oper]=e.tag,window.location=e.url+(null!=e.url&&0<=e.url.indexOf("?")?"&":"?")+$.param(t))}))}});var editFeedback=function(e){var t=$.makeArray(arguments).slice(1);return t.unshift(""),t.unshift("Inline"),t.unshift(e),jgrid.feedback.apply(this,t)};jgrid.inlineEdit=jgrid.inlineEdit||{},jgrid.extend({editRow:function(e,t,i,r,a,n,o,s,l,d){var c={},u=$.makeArray(arguments).slice(1);return"object"===$.type(u[0])?c=u[0]:(void 0!==t&&(c.keys=t),$.isFunction(i)&&(c.oneditfunc=i),$.isFunction(r)&&(c.successfunc=r),void 0!==a&&(c.url=a),null!=n&&(c.extraparam=n),$.isFunction(o)&&(c.aftersavefunc=o),$.isFunction(s)&&(c.errorfunc=s),$.isFunction(l)&&(c.afterrestorefunc=l),$.isFunction(d)&&(c.beforeEditRow=d)),this.each((function(){var t=this,i=$(t),r=t.p,a=0,n=null,o={},s={},l=r.colModel,d=r.prmNames;if(t.grid){var u=$.extend(!0,{keys:!1,oneditfunc:null,successfunc:null,url:null,extraparam:{},aftersavefunc:null,errorfunc:null,afterrestorefunc:null,restoreAfterError:!0,beforeEditRow:null,focusField:!0},jgrid.inlineEdit,r.inlineEditing||{},c),h=i.jqGrid("getInd",e,!0),p=u.focusField,f="object"==typeof p&&null!=p?$(p.target||p).closest("tr.jqgrow>td")[0]:null;if(!1!==h&&(u.extraparam[d.oper]===d.addoper||editFeedback.call(t,u,"beforeEditRow",u,e))&&"0"===($(h).attr("editable")||"0")&&!$(h).hasClass("not-editable-row")){var m=jgrid.detectRowEditing.call(t,e);if(null!=m&&"cellEditing"===m.mode){var g=m.savedRow,v=t.rows[g.id],b=getGuiStateStyles.call(t,"select");i.jqGrid("restoreCell",g.id,g.ic),$(v.cells[g.ic]).removeClass("edit-cell "+b),$(v).addClass(b).attr({"aria-selected":"true",tabindex:"0"})}if(jgrid.enumEditableCells.call(t,h,$(h).hasClass("jqgrid-new-row")?"add":"edit",(function(i){var l,d,c,u=i.cm,h=$(i.dataElement),p=i.dataWidth,f=u.name,m=u.edittype,g=i.iCol,v=u.editoptions||{};if(s[f]=i.editable,"hidden"!==i.editable){try{l=$.unformat.call(this,i.td,{rowId:e,colModel:u},g)}catch(i){l="textarea"===m?h.text():h.html()}o[f]=l,h.html(""),d=$.extend({},v,{id:e+"_"+f,name:f,rowId:e,mode:i.mode,cm:u,iCol:g}),("&nbsp;"===l||"&#160;"===l||1===l.length&&160===l.charCodeAt(0))&&(l=""),c=jgrid.createEl.call(t,m,d,l,!0,$.extend({},jgrid.ajaxOptions,r.ajaxSelectOptions||{})),$(c).addClass("editable"),h.append(c),p&&$(c).width(i.dataWidth),jgrid.bindEv.call(t,c,d),"select"===m&&!0===v.multiple&&void 0===v.dataUrl&&jgrid.msie&&$(c).width($(c).width()),null===n&&(n=g),a++}})),0<a){if(o.id=e,r.savedRow.push(o),r.editingInfo[e]={mode:"inlineEditing",savedRow:o,editable:s},$(h).attr("editable","1"),p&&("number"==typeof p&&parseInt(p,10)<=l.length?n=p:"string"==typeof p?n=r.iColByName[p]:null!=f&&(n=f.cellIndex),setTimeout((function(){var e=i.jqGrid("getNumberOfFrozenColumns"),a=function(i){return r.frozenColumns&&0<e&&n<e?t.grid.fbRows[h.rowIndex].cells[i]:h.cells[i]},o=function(e){return $(e).find("input,textarea,select,button,object,*[tabindex]").filter(":input:visible:not(:disabled)")},s=function(){return o(r.frozenColumns&&0<e?t.grid.fbRows[h.rowIndex]:h).first()},l=o(a(n));0<l.length?l.first().focus():"number"==typeof u.defaultFocusField||"string"==typeof u.defaultFocusField?(0===(l=o(a("number"==typeof u.defaultFocusField?u.defaultFocusField:r.iColByName[u.defaultFocusField]))).length&&(l=s()),l.first().focus()):s().focus()}),0)),!0===u.keys){var y=$(h);r.frozenColumns&&(y=y.add(t.grid.fbRows[h.rowIndex])),y.on("keydown",(function(t){return 27===t.keyCode?(i.jqGrid("restoreRow",e,u.afterrestorefunc),!1):13===t.keyCode?"TEXTAREA"===t.target.tagName||(i.jqGrid("saveRow",e,u),!1):void 0}))}fullBoolFeedback.call(t,u.oneditfunc,"jqGridInlineEditRow",e,u)}}}}))},saveRow:function(e,t,i,r,a,n,o,s){var l,d=$.makeArray(arguments).slice(1),c={},u=this[0],h=$(u),p=null!=u?u.p:null,f=jgrid.info_dialog,m=$.isFunction,g=null!=jgrid.defaults&&m(jgrid.defaults.fatalError)?jgrid.defaults.fatalError:alert;if(u.grid&&null!=p){"object"===$.type(d[0])?c=d[0]:(m(t)&&(c.successfunc=t),void 0!==i&&(c.url=i),void 0!==r&&(c.extraparam=r),m(a)&&(c.aftersavefunc=a),m(n)&&(c.errorfunc=n),m(o)&&(c.afterrestorefunc=o),m(s)&&(c.beforeSaveRow=s));var v=function(e){return h.jqGrid("getGridRes",e)};c=$.extend(!0,{successfunc:null,url:null,extraparam:{},aftersavefunc:null,errorfunc:null,afterrestorefunc:null,restoreAfterError:!0,beforeSaveRow:null,ajaxSaveOptions:{},serializeSaveData:null,mtype:"POST",saveui:"enable",savetext:v("defaults.savetext")||"Saving..."},jgrid.inlineEdit,p.inlineEditing||{},c);var b,y,w,x,_,C,j,D,S={},k={},O={},F=h.jqGrid("getInd",e,!0),I=$(F),q=p.prmNames,R=v("errors.errcap"),M=v("edit.bClose"),T=function(e,t){try{var i=jgrid.getRelativeRect.call(u,t);f.call(u,R,e,M,{top:i.top,left:i.left+$(u).closest(".ui-jqgrid").offset().left})}catch(t){g(e)}};if(!1!==F&&(l=c.extraparam[q.oper]===q.addoper?"add":"edit",editFeedback.call(u,c,"beforeSaveRow",c,e,l)&&(b=I.attr("editable"),c.url=c.url||p.editurl,j="clientArray"!==c.url,"1"===b))){if(C=$.jgrid.detectRowEditing.call(u,e),jgrid.enumEditableCells.call(u,F,I.hasClass("jqgrid-new-row")?"add":"edit",(function(e){var t=e.cm,i=t.formatter,r=t.editoptions||{},a=t.formatoptions||{},n={},o=jgrid.getEditedValue.call(u,$(e.dataElement),t,n,e.editable);if("select"===t.edittype&&"select"!==t.formatter&&(k[t.name]=n.text),null!=(_=jgrid.checkValues.call(u,o,e.iCol,void 0,void 0,$.extend(e,{oldValue:null!=C?C.savedRow[t.name]:null,newValue:o,oldRowData:null!=C?C.savedRow:null})))&&!1===_[0])return D=!0,T(_[1],e.td),!1;"date"===i&&!0!==a.sendFormatted&&(o=$.unformat.date.call(u,o,t)),j&&!0===r.NullIfEmpty&&""===o&&(o="null"),S[t.name]=o})),D)return;var N;q=p.prmNames,N=!1===p.keyName?q.id:p.keyName,S&&(S[q.oper]=q.editoper,void 0!==S[N]&&""!==S[N]||(S[N]=jgrid.stripPref(p.idPrefix,e)),S=$.extend({},S,p.inlineData||{},c.extraparam));var G={options:c,rowid:e,tr:F,iRow:F.rowIndex,savedRow:C.savedRow,newData:S,mode:l};if(!editFeedback.call(u,c,"saveRowValidation",G))return void(G.errorText&&T(G.errorText,F));if(j)h.jqGrid("progressBar",{method:"show",loadtype:c.saveui,htmlcontent:c.savetext}),(O=$.extend({},S,O))[N]=jgrid.stripPref(p.idPrefix,O[N]),p.autoEncodeOnEdit&&$.each(O,(function(e,t){m(t)||(O[e]=jgrid.oldEncodePostedData(t))})),F.id===p.idPrefix+O[N]||null==q.idold||O.hasOwnProperty(q.idold)||(O[q.idold]=jgrid.stripPref(p.idPrefix,F.id)),$.ajax($.extend({url:m(c.url)?c.url.call(u,O[N],l,O,c):c.url,data:jgrid.serializeFeedback.call(u,m(c.serializeSaveData)?c.serializeSaveData:p.serializeRowData,"jqGridInlineSerializeSaveData",O),type:m(c.mtype)?c.mtype.call(u,l,c,O[N],O):c.mtype,complete:function(t,i){var r,a,n;if(h.jqGrid("progressBar",{method:"hide",loadtype:c.saveui}),(t.status<300||304===t.status)&&(0!==t.status||4!==t.readyState))if(null!=(a=h.triggerHandler("jqGridInlineSuccessSaveRow",[t,e,c,l,O]))&&!0!==a||(a=[!0,S]),a[0]&&m(c.successfunc)&&(a=c.successfunc.call(u,t,e,c,l,O)),$.isArray(a)?(r=a[0],S=a[1]||S):r=a,!0===r){for(p.autoEncodeOnEdit&&$.each(S,(function(e,t){S[e]=jgrid.oldDecodePostedData(t)})),S=$.extend({},S,k),h.jqGrid("setRowData",e,S),I.attr("editable","0"),n=0;n<p.savedRow.length;n++)if(String(p.savedRow[n].id)===String(e)){w=n;break}0<=w&&(p.savedRow.splice(w,1),delete p.editingInfo[e]),fullBoolFeedback.call(u,c.aftersavefunc,"jqGridInlineAfterSaveRow",e,t,S,c),null!=a[2]?h.jqGrid("changeRowid",e,p.idPrefix+a[2]):F.id!==p.idPrefix+S[N]&&h.jqGrid("changeRowid",F.id,p.idPrefix+S[N]),I.removeClass("jqgrid-new-row").off("keydown")}else fullBoolFeedback.call(u,c.errorfunc,"jqGridInlineErrorSaveRow",e,t,i,null,c),!0===c.restoreAfterError&&h.jqGrid("restoreRow",e,c.afterrestorefunc)},error:function(t,i,r){if(h.triggerHandler("jqGridInlineErrorSaveRow",[e,t,i,r,c]),m(c.errorfunc))c.errorfunc.call(u,e,t,i,r);else{var a=t.responseText||t.statusText;try{f.call(u,R,'<div class="'+getGuiStateStyles.call(u,"error")+'">'+a+"</div>",M,{buttonalign:"right"})}catch(t){g(a)}}!0===c.restoreAfterError&&h.jqGrid("restoreRow",e,c.afterrestorefunc)}},jgrid.ajaxOptions,p.ajaxRowOptions,c.ajaxSaveOptions||{}));else{for(S=$.extend({},S,k),x=h.jqGrid("setRowData",e,S),I.attr("editable","0"),y=0;y<p.savedRow.length;y++)if(String(p.savedRow[y].id)===String(e)){w=y;break}0<=w&&(p.savedRow.splice(w,1),delete p.editingInfo[e]),fullBoolFeedback.call(u,c.aftersavefunc,"jqGridInlineAfterSaveRow",e,x,S,c),I.removeClass("jqgrid-new-row").off("keydown"),F.id!==p.idPrefix+S[N]&&h.jqGrid("changeRowid",F.id,p.idPrefix+S[N])}}}},restoreRow:function(e,t){var i=$.makeArray(arguments).slice(1),r={};return"object"===$.type(i[0])?r=i[0]:$.isFunction(t)&&(r.afterrestorefunc=t),this.each((function(){var t,i=this,a=$(i),n=i.p,o=-1,s={};if(i.grid){var l=$.extend(!0,{},jgrid.inlineEdit,n.inlineEditing||{},r),d=a.jqGrid("getInd",e,!0);if(!1!==d&&editFeedback.call(i,l,"beforeCancelRow",l,e)){for(t=0;t<n.savedRow.length;t++)if(String(n.savedRow[t].id)===String(e)){o=t;break}if(0<=o){if($.isFunction($.fn.datepicker))try{$("input.hasDatepicker","#"+jgrid.jqID(d.id)).datepicker("hide")}catch(t){}$.each(n.colModel,(function(){var e=this.name;n.savedRow[o].hasOwnProperty(e)&&(s[e]=n.savedRow[o][e],!this.formatter||"date"!==this.formatter||null!=this.formatoptions&&!0===this.formatoptions.sendFormatted||(s[e]=$.unformat.date.call(i,s[e],this)))})),a.jqGrid("setRowData",e,s),$(d).attr("editable","0").off("keydown"),n.savedRow.splice(o,1),delete n.editingInfo[e],$("#"+jgrid.jqID(e),i).hasClass("jqgrid-new-row")&&setTimeout((function(){a.jqGrid("delRowData",e),a.jqGrid("showAddEditButtons",!1)}),0)}fullBoolFeedback.call(i,l.afterrestorefunc,"jqGridInlineAfterRestoreRow",e)}}}))},addRow:function(e){return this.each((function(){if(this.grid){var t=this,i=$(t),r=t.p,a=$.extend(!0,{rowID:null,initdata:{},position:"first",useDefValues:!0,useFormatter:!1,beforeAddRow:null,addRowParams:{extraparam:{}}},jgrid.inlineEdit,r.inlineEditing||{},e||{});if(editFeedback.call(t,a,"beforeAddRow",a.addRowParams))if(a.rowID=$.isFunction(a.rowID)?a.rowID.call(t,a):null!=a.rowID?a.rowID:jgrid.randId(),!0===a.useDefValues&&$(r.colModel).each((function(){if(this.editoptions&&this.editoptions.defaultValue){var e=this.editoptions.defaultValue;a.initdata[this.name]=$.isFunction(e)?e.call(t,a):e}})),a.rowID=r.idPrefix+a.rowID,i.jqGrid("addRowData",a.rowID,a.initdata,a.position),$("#"+jgrid.jqID(a.rowID),t).addClass("jqgrid-new-row"),a.useFormatter)$("#"+jgrid.jqID(a.rowID)+" .ui-inline-edit",t).click();else{var n=r.prmNames,o=n.oper;a.addRowParams.extraparam[o]=n.addoper,i.jqGrid("editRow",a.rowID,a.addRowParams),i.jqGrid("setSelection",a.rowID)}}}))},inlineNav:function(e,t){return"object"==typeof e&&(t=e,e=void 0),this.each((function(){var i=this,r=$(i),a=i.p;if(this.grid&&null!=a){var n,o=e===a.toppager?a.idSel+"_top":a.idSel,s=e===a.toppager?a.id+"_top":a.id,l=getGuiStateStyles.call(i,"disabled"),d=$.extend(!0,{edit:!0,editicon:"ui-icon-pencil",add:!0,addicon:"ui-icon-plus",save:!0,saveicon:"ui-icon-disk",cancel:!0,cancelicon:"ui-icon-cancel",commonIconClass:"ui-icon",iconsOverText:!1,addParams:{addRowParams:{extraparam:{}}},editParams:{},restoreAfterSelect:!0},r.jqGrid("getGridRes","nav"),jgrid.nav||{},a.navOptions||{},jgrid.inlineNav||{},a.inlineNavOptions||{},t||{}),c=function(){i.modalAlert()};if(void 0===e)if(a.pager){if(r.jqGrid("inlineNav",a.pager,d),!a.toppager)return;e=a.toppager,o=a.idSel+"_top",s=a.id+"_top"}else a.toppager&&(e=a.toppager,o=a.idSel+"_top",s=a.id+"_top");if(void 0!==e&&!((n=$(e)).length<=0)){if(n.find(".navtable").length<=0&&r.jqGrid("navGrid",e,{add:!1,edit:!1,del:!1,search:!1,refresh:!1,view:!1}),(a._inlinenav=!0)===d.addParams.useFormatter){var u,h,p,f=a.colModel;for(u=0;u<f.length;u++)if(f[u].formatter&&"actions"===f[u].formatter){f[u].formatoptions&&(h={keys:!1,onEdit:null,onSuccess:null,afterSave:null,onError:null,afterRestore:null,extraparam:{},url:null},p=$.extend(h,f[u].formatoptions),d.addParams.addRowParams={keys:p.keys,oneditfunc:p.onEdit,successfunc:p.onSuccess,url:p.url,extraparam:p.extraparam,aftersavefunc:p.afterSave,errorfunc:p.onError,afterrestorefunc:p.afterRestore});break}}d.add&&r.jqGrid("navButtonAdd",e,{caption:d.addtext,title:d.addtitle,commonIconClass:d.commonIconClass,buttonicon:d.addicon,iconsOverText:d.iconsOverText,id:s+"_iladd",onClickButton:function(){hasOneFromClasses(this,l)||r.jqGrid("addRow",d.addParams)}}),d.edit&&r.jqGrid("navButtonAdd",e,{caption:d.edittext,title:d.edittitle,commonIconClass:d.commonIconClass,buttonicon:d.editicon,iconsOverText:d.iconsOverText,id:s+"_iledit",onClickButton:function(){if(!hasOneFromClasses(this,l)){var e=a.selrow;e?r.jqGrid("editRow",e,d.editParams):c()}}}),d.save&&(r.jqGrid("navButtonAdd",e,{caption:d.savetext,title:d.savetitle,commonIconClass:d.commonIconClass,buttonicon:d.saveicon,iconsOverText:d.iconsOverText,id:s+"_ilsave",onClickButton:function(){if(!hasOneFromClasses(this,l)&&0<a.savedRow.length){var e=a.savedRow[0].id;if(e){var t=a.prmNames,n=t.oper,o=d.editParams;$("#"+jgrid.jqID(e),i).hasClass("jqgrid-new-row")?(d.addParams.addRowParams.extraparam[n]=t.addoper,o=d.addParams.addRowParams):(d.editParams.extraparam||(d.editParams.extraparam={}),d.editParams.extraparam[n]=t.editoper),r.jqGrid("saveRow",e,o)}else c()}}}),$(o+"_ilsave").addClass(l)),d.cancel&&(r.jqGrid("navButtonAdd",e,{caption:d.canceltext,title:d.canceltitle,commonIconClass:d.commonIconClass,buttonicon:d.cancelicon,iconsOverText:d.iconsOverText,id:s+"_ilcancel",onClickButton:function(){if(!hasOneFromClasses(this,l)&&0<a.savedRow.length){var e=a.savedRow[0].id,t=d.editParams;e?($("#"+jgrid.jqID(e),i).hasClass("jqgrid-new-row")&&(t=d.addParams.addRowParams),r.jqGrid("restoreRow",e,t)):c()}}}),$(o+"_ilcancel").addClass(l)),!0===d.restoreAfterSelect&&r.on("jqGridSelectRow",(function(e,t){if(0<a.savedRow.length&&!0===a._inlinenav){var i=a.savedRow[0].id;t!==i&&"number"!=typeof i&&r.jqGrid("restoreRow",i,d.editParams)}})),r.on("jqGridInlineAfterRestoreRow jqGridInlineAfterSaveRow",(function(){r.jqGrid("showAddEditButtons",!1)})),r.on("jqGridInlineEditRow",(function(e,t){r.jqGrid("showAddEditButtons",!0,t)}))}}}))},showAddEditButtons:function(e){return this.each((function(){if(this.grid){var t=this.p,i=t.idSel,r=getGuiStateStyles.call(this,"disabled"),a=i+"_ilsave,"+i+"_ilcancel"+(t.toppager?","+i+"_top_ilsave,"+i+"_top_ilcancel":""),n=i+"_iladd,"+i+"_iledit"+(t.toppager?","+i+"_top_iladd,"+i+"_top_iledit":"");$(e?n:a).addClass(r),$(e?a:n).removeClass(r)}}))}});var $UiMultiselect=null!=$.ui?$.ui.multiselect:null,reorderSelectedColumns=function(e){if(null!=this.grid&&null!=this.grid.p){var t,i,r,a,n,o=this,s=this.grid.p,l=this.gh,d=this.selectedList,c=this.inGroup,u=d.find("li"),h=u.length-1,p=function(e,t,i){var r,a,n=d.find("li");for(void 0===t&&(t=i?n.length-1:0),r=t;i?0<=r:r<n.length;i?r--:r++)if((a=$(n[r]).data("optionLink"))&&e.call(n[r],parseInt(a.val(),10),r))return r},f=function(){0<=(i=$.inArray(s.colModel[e].name,o.newColOrder))&&o.newColOrder.splice(i,1),u=d.find("li"),t=0,p((function(i,r){if(i===e){for(h=r;0<=t&&t<s.colModel.length&&t!==e&&(s.colModel[t].hidden||s.colModel[t].hidedlg)&&(null==c||c[t]===c[e]);)t++;return o.newColOrder.splice(t,0,s.colModel[e].name),!0}(t=$.inArray(s.colModel[i].name,o.newColOrder,t))<0&&(t=$.inArray(s.colModel[i].name,o.newColOrder)),t++}))},m=function(t){if(c[t]===c[e])return $(this).after(u[h]),f(),!0},g=function(t){if(c[t]===c[e])return $(this).before(u[h]),f(),!0},v=function(t){if(c[t]===c[e]&&void 0!==c[t])return l[c[t]].startColumnName=s.colModel[t].name,!0};if(f(),l&&void 0!==l[c[e]]){for(a=l[c[e]],i=0;i<a.numberOfColumns;i++)if(t=s.iColByName[a.startColumnName]+i,!s.colModel[t].hidden&&!s.colModel[t].hidedlg){p(m,h-1,!0),p(g,h+1),p(v);break}}else if(l){if(u=d.find("li"),(i=p((function(t){if(t===e)return!0})))+1>=u.length||i<0)return;if((n=$(u[i+1]).data("optionLink"))&&void 0!==(r=c[parseInt(n.val(),10)])&&(n=$(u[i-1]).data("optionLink"))&&c[parseInt(n.val(),10)]===r){var b=p((function(e){if(c[e]!==r)return!0}),i+1);$(u[void 0===b||b>=u.length?u.length-1:b-1]).after(u[h]),f()}}}};if(jgrid.msie&&8===jgrid.msiever()&&($.expr[":"].hidden=function(e){return 0===e.offsetWidth||0===e.offsetHeight||"none"===e.style.display}),jgrid._multiselect=!1,$UiMultiselect){if($UiMultiselect.prototype._setSelected){var setSelected=$UiMultiselect.prototype._setSelected;$UiMultiselect.prototype._setSelected=function(e,t){var i=setSelected.call(this,e,t),r=this.element,a=parseInt(e.data("optionLink").val(),10);return t&&this.selectedList&&(reorderSelectedColumns.call(this,a),this.selectedList.find("li").each((function(){$(this).data("optionLink")&&$(this).data("optionLink").remove().appendTo(r)}))),i}}$UiMultiselect.prototype.destroy&&($UiMultiselect.prototype.destroy=function(){this.element.show(),this.container.remove(),void 0===$.Widget?$.widget.prototype.destroy.apply(this,arguments):$.Widget.prototype.destroy.apply(this,arguments)}),jgrid._multiselect=!0}function Aggregation(e,t,i){if(!(this instanceof Aggregation))return new Aggregation(e);this.aggregator=e,this.finilized=!1,this.context=t,this.pivotOptions=i}function ArrayOfFieldsets(e,t,i,r,a){var n,o,s=r.length,l=this,d=function(e,t){var i=e,r=t;if(null==i&&(i=""),null==r&&(r=""),i=String(i),r=String(r),this.caseSensitive||(i=i.toUpperCase(),r=r.toUpperCase()),i===r){if(e===t)return 0;if(void 0===e)return-1;if(void 0===t)return 1;if(null===e)return-1;if(null===t)return 1}return i<r?-1:1},c=function(e,t){return(e=Number(e))===(t=Number(t))?0:e<t?-1:1},u=function(e,t){return(e=Math.floor(Number(e)))===(t=Math.floor(Number(t)))?0:e<t?-1:1};for(l.items=[],l.indexesOfSourceData=[],l.trimByCollect=e,l.caseSensitive=t,l.skipSort=i,l.fieldLength=s,l.fieldNames=new Array(s),l.fieldSortDirection=new Array(s),l.fieldCompare=new Array(s),n=0;n<s;n++){switch(o=r[n],l.fieldNames[n]=o[a||"dataName"],o.sorttype){case"integer":case"int":l.fieldCompare[n]=u;break;case"number":case"currency":case"float":l.fieldCompare[n]=c;break;default:l.fieldCompare[n]=$.isFunction(o.compare)?o.compare:d}l.fieldSortDirection[n]="desc"===o.sortorder?-1:1}}jgrid.extend({sortableColumns:function(e){return this.each((function(){var t=this,i=t.p,r=jqID(i.id);if(i&&i.sortable&&$.isFunction($.fn.sortable)){var a={tolerance:"pointer",axis:"x",scrollSensitivity:"1",items:">th:not(:has(#jqgh_"+r+"_cb,#jqgh_"+r+"_rn,#jqgh_"+r+"_subgrid),:hidden)",placeholder:{element:function(e){return $(document.createElement(e[0].nodeName)).addClass(e[0].className+" ui-sortable-placeholder ui-state-highlight").removeClass("ui-sortable-helper")[0]},update:function(e,t){t.height(e.currentItem.innerHeight()-parseInt(e.currentItem.css("paddingTop")||0,10)-parseInt(e.currentItem.css("paddingBottom")||0,10)),t.width(e.currentItem.innerWidth()-parseInt(e.currentItem.css("paddingLeft")||0,10)-parseInt(e.currentItem.css("paddingRight")||0,10))}},start:function(){t.grid.hDiv.scrollLeft=t.grid.bDiv.scrollLeft},update:function(e,r){var a=$(">th",$(r.item).parent()),n=i.id+"_",o=[];a.each((function(){var e=$(">div",this).get(0).id.replace(/^jqgh_/,"").replace(n,""),t=i.iColByName[e];void 0!==t&&o.push(t)})),$(t).jqGrid("remapColumns",o,!0,!0),$.isFunction(i.sortable.update)&&i.sortable.update(o),setTimeout((function(){i.disableClick=!1}),50)}};if(i.sortable.options?$.extend(a,i.sortable.options):$.isFunction(i.sortable)&&(i.sortable={update:i.sortable}),a.start){var n=a.start;a.start=function(e,t){l(),n.call(this,e,t)}}else a.start=l;i.sortable.exclude&&(a.items+=":not("+i.sortable.exclude+")");var o=e.sortable(a),s=o.data("sortable")||o.data("uiSortable")||o.data("ui-sortable");null!=s&&(s.floating=!0)}function l(){i.disableClick=!0}}))},columnChooser:function(e){var t,i,r,a,n,o,s,l=this,d=l[0],c=d.p,u=c.colModel,h=u.length,p=c.colNames,f=function(e){return $UiMultiselect&&$UiMultiselect.prototype&&e.data($UiMultiselect.prototype.widgetFullName||$UiMultiselect.prototype.widgetName)||e.data("ui-multiselect")||e.data("multiselect")};if(!$("#colchooser_"+jqID(c.id)).length){if(t=$('<div id="colchooser_'+c.id+'" style="position:relative;overflow:hidden"><div><select multiple="multiple"></select></div></div>'),i=$("select",t),e=$.extend({width:400,height:240,classname:null,done:function(e){e&&l.jqGrid("remapColumns",e,!0)},msel:"multiselect",dlog:"dialog",dialog_opts:{minWidth:470,dialogClass:"ui-jqdialog"},dlog_opts:function(e){var t={};return t[e.bSubmit]=function(){e.apply_perm(),e.cleanup(!1)},t[e.bCancel]=function(){e.cleanup(!0)},$.extend(!0,{buttons:t,close:function(){e.cleanup(!0)},modal:e.modal||!1,resizable:e.resizable||!0,width:e.width+70,resize:function(){var e=f(i),t=e.container.closest(".ui-dialog-content");0<t.length&&"object"==typeof t[0].style?t[0].style.width="":t.css("width",""),e.selectedList.height(Math.max(e.selectedContainer.height()-e.selectedActions.outerHeight()-1,1)),e.availableList.height(Math.max(e.availableContainer.height()-e.availableActions.outerHeight()-1,1))}},e.dialog_opts||{})},apply_perm:function(){var t,r,a=new Array(c.colModel.length),n={notSkipFrozen:void 0!==e.notSkipFrozen&&e.notSkipFrozen,skipSetGridWidth:!0,skipSetGroupHeaders:!0};for(t=0;t<c.colModel.length;t++)a[t]=c.iColByName[o.newColOrder[t]];if($("option",i).each((function(){$(this).is(":selected")?l.jqGrid("showCol",u[this.value].name,n):l.jqGrid("hideCol",u[this.value].name,n)})),e.done&&e.done.call(l,a),c.groupHeader&&("object"==typeof c.groupHeader||$.isFunction(c.groupHeader)))if(l.jqGrid("destroyGroupHeader",!1),c.groupHeader.groupHeaders=o.gh,null!=c.pivotOptions&&null!=c.pivotOptions.colHeaders&&1<c.pivotOptions.colHeaders.length)for(r=c.pivotOptions.colHeaders,t=0;t<r.length;t++)r[t]&&r[t].groupHeaders.length&&l.jqGrid("setGroupHeaders",r[t]);else l.jqGrid("setGroupHeaders",c.groupHeader);var s=c.autowidth||void 0!==c.widthOrg&&"auto"!==c.widthOrg&&"100%"!==c.widthOrg?c.width:c.tblwidth;s!==c.width&&l.jqGrid("setGridWidth",s,c.shrinkToFit)},cleanup:function(r){C(e.dlog,t,"destroy"),C(e.msel,i,"destroy"),t.remove(),r&&e.done&&e.done.call(l)},msel_opts:{}},l.jqGrid("getGridRes","col"),jgrid.col,e||{}),$.ui&&$UiMultiselect&&$UiMultiselect.defaults){if(!jgrid._multiselect)return void(null!=jgrid.defaults&&$.isFunction(jgrid.defaults.fatalError)?jgrid.defaults.fatalError:alert)("Multiselect plugin loaded after jqGrid. Please load the plugin before the jqGrid!");e.msel_opts=$.extend($UiMultiselect.defaults,e.msel_opts)}e.caption&&t.attr("title",e.caption),e.classname&&(t.addClass(e.classname),i.addClass(e.classname)),e.width&&($(">div",t).css({width:e.width,margin:"0 auto"}),i.css("width",e.width)),e.height&&($(">div",t).css("height",e.height),i.css("height",e.height-10)),i.empty();var m,g,v,b,y=null!=c.groupHeader?c.groupHeader.groupHeaders:0,w={};if(y)for(m=0;m<y.length;m++)for(b=y[m],g=0;g<b.numberOfColumns;g++)v=c.iColByName[b.startColumnName]+g,w[v]=$.isFunction(e.buildItemText)?e.buildItemText.call(l[0],{iCol:v,cm:u[v],cmName:u[v].name,colName:p[v],groupTitleText:b.titleText}):$.jgrid.stripHtml(b.titleText)+": "+$.jgrid.stripHtml(""===p[v]?u[v].name:p[v]);for(v=0;v<h;v++)void 0===w[v]&&(w[v]=$.isFunction(e.buildItemText)?e.buildItemText.call(l[0],{iCol:v,cm:u[v],cmName:u[v].name,colName:p[v],groupTitleText:null}):$.jgrid.stripHtml(p[v]));if($.each(u,(function(e){this.hidedlg||i.append("<option value='"+e+"'"+(c.headertitles||this.headerTitle?" title='"+jgrid.stripHtml("string"==typeof this.headerTitle?this.headerTitle:w[e])+"'":"")+(this.hidden?"":" selected='selected'")+">"+w[e]+"</option>")})),r=$.isFunction(e.dlog_opts)?e.dlog_opts.call(l,e):e.dlog_opts,C(e.dlog,t,r),a=$.isFunction(e.msel_opts)?e.msel_opts.call(l,e):e.msel_opts,C(e.msel,i,a),(n=$("#colchooser_"+jqID(c.id))).css({margin:"auto"}),n.find(">div").css({width:"100%",height:"100%",margin:"auto"}),o=f(i)){var x,_;if(o.grid=d,y)for(o.gh=$.extend(!0,[],y),o.inGroup=new Array(c.colModel.length),x=0;x<y.length;x++)for(_=y[x],v=0;v<_.numberOfColumns;v++)o.inGroup[c.iColByName[_.startColumnName]+v]=x;o.newColOrder=$.map(u,(function(e){return e.name})),o.container.css({width:"100%",height:"100%",margin:"auto"}),o.selectedContainer.css({width:100*o.options.dividerLocation+"%",height:"100%",margin:"auto",boxSizing:"border-box"}),o.availableContainer.css({width:100-100*o.options.dividerLocation+"%",height:"100%",margin:"auto",boxSizing:"border-box"}),o.selectedList.css("height","auto"),o.availableList.css("height","auto"),s=Math.max(o.selectedList.height(),o.availableList.height()),s=Math.min(s,$(window).height()),o.selectedList.css("height",s),o.availableList.css("height",s),null!=o.options&&o.options.sortable&&o.selectedList.on("sortupdate",(function(t,i){reorderSelectedColumns.call(o,parseInt(i.item.data("optionLink").val(),10)),i.item.css({width:"",height:""}),$.isFunction(e.sortUpdate)&&e.sortUpdate.call(d,t,i)})),$.isFunction(e.init)&&e.init.call(d,o)}}function C(e,t){e&&("string"==typeof e?$.fn[e]&&$.fn[e].apply(t,$.makeArray(arguments).slice(2)):$.isFunction(e)&&e.apply(t,$.makeArray(arguments).slice(2)))}},sortableRows:function(e){return this.each((function(){var t=this,i=t.grid,r=t.p;i&&(r.treeGrid||$.fn.sortable&&((e=$.extend({cursor:"move",axis:"y",items:">tbody>.jqgrow"},e||{})).start&&$.isFunction(e.start)?(e._start_=e.start,delete e.start):e._start_=!1,e.update&&$.isFunction(e.update)?(e._update_=e.update,delete e.update):e._update_=!1,e.start=function(a,n){if($(n.item).css("border-width","0"),$("td",n.item).each((function(e){this.style.width=i.cols[e].style.width})),r.subGrid){var o=$(n.item).attr("id");try{$(t).jqGrid("collapseSubGridRow",o)}catch(a){}}e._start_&&e._start_.apply(this,[a,n])},e.update=function(i,a){$(a.item).css("border-width",""),!0===r.rownumbers&&$("td.jqgrid-rownum",t.rows).each((function(e){$(this).html(e+1+(parseInt(r.page,10)-1)*parseInt(r.rowNum,10))})),e._update_&&e._update_.apply(this,[i,a])},$(t).sortable(e)))}))},gridDnD:function(e){return this.each((function(){var t,i,r=this;if(r.grid&&!r.p.treeGrid&&$.fn.draggable&&$.fn.droppable)if(void 0===$("#jqgrid_dnd")[0]&&$("body").append("<table id='jqgrid_dnd' class='ui-jqgrid-dnd'></table>"),"string"!=typeof e||"updateDnD"!==e||!0!==r.p.jqgdnd){if((e=$.extend({drag:function(e){return $.extend({start:function(t,i){var a,n;if(r.p.subGrid){n=$(i.helper).attr("id");try{$(r).jqGrid("collapseSubGridRow",n)}catch(t){}}for(a=0;a<$.data(r,"dnd").connectWith.length;a++)0===$($.data(r,"dnd").connectWith[a]).jqGrid("getGridParam","reccount")&&$($.data(r,"dnd").connectWith[a]).jqGrid("addRowData","jqg_empty_row",{});i.helper.addClass("ui-state-highlight"),$("td",i.helper).each((function(e){this.style.width=r.grid.headers[e].width+"px"})),e.onstart&&$.isFunction(e.onstart)&&e.onstart.call($(r),t,i)},stop:function(t,i){var a,n;for(i.helper.dropped&&!e.dragcopy&&(void 0===(n=$(i.helper).attr("id"))&&(n=$(this).attr("id")),$(r).jqGrid("delRowData",n)),a=0;a<$.data(r,"dnd").connectWith.length;a++)$($.data(r,"dnd").connectWith[a]).jqGrid("delRowData","jqg_empty_row");e.onstop&&$.isFunction(e.onstop)&&e.onstop.call($(r),t,i)}},e.drag_opts||{})},drop:function(e){return $.extend({accept:function(e){if(!$(e).hasClass("jqgrow"))return e;var t=$(e).closest("table.ui-jqgrid-btable");if(0<t.length&&void 0!==$.data(t[0],"dnd")){var i=$.data(t[0],"dnd").connectWith;return-1!==$.inArray("#"+jqID(this.id),i)}return!1},drop:function(t,i){if($(i.draggable).hasClass("jqgrow")){var a,n=$(i.draggable).attr("id"),o=i.draggable.parent().parent(),s=o.jqGrid("getRowData",n);if(!e.dropbyname){var l,d,c,u,h={},p=o.jqGrid("getGridParam","colModel"),f=$("#"+jqID(this.id)).jqGrid("getGridParam","colModel");try{for(d=l=0;l<p.length&&d<f.length;l++)if("cb"!==(c=p[l].name)&&"rn"!==c&&"subgrid"!==c){for(;d<f.length;d++)if("cb"!==(u=f[d].name)&&"rn"!==u&&"subgrid"!==u){h[u]=s[c];break}d++}s=h}catch(t){}}if(i.helper.dropped=!0,e.beforedrop&&$.isFunction(e.beforedrop)){var m=e.beforedrop.call(this,t,i,s,$("#"+jqID(r.p.id)),$(this));null!=m&&"object"==typeof m&&(s=m)}i.helper.dropped&&(e.autoid&&($.isFunction(e.autoid)?a=e.autoid.call(this,s,{rowid:n,ev:t,ui:i}):(a=Math.ceil(1e3*Math.random()),a=e.autoidprefix+a)),$("#"+jqID(this.id)).jqGrid("addRowData",a,s,e.droppos),s[r.p.localReader.id]=a),e.ondrop&&$.isFunction(e.ondrop)&&e.ondrop.call(this,t,i,s)}}},e.drop_opts||{})},onstart:null,onstop:null,beforedrop:null,ondrop:null,drop_opts:{},drag_opts:{revert:"invalid",helper:"clone",cursor:"move",appendTo:"#jqgrid_dnd",zIndex:5e3},dragcopy:!1,dropbyname:!1,droppos:"first",autoid:!0,autoidprefix:"dnd_"},e||{})).connectWith)for(e.connectWith=e.connectWith.split(","),e.connectWith=$.map(e.connectWith,(function(e){return $.trim(e)})),$.data(r,"dnd",e),0===r.p.reccount||r.p.jqgdnd||a(),r.p.jqgdnd=!0,t=0;t<e.connectWith.length;t++)i=e.connectWith[t],$(i).droppable($.isFunction(e.drop)?e.drop.call($(r),e):e.drop)}else a();function a(){var e=$.data(r,"dnd");$("tr.jqgrow:not(.ui-draggable)",r).draggable($.isFunction(e.drag)?e.drag.call($(r),e):e.drag)}}))},gridResize:function(e){return this.each((function(){var t,i=this,r=i.grid,a=i.p,n=a.gView+">.ui-jqgrid-bdiv",o=!1,s=a.height;if(r&&$.fn.resizable){if((e=$.extend({},e||{})).alsoResize?(e._alsoResize_=e.alsoResize,delete e.alsoResize):e._alsoResize_=!1,e.stop&&$.isFunction(e.stop)?(e._stop_=e.stop,delete e.stop):e._stop_=!1,e.stop=function(l,d){$(i).jqGrid("setGridWidth",d.size.width,e.shrinkToFit),$(a.gView+">.ui-jqgrid-titlebar").css("width",""),o?($(t).each((function(){$(this).css("height","")})),"auto"!==s&&"100%"!==s||$(r.bDiv).css("height",s)):$(i).jqGrid("setGridParam",{height:$(n).height()}),i.fixScrollOffsetAndhBoxPadding&&i.fixScrollOffsetAndhBoxPadding(),e._stop_&&e._stop_.call(i,l,d)},t=n,"auto"!==s&&"100%"!==s||void 0!==e.handles||(e.handles="e,w"),e.handles){var l=$.map(String(e.handles).split(","),(function(e){return $.trim(e)}));2===l.length&&("e"===l[0]&&"w"===l[1]||"e"===l[1]&&"w"===l[1])&&(t=a.gView+">div:not(.frozen-div)",o=!0,a.pager&&(t+=","+a.pager))}e._alsoResize_?e.alsoResize=t+","+e._alsoResize_:e.alsoResize=t,delete e._alsoResize_,$(a.gBox).resizable(e)}}))}}),Aggregation.prototype.calc=function(e,t,i,r,a){var n=this;if(void 0!==e)switch(n.result=n.result||0,e=parseFloat(e),n.aggregator){case"sum":n.result+=e;break;case"count":n.result++;break;case"avg":n.finilized?(n.count=n.count||0,n.result=(n.result*n.count+e)/(n.count+1)):(n.result+=e,n.count=n.count||0),n.count++;break;case"min":n.result=Math.min(n.result,e);break;case"max":n.result=Math.max(n.result,e);break;default:$.isFunction(n.aggregator)&&(n.result=n.aggregator.call(n.context,{previousResult:n.result,value:e,fieldName:t,item:i,iItem:r,items:a}))}},Aggregation.prototype.getResult=function(e,t,i){var r=this;(void 0!==r.result||i)&&(i&&void 0!==r.result&&(r.result=0,r.count=0),void 0===r.result||r.finilized||"avg"!==r.aggregator||(r.result=r.result/r.count,r.finilized=!0),e[t]=r.result)},ArrayOfFieldsets.prototype.compareVectorsEx=function(e,t){var i,r,a=this.fieldLength;for(i=0;i<a;i++)if(0!==(r=this.fieldCompare[i](e[i],t[i])))return{index:i,result:r};return{index:-1,result:0}},ArrayOfFieldsets.prototype.getIndexOfDifferences=function(e,t){return null===t||null===e?0:this.compareVectorsEx(e,t).index},ArrayOfFieldsets.prototype.compareVectors=function(e,t){var i=this.compareVectorsEx(e,t);return 0<(0<=i.index?this.fieldSortDirection[i.index]:1)?i.result:-i.result},ArrayOfFieldsets.prototype.getItem=function(e){return this.items[e]},ArrayOfFieldsets.prototype.getIndexLength=function(){return this.items.length},ArrayOfFieldsets.prototype.getIndexesOfSourceData=function(e){return this.indexesOfSourceData[e]},ArrayOfFieldsets.prototype.createDataIndex=function(e){var t,i,r,a,n,o,s,l,d,c=e.length,u=this.fieldLength,h=this.fieldNames,p=this.indexesOfSourceData,f=this.items;for(t=0;t<c;t++){for(s=e[t],i=new Array(u),a=0;a<u;a++)void 0!==(r=s[h[a]])&&("string"==typeof r&&this.trimByCollect&&(r=$.trim(r)),i[a]=r);if(l=0,(d=f.length-1)<0)f.push(i),p.push([t]);else if(0!==(n=this.compareVectors(i,f[d])))if(1===n||this.skipSort)f.push(i),p.push([t]);else if(1!==(n=this.compareVectors(f[0],i)))if(0!==n)for(;;){if(d-l<2){f.splice(d,0,i),p.splice(d,0,[t]);break}if(o=Math.floor((l+d)/2),0===(n=this.compareVectors(f[o],i))){p[o].push(t);break}1===n?d=o:l=o}else p[0].push(t);else f.unshift(i),p.unshift([t]);else p[d].push(t)}},jgrid.extend({pivotSetup:function(e,t){var i,r,a,n,o,s,l,d,c,u,h,p,f,m,g,v,b,y,w,x,_,C,j,D,S,k,O,F,I,q=this[0],R=$.isArray,M={},T={groupField:[],groupSummary:[],groupSummaryPos:[]},N={grouping:!0,groupingView:T},G=$.extend({totals:!1,useColSpanStyle:!1,trimByCollect:!0,skipSortByX:!1,skipSortByY:!1,caseSensitive:!1,footerTotals:!1,groupSummary:!0,groupSummaryPos:"header",frozenStaticCols:!1,defaultFormatting:!0,data:e},t||{}),E=e.length,A=G.xDimension,z=G.yDimension,P=G.aggregates,B=G.totalText||G.totals||G.rowTotals||G.totalHeader,L=R(A)?A.length:0,H=R(z)?z.length:0,V=R(P)?P.length:0,W=H-(1===V?1:0),U=[],Y=[],X=[],K=[],J=["pivotInfos"],Q=new Array(V),Z=new Array(H),ee=function(t,i,r){var a=new ArrayOfFieldsets(G.trimByCollect,G.caseSensitive,i,t);return $.isFunction(r)&&(a.compareVectorsEx=r),a.createDataIndex(e),a},te=function(e,t,i,r,a){var n,o,s;switch(e){case 1:n=z[r].totalText||"{0} {1} {2}",o="y"+a+"t"+r;break;case 2:n=G.totalText||"{0}",o="t";break;default:n=1<V?t.label||"{0}":$.isFunction(z[r].label)?z[r].label:F.getItem(a)[r],o="y"+a}return delete(s=$.extend({},t,{name:o+(1<V?"a"+i:""),label:$.isFunction(n)?n.call(q,2===e?{aggregate:t,iAggregate:i,pivotOptions:G}:1===e?{yIndex:F.getItem(a),aggregate:t,iAggregate:i,yLevel:r,pivotOptions:G}:{yData:F.getItem(a)[r],yIndex:F.getItem(a),yLevel:r,pivotOptions:G}):jgrid.template.apply(q,2===e?[String(n),t.aggregator,t.member,i]:[String(n),t.aggregator,t.member,F.getItem(a)[r],r])})).member,delete s.aggregator,s},ie=function(e,t,i){var r,a;for(r=0;r<V;r++)void 0===(a=P[r]).template&&void 0===a.formatter&&G.defaultFormatting&&(a.template="count"===a.aggregator?"integer":"number"),X.push(te(e,a,r,t,i))},re=function(e,t,i){var r,a,n,s;for(r=W-1;t<=r;r--)if(Y[r]){for(a=0;a<=r;a++)(S=U[a].groupHeaders)[S.length-1].numberOfColumns+=V;for(n=(o=z[r]).totalHeader,s=o.headerOnTop,a=r+1;a<=W-1;a++)U[a].groupHeaders.push({titleText:s&&a===r+1||!s&&a===W-1?$.isFunction(n)?n.call(q,i,r):jgrid.template.call(q,String(n||""),i[r],r):"",startColumnName:"y"+(e-1)+"t"+r+(1===V?"":"a0"),numberOfColumns:V})}},ae=function(e){var i=new Aggregation("count"===P[e].aggregator?"sum":P[e].aggregator,q,t);return i.groupInfo={iRows:[],rows:[],ys:[],iYs:[]},i},ne=function(){var e,t;for(e=W-1;0<=e;e--)if(Y[e])for(null==Z[e]&&(Z[e]=new Array(V)),t=0;t<V;t++)Z[e][t]=ae(t)},oe=function(e,t,i,r){var a,n,o,s=F.getIndexOfDifferences(t,i);if(null!==i)for(s=Math.max(s,0),a=W-1;s<=a;a--)n="y"+e+"t"+a+(1<V?"a"+r:""),Y[a]&&void 0===j[n]&&((o=Z[a][r]).getResult(j,n),j.pivotInfos[n]={colType:1,iA:r,a:P[r],level:a,iRows:o.groupInfo.iRows,rows:o.groupInfo.rows,ys:o.groupInfo.ys,iYs:o.groupInfo.iYs},t!==i&&(Z[a][r]=ae(r)))},se=function(t,i,r,a,n,o,s){var l,d,c;if(t!==i)for(l=W-1;0<=l;l--)Y[l]&&((d=Z[l][a]).calc(n[r.member],r.member,n,o,e),c=d.groupInfo,$.inArray(s,c.iYs)<0&&(c.iYs.push(s),c.ys.push(t)),$.inArray(o,c.iRows)<0&&(c.iRows.push(o),c.rows.push(n)))};if(0===L||0===V)throw"xDimension or aggregates options are not set!";for(O=ee(A,G.skipSortByX,G.compareVectorsByX),F=ee(z,G.skipSortByY,G.compareVectorsByY),t.xIndex=O,t.yIndex=F,r=0;r<L;r++)s={name:"x"+r,label:null!=(n=A[r]).label?$.isFunction(n.label)?n.label.call(q,n,r,G):n.label:n.dataName,frozen:G.frozenStaticCols},r<L-1&&!n.skipGrouping&&!n.additionalProperty&&(T.groupField.push(s.name),T.groupSummary.push(G.groupSummary),T.groupSummaryPos.push(G.groupSummaryPos)),delete(s=$.extend(s,n)).dataName,delete s.footerText,n.additionalProperty?J.push(s.name):(X.push(s),N.sortname=s.name);for(L<2&&(N.grouping=!1),T.hideFirstGroupCol=!0,r=0;r<H;r++)o=z[r],Y.push(!!(o.totals||o.rowTotals||o.totalText||o.totalHeader));for(D=F.getItem(0),ie(0,H-1,0),I=F.getIndexLength(),y=1;y<I;y++){for(w=F.getItem(y),r=F.getIndexOfDifferences(w,D),a=W-1;r<=a;a--)Y[a]&&ie(1,a,y-1);D=w,ie(0,H-1,y)}for(r=W-1;0<=r;r--)Y[r]&&ie(1,r,I-1);for(B&&ie(2),D=F.getItem(0),a=0;a<W;a++)U.push({useColSpanStyle:G.useColSpanStyle,groupHeaders:[{titleText:$.isFunction(z[a].label)?z[a].label.call(q,{yData:D[a],yIndex:D,yLevel:a,pivotOptions:G}):D[a],startColumnName:1===V?"y0":"y0a0",numberOfColumns:V}]});for(y=1;y<I;y++){for(w=F.getItem(y),re(y,r=F.getIndexOfDifferences(w,D),D),a=W-1;r<=a;a--)U[a].groupHeaders.push({titleText:$.isFunction(z[a].label)?z[a].label.call(q,{yData:w[a],yIndex:w,yLevel:a,pivotOptions:G}):w[a],startColumnName:"y"+y+(1===V?"":"a0"),numberOfColumns:V});for(a=0;a<r;a++)(S=U[a].groupHeaders)[S.length-1].numberOfColumns+=V;D=w}if(re(I,0,D),B)for(r=0;r<W;r++)U[r].groupHeaders.push({titleText:r<W-1?"":G.totalHeader||"",startColumnName:"t"+(1===V?"":"a0"),numberOfColumns:V});for(v=O.getIndexLength(),c=0;c<v;c++){for(u=O.getItem(c),j={pivotInfos:h={iX:c,x:u}},r=0;r<L;r++)j["x"+r]=u[r];if(b=O.getIndexesOfSourceData(c),B)for(a=0;a<V;a++)Q[a]=ae(a);for(D=null,ne(),y=0;y<I;y++){for(w=F.getItem(y),x=F.getIndexesOfSourceData(y),a=0;a<V;a++){for(null!==D&&oe(y-1,w,D,a),_=[],r=0;r<x.length;r++)k=x[r],0<=$.inArray(k,b)&&_.push(k);if(0<_.length){for(p=new Array(_.length),f=new Aggregation((C=P[a]).aggregator,q,t),l=0;l<_.length;l++)r=_[l],i=e[r],p[l]=i,f.calc(i[C.member],C.member,i,r,e),B&&((m=Q[a]).calc(i[C.member],C.member,i,r,e),g=m.groupInfo,$.inArray(r,g.iYs)<0&&(g.iYs.push(y),g.ys.push(w)),$.inArray(r,g.iRows)<0&&(g.iRows.push(r),g.rows.push(i))),se(w,D,C,a,i,r,y);d="y"+y+(1===V?"":"a"+a),f.getResult(j,d),h[d]={colType:0,iY:y,y:w,iA:a,a:C,iRows:_,rows:p}}}D=w}if(null!==D)for(a=0;a<V;a++)oe(I-1,D,D,a);if(B)for(a=0;a<V;a++)d="t"+(1===V?"":"a"+a),(m=Q[a]).getResult(j,d),g=m.groupInfo,h[d]={colType:2,iA:a,a:P[a],iRows:g.iRows,rows:g.rows,iYs:g.iYs,ys:g.ys};K.push(j)}if(G.footerTotals||G.colTotals){for(E=K.length,r=0;r<L;r++)M["x"+r]=A[r].footerText||"";for(r=L;r<X.length;r++){for(d=X[r].name,f=new Aggregation(G.footerAggregator||"sum",q,t),l=0;l<E;l++)j=K[l],f.calc(j[d],d,j,l,K);f.getResult(M,d)}}return t.colHeaders=U,{colModel:X,additionalProperties:J,options:t,rows:K,groupOptions:N,groupHeaders:U,summary:M}},jqPivot:function(e,t,i,r){return this.each((function(){var a=this,n=$(a),o=$.fn.jqGrid;function s(){var r,s=o.pivotSetup.call(n,e,t),l=s.groupHeaders,d=0<function(e){var t,i=0;for(t in e)e.hasOwnProperty(t)&&i++;return i}(s.summary),c=s.groupOptions.groupingView,u=jgrid.from.call(a,s.rows);if(!t.skipSortByX)for(r=0;r<c.groupField.length;r++)u.orderBy(c.groupField[r],null!=i&&i.groupingView&&null!=i.groupingView.groupOrder&&"desc"===i.groupingView.groupOrder[r]?"d":"a","text","");if(t.data=e,o.call(n,$.extend(!0,{datastr:$.extend(u.select(),d?{userdata:s.summary}:{}),datatype:"jsonstring",footerrow:d,userDataOnFooter:d,colModel:s.colModel,additionalProperties:s.additionalProperties,pivotOptions:s.options,viewrecords:!0,sortname:t.xDimension[0].dataName},s.groupOptions,i||{})),l.length)for(r=0;r<l.length;r++)l[r]&&l[r].groupHeaders.length&&o.setGroupHeaders.call(n,l[r]);t.frozenStaticCols&&o.setFrozenColumns.call(n)}"string"==typeof e?$.ajax($.extend({url:e,dataType:"json",success:function(t){e=jgrid.getAccessor(t,r&&r.reader?r.reader:"rows"),s()}},r||{})):s()}))}});var subGridFeedback=function(){var e=$.makeArray(arguments);return e[0]="subGrid"+e[0].charAt(0).toUpperCase()+e[0].substring(1),e.unshift(""),e.unshift(""),e.unshift(this.p),jgrid.feedback.apply(this,e)},collapseOrExpand=function(e,t){return this.each((function(){if(this.grid&&null!=e&&!0===this.p.subGrid){var i=$(this).jqGrid("getInd",e,!0);$(i).find(">td."+t).trigger("click")}}))};jgrid.extend({setSubGrid:function(){return this.each((function(){var e,t=this.p,i=$(this),r=t.subGridModel[0],a=function(e){return i.jqGrid("getIconRes",e)};if(t.subGridOptions=$.extend({commonIconClass:a("subgrid.common"),plusicon:a("subgrid.plus"),minusicon:a("subgrid.minus"),openicon:"rtl"===t.direction?a("subgrid.openRtl"):a("subgrid.openLtr"),expandOnLoad:!1,delayOnLoad:50,selectOnExpand:!1,selectOnCollapse:!1,reloadOnExpand:!0},t.subGridOptions||{}),t.colNames.unshift(""),t.colModel.unshift({name:"subgrid",width:jgrid.cell_width?t.subGridWidth+t.cellLayout:t.subGridWidth,labelClasses:"jqgh_subgrid",sortable:!1,resizable:!1,hidedlg:!0,search:!1,fixed:!0,frozen:!0}),r)for(r.align=$.extend([],r.align||[]),e=0;e<r.name.length;e++)r.align[e]=r.align[e]||"left"}))},addSubGridCell:function(e,t,i,r){var a=this[0],n=a.p.subGridOptions,o=!$.isFunction(n.hasSubgrid)||n.hasSubgrid.call(a,{rowid:i,iRow:t,iCol:e,data:r});return null==a.p?"":"<td role='gridcell' class='"+base.getGuiStyles.call(this,"subgrid.tdStart",o?"ui-sgcollapsed sgcollapsed":"")+"' "+a.formatCol(e,t)+">"+(o?"<div class='"+base.getGuiStyles.call(this,"subgrid.buttonDiv","sgbutton-div")+"'><a role='button' class='"+base.getGuiStyles.call(this,"subgrid.button","sgbutton")+"'><span class='"+jgrid.mergeCssClasses(n.commonIconClass,n.plusicon)+"'></span></a></div>":"&nbsp;")+"</td>"},addSubGrid:function(e,t){return this.each((function(){var i,r,a,n=this,o=n.p,s=o.subGridModel[0],l=function(e,t){return base.getGuiStyles.call(n,"subgrid."+e,t||"")},d=l("thSubgrid","ui-th-subgrid ui-th-column ui-th-"+o.direction),c=l("rowSubTable","ui-subtblcell"),u=l("row","ui-subgrid ui-row-"+o.direction),h=l("tdWithIcon","subgrid-cell"),p=l("tdData","subgrid-data"),f=function(e,t,i){var r=s.align[i],a=$("<td"+(r?" style='text-align:"+r+";'":"")+"></td>").html(t);e.append(a)},m=function(e,t){var i=o.xmlReader.subgrid;$(i.root+" "+i.row,e).each((function(){var e,r,a=$("<tr class='"+c+"'></tr>");if(!0===i.repeatitems)$(i.cell,this).each((function(e){f(a,$(this).text()||"&#160;",e)}));else if(e=s.mapping||s.name)for(r=0;r<e.length;r++)f(a,jgrid.getXmlData(this,e[r])||"&#160;",r);t.append(a)}))},g=function(e,t){var i,r,a,n,l,d=o.jsonReader.subgrid,u=jgrid.getAccessor(e,d.root);if(null!=u)for(r=0;r<u.length;r++){if(l=u[r],i=$("<tr class='"+c+"'></tr>"),!0===d.repeatitems)for(d.cell&&(l=l[d.cell]),a=0;a<l.length;a++)f(i,l[a]||"&#160;",a);else if((n=s.mapping||s.name).length)for(a=0;a<n.length;a++)f(i,jgrid.getAccessor(l,n[a])||"&#160;",a);t.append(i)}},v=function(e,t,i){var r,a,c=l("legacyTable","ui-jqgrid-legacy-subgrid"+(!0===o.altRows&&$(n).jqGrid("isBootstrapGuiStyle")?" table-striped":"")),u=$("<table"+(c?" style='width:1px' role='presentation' class='"+c+"'":"")+"><thead></thead><tbody></tbody></table>"),h=$("<tr></tr>");for(n.grid.endReq.call(n),a=0;a<s.name.length;a++)r=$("<th class='"+d+"'></th>").html(s.name[a]).width(s.width[a]),h.append(r);return h.appendTo(u[0].tHead),i(e,$(u[0].tBodies[0])),$("#"+jqID(o.id+"_"+t)).append(u),!1},b=function(){var t,i=$(this).parent("tr")[0],r=i.nextSibling,a=i.id,l=o.id+"_"+a,d=function(e){return jgrid.mergeCssClasses(o.subGridOptions.commonIconClass,o.subGridOptions[e])},c=1;if($.each(o.colModel,(function(){!0!==this.hidden&&"rn"!==this.name&&"cb"!==this.name||c++})),$(this).hasClass("sgcollapsed")){if(!0===o.subGridOptions.reloadOnExpand||!1===o.subGridOptions.reloadOnExpand&&!$(r).hasClass("ui-subgrid")){if(t=1<=e?"<td colspan='"+e+"'>&#160;</td>":"",!subGridFeedback.call(n,"beforeExpand",l,a))return;$(i).after("<tr role='row' class='"+u+"'>"+t+"<td class='"+h+"'><span class='"+d("openicon")+"'></span></td><td colspan='"+parseInt(o.colNames.length-c,10)+"' class='"+p+"'><div id='"+l+"' class='tablediv'></div></td></tr>"),$(n).triggerHandler("jqGridSubGridRowExpanded",[l,a]),$.isFunction(o.subGridRowExpanded)?o.subGridRowExpanded.call(n,l,a):function(e){var t,i,r=$(e).attr("id"),a={nd_:(new Date).getTime()};if(a[o.prmNames.subgridid]=r,s){if(s.params)for(i=0;i<s.params.length;i++)void 0!==(t=o.iColByName[s.params[i]])&&(a[o.colModel[t].name]=$(e.cells[t]).text().replace(/\&#160\;/gi,""));if(!n.grid.hDiv.loading)switch(n.grid.beginReq.call(n),o.subgridtype||(o.subgridtype=o.datatype),$.isFunction(o.subgridtype)?o.subgridtype.call(n,a):o.subgridtype=o.subgridtype.toLowerCase(),o.subgridtype){case"xml":case"json":$.ajax($.extend({type:o.mtype,url:$.isFunction(o.subGridUrl)?o.subGridUrl.call(n,a):o.subGridUrl,dataType:o.subgridtype,context:r,data:jgrid.serializeFeedback.call(n,o.serializeSubGridData,"jqGridSerializeSubGridData",a),success:function(e){v(e,this,"xml"===o.subgridtype?m:g)},error:function(e,t,i){var r=void 0===o.loadSubgridError?o.loadError:o.loadSubgridError;n.grid.endReq.call(n),$.isFunction(r)&&r.call(n,e,t,i),o.subGridOptions.noEmptySubgridOnError||v(null,this,"xml"===o.subgridtype?m:g)}},jgrid.ajaxOptions,o.ajaxSubgridOptions||{}))}}}(i)}else $(r).show();$(this).html("<div class='"+base.getGuiStyles.call(n,"subgrid.buttonDiv","sgbutton-div")+"'><a role='button' class='"+base.getGuiStyles.call(n,"subgrid.button","sgbutton")+"'><span class='"+d("minusicon")+"'></span></a></div>").removeClass("sgcollapsed").addClass("sgexpanded"),o.subGridOptions.selectOnExpand&&$(n).jqGrid("setSelection",a)}else if($(this).hasClass("sgexpanded")){if(!subGridFeedback.call(n,"beforeCollapse",l,a))return;!0===o.subGridOptions.reloadOnExpand?$(r).remove(".ui-subgrid"):$(r).hasClass("ui-subgrid")&&$(r).hide(),$(this).html("<div class='"+base.getGuiStyles.call(n,"subgrid.buttonDiv","sgbutton-div")+"'><a role='button' class='"+base.getGuiStyles.call(n,"subgrid.button","sgbutton")+"'><span class='"+d("plusicon")+"'></span></a></div>").removeClass("sgexpanded").addClass("sgcollapsed"),o.subGridOptions.selectOnCollapse&&$(n).jqGrid("setSelection",a)}return!1},y=1;if(n.grid){for(i=n.rows.length,void 0!==t&&0<t&&(i=(y=t)+1);y<i;)r=n.rows[y],$(r).hasClass("jqgrow")&&(a=$(r.cells[e])).hasClass("ui-sgcollapsed")&&(o.scroll&&a.off("click"),a.on("click",b)),y++;if(!0===o.subGridOptions.expandOnLoad){var w=o.iColByName.subgrid;$(n.rows).filter(".jqgrow").each((function(e,t){$(t.cells[w]).filter(".sgcollapsed").children(".sgbutton-div").children(".sgbutton").click()}))}n.subGridXml=function(e,t){return v(e,t,m)},n.subGridJson=function(e,t){return v(e,t,g)}}}))},expandSubGridRow:function(e){return collapseOrExpand.call(this,e,"sgcollapsed")},collapseSubGridRow:function(e){return collapseOrExpand.call(this,e,"sgexpanded")},toggleSubGridRow:function(e){return collapseOrExpand.call(this,e,"ui-sgcollapsed")}}),window.tableToGrid=function(e,t){$(e).each((function(){var e,i,r,a,n,o,s,l,d=$(this),c=[],u=[],h=[],p=[],f=[];if(!this.grid){for(d.width("99%"),e=d.width(),i=$("tr td:first-child input[type=checkbox]:first",d),r=$("tr td:first-child input[type=radio]:first",d),n=!(a=0<i.length)&&0<r.length,o=a||n,$("th",d).each((function(){0===c.length&&o?(c.push({name:"__selection__",index:"__selection__",width:0,hidden:!0}),u.push("__selection__")):(c.push({name:$(this).attr("id")||$.trim($.jgrid.stripHtml($(this).html())).split(" ").join("_"),index:$(this).attr("id")||$.trim($.jgrid.stripHtml($(this).html())).split(" ").join("_"),width:$(this).width()||150}),u.push($(this).html()))})),$("tbody > tr",d).each((function(){var e={},t=0;$("td",$(this)).each((function(){if(0===t&&o){var i=$("input",$(this)),r=i.attr("value");p.push(r||h.length),i.is(":checked")&&f.push(r),e[c[t].name]=i.attr("value")}else e[c[t].name]=$(this).html();t++})),0<t&&h.push(e)})),d.empty(),d.jqGrid($.extend({datatype:"local",width:e,colNames:u,colModel:c,multiselect:a},t||{})),s=0;s<h.length;s++)l=null,0<p.length&&(l=p[s])&&l.replace&&(l=encodeURIComponent(l).replace(/[.\-%]/g,"_")),null===l&&(l=$.jgrid.randId()),d.jqGrid("addRowData",l,h[s]);for(s=0;s<f.length;s++)d.jqGrid("setSelection",f[s])}}))};var treeGridFeedback=function(){var e=$.makeArray(arguments);return e[0]="treeGrid"+e[0].charAt(0).toUpperCase()+e[0].substring(1),e.unshift(""),e.unshift(""),e.unshift(this.p),jgrid.feedback.apply(this,e)},getNodeIcons=function(e,t){var i=t[e.treeReader.icon_field],r=e.treeIcons,a=r.plus+" tree-plus",n=r.minus+" tree-minus";return i&&"string"==typeof i&&2===(i=i.split(",")).length&&(n=i[0],a=i[1]),{expanded:n,collapsed:a,common:r.commonIconClass}};jgrid.extend({setTreeNode:function(){return this.each((function(){var e=$(this),t=this.p;if(this.grid&&t.treeGrid){var i=t.treeReader.expanded_field,r=t.treeReader.leaf_field;e.off("jqGridBeforeSelectRow.setTreeNode"),e.on("jqGridBeforeSelectRow.setTreeNode",(function(a,n,o){if(null!=o){var s=$(o.target),l=s.closest("tr.jqgrow>td"),d=l.parent(),c=function(){var a=t.data[t._index[stripPref(t.idPrefix,n)]],o=a[i]?"collapse":"expand";a[r]||(base[o+"Row"].call(e,a,d),base[o+"Node"].call(e,a,d))};return(s.is("div.treeclick")||t.ExpandColClick&&0<l.length&&0<s.closest("span.cell-wrapper",l).length)&&c(),!0}}))}}))},setTreeGrid:function(){return this.each((function(){var e,t,i,r=this.p,a=[],n=["leaf_field","expanded_field","loaded"];if(r.treeGrid){for(t in r.treedatatype||$.extend(this.p,{treedatatype:r.datatype}),r.subGrid=!1,r.altRows=!1,r.pgbuttons=!1,r.pginput=!1,r.gridview=!0,null===r.rowTotal&&(r.rowNum=r.maxRowNum),r.rowList=[],r.treeIcons.plus="rtl"===r.direction?r.treeIcons.plusRtl:r.treeIcons.plusLtr,"nested"===r.treeGridModel?r.treeReader=$.extend({level_field:"level",left_field:"lft",right_field:"rgt",leaf_field:"isLeaf",expanded_field:"expanded",loaded:"loaded",icon_field:"icon"},r.treeReader):"adjacency"===r.treeGridModel&&(r.treeReader=$.extend({level_field:"level",parent_id_field:"parent",leaf_field:"isLeaf",expanded_field:"expanded",loaded:"loaded",icon_field:"icon"},r.treeReader)),r.colModel)if(r.colModel.hasOwnProperty(t))for(i in e=r.colModel[t].name,r.treeReader)r.treeReader.hasOwnProperty(i)&&r.treeReader[i]===e&&a.push(e);$.each(r.treeReader,(function(e){var t=String(this);t&&-1===$.inArray(t,a)&&(0<=$.inArray(e,n)?r.additionalProperties.push({name:t,search:!1,convert:function(e){return!0===e||"true"===String(e).toLowerCase()||"1"===String(e)||e}}):r.additionalProperties.push(t))}))}}))},expandRow:function(e){this.each((function(){var t=$(this),i=this.p;if(this.grid&&i.treeGrid){var r=i.treeReader.expanded_field,a=e[i.localReader.id];if(treeGridFeedback.call(this,"beforeExpandRow",{rowid:a,item:e})){var n=base.getNodeChildren.call(t,e);$(n).each((function(){var e=i.idPrefix+getAccessor(this,i.localReader.id);$(base.getGridRowById.call(t,e)).css("display",""),this[r]&&base.expandRow.call(t,this)})),treeGridFeedback.call(this,"afterExpandRow",{rowid:a,item:e})}}}))},collapseRow:function(e){this.each((function(){var t=$(this),i=this.p;if(this.grid&&i.treeGrid){var r=i.treeReader.expanded_field,a=e[i.localReader.id];if(treeGridFeedback.call(this,"beforeCollapseRow",{rowid:a,item:e})){var n=base.getNodeChildren.call(t,e);$(n).each((function(){var e=i.idPrefix+getAccessor(this,i.localReader.id);$(base.getGridRowById.call(t,e)).css("display","none"),this[r]&&base.collapseRow.call(t,this)})),treeGridFeedback.call(this,"afterCollapseRow",{rowid:a,item:e})}}}))},getRootNodes:function(){var e=[];return this.each((function(){var t=this.p;if(this.grid&&t.treeGrid)switch(t.treeGridModel){case"nested":var i=t.treeReader.level_field;$(t.data).each((function(){parseInt(this[i],10)===parseInt(t.tree_root_level,10)&&e.push(this)}));break;case"adjacency":var r=t.treeReader.parent_id_field;$(t.data).each((function(){null!==this[r]&&"null"!==String(this[r]).toLowerCase()||e.push(this)}))}})),e},getNodeDepth:function(e){var t=null;return this.each((function(){var i=this.p;if(this.grid&&i.treeGrid)switch(i.treeGridModel){case"nested":var r=i.treeReader.level_field;t=parseInt(e[r],10)-parseInt(i.tree_root_level,10);break;case"adjacency":t=base.getNodeAncestors.call($(this),e).length}})),t},getNodeParent:function(e){var t=this[0];if(!t||!t.grid||null==t.p||!t.p.treeGrid||null==e)return null;var i=t.p,r=i.treeReader,a=e[r.parent_id_field];if("nested"===i.treeGridModel){var n=null,o=r.left_field,s=r.right_field,l=r.level_field,d=parseInt(e[o],10),c=parseInt(e[s],10),u=parseInt(e[l],10);return $(i.data).each((function(){if(parseInt(this[l],10)===u-1&&parseInt(this[o],10)<d&&parseInt(this[s],10)>c)return n=this,!1})),n}if(null===a||"null"===a)return null;var h=i._index[a];return void 0!==h?i.data[h]:null},getNodeChildren:function(e){var t=[];return this.each((function(){var i=this.p;if(this.grid&&i.treeGrid)switch(i.treeGridModel){case"nested":var r=i.treeReader.left_field,a=i.treeReader.right_field,n=i.treeReader.level_field,o=parseInt(e[r],10),s=parseInt(e[a],10),l=parseInt(e[n],10);$(i.data).each((function(){parseInt(this[n],10)===l+1&&parseInt(this[r],10)>o&&parseInt(this[a],10)<s&&t.push(this)}));break;case"adjacency":var d=i.treeReader.parent_id_field,c=i.localReader.id;$(i.data).each((function(){String(this[d])===String(e[c])&&t.push(this)}))}})),t},getFullTreeNode:function(e){var t=[];return this.each((function(){var i,r=this.p;if(this.grid&&r.treeGrid)switch(r.treeGridModel){case"nested":var a=r.treeReader.left_field,n=r.treeReader.right_field,o=r.treeReader.level_field,s=parseInt(e[a],10),l=parseInt(e[n],10),d=parseInt(e[o],10);$(r.data).each((function(){parseInt(this[o],10)>=d&&parseInt(this[a],10)>=s&&parseInt(this[a],10)<=l&&t.push(this)}));break;case"adjacency":if(e){t.push(e);var c=r.treeReader.parent_id_field,u=r.localReader.id;$(r.data).each((function(){var e;for(i=t.length,e=0;e<i;e++)if(String(t[e][u])===String(this[c])){t.push(this);break}}))}}})),t},getNodeAncestors:function(e){var t=[];return this.each((function(){var i=$(this),r=base.getNodeParent;if(this.grid&&this.p.treeGrid)for(var a=r.call(i,e);a;)t.push(a),a=r.call(i,a)})),t},isVisibleNode:function(e){var t=!0;return this.each((function(){var i=this.p;if(this.grid&&i.treeGrid){var r=base.getNodeAncestors.call($(this),e),a=i.treeReader.expanded_field;$(r).each((function(){if(!(t=t&&this[a]))return!1}))}})),t},isNodeLoaded:function(e){var t;return this.each((function(){var i=this.p;if(this.grid&&i.treeGrid){var r=i.treeReader.leaf_field,a=i.treeReader.loaded;t=void 0!==e&&(void 0!==e[a]?e[a]:!!(e[r]||0<base.getNodeChildren.call($(this),e).length))}})),t},expandNode:function(e){return this.each((function(){var t,i,r,a=this,n=a.p;if(a.grid&&n.treeGrid){var o=n.treeReader;if(!e[o.expanded_field]){if(t=getAccessor(e,n.localReader.id),!treeGridFeedback.call(a,"beforeExpandNode",{rowid:t,item:e}))return;i=$("#"+n.idPrefix+jqID(t),a.grid.bDiv)[0],e[o.expanded_field]=!0,r=getNodeIcons(n,e),$("div.treeclick",i).removeClass(r.collapsed).addClass(r.common).addClass(r.expanded),"local"===n.treedatatype||base.isNodeLoaded.call($(a),n.data[n._index[t]])||a.grid.hDiv.loading||(n.treeANode=i.rowIndex,n.datatype=n.treedatatype,base.setGridParam.call($(a),{postData:"nested"===n.treeGridModel?{nodeid:t,n_level:e[o.level_field],n_left:e[o.left_field],n_right:e[o.right_field]}:{nodeid:t,n_level:e[o.level_field],parentid:e[o.parent_id_field]}}),$(a).trigger("reloadGrid"),e[o.loaded]=!0,base.setGridParam.call($(a),{postData:"nested"===n.treeGridModel?{nodeid:"",n_level:"",n_left:"",n_right:""}:{nodeid:"",n_level:"",parentid:""}})),treeGridFeedback.call(a,"afterExpandNode",{rowid:t,item:e})}}}))},collapseNode:function(e){return this.each((function(){var t,i=this.p;if(this.grid&&i.treeGrid){var r=i.treeReader.expanded_field;if(e[r]){var a=getAccessor(e,i.localReader.id);if(!treeGridFeedback.call(this,"beforeCollapseNode",{rowid:a,item:e}))return;e[r]=!1,t=getNodeIcons(i,e),$("#"+i.idPrefix+jqID(a),this.grid.bDiv).find("div.treeclick").removeClass(t.expanded).addClass(t.common).addClass(t.collapsed),(!0===i.unloadNodeOnCollapse||$.isFunction(i.unloadNodeOnCollapse)&&i.unloadNodeOnCollapse.call(this,e))&&(e[i.treeReader.loaded]=!1,$(this).jqGrid("delTreeNode",a,!0)),treeGridFeedback.call(this,"afterCollapseNode",{rowid:a,item:e})}}}))},SortTree:function(e,t,i,r){return this.each((function(){var a=this,n=a.p,o=$(a);if(a.grid&&n.treeGrid){var s,l,d,c=[],u=base.getRootNodes.call(o),h=jgrid.from.call(a,u);h.orderBy(e,t,i,r);var p=h.select();for(s=0,l=p.length;s<l;s++)d=p[s],c.push(d),base.collectChildrenSortTree.call(o,c,d,e,t,i,r);$.each(c,(function(e){var t=getAccessor(this,n.localReader.id);$(a.rows[e]).after(o.find(">tbody>tr#"+jqID(t)))}))}}))},collectChildrenSortTree:function(e,t,i,r,a,n){return this.each((function(){var o=$(this);if(this.grid&&this.p.treeGrid){var s,l,d,c=base.getNodeChildren.call(o,t),u=jgrid.from.call(this,c);u.orderBy(i,r,a,n);var h=u.select();for(s=0,l=h.length;s<l;s++)d=h[s],e.push(d),base.collectChildrenSortTree.call(o,e,d,i,r,a,n)}}))},setTreeRow:function(e,t){var i=!1;return this.each((function(){this.grid&&this.p.treeGrid&&(i=base.setRowData.call($(this),e,t))})),i},delTreeNode:function(e,t){return this.each((function(){var i,r,a,n,o,s=this.p,l=s.localReader.id,d=$(this),c=s.treeReader.left_field,u=s.treeReader.right_field;if(this.grid&&s.treeGrid){var h=s._index[e];if(void 0!==h){r=(i=parseInt(s.data[h][u],10))-parseInt(s.data[h][c],10)+1;var p=base.getFullTreeNode.call(d,s.data[h]);if(0<p.length)for(o=0;o<p.length;o++)t&&e===p[o][l]||base.delRowData.call(d,p[o][l]);if("nested"===s.treeGridModel){if((a=jgrid.from.call(this,s.data).greater(c,i,{stype:"integer"}).select()).length)for(n in a)a.hasOwnProperty(n)&&(a[n][c]=parseInt(a[n][c],10)-r);if((a=jgrid.from.call(this,s.data).greater(u,i,{stype:"integer"}).select()).length)for(n in a)a.hasOwnProperty(n)&&(a[n][u]=parseInt(a[n][u],10)-r)}}}}))},addChildNode:function(e,t,i,r){return this.each((function(){if(i){var a,n,o,s,l,d,c,u=this.p,h=$(this),p=base.getInd,f=u.treeIcons.minus+" tree-minus",m=t,g=u.treeReader.expanded_field,v=u.treeReader.leaf_field,b=u.treeReader.level_field,y=u.treeReader.parent_id_field,w=u.treeReader.left_field,x=u.treeReader.right_field,_=u.treeReader.loaded;void 0===r&&(r=!1),null==e&&(e=jgrid.randId());var C,j,D=p.call(h,t);if(d=!1,null==t||""===t)m=t=null,a="last",s=u.tree_root_level;else{a="after",n=u._index[t],o=u.data[n],t=o[u.localReader.id],l=p.call(h,t),s=parseInt(o[b],10)+1;var S,k,O,F=base.getFullTreeNode.call(h,o);if(F.length)for(S=0;S<F.length;S++)O=F[S][u.localReader.id],l<(k=p.call(h,O))&&(l=k,m=O);o[v]&&(d=!0,o[g]=!0,$(this.rows[D]).find("span.cell-wrapperleaf").removeClass("cell-wrapperleaf").addClass("cell-wrapper").end().find("div.tree-leaf").removeClass(u.treeIcons.leaf+" tree-leaf").addClass(u.treeIcons.commonIconClass).addClass(f),u.data[n][v]=!1,o[_]=!0)}if(void 0===i[g]&&(i[g]=!1),void 0===i[_]&&(i[_]=!1),i[b]=s,void 0===i[v]&&(i[v]=!0),"adjacency"===u.treeGridModel&&(i[y]=t),"nested"===u.treeGridModel)if(null!==t){if(c=parseInt(o[x],10),(C=jgrid.from.call(this,u.data).greaterOrEquals(x,c,{stype:"integer"}).select()).length)for(j in C)C.hasOwnProperty(j)&&(C[j][w]=C[j][w]>c?parseInt(C[j][w],10)+2:C[j][w],C[j][x]=C[j][x]>=c?parseInt(C[j][x],10)+2:C[j][x]);i[w]=c,i[x]=c+1}else{if(c=parseInt(base.getCol.call(h,x,!1,"max"),10),(C=jgrid.from.call(this,u.data).greater(w,c,{stype:"integer"}).select()).length)for(j in C)C.hasOwnProperty(j)&&(C[j][w]=parseInt(C[j][w],10)+2);if((C=jgrid.from.call(this,u.data).greater(x,c,{stype:"integer"}).select()).length)for(j in C)C.hasOwnProperty(j)&&(C[j][x]=parseInt(C[j][x],10)+2);i[w]=c+1,i[x]=c+2}(null===t||base.isNodeLoaded.call(h,o)||d)&&base.addRowData.call(h,e,i,a,m),o&&!o[g]&&r&&$(this.rows[D]).find("div.treeclick").click()}}))}});var namespace=".jqGrid",mouseDown="mousedown",mouseMove="mousemove",mouseUp="mouseup",getMouseCoordinates=function(e){var t=e.originalEvent.targetTouches;return t?{x:(t=t[0]).pageX,y:t.pageY}:{x:e.pageX,y:e.pageY}},jqDnR={drag:function(e){var t=e.data,i=t.e,r=t.dnr,a=t.ar,n=t.dnrAr,o=getMouseCoordinates(e);return"move"===r.k?i.css({left:r.X+o.x-r.pX,top:r.Y+o.y-r.pY}):(i.css({width:Math.max(o.x-r.pX+r.W,0),height:Math.max(o.y-r.pY+r.H,0)}),n&&a.css({width:Math.max(o.x-n.pX+n.W,0),height:Math.max(o.y-n.pY+n.H,0)})),!1},stop:function(){$(document).off(mouseMove,jqDnR.drag).off(mouseUp,jqDnR.stop)}},init=function(e,t,i,r){return e.each((function(){(t=t?$(t,e):e).on(mouseDown,{e,k:i},(function(e){var t,i,a,n,o,s,l=e.data,d={},c=function(e,t){return parseInt(e.css(t),10)||!1},u=function(e){return c(i,e)},h=function(e){return c(n,e)},p=getMouseCoordinates(e);if(!$(e.target).hasClass("ui-jqdialog-titlebar-close")&&!$(e.target).parent().hasClass("ui-jqdialog-titlebar-close")){if(i=l.e,n=!!r&&$(r),"relative"!==i.css("position"))try{i.position(d)}catch(e){}if(a={X:d.left||u("left")||0,Y:d.top||u("top")||0,W:u("width")||i[0].scrollWidth||0,H:u("height")||i[0].scrollHeight||0,pX:p.x,pY:p.y,k:l.k},o=!(!n||"move"===l.k)&&{X:d.left||h("left")||0,Y:d.top||h("top")||0,W:n[0].offsetWidth||h("width")||0,H:n[0].offsetHeight||h("height")||0,pX:p.x,pY:p.y,k:l.k},0<(t=i.find("input.hasDatepicker")).length)try{t.datepicker("hide")}catch(e){}return s={e:i,dnr:a,ar:n,dnrAr:o},$(document).on(mouseMove,s,jqDnR.drag),$(document).on(mouseUp,s,jqDnR.stop),!1}}))}))};window.PointerEvent?(mouseDown+=namespace+" pointerdown"+namespace,mouseMove+=namespace+" pointermove"+namespace,mouseUp+=namespace+" pointerup"+namespace):window.MSPointerEvent?(mouseDown+=namespace+" mspointerdown"+namespace,mouseMove+=namespace+" mspointermove"+namespace,mouseUp+=namespace+" mspointerup"):(mouseDown+=namespace+" touchstart"+namespace,mouseMove+=namespace+" touchmove"+namespace,mouseUp+=namespace+" touchend"+namespace),$.jqDnR=jqDnR,$.fn.jqDrag=function(e){return init(this,e,"move")},$.fn.jqResize=function(e,t){return init(this,e,"resize",t)};var jqmHashLength=0,jqmHash,createdModals=[],setFocusOnFirstVisibleInput=function(e){try{$(":input:visible",e.w).first().focus()}catch(e){}},setFocus=function(e){setFocusOnFirstVisibleInput(e)},keyOrMouseEventHandler=function(e){var t=jqmHash[createdModals[createdModals.length-1]],i=!$(e.target).parents(".jqmID"+t.s)[0],r=$(e.target).offset(),a=void 0!==e.pageX?e.pageX:r.left,n=void 0!==e.pageY?e.pageY:r.top,o=function(){var e=!1;return $(".jqmID"+t.s).each((function(){var t=$(this),i=t.offset();if(i.top<=n&&n<=i.top+t.height()&&i.left<=a&&a<=i.left+t.width())return!(e=!0)})),e};return!("mousedown"===e.type||!o())||("mousedown"===e.type&&i&&(o()&&(i=!1),i&&!$(e.target).is(":input")&&setFocusOnFirstVisibleInput(t)),!i)},bindOrUnbindEvents=function(e){$(document)[e]("keypress keydown mousedown",keyOrMouseEventHandler)},registerHideOrShow=function(e,t,i){return e.each((function(){var e=this._jqm;$(t).each((function(){this[i]||(this[i]=[],$(this).click((function(){var e,t,i,r=["jqmShow","jqmHide"];for(e=0;e<r.length;e++)for(i in this[t=r[e]])this[t].hasOwnProperty(i)&&jqmHash[this[t][i]]&&jqmHash[this[t][i]].w[t](this);return!1}))),this[i].push(e)}))}))};$.fn.jqm=function(e){var t={overlay:50,closeoverlay:!1,overlayClass:"jqmOverlay",closeClass:"jqmClose",trigger:".jqModal",ajax:!1,ajaxText:"",target:!1,modal:!1,toTop:!1,onShow:!1,onHide:!1,onLoad:!1};return this.each((function(){if(this._jqm)return jqmHash[this._jqm].c=$.extend({},jqmHash[this._jqm].c,e),jqmHash[this._jqm].c;jqmHashLength++,this._jqm=jqmHashLength,jqmHash[jqmHashLength]={c:$.extend(t,$.jqm.params,e),a:!1,w:$(this).addClass("jqmID"+jqmHashLength),s:jqmHashLength},t.trigger&&$(this).jqmAddTrigger(t.trigger)}))},$.fn.jqmAddClose=function(e){return registerHideOrShow(this,e,"jqmHide")},$.fn.jqmAddTrigger=function(e){return registerHideOrShow(this,e,"jqmShow")},$.fn.jqmShow=function(e){return this.each((function(){$.jqm.open(this._jqm,e)}))},$.fn.jqmHide=function(e){return this.each((function(){$.jqm.close(this._jqm,e)}))},$.jqm={hash:{},open:function(e,t){var i,r,a,n,o,s=jqmHash[e],l=s.c,d=s.w.parent().offset(),c="."+l.closeClass,u=parseInt(s.w.css("z-index"),10);return u=0<u?u:3e3,i=$("<div></div>").css({height:"100%",width:"100%",position:"fixed",left:0,top:0,"z-index":u-1,opacity:l.overlay/100}),s.a||(s.t=t,s.a=!0,s.w.css("z-index",u),$(s.w[0].ownerDocument).data("ui-dialog-overlays")&&s.w.addClass("ui-dialog"),l.modal?(createdModals[0]||setTimeout((function(){bindOrUnbindEvents("bind")}),1),createdModals.push(e)):0<l.overlay?l.closeoverlay&&s.w.jqmAddClose(i):i=!1,s.o=!!i&&i.addClass(l.overlayClass).prependTo("body"),l.ajax?(r=l.target||s.w,a=l.ajax,r="string"==typeof r?$(r,s.w):$(r),a="@"===a.substr(0,1)?$(t).attr(a.substring(1)):a,r.html(l.ajaxText).load(a,(function(){l.onLoad&&l.onLoad.call(this,s),c&&s.w.jqmAddClose($(c,s.w)),setFocus(s)}))):c&&s.w.jqmAddClose($(c,s.w)),l.toTop&&s.o&&(d=s.w.parent().offset(),n=parseFloat(s.w.css("left")||0),o=parseFloat(s.w.css("top")||0),s.w.before('<span id="jqmP'+s.w[0]._jqm+'"></span>').insertAfter(s.o),s.w.css({top:d.top+o,left:d.left+n})),l.onShow?l.onShow(s):s.w.show(),setFocus(s)),!1},close:function(e){var t=jqmHash[e];return t.a&&(t.a=!1,createdModals[0]&&(createdModals.pop(),createdModals[0]||bindOrUnbindEvents("unbind")),t.c.toTop&&t.o&&$("#jqmP"+t.w[0]._jqm).after(t.w).remove(),t.c.onHide?t.c.onHide(t):(t.w.hide(),t.o&&t.o.remove())),!1},params:{}},jqmHash=$.jqm.hash,$.fmatter=$.fmatter||{};var fmatter=$.fmatter,getOptionByName=function(e,t){var i=e.formatoptions||{};return i.hasOwnProperty(t)?i[t]:(e.editoptions||{})[t]},encodeAttr=function(e){return String(e).replace(/\'/g,"&#39;")},parseCheckboxOptions=function(e){var t,i,r=e.colModel||e.cm,a=!1!==r.title?" title='"+encodeAttr(e.colName||r.name)+"'":"",n=function(e){return getOptionByName(r,e)},o=n("checkedClass"),s=n("uncheckedClass"),l=n("value"),d="string"==typeof l&&l.split(":")[0]||"Yes",c="string"==typeof l&&l.split(":")[1]||"No",u=function(e){return"<i class='"+encodeAttr(e)+"'"+a+"></i>"},h=n("disabled");void 0===h&&(h=jgrid.formatter.checkbox.disabled);var p=base.getIconRes.call(this,"checkbox.checked"),f=base.getIconRes.call(this,"checkbox.checkedClasses"),m=base.getIconRes.call(this,"checkbox.unchecked");return!0===h&&(o||s||p||m)?(t=u(o||p),i=u(s||m),o=f||o||p):(t="<input type='checkbox' checked='checked'"+(a+=!(o="")===h?" disabled='disabled'":"")+" />",i="<input type='checkbox'"+a+" />"),{checkedClasses:o,checked:t,unchecked:i,yes:d,no:c}},yesObject={1:1,x:1,true:1,yes:1,y:1,on:1},noObject={0:1,false:1,no:1,n:1,off:1};$.extend(!0,jgrid,{formatter:{date:{parseRe:/[#%\\\/:_;.,\t\s\-]/,masks:{ISO8601Long:"Y-m-d H:i:s",ISO8601Short:"Y-m-d",SortableDateTime:"Y-m-d\\TH:i:s",UniversalSortableDateTime:"Y-m-d H:i:sO"},reformatAfterEdit:!0,userLocalTime:!1},baseLinkUrl:"",showAction:"",target:"",checkbox:{disabled:!0,defaultValue:!1},idName:"id"},cmTemplate:{integerStr:{formatter:"integer",align:"right",sorttype:"integer",searchoptions:{sopt:["eq","ne","lt","le","gt","ge"]}},integer:{formatter:"integer",align:"right",sorttype:"integer",convertOnSave:function(e){var t=e.newValue;return isNaN(t)?t:parseInt(t,10)},searchoptions:{sopt:["eq","ne","lt","le","gt","ge"]}},numberStr:{formatter:"number",align:"right",sorttype:"number",searchoptions:{sopt:["eq","ne","lt","le","gt","ge"]}},number:{formatter:"number",align:"right",sorttype:"number",convertOnSave:function(e){var t=e.newValue;return isNaN(t)?t:parseFloat(t)},searchoptions:{sopt:["eq","ne","lt","le","gt","ge"]}},booleanCheckbox:{align:"center",formatter:"checkbox",sorttype:"boolean",edittype:"checkbox",editoptions:{value:"true:false",defaultValue:"false"},convertOnSave:function(e){var t=e.newValue,i=parseCheckboxOptions.call(this,e),r=String(t).toLowerCase();return yesObject[r]||r===i.yes.toLowerCase()?t=!0:(noObject[r]||r===i.no.toLowerCase())&&(t=!1),t},stype:"checkbox",searchoptions:{sopt:["eq"],value:"true:false"}},actions:function(){return{formatter:"actions",width:(null!=this.p&&(base.isInCommonIconClass.call(this,"fa")||base.isInCommonIconClass.call(this,"glyphicon"))?$(this).jqGrid("isBootstrapGuiStyle")?45:39:40)+(jgrid.cellWidth()?5:0),align:"center",label:"",autoResizable:!1,title:!1,frozen:!0,fixed:!0,hidedlg:!0,resizable:!1,sortable:!1,search:!1,editable:!1,viewable:!1}}}}),jgrid.cmTemplate.booleanCheckboxFa=jgrid.cmTemplate.booleanCheckbox,$.extend(fmatter,{isObject:function(e){return e&&("object"==typeof e||$.isFunction(e))||!1},isNumber:function(e){return"number"==typeof e&&isFinite(e)},isValue:function(e){return this.isObject(e)||"string"==typeof e||this.isNumber(e)||"boolean"==typeof e},isEmpty:function(e){return!("string"!=typeof e&&this.isValue(e)||this.isValue(e)&&""!==$.trim(e).replace(/&nbsp;/gi,"").replace(/&#160;/gi,""))},NumberFormat:function(e,t){var i=fmatter.isNumber;if(i(e)||(e*=1),i(e)){var r,a=e<0,n=String(e),o=t.decimalSeparator||".";if(i(t.decimalPlaces)){var s=t.decimalPlaces;if(r=(n=String(Number(Math.round(e+"e"+s)+"e-"+s))).lastIndexOf("."),0<s)for(r<0?r=(n+=o).length-1:"."!==o&&(n=n.replace(".",o));n.length-1-r<s;)n+="0"}if(t.thousandsSeparator){var l=t.thousandsSeparator;r=-1<(r=n.lastIndexOf(o))?r:n.length;var d,c=void 0===t.decimalSeparator?"":n.substring(r),u=-1;for(d=r;0<d;d--)++u%3==0&&d!==r&&(!a||1<d)&&(c=l+c),c=n.charAt(d-1)+c;n=c}return n}return e}});var $FnFmatter=function(e,t,i,r,a){var n=t;i=$.extend({},getGridRes.call($(this),"formatter"),i);try{n=$.fn.fmatter[e].call(this,t,i,r,a)}catch(e){}return n};$.fn.fmatter=$FnFmatter,$FnFmatter.getCellBuilder=function(e,t,i){var r=null!=$.fn.fmatter[e]?$.fn.fmatter[e].getCellBuilder:null;return $.isFunction(r)?r.call(this,$.extend({},getGridRes.call($(this),"formatter"),t),i):null},$FnFmatter.defaultFormat=function(e,t){return fmatter.isValue(e)&&""!==e?e:t.defaultValue||"&#160;"};var defaultFormat=$FnFmatter.defaultFormat,formatCheckboxValue=function(e,t,i){if(void 0===e||fmatter.isEmpty(e)){var r=getOptionByName(i,"defaultValue");void 0===r&&(r=t.no),e=r}return e=String(e).toLowerCase(),yesObject[e]||e===t.yes.toLowerCase()?t.checked:t.unchecked};$FnFmatter.email=function(e,t){return fmatter.isEmpty(e)?defaultFormat(e,t):"<a href='mailto:"+encodeAttr(e)+"'>"+e+"</a>"},$FnFmatter.checkbox=function(e,t){var i=parseCheckboxOptions.call(this,t);return formatCheckboxValue(e,i,t.colModel)},$FnFmatter.checkbox.getCellBuilder=function(e){var t,i=e.colModel;return e.colName=e.colName||this.p.colNames[e.pos],t=parseCheckboxOptions.call(this,e),function(e){return formatCheckboxValue(e,t,i)}},$FnFmatter.checkbox.unformat=function(e,t,i){var r=parseCheckboxOptions.call(this,t),a=$(i);return(r.checkedClasses?jgrid.hasAllClasses(a.children("i,svg"),r.checkedClasses):a.children("input").is(":checked"))?r.yes:r.no},$FnFmatter.checkboxFontAwesome4=$FnFmatter.checkbox,$FnFmatter.checkboxFontAwesome4.getCellBuilder=$FnFmatter.checkbox.getCellBuilder,$FnFmatter.checkboxFontAwesome4.unformat=$FnFmatter.checkbox.unformat,$FnFmatter.link=function(e,t){var i=t.colModel,r="",a={target:t.target};return null!=i&&(a=$.extend({},a,i.formatoptions||{})),a.target&&(r="target="+a.target),fmatter.isEmpty(e)?defaultFormat(e,a):"<a "+r+" href='"+encodeAttr(e)+"'>"+e+"</a>"},$FnFmatter.showlink=function(e,t,i){var r,a,n,o=this,s=t.colModel,l={baseLinkUrl:t.baseLinkUrl,showAction:t.showAction,addParam:t.addParam||"",target:t.target,idName:t.idName,hrefDefaultValue:"#"},d="",c=function(r){return $.isFunction(r)?r.call(o,{cellValue:e,rowid:t.rowId,rowData:i,options:l}):r||""};return null!=s&&(l=$.extend({},l,s.formatoptions||{})),l.target&&(d="target="+c(l.target)),r=c(l.baseLinkUrl)+c(l.showAction),a=l.idName?encodeURIComponent(c(l.idName))+"="+encodeURIComponent(c(l.rowId)||t.rowId):"","object"==typeof(n=c(l.addParam))&&null!==n&&(n=(""!==a?"&":"")+$.param(n)),""==(r+=a||n?"?"+a+n:"")&&(r=c(l.hrefDefaultValue)),"string"==typeof e||fmatter.isNumber(e)||$.isFunction(l.cellValue)?"<a "+d+" href='"+encodeAttr(r)+"'>"+($.isFunction(l.cellValue)?c(l.cellValue):e)+"</a>":defaultFormat(e,l)},$FnFmatter.showlink.getCellBuilder=function(e){var t={baseLinkUrl:e.baseLinkUrl,showAction:e.showAction,addParam:e.addParam||"",target:e.target,idName:e.idName,hrefDefaultValue:"#"},i=e.colModel;return null!=i&&(t=$.extend({},t,i.formatoptions||{})),function(e,i,r){var a,n,o,s=this,l=i.rowId,d="",c=function(i){return $.isFunction(i)?i.call(s,{cellValue:e,rowid:l,rowData:r,options:t}):i||""};return t.target&&(d="target="+c(t.target)),a=c(t.baseLinkUrl)+c(t.showAction),n=t.idName?encodeURIComponent(c(t.idName))+"="+encodeURIComponent(c(l)||i.rowId):"","object"==typeof(o=c(t.addParam))&&null!==o&&(o=(""!==n?"&":"")+$.param(o)),""==(a+=n||o?"?"+n+o:"")&&(a=c(t.hrefDefaultValue)),"string"==typeof e||fmatter.isNumber(e)||$.isFunction(t.cellValue)?"<a "+d+" href='"+encodeAttr(a)+"'>"+($.isFunction(t.cellValue)?c(t.cellValue):e)+"</a>":defaultFormat(e,t)}},$FnFmatter.showlink.pageFinalization=function(e){var t,i,r,a=$(this),n=this.p,o=n.colModel[e],s=n.autoResizing.wrapperClassName,l=this.rows,d=l.length,c=function(e){var t=$(this).closest("tr.jqgrow>td"),i=t.parent(),r=t[0].cellIndex,o=n.colModel[r];if(0<i.length)return o.formatoptions.onClick.call(a[0],{iCol:r,iRow:i[0].rowIndex,rowid:i.attr("id"),cm:o,cmName:o.name,cellValue:$(this).text(),a:this,event:e})};if(null!=o.formatoptions&&$.isFunction(o.formatoptions.onClick))for(t=0;t<d;t++)i=l[t],$(i).hasClass("jqgrow")&&(r=i.cells[e],o.autoResizable&&null!=r&&$(r.firstChild).hasClass(s)&&(r=r.firstChild),null!=r&&$(r.firstChild).on("click",c))};var insertPrefixAndSuffix=function(e,t){return e=t.prefix?t.prefix+e:e,t.suffix?e+t.suffix:e},numberHelper=function(e,t,i){var r=t.colModel,a=$.extend({},t[i]);return null!=r&&(a=$.extend({},a,r.formatoptions||{})),fmatter.isEmpty(e)?insertPrefixAndSuffix(a.defaultValue,a):insertPrefixAndSuffix(fmatter.NumberFormat(e,a),a)};$FnFmatter.integer=function(e,t){return numberHelper(e,t,"integer")},$FnFmatter.number=function(e,t){return numberHelper(e,t,"number")},$FnFmatter.currency=function(e,t){return numberHelper(e,t,"currency")};var numberCellBuilder=function(e,t){var i=e.colModel,r=$.extend({},e[t]);null!=i&&(r=$.extend({},r,i.formatoptions||{}));var a=fmatter.NumberFormat,n=r.defaultValue?insertPrefixAndSuffix(r.defaultValue,r):"";return function(e){return fmatter.isEmpty(e)?n:insertPrefixAndSuffix(a(e,r),r)}};$FnFmatter.integer.getCellBuilder=function(e){return numberCellBuilder(e,"integer")},$FnFmatter.number.getCellBuilder=function(e){return numberCellBuilder(e,"number")},$FnFmatter.currency.getCellBuilder=function(e){return numberCellBuilder(e,"currency")},$FnFmatter.date=function(e,t,i,r){var a=t.colModel,n=$.extend({},t.date);return null!=a&&(n=$.extend({},n,a.formatoptions||{})),n.reformatAfterEdit||"edit"!==r?fmatter.isEmpty(e)?defaultFormat(e,n):jgrid.parseDate.call(this,n.srcformat,e,n.newformat,n):defaultFormat(e,n)},$FnFmatter.date.getCellBuilder=function(e,t){var i=$.extend({},e.date);null!=e.colModel&&(i=$.extend({},i,e.colModel.formatoptions||{}));var r=jgrid.parseDate,a=i.srcformat,n=i.newformat;return i.reformatAfterEdit||"edit"!==t?function(e){return fmatter.isEmpty(e)?defaultFormat(e,i):r.call(this,a,e,n,i)}:function(e){return defaultFormat(e,i)}},$FnFmatter.select=function(e,t){var i,r=[],a=t.colModel,n=$.extend({},a.editoptions||{},a.formatoptions||{}),o="function"==typeof n.value?n.value():n.value,s=n.separator||":",l=n.delimiter||";";if(o){var d,c=!0===n.multiple,u=[],h=function(e,t){if(0<t)return e};if(c&&(u=$.map(String(e).split(","),(function(e){return $.trim(e)}))),"string"==typeof o){var p,f,m=o.split(l);for(p=0;p<m.length;p++)if(2<(d=m[p].split(s)).length&&(d[1]=$.map(d,h).join(s)),f=$.trim(d[0]),n.defaultValue===f&&(i=d[1]),c)-1<$.inArray(f,u)&&r.push(d[1]);else if(f===$.trim(e)){r=[d[1]];break}}else fmatter.isObject(o)&&(i=o[n.defaultValue],r=c?$.map(u,(function(e){return o[e]})):[void 0===o[e]?"":o[e]])}return""!==(e=r.join(", "))?e:void 0!==n.defaultValue?i:defaultFormat(e,n)},$FnFmatter.select.getCellBuilder=function(e){var t,i,r,a,n=e.colModel,o=$FnFmatter.defaultFormat,s=$.extend({},n.editoptions||{},n.formatoptions||{}),l="function"==typeof s.value?s.value():s.value,d=s.separator||":",c=s.delimiter||";",u=void 0!==s.defaultValue,h=!0===s.multiple,p={},f=function(e,t){if(0<t)return e};if("string"==typeof l)for(a=(r=l.split(c)).length-1;0<=a;a--)2<(i=r[a].split(d)).length&&(i[1]=$.map(i,f).join(d)),p[$.trim(i[0])]=i[1];else{if(!fmatter.isObject(l))return function(e){return e?String(e):o(e,s)};p=l}return u&&(t=p[s.defaultValue]),h?function(e){var i,r=[],a=$.map(String(e).split(","),(function(e){return $.trim(e)}));for(i=0;i<a.length;i++)e=a[i],p.hasOwnProperty(e)&&r.push(p[e]);return""!==(e=r.join(", "))?e:u?t:o(e,s)}:function(e){var i=p[String(e)];return""!==i&&void 0!==i?i:u?t:o(e,s)}},$FnFmatter.rowactions=function(e,t){var i,r,a,n,o=$(this).closest("tr.jqgrow>td"),s=o.parent(),l=s.attr("id"),d=$(this).closest("table.ui-jqgrid-btable").attr("id").replace(/_frozen([^_]*)$/,"$1"),c=$("#"+jgrid.jqID(d)),u=c[0],h=u.p,p=jgrid.getRelativeRect.call(u,s).top,f=h.colModel[o[0].cellIndex],m=$.extend(!0,{extraparam:{}},jgrid.actionsNav||{},h.actionsNavOptions||{},f.formatoptions||{});switch(void 0!==h.editOptions&&(m.editOptions=$.extend(!0,m.editOptions||{},h.editOptions)),void 0!==h.delOptions&&(m.delOptions=h.delOptions),s.hasClass("jqgrid-new-row")&&(m.extraparam[h.prmNames.oper]=h.prmNames.addoper),n={keys:m.keys,oneditfunc:m.onEdit,successfunc:m.onSuccess,url:m.url,extraparam:m.extraparam,aftersavefunc:m.afterSave,errorfunc:m.onError,afterrestorefunc:m.afterRestore,restoreAfterError:m.restoreAfterError,mtype:m.mtype},!h.multiselect&&l!==h.selrow||h.multiselect&&$.inArray(l,h.selarrrow)<0?c.jqGrid("setSelection",l,!0,e):jgrid.fullBoolFeedback.call(u,"onSelectRow","jqGridSelectRow",l,!0,e),t){case"edit":c.jqGrid("editRow",l,n);break;case"save":c.jqGrid("saveRow",l,n);break;case"cancel":c.jqGrid("restoreRow",l,m.afterRestore);break;case"del":m.delOptions=m.delOptions||{},void 0===m.delOptions.top&&(m.delOptions.top=p),c.jqGrid("delGridRow",l,m.delOptions);break;case"formedit":m.editOptions=m.editOptions||{},void 0===m.editOptions.top&&(m.editOptions.top=p,m.editOptions.recreateForm=!0),c.jqGrid("editGridRow",l,m.editOptions);break;default:if(null!=m.custom&&0<m.custom.length)for(r=m.custom.length,i=0;i<r;i++)(a=m.custom[i]).action===t&&$.isFunction(a.onClick)&&a.onClick.call(u,{rowid:l,event:e,action:t,options:a})}return e.stopPropagation&&e.stopPropagation(),!1},$FnFmatter.actions=function(e,t,i,r){var a,n,o,s=t.rowId,l="",d=$(this),c={},u=getGridRes.call(d,"edit")||{},h=$.extend({editbutton:!0,delbutton:!0,editformbutton:!1,commonIconClass:"ui-icon",editicon:"ui-icon-pencil",delicon:"ui-icon-trash",saveicon:"ui-icon-disk",cancelicon:"ui-icon-cancel",savetitle:u.bSubmit||"",canceltitle:u.bCancel||""},getGridRes.call(d,"nav")||{},jgrid.nav||{},this.p.navOptions||{},getGridRes.call(d,"actionsNav")||{},jgrid.actionsNav||{},this.p.actionsNavOptions||{},(t.colModel||{}).formatoptions||{}),p=[{action:"edit",actionName:"formedit",display:h.editformbutton},{action:"edit",display:!h.editformbutton&&h.editbutton},{action:"del",idPrefix:"Delete",display:h.delbutton},{action:"save",display:h.editformbutton||h.editbutton,hidden:!0},{action:"cancel",display:h.editformbutton||h.editbutton,hidden:!0}],f=function(e){var t,i=e.action,r=e.actionName||i,a=void 0!==e.idPrefix?e.idPrefix:i.charAt(0).toUpperCase()+i.substring(1);return"<div title='"+encodeAttr(h[i+"title"])+(e.hidden?"' style='display:none;":"")+"' class='"+encodeAttr(d.jqGrid("getGuiStyles","actionsButton","ui-pg-div ui-inline-"+i))+"' "+(null!==a?"id='j"+encodeAttr(a+"Button_"+s):"")+"' data-jqactionname=\""+r+'" '+(e.noHovering?"":'\' data-jqhovering="1" ')+"><span class='"+encodeAttr((t=i,jgrid.mergeCssClasses(h.commonIconClass,h[t+"icon"])))+"'></span></div>"},m=null!=h.custom?h.custom.length-1:-1;if(void 0===s||fmatter.isEmpty(s))return"";if($.isFunction(h.isDisplayButtons))try{c=h.isDisplayButtons.call(this,h,i,r)||{}}catch(e){}for(;0<=m;)p["first"===(o=h.custom[m--]).position?"unshift":"push"](o);for(a=0,m=p.length;a<m;a++)!1!==(n=$.extend({},p[a],c[p[a].action]||{})).display&&(l+=f(n));return"<div class='"+encodeAttr(d.jqGrid("getGuiStyles","actionsDiv","ui-jqgrid-actions"))+"'>"+l+"</div>"},$FnFmatter.actions.pageFinalization=function(e){var t,i,r,a,n=$(this),o=this.p,s=o.colModel[e],l=o.autoResizing.wrapperClassName,d=n.jqGrid("getGuiStyles","states.hover"),c=this.rows,u=this.grid.fbRows,h=c.length,p=(a=s.name,function(e,t){var i,r,s=0,l=o.colModel,d=l.length,c=o.iColByName[a];for(r=0;r<d&&!0===l[r].frozen;r++)s=r;null!=t&&null!=t.cells&&(i=$(t.cells[c]).children(".ui-jqgrid-actions"),l[c].frozen&&o.frozenColumns&&c<=s&&(i=i.add($(n[0].grid.fbRows[t.rowIndex].cells[c]).children(".ui-jqgrid-actions"))),e?(i.find(">.ui-inline-edit,>.ui-inline-del").show(),i.find(">.ui-inline-save,>.ui-inline-cancel").hide()):(i.find(">.ui-inline-edit,>.ui-inline-del").hide(),i.find(">.ui-inline-save,>.ui-inline-cancel").show()))}),f=function(e,t){var i=n.jqGrid("getGridRowById",t);return p(!0,i),!1},m=function(e,t){var i=n.jqGrid("getGridRowById",t);return p(!1,i),!1},g=function(e){1===$(e.target).closest("div.ui-pg-div").data("jqhovering")&&$(this).addClass(d)},v=function(e){1===$(e.target).closest("div.ui-pg-div").data("jqhovering")&&$(this).removeClass(d)},b=function(e){return $FnFmatter.rowactions.call(this,e,$(e.target).closest("div.ui-pg-div").data("jqactionname"))},y=function(e,t){t&&null!=e&&$(e.firstChild).hasClass(l)&&(e=e.firstChild),null!=e&&($(e.firstChild).on("click",b),$(e.firstChild).children("div.ui-pg-div").on("mouseover",g).on("mouseout",v))},w=(r=s.name,function(e,t){var i=o.iColByName[r];y(t.tr.cells[i],o.colModel[i].autoResizable)});for(null!=s.formatoptions&&s.formatoptions.editformbutton||(n.off("jqGridInlineAfterRestoreRow.jqGridFormatter jqGridInlineAfterSaveRow.jqGridFormatter",f),n.on("jqGridInlineAfterRestoreRow.jqGridFormatter jqGridInlineAfterSaveRow.jqGridFormatter",f),n.off("jqGridInlineEditRow.jqGridFormatter",m),n.on("jqGridInlineEditRow.jqGridFormatter",m),n.off("jqGridAfterAddRow.jqGridFormatter",w),n.on("jqGridAfterAddRow.jqGridFormatter",w)),t=0;t<h;t++)i=c[t],$(i).hasClass("jqgrow")&&(y(i.cells[e],s.autoResizable),null!=u&&null!=u[t]&&y(u[t].cells[e],s.autoResizable))},$.unformat=function(e,t,i,r){var a,n=t.colModel,o=n.formatter,s=this.p,l=n.formatoptions||{},d=n.unformat||$FnFmatter[o]&&$FnFmatter[o].unformat;if(e instanceof jQuery&&0<e.length&&(e=e[0]),s.treeGrid&&null!=e&&$(e.firstChild).hasClass("tree-wrap")&&($(e.lastChild).hasClass("cell-wrapper")||$(e.lastChild).hasClass("cell-wrapperleaf"))&&(e=e.lastChild),n.autoResizable&&null!=e&&$(e.firstChild).hasClass(s.autoResizing.wrapperClassName)&&(e=e.firstChild),void 0!==d&&$.isFunction(d))a=d.call(this,$(e).text(),t,e);else if(void 0!==o&&"string"==typeof o){var c=$(this),u=function(e,t){return void 0!==l[t]?l[t]:getGridRes.call(c,"formatter."+e+"."+t)},h=function(e,t){var i=u(e,"thousandsSeparator").replace(/([\.\*\_\'\(\)\{\}\+\?\\])/g,"\\$1");return t.replace(new RegExp(i,"g"),"")};switch(o){case"integer":a=h("integer",$(e).text());break;case"number":a=h("number",$(e).text()).replace(u("number","decimalSeparator"),".");break;case"currency":a=$(e).text();var p=u("currency","prefix"),f=u("currency","suffix");p&&p.length&&(a=a.substr(p.length)),f&&f.length&&(a=a.substr(0,a.length-f.length)),a=h("number",a).replace(u("number","decimalSeparator"),".");break;case"checkbox":a=$FnFmatter.checkbox.unformat(e,t,e);break;case"select":a=$.unformat.select(e,t,i,r);break;case"actions":return"";default:a=$(e).text()}}return void 0!==a?a:!0===r?$(e).text():jgrid.htmlDecode($(e).html())},$.unformat.select=function(e,t,i,r){var a=[],n=$(e).text(),o=t.colModel;if(!0===r)return n;var s=$.extend({},o.editoptions||{},o.formatoptions||{}),l=void 0===s.separator?":":s.separator,d=void 0===s.delimiter?";":s.delimiter;if(s.value){var c,u="function"==typeof s.value?s.value():s.value,h=!0===s.multiple,p=[],f=function(e,t){if(0<t)return e};if(h&&(p=n.split(","),p=$.map(p,(function(e){return $.trim(e)}))),"string"==typeof u){var m,g=u.split(d),v=0;for(m=0;m<g.length;m++)if(2<(c=g[m].split(l)).length&&(c[1]=$.map(c,f).join(l)),h)-1<$.inArray($.trim(c[1]),p)&&(a[v]=c[0],v++);else if($.trim(c[1])===$.trim(n)){a[0]=c[0];break}}else(fmatter.isObject(u)||$.isArray(u))&&(h||(p[0]=n),a=$.map(p,(function(e){var t;if($.each(u,(function(i,r){if(r===e)return t=i,!1})),void 0!==t)return t})));return a.join(", ")}return n||""},$.unformat.date=function(e,t){var i=$.extend(!0,{},getGridRes.call($(this),"formatter.date"),jgrid.formatter.date||{},t.formatoptions||{});return fmatter.isEmpty(e)?"":jgrid.parseDate.call(this,i.newformat,e,i.srcformat,i)}}))},3889:()=>{!function(e){"use strict";e.jgrid.extend({winMultiSelect:function(){return this.each((function(){e(this).bind("jqGridBeforeSelectRow",(function(t,i,r){if("checkbox"==e(r.target).attr("type"))return!0;var a=e(this),n=a.jqGrid("getGridParam","selarrrow"),o=function(t){var i=t.id,r=e(t);r.addClass("ui-state-highlight").attr("aria-selected","true"),e.inArray(i,n)<0&&(n.push(i),a.jqGrid("setGridParam",{selrow:i}));var o=this.p;if(r.hasClass("ui-state-highlight")){var s=r.find(">td[aria-describedby="+e.jgrid.jqID(o.id)+"_cb]>input[type=checkbox]");window.setTimeout((function(){s.prop("checked",!0)}),1)}},s=function(e){o.call(this,a.jqGrid("getGridRowById",e))},l=function(t){var i,r,o,s,l=t.length;for(i=0;i<l;i++)s=t[i],r=a.jqGrid("getGridRowById",s),e(r).removeClass("ui-state-highlight").removeAttr("attribute aria-selected"),(o=e.inArray(s,n))>=0&&n.splice(o,1),e(r).find(">td[aria-describedby="+e.jgrid.jqID(this.p.id)+"_cb]>input[type=checkbox]").prop("checked",!1);a.jqGrid("setGridParam",{selrow:0===n.length?null:n[n.length-1]})};return r.ctrlKey?e.inArray(i,n)>=0?l.call(this,[i]):s.call(this,i):r.shiftKey?function(t){var i,r,s,d,c=a.jqGrid("getGridRowById",t),u=n.slice(0);for(r=c.rowIndex,n.length>0?(c=a.jqGrid("getGridRowById",n[0]),r>(s=0===n.length?1:null!=c?c.rowIndex:1)&&(i=s,s=r,r=i)):(c=a.jqGrid("getGridRowById",t),s=r),i=r;i<=s;i++)c=this.rows[i],(d=e.inArray(c.id,u))>=0?u.splice(d,1):o.call(this,c);l.call(this,u)}.call(this,i):(l.call(this,n.slice(0)),s.call(this,i)),!1}))}))}})}(jQuery)},8750:(e,t,i)=>{var r,a,n,o,s,l;o=window,s=document,function(o){"use strict";a=[i(9755)],void 0===(n="function"==typeof(r=o)?r.apply(t,a):r)||(e.exports=n)}((function(e){"use strict";function t(t,i,r,a){this.id=r,this.target=t,this.tooltip=k,this.elements={target:t},this._id=z+"-"+r,this.timers={img:{}},this.options=i,this.plugins={},this.cache={event:{},target:e(),disabled:S,attr:a,onTooltip:S,lastClass:""},this.rendered=this.destroyed=this.disabled=this.waiting=this.hiddenDuringWait=this.positioning=this.triggering=S}function i(t){return t===k||"object"!==e.type(t)}function r(t){return!(e.isFunction(t)||t&&t.attr||t.length||"object"===e.type(t)&&(t.jquery||t.then))}function a(t){var a,n,o,s;return i(t)?S:(i(t.metadata)&&(t.metadata={type:t.metadata}),"content"in t&&(i(a=t.content)||a.jquery||a.done?(n=r(a)?S:a,a=t.content={text:n}):n=a.text,"ajax"in a&&(o=a.ajax,s=o&&o.once!==S,delete a.ajax,a.text=function(t,i){var r=n||e(this).attr(i.options.content.attr)||"Loading...",a=e.ajax(e.extend({},o,{context:i})).then(o.success,k,o.error).then((function(e){return e&&s&&i.set("content.text",e),e}),(function(e,t,r){i.destroyed||0===e.status||i.set("content.text",t+": "+r)}));return s?r:(i.set("content.text",r),a)}),"title"in a&&(e.isPlainObject(a.title)&&(a.button=a.title.button,a.title=a.title.text),r(a.title||S)&&(a.title=S))),"position"in t&&i(t.position)&&(t.position={my:t.position,at:t.position}),"show"in t&&i(t.show)&&(t.show=t.show.jquery?{target:t.show}:t.show===D?{ready:D}:{event:t.show}),"hide"in t&&i(t.hide)&&(t.hide=t.hide.jquery?{target:t.hide}:{event:t.hide}),"style"in t&&i(t.style)&&(t.style={classes:t.style}),e.each(A,(function(){this.sanitize&&this.sanitize(t)})),t)}function n(e,t){for(var i,r=0,a=e,n=t.split(".");a=a[n[r++]];)r<n.length&&(i=a);return[i||e,n.pop()]}function d(e,t){var i,r,a;for(i in this.checks)if(this.checks.hasOwnProperty(i))for(r in this.checks[i])this.checks[i].hasOwnProperty(r)&&(a=new RegExp(r,"i").exec(e))&&(t.push(a),("builtin"===i||this.plugins[i])&&this.checks[i][r].apply(this.plugins[i]||this,t))}function c(e){return L.concat("").join(e?"-"+e+" ":" ")}function u(t,i){return i>0?setTimeout(e.proxy(t,this),i):void t.call(this)}function h(e){this.tooltip.hasClass(K)||(clearTimeout(this.timers.show),clearTimeout(this.timers.hide),this.timers.show=u.call(this,(function(){this.toggle(D,e)}),this.options.show.delay))}function p(t){if(!this.tooltip.hasClass(K)&&!this.destroyed){var r=e(t.relatedTarget),a=r.closest(H)[0]===this.tooltip[0],n=r[0]===this.options.show.target[0];if(clearTimeout(this.timers.show),clearTimeout(this.timers.hide),this!==r[0]&&"mouse"===this.options.position.target&&a||this.options.hide.fixed&&/mouse(out|leave|move)/.test(t.type)&&(a||n))try{t.preventDefault(),t.stopImmediatePropagation()}catch(i){}else this.timers.hide=u.call(this,(function(){this.toggle(S,t)}),this.options.hide.delay,this)}}function f(e){!this.tooltip.hasClass(K)&&this.options.hide.inactive&&(clearTimeout(this.timers.inactive),this.timers.inactive=u.call(this,(function(){this.hide(e)}),this.options.hide.inactive))}function m(e){this.rendered&&this.tooltip[0].offsetWidth>0&&this.reposition(e)}function g(t,i,r){e(s.body).delegate(t,(i.split?i:i.join("."+z+" "))+"."+z,(function(){var t=$.api[e.attr(this,B)];t&&!t.disabled&&r.apply(t,arguments)}))}function v(i,r,n){var o,l,d,c,u,h=e(s.body),p=i[0]===s?h:i,f=i.metadata?i.metadata(n.metadata):k,m="html5"===n.metadata.type&&f?f[n.metadata.name]:k,g=i.data(n.metadata.name||"qtipopts");try{g="string"==typeof g?e.parseJSON(g):g}catch(v){}if(l=(c=e.extend(D,{},$.defaults,n,"object"==typeof g?a(g):k,a(m||f))).position,c.id=r,"boolean"==typeof c.content.text){if(d=i.attr(c.content.attr),c.content.attr===S||!d)return S;c.content.text=d}if(l.container.length||(l.container=h),l.target===S&&(l.target=p),c.show.target===S&&(c.show.target=p),c.show.solo===D&&(c.show.solo=l.container.closest("body")),c.hide.target===S&&(c.hide.target=p),c.position.viewport===D&&(c.position.viewport=l.container),l.container=l.container.eq(0),l.at=new _(l.at,D),l.my=new _(l.my),i.data(z))if(c.overwrite)i.qtip("destroy",!0);else if(c.overwrite===S)return S;return i.attr(P,r),c.suppress&&(u=i.attr("title"))&&i.removeAttr("title").attr(Q,u).attr("title",""),o=new t(i,c,r,!!d),i.data(z,o),o}function b(e){return e.charAt(0).toUpperCase()+e.slice(1)}function y(e,t){return Math.ceil(parseFloat(function(e,t){var i,r,a=t.charAt(0).toUpperCase()+t.slice(1),n=(t+" "+ve.join(a+" ")+a).split(" "),o=0;if(ge[t])return e.css(ge[t]);for(;i=n[o++];)if((r=e.css(i))!==l)return ge[t]=i,r}(e,t)))}function w(e,t){this._ns="tip",this.options=t,this.offset=t.offset,this.size=[t.width,t.height],this.qtip=e,this.init(e)}var $,x,_,C,j,D=!0,S=!1,k=null,O="x",F="y",I="width",q="height",R="top",M="left",T="bottom",N="right",G="center",E="shift",A={},z="qtip",P="data-hasqtip",B="data-qtip-id",L=["ui-widget","ui-tooltip"],H="."+z,V="click dblclick mousedown mouseup mousemove mouseleave mouseenter".split(" "),W=z+"-fixed",U=z+"-default",Y=z+"-focus",X=z+"-hover",K=z+"-disabled",J="_replacedByqTip",Q="oldtitle",Z={ie:function(){var e,t;for(e=4,t=s.createElement("div");(t.innerHTML="\x3c!--[if gt IE "+e+"]><i></i><![endif]--\x3e")&&t.getElementsByTagName("i")[0];e+=1);return e>4?e:NaN}(),iOS:parseFloat((""+(/CPU.*OS ([0-9_]{1,5})|(CPU like).*AppleWebKit.*Mobile/i.exec(navigator.userAgent)||[0,""])[1]).replace("undefined","3_2").replace("_",".").replace("_",""))||S};(x=t.prototype)._when=function(t){return e.when.apply(e,t)},x.render=function(t){if(this.rendered||this.destroyed)return this;var i=this,r=this.options,a=this.cache,n=this.elements,o=r.content.text,s=r.content.title,l=r.content.button,d=r.position,c=[];return e.attr(this.target[0],"aria-describedby",this._id),a.posClass=this._createPosClass((this.position={my:d.my,at:d.at}).my),this.tooltip=n.tooltip=e("<div/>",{id:this._id,"class":[z,U,r.style.classes,a.posClass].join(" "),width:r.style.width||"",height:r.style.height||"",tracking:"mouse"===d.target&&d.adjust.mouse,role:"alert","aria-live":"polite","aria-atomic":S,"aria-describedby":this._id+"-content","aria-hidden":D}).toggleClass(K,this.disabled).attr(B,this.id).data(z,this).appendTo(d.container).append(n.content=e("<div />",{"class":z+"-content",id:this._id+"-content","aria-atomic":D})),this.rendered=-1,this.positioning=D,s&&(this._createTitle(),e.isFunction(s)||c.push(this._updateTitle(s,S))),l&&this._createButton(),e.isFunction(o)||c.push(this._updateContent(o,S)),this.rendered=D,this._setWidget(),e.each(A,(function(e){var t;"render"===this.initialize&&(t=this(i))&&(i.plugins[e]=t)})),this._unassignEvents(),this._assignEvents(),this._when(c).then((function(){i._trigger("render"),i.positioning=S,i.hiddenDuringWait||!r.show.ready&&!t||i.toggle(D,a.event,S),i.hiddenDuringWait=S})),$.api[this.id]=this,this},x.destroy=function(t){function i(){if(!this.destroyed){this.destroyed=D;var t,i=this.target,r=i.attr(Q);for(t in this.rendered&&this.tooltip.stop(1,0).find("*").remove().end().remove(),e.each(this.plugins,(function(){this.destroy&&this.destroy()})),this.timers)this.timers.hasOwnProperty(t)&&clearTimeout(this.timers[t]);i.removeData(z).removeAttr(B).removeAttr(P).removeAttr("aria-describedby"),this.options.suppress&&r&&i.attr("title",r).removeAttr(Q),this._unassignEvents(),this.options=this.elements=this.cache=this.timers=this.plugins=this.mouse=k,delete $.api[this.id]}}return this.destroyed||(t===D&&"hide"!==this.triggering||!this.rendered?i.call(this):(this.tooltip.one("tooltiphidden",e.proxy(i,this)),!this.triggering&&this.hide())),this.target},C=x.checks={builtin:{"^id$":function(t,i,r,a){var n=r===D?$.nextid:r,o=z+"-"+n;n!==S&&n.length>0&&!e("#"+o).length?(this._id=o,this.rendered&&(this.tooltip[0].id=this._id,this.elements.content[0].id=this._id+"-content",this.elements.title[0].id=this._id+"-title")):t[i]=a},"^prerender":function(e,t,i){i&&!this.rendered&&this.render(this.options.show.ready)},"^content.text$":function(e,t,i){this._updateContent(i)},"^content.attr$":function(e,t,i,r){this.options.content.text===this.target.attr(r)&&this._updateContent(this.target.attr(i))},"^content.title$":function(e,t,i){return i?(i&&!this.elements.title&&this._createTitle(),void this._updateTitle(i)):this._removeTitle()},"^content.button$":function(e,t,i){this._updateButton(i)},"^content.title.(text|button)$":function(e,t,i){this.set("content."+t,i)},"^position.(my|at)$":function(e,t,i){"string"==typeof i&&(this.position[t]=e[t]=new _(i,"at"===t))},"^position.container$":function(e,t,i){this.rendered&&this.tooltip.appendTo(i)},"^show.ready$":function(e,t,i){i&&(!this.rendered&&this.render(D)||this.toggle(D))},"^style.classes$":function(e,t,i,r){this.rendered&&this.tooltip.removeClass(r).addClass(i)},"^style.(width|height)":function(e,t,i){this.rendered&&this.tooltip.css(t,i)},"^style.widget|content.title":function(){this.rendered&&this._setWidget()},"^style.def":function(e,t,i){this.rendered&&this.tooltip.toggleClass(U,!!i)},"^events.(render|show|move|hide|focus|blur)$":function(t,i,r){this.rendered&&this.tooltip[(e.isFunction(r)?"":"un")+"bind"]("tooltip"+i,r)},"^(show|hide|position).(event|target|fixed|inactive|leave|distance|viewport|adjust)":function(){if(this.rendered){var e=this.options.position;this.tooltip.attr("tracking","mouse"===e.target&&e.adjust.mouse),this._unassignEvents(),this._assignEvents()}}}},x.get=function(e){if(this.destroyed)return this;var t=n(this.options,e.toLowerCase()),i=t[0][t[1]];return i.precedance?i.string():i};var ee=/^position\.(my|at|adjust|target|container|viewport)|style|content|show\.ready/i,te=/^prerender|show\.ready/i;x.set=function(t,i){if(this.destroyed)return this;var r,o=this.rendered,s=S,l=this.options;return"string"==typeof t?(r=t,(t={})[r]=i):t=e.extend({},t),e.each(t,(function(i,r){if(o&&te.test(i))delete t[i];else{var a,d=n(l,i.toLowerCase());a=d[0][d[1]],d[0][d[1]]=r&&r.nodeType?e(r):r,s=ee.test(i)||s,t[i]=[d[0],d[1],r,a]}})),a(l),this.positioning=D,e.each(t,e.proxy(d,this)),this.positioning=S,this.rendered&&this.tooltip[0].offsetWidth>0&&s&&this.reposition("mouse"===l.position.target?k:this.cache.event),this},x._update=function(t,i){var r=this,a=this.cache;return this.rendered&&t?(e.isFunction(t)&&(t=t.call(this.elements.target,a.event,this)||""),e.isFunction(t.then)?(a.waiting=D,t.then((function(e){return a.waiting=S,r._update(e,i)}),k,(function(e){return r._update(e,i)}))):t===S||!t&&""!==t?S:(t.jquery&&t.length>0?i.empty().append(t.css({display:"block",visibility:"visible"})):i.html(t),this._waitForContent(i).then((function(e){r.rendered&&r.tooltip[0].offsetWidth>0&&r.reposition(a.event,!e.length)})))):S},x._waitForContent=function(t){var i=this.cache;return i.waiting=D,(e.fn.imagesLoaded?t.imagesLoaded():(new e.Deferred).resolve([])).done((function(){i.waiting=S})).promise()},x._updateContent=function(e,t){this._update(e,this.elements.content,t)},x._updateTitle=function(e,t){this._update(e,this.elements.title,t)===S&&this._removeTitle(S)},x._createTitle=function(){var t=this.elements,i=this._id+"-title";t.titlebar&&this._removeTitle(),t.titlebar=e("<div />",{"class":z+"-titlebar "+(this.options.style.widget?c("header"):"")}).append(t.title=e("<div />",{id:i,"class":z+"-title","aria-atomic":D})).insertBefore(t.content).delegate(".qtip-close","mousedown keydown mouseup keyup mouseout",(function(t){e(this).toggleClass("ui-state-active ui-state-focus","down"===t.type.substr(-4))})).delegate(".qtip-close","mouseover mouseout",(function(t){e(this).toggleClass("ui-state-hover","mouseover"===t.type)})),this.options.content.button&&this._createButton()},x._removeTitle=function(e){var t=this.elements;t.title&&(t.titlebar.remove(),t.titlebar=t.title=t.button=k,e!==S&&this.reposition())},x._createPosClass=function(e){return z+"-pos-"+(e||this.options.position.my).abbrev()},x.reposition=function(t,i){if(!this.rendered||this.positioning||this.destroyed)return this;this.positioning=D;var r,a,n,l,d=this.cache,c=this.tooltip,u=this.options.position,h=u.target,p=u.my,f=u.at,m=u.viewport,g=u.container,v=u.adjust,b=v.method.split(" "),y=c.outerWidth(S),w=c.outerHeight(S),$=0,x=0,_=c.css("position"),C={left:0,top:0},j=c[0].offsetWidth>0,k=t&&"scroll"===t.type,O=e(o),F=g[0].ownerDocument,I=this.mouse;if(e.isArray(h)&&2===h.length)f={x:M,y:R},C={left:h[0],top:h[1]};else if("mouse"===h)f={x:M,y:R},(!v.mouse||this.options.hide.distance)&&d.origin&&d.origin.pageX?t=d.origin:!t||t&&("resize"===t.type||"scroll"===t.type)?t=d.event:I&&I.pageX&&(t=I),"static"!==_&&(C=g.offset()),F.body.offsetWidth!==(o.innerWidth||F.documentElement.clientWidth)&&(a=e(s.body).offset()),C={left:t.pageX-C.left+(a&&a.left||0),top:t.pageY-C.top+(a&&a.top||0)},v.mouse&&k&&I&&(C.left-=(I.scrollX||0)-O.scrollLeft(),C.top-=(I.scrollY||0)-O.scrollTop());else{if("event"===h?t&&t.target&&"scroll"!==t.type&&"resize"!==t.type?d.target=e(t.target):t.target||(d.target=this.elements.target):"event"!==h&&(d.target=e(h.jquery?h:this.elements.target)),h=d.target,0===(h=e(h).eq(0)).length)return this;h[0]===s||h[0]===o?($=Z.iOS?o.innerWidth:h.width(),x=Z.iOS?o.innerHeight:h.height(),h[0]===o&&(C={top:(m||h).scrollTop(),left:(m||h).scrollLeft()})):A.imagemap&&h.is("area")?r=A.imagemap(this,h,f,A.viewport?b:S):A.svg&&h&&h[0].ownerSVGElement?r=A.svg(this,h,f,A.viewport?b:S):($=h.outerWidth(S),x=h.outerHeight(S),C=h.offset()),r&&($=r.width,x=r.height,a=r.offset,C=r.position),C=this.reposition.offset(h,C,g),(Z.iOS>3.1&&Z.iOS<4.1||Z.iOS>=4.3&&Z.iOS<4.33||!Z.iOS&&"fixed"===_)&&(C.left-=O.scrollLeft(),C.top-=O.scrollTop()),(!r||r&&r.adjustable!==S)&&(C.left+=f.x===N?$:f.x===G?$/2:0,C.top+=f.y===T?x:f.y===G?x/2:0)}return C.left+=v.x+(p.x===N?-y:p.x===G?-y/2:0),C.top+=v.y+(p.y===T?-w:p.y===G?-w/2:0),A.viewport?(n=C.adjusted=A.viewport(this,C,u,$,x,y,w),a&&n.left&&(C.left+=a.left),a&&n.top&&(C.top+=a.top),n.my&&(this.position.my=n.my)):C.adjusted={left:0,top:0},d.posClass!==(l=this._createPosClass(this.position.my))&&(d.posClass=l,c.removeClass(d.posClass).addClass(l)),this._trigger("move",[C,m.elem||m],t)?(delete C.adjusted,i===S||!j||isNaN(C.left)||isNaN(C.top)||"mouse"===h||!e.isFunction(u.effect)?c.css(C):e.isFunction(u.effect)&&(u.effect.call(c,this,e.extend({},C)),c.queue((function(t){e(this).css({opacity:"",height:""}),Z.ie&&this.style.removeAttribute("filter"),t()}))),this.positioning=S,this):this},x.reposition.offset=function(t,i,r){function a(e,t){i.left+=t*e.scrollLeft(),i.top+=t*e.scrollTop()}if(!r[0])return i;var n,o,l,d,c=e(t[0].ownerDocument),u=!!Z.ie&&"CSS1Compat"!==s.compatMode,h=r[0];do{"static"!==(o=e.css(h,"position"))&&("fixed"===o?(l=h.getBoundingClientRect(),a(c,-1)):((l=e(h).position()).left+=parseFloat(e.css(h,"borderLeftWidth"))||0,l.top+=parseFloat(e.css(h,"borderTopWidth"))||0),i.left-=l.left+(parseFloat(e.css(h,"marginLeft"))||0),i.top-=l.top+(parseFloat(e.css(h,"marginTop"))||0),n||"hidden"===(d=e.css(h,"overflow"))||"visible"===d||(n=e(h)))}while(h=h.offsetParent);return n&&(n[0]!==c[0]||u)&&a(n,1),i};var ie=(_=x.reposition.Corner=function(e,t){e=(""+e).replace(/([A-Z])/," $1").replace(/middle/gi,G).toLowerCase(),this.x=(e.match(/left|right/i)||e.match(/center/)||["inherit"])[0].toLowerCase(),this.y=(e.match(/top|bottom|center/i)||["inherit"])[0].toLowerCase(),this.forceY=!!t;var i=e.charAt(0);this.precedance="t"===i||"b"===i?F:O}).prototype;ie.invert=function(e,t){this[e]=this[e]===M?N:this[e]===N?M:t||this[e]},ie.string=function(e){var t=this.x,i=this.y,r=t!==i?"center"===t||"center"!==i&&(this.precedance===F||this.forceY)?[i,t]:[t,i]:[t];return!1!==e?r.join(" "):r},ie.abbrev=function(){var e=this.string(!1);return e[0].charAt(0)+(e[1]&&e[1].charAt(0)||"")},ie.clone=function(){return new _(this.string(),this.forceY)},x.toggle=function(t,i){var r=this.cache,a=this.options,n=this.tooltip;if(i){if(/over|enter/.test(i.type)&&r.event&&/out|leave/.test(r.event.type)&&a.show.target.add(i.target).length===a.show.target.length&&n.has(i.relatedTarget).length)return this;r.event=e.event.fix(i)}if(this.waiting&&!t&&(this.hiddenDuringWait=D),!this.rendered)return t?this.render(1):this;if(this.destroyed||this.disabled)return this;var o,l,d,c=t?"show":"hide",u=this.options[c],h=this.options.position,p=this.options.content,f=this.tooltip.css("width"),m=this.tooltip.is(":visible"),g=t||1===u.target.length,v=!i||u.target.length<2||r.target[0]===i.target;return(typeof t).search("boolean|number")&&(t=!m),l=(o=!n.is(":animated")&&m===t&&v)?k:!!this._trigger(c,[90]),this.destroyed||(l!==S&&t&&this.focus(i),!l||o||(e.attr(n[0],"aria-hidden",!t),t?(this.mouse&&(r.origin=e.event.fix(this.mouse)),e.isFunction(p.text)&&this._updateContent(p.text,S),e.isFunction(p.title)&&this._updateTitle(p.title,S),!j&&"mouse"===h.target&&h.adjust.mouse&&(e(s).bind("mousemove."+z,this._storeMouse),j=D),f||n.css("width",n.outerWidth(S)),this.reposition(i,arguments[2]),f||n.css("width",""),u.solo&&("string"==typeof u.solo?e(u.solo):e(H,u.solo)).not(n).not(u.target).qtip("hide",new e.Event("tooltipsolo"))):(clearTimeout(this.timers.show),delete r.origin,j&&!e(H+'[tracking="true"]:visible',u.solo).not(n).length&&(e(s).unbind("mousemove."+z),j=S),this.blur(i)),d=e.proxy((function(){t?(Z.ie&&n[0].style.removeAttribute("filter"),n.css("overflow",""),"string"==typeof u.autofocus&&e(this.options.show.autofocus,n).focus(),this.options.show.target.trigger("qtip-"+this.id+"-inactive")):n.css({display:"",visibility:"",opacity:"",left:"",top:""}),this._trigger(t?"visible":"hidden")}),this),u.effect===S||g===S?(n[c](),d()):e.isFunction(u.effect)?(n.stop(1,1),u.effect.call(n,this),n.queue("fx",(function(e){d(),e()}))):n.fadeTo(90,t?1:0,d),t&&u.target.trigger("qtip-"+this.id+"-inactive"))),this},x.show=function(e){return this.toggle(D,e)},x.hide=function(e){return this.toggle(S,e)},x.focus=function(t){if(!this.rendered||this.destroyed)return this;var i=e(H),r=this.tooltip,a=parseInt(r[0].style.zIndex,10),n=$.zindex+i.length;return r.hasClass(Y)||this._trigger("focus",[n],t)&&(a!==n&&(i.each((function(){this.style.zIndex>a&&(this.style.zIndex=this.style.zIndex-1)})),i.filter("."+Y).qtip("blur",t)),r.addClass(Y)[0].style.zIndex=n),this},x.blur=function(e){return!this.rendered||this.destroyed||(this.tooltip.removeClass(Y),this._trigger("blur",[this.tooltip.css("zIndex")],e)),this},x.disable=function(e){return this.destroyed||("toggle"===e?e=!(this.rendered?this.tooltip.hasClass(K):this.disabled):"boolean"!=typeof e&&(e=D),this.rendered&&this.tooltip.toggleClass(K,e).attr("aria-disabled",e),this.disabled=!!e),this},x.enable=function(){return this.disable(S)},x._createButton=function(){var t=this,i=this.elements,r=i.tooltip,a=this.options.content.button,n="string"==typeof a?a:"Close tooltip";i.button&&i.button.remove(),a.jquery?i.button=a:i.button=e("<a />",{"class":"qtip-close "+(this.options.style.widget?"":z+"-icon"),title:n,"aria-label":n}).prepend(e("<span />",{"class":"ui-icon ui-icon-close",html:"&times;"})),i.button.appendTo(i.titlebar||r).attr("role","button").click((function(e){return r.hasClass(K)||t.hide(e),S}))},x._updateButton=function(e){if(!this.rendered)return S;var t=this.elements.button;e?this._createButton():t.remove()},x._setWidget=function(){var e=this.options.style.widget,t=this.elements,i=t.tooltip,r=i.hasClass(K);i.removeClass(K),K=e?"ui-state-disabled":"qtip-disabled",i.toggleClass(K,r),i.toggleClass("ui-helper-reset "+c(),e).toggleClass(U,this.options.style.def&&!e),t.content&&t.content.toggleClass(c("content"),e),t.titlebar&&t.titlebar.toggleClass(c("header"),e),t.button&&t.button.toggleClass(z+"-icon",!e)},x._storeMouse=function(t){return(this.mouse=e.event.fix(t)).type="mousemove",this},x._bind=function(t,i,r,a,n){if(t&&r&&i.length){var o="."+this._id+(a?"-"+a:"");return e(t).bind((i.split?i:i.join(o+" "))+o,e.proxy(r,n||this)),this}},x._unbind=function(t,i){return t&&e(t).unbind("."+this._id+(i?"-"+i:"")),this},x._trigger=function(t,i,r){var a=new e.Event("tooltip"+t);return a.originalEvent=r&&e.extend({},r)||this.cache.event||k,this.triggering=t,this.tooltip.trigger(a,[this].concat(i||[])),this.triggering=S,!a.isDefaultPrevented()},x._bindEvents=function(t,i,r,a,n,o){var s=r.filter(a).add(a.filter(r)),l=[];s.length&&(e.each(i,(function(i,r){var a=e.inArray(r,t);a>-1&&l.push(t.splice(a,1)[0])})),l.length&&(this._bind(s,l,(function(e){(this.rendered&&this.tooltip[0].offsetWidth>0?o:n).call(this,e)})),r=r.not(s),a=a.not(s))),this._bind(r,t,n),this._bind(a,i,o)},x._assignInitialEvents=function(t){function i(t){return this.disabled||this.destroyed?S:(this.cache.event=t&&e.event.fix(t),this.cache.target=t&&e(t.target),clearTimeout(this.timers.show),void(this.timers.show=u.call(this,(function(){this.render("object"==typeof t||r.show.ready)}),r.prerender?0:r.show.delay)))}var r=this.options,a=r.show.target,n=r.hide.target,o=r.show.event?e.trim(""+r.show.event).split(" "):[],s=r.hide.event?e.trim(""+r.hide.event).split(" "):[];this._bind(this.elements.target,["remove","removeqtip"],(function(){this.destroy(!0)}),"destroy"),/mouse(over|enter)/i.test(r.show.event)&&!/mouse(out|leave)/i.test(r.hide.event)&&s.push("mouseleave"),this._bind(a,"mousemove",(function(e){this._storeMouse(e),this.cache.onTarget=D})),this._bindEvents(o,s,a,n,i,(function(){return this.timers?void clearTimeout(this.timers.show):S})),(r.show.ready||r.prerender)&&i.call(this,t)},x._assignEvents=function(){var t=this,i=this.options,r=i.position,a=this.tooltip,n=i.show.target,l=i.hide.target,d=r.container,c=r.viewport,u=e(s),g=e(o),v=i.show.event?e.trim(""+i.show.event).split(" "):[],b=i.hide.event?e.trim(""+i.hide.event).split(" "):[];e.each(i.events,(function(e,i){t._bind(a,"toggle"===e?["tooltipshow","tooltiphide"]:["tooltip"+e],i,null,a)})),/mouse(out|leave)/i.test(i.hide.event)&&"window"===i.hide.leave&&this._bind(u,["mouseout","blur"],(function(e){/select|option/.test(e.target.nodeName)||e.relatedTarget||this.hide(e)})),i.hide.fixed?l=l.add(a.addClass(W)):/mouse(over|enter)/i.test(i.show.event)&&this._bind(l,"mouseleave",(function(){clearTimeout(this.timers.show)})),(""+i.hide.event).indexOf("unfocus")>-1&&this._bind(d.closest("html"),["mousedown","touchstart"],(function(t){var i=e(t.target),r=this.rendered&&!this.tooltip.hasClass(K)&&this.tooltip[0].offsetWidth>0,a=i.parents(H).filter(this.tooltip[0]).length>0;i[0]===this.target[0]||i[0]===this.tooltip[0]||a||this.target.has(i[0]).length||!r||this.hide(t)})),"number"==typeof i.hide.inactive&&(this._bind(n,"qtip-"+this.id+"-inactive",f,"inactive"),this._bind(l.add(a),$.inactiveEvents,f)),this._bindEvents(v,b,n,l,h,p),this._bind(n.add(a),"mousemove",(function(e){if("number"==typeof i.hide.distance){var t=this.cache.origin||{},r=this.options.hide.distance,a=Math.abs;(a(e.pageX-t.pageX)>=r||a(e.pageY-t.pageY)>=r)&&this.hide(e)}this._storeMouse(e)})),"mouse"===r.target&&r.adjust.mouse&&(i.hide.event&&this._bind(n,["mouseenter","mouseleave"],(function(e){return this.cache?void(this.cache.onTarget="mouseenter"===e.type):S})),this._bind(u,"mousemove",(function(e){this.rendered&&this.cache.onTarget&&!this.tooltip.hasClass(K)&&this.tooltip[0].offsetWidth>0&&this.reposition(e)}))),(r.adjust.resize||c.length)&&this._bind(e.event.special.resize?c:g,"resize",m),r.adjust.scroll&&this._bind(g.add(r.container),"scroll",m)},x._unassignEvents=function(){var t=this.options,i=t.show.target,r=t.hide.target,a=e.grep([this.elements.target[0],this.rendered&&this.tooltip[0],t.position.container[0],t.position.viewport[0],t.position.container.closest("html")[0],o,s],(function(e){return"object"==typeof e}));i&&i.toArray&&(a=a.concat(i.toArray())),r&&r.toArray&&(a=a.concat(r.toArray())),this._unbind(a)._unbind(a,"destroy")._unbind(a,"inactive")},e((function(){g(H,["mouseenter","mouseleave"],(function(t){var i="mouseenter"===t.type,r=e(t.currentTarget),a=e(t.relatedTarget||t.target),n=this.options;i?(this.focus(t),r.hasClass(W)&&!r.hasClass(K)&&clearTimeout(this.timers.hide)):"mouse"===n.position.target&&n.position.adjust.mouse&&n.hide.event&&n.show.target&&!a.closest(n.show.target[0]).length&&this.hide(t),r.toggleClass(X,i)})),g("["+B+"]",V,f)})),$=e.fn.qtip=function(t,i,r){var n=(""+t).toLowerCase(),o=k,s=e.makeArray(arguments).slice(1),d=s[s.length-1],c=this[0]?e.data(this[0],z):k;return!arguments.length&&c||"api"===n?c:"string"==typeof t?(this.each((function(){var t=e.data(this,z);if(!t)return D;if(d&&d.timeStamp&&(t.cache.event=d),!i||"option"!==n&&"options"!==n)t[n]&&t[n].apply(t,s);else{if(r===l&&!e.isPlainObject(i))return o=t.get(i),S;t.set(i,r)}})),o!==k?o:this):"object"!=typeof t&&arguments.length?void 0:(c=a(e.extend(D,{},t)),this.each((function(t){var i,r;return r=!(r=e.isArray(c.id)?c.id[t]:c.id)||r===S||r.length<1||$.api[r]?$.nextid++:r,(i=v(e(this),r,c))===S?D:($.api[r]=i,e.each(A,(function(){"initialize"===this.initialize&&this(i)})),void i._assignInitialEvents(d))})))},e.qtip=t,$.api={},e.each({attr:function(t,i){if(this.length){var r=this[0],a="title",n=e.data(r,"qtip");if(t===a&&n&&n.options&&"object"==typeof n&&"object"==typeof n.options&&n.options.suppress)return arguments.length<2?e.attr(r,Q):(n&&n.options.content.attr===a&&n.cache.attr&&n.set("content.text",i),this.attr(Q,i))}return e.fn["attr"+J].apply(this,arguments)},clone:function(t){var i=e.fn["clone"+J].apply(this,arguments);return t||i.filter("["+Q+"]").attr("title",(function(){return e.attr(this,Q)})).removeAttr(Q),i}},(function(t,i){if(!i||e.fn[t+J])return D;var r=e.fn[t+J]=e.fn[t];e.fn[t]=function(){return i.apply(this,arguments)||r.apply(this,arguments)}})),e.ui||(e["cleanData"+J]=e.cleanData,e.cleanData=function(i){for(var r,a=0;(r=e(i[a])).length;a++)if(r.attr(P))try{r.triggerHandler("removeqtip")}catch(t){}e["cleanData"+J].apply(this,arguments)}),$.version="3.0.3",$.nextid=0,$.inactiveEvents=V,$.zindex=15e3,$.defaults={prerender:S,id:S,overwrite:D,suppress:D,content:{text:D,attr:"title",title:S,button:S},position:{my:"top left",at:"bottom right",target:S,container:S,viewport:S,adjust:{x:0,y:0,mouse:D,scroll:D,resize:D,method:"flipinvert flipinvert"},effect:function(t,i){e(this).animate(i,{duration:200,queue:S})}},show:{target:S,event:"mouseenter",effect:D,delay:90,solo:S,ready:S,autofocus:S},hide:{target:S,event:"mouseleave",effect:D,delay:0,fixed:S,inactive:S,leave:"window",distance:S},style:{classes:"",widget:S,width:S,height:S,def:D},events:{render:k,move:k,show:k,hide:k,toggle:k,visible:k,hidden:k,focus:k,blur:k}};var re,ae,ne,oe,se,le="margin",de="border",ce="color",ue="background-color",he="transparent",pe=" !important",fe=!!s.createElement("canvas").getContext,me=/rgba?\(0, 0, 0(, 0)?\)|transparent|#123456/i,ge={},ve=["Webkit","O","Moz","ms"];fe?(oe=o.devicePixelRatio||1,se=function(){var e=s.createElement("canvas").getContext("2d");return e.backingStorePixelRatio||e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||1}(),ne=oe/se):ae=function(e,t,i){return"<qtipvml:"+e+' xmlns="urn:schemas-microsoft.com:vml" class="qtip-vml" '+(t||"")+' style="behavior: url(#default#VML); '+(i||"")+'" />'},e.extend(w.prototype,{init:function(t){var i,r;r=this.element=t.elements.tip=e("<div />",{"class":z+"-tip"}).prependTo(t.tooltip),fe?((i=e("<canvas />").appendTo(this.element)[0].getContext("2d")).lineJoin="miter",i.miterLimit=1e5,i.save()):(i=ae("shape",'coordorigin="0,0"',"position:absolute;"),this.element.html(i+i),t._bind(e("*",r).add(r),["click","mousedown"],(function(e){e.stopPropagation()}),this._ns)),t._bind(t.tooltip,"tooltipmove",this.reposition,this._ns,this),this.create()},_swapDimensions:function(){this.size[0]=this.options.height,this.size[1]=this.options.width},_resetDimensions:function(){this.size[0]=this.options.width,this.size[1]=this.options.height},_useTitle:function(e){var t=this.qtip.elements.titlebar;return t&&(e.y===R||e.y===G&&this.element.position().top+this.size[1]/2+this.options.offset<t.outerHeight(D))},_parseCorner:function(e){var t=this.qtip.options.position.my;return e===S||t===S?e=S:e===D?e=new _(t.string()):e.string||((e=new _(e)).fixed=D),e},_parseWidth:function(e,t,i){var r=this.qtip.elements,a=de+b(t)+"Width";return(i?y(i,a):y(r.content,a)||y(this._useTitle(e)&&r.titlebar||r.content,a)||y(r.tooltip,a))||0},_parseRadius:function(e){var t=this.qtip.elements,i=de+b(e.y)+b(e.x)+"Radius";return Z.ie<9?0:y(this._useTitle(e)&&t.titlebar||t.content,i)||y(t.tooltip,i)||0},_invalidColour:function(e,t,i){var r=e.css(t);return!r||i&&r===e.css(i)||me.test(r)?S:r},_parseColours:function(t){var i=this.qtip.elements,r=this.element.css("cssText",""),a=de+b(t[t.precedance])+b(ce),n=this._useTitle(t)&&i.titlebar||i.content,o=this._invalidColour,s=[];return s[0]=o(r,ue)||o(n,ue)||o(i.content,ue)||o(i.tooltip,ue)||r.css(ue),s[1]=o(r,a,ce)||o(n,a,ce)||o(i.content,a,ce)||o(i.tooltip,a,ce)||i.tooltip.css(a),e("*",r).add(r).css("cssText",ue+":"+he+pe+";"+de+":0"+pe+";"),s},_calculateSize:function(e){var t,i,r=e.precedance===F,a=this.options.width,n=this.options.height,o="c"===e.abbrev(),s=(r?a:n)*(o?.5:1),l=Math.pow,d=Math.round,c=Math.sqrt(l(s,2)+l(n,2)),u=[this.border/s*c,this.border/n*c];return u[2]=Math.sqrt(l(u[0],2)-l(this.border,2)),u[3]=Math.sqrt(l(u[1],2)-l(this.border,2)),i=[d((t=(c+u[2]+u[3]+(o?0:u[0]))/c)*a),d(t*n)],r?i:i.reverse()},_calculateTip:function(e,t,i){i=i||1;var r=(t=t||this.size)[0]*i,a=t[1]*i,n=Math.ceil(r/2),o=Math.ceil(a/2),s={br:[0,0,r,a,r,0],bl:[0,0,r,0,0,a],tr:[0,a,r,0,r,a],tl:[0,0,0,a,r,a],tc:[0,a,n,0,r,a],bc:[0,0,r,0,n,a],rc:[0,0,r,o,0,a],lc:[r,0,r,a,0,o]};return s.lt=s.br,s.rt=s.bl,s.lb=s.tr,s.rb=s.tl,s[e.abbrev()]},_drawCoords:function(e,t){e.beginPath(),e.moveTo(t[0],t[1]),e.lineTo(t[2],t[3]),e.lineTo(t[4],t[5]),e.closePath()},create:function(){var e=this.corner=(fe||Z.ie)&&this._parseCorner(this.options.corner);return this.enabled=!!this.corner&&"c"!==this.corner.abbrev(),this.enabled&&(this.qtip.cache.corner=e.clone(),this.update()),this.element.toggle(this.enabled),this.corner},update:function(t,i){if(!this.enabled)return this;var r,a,n,s,l,d,c,u,h=this.qtip.elements,p=this.element,f=p.children(),m=this.options,g=this.size,v=m.mimic,b=Math.round;t||(t=this.qtip.cache.corner||this.corner),v===S?v=t:((v=new _(v)).precedance=t.precedance,"inherit"===v.x?v.x=t.x:"inherit"===v.y?v.y=t.y:v.x===v.y&&(v[t.precedance]=t[t.precedance])),a=v.precedance,t.precedance===O?this._swapDimensions():this._resetDimensions(),(r=this.color=this._parseColours(t))[1]!==he?(u=this.border=this._parseWidth(t,t[t.precedance]),m.border&&1>u&&!me.test(r[1])&&(r[0]=r[1]),this.border=u=m.border!==D?m.border:u):this.border=u=0,c=this.size=this._calculateSize(t),p.css({width:c[0],height:c[1],lineHeight:c[1]+"px"}),d=t.precedance===F?[b(v.x===M?u:v.x===N?c[0]-g[0]-u:(c[0]-g[0])/2),b(v.y===R?c[1]-g[1]:0)]:[b(v.x===M?c[0]-g[0]:0),b(v.y===R?u:v.y===T?c[1]-g[1]-u:(c[1]-g[1])/2)],fe?((n=f[0].getContext("2d")).restore(),n.save(),n.clearRect(0,0,6e3,6e3),s=this._calculateTip(v,g,ne),l=this._calculateTip(v,this.size,ne),f.attr(I,c[0]*ne).attr(q,c[1]*ne),f.css(I,c[0]).css(q,c[1]),this._drawCoords(n,l),n.fillStyle=r[1],n.fill(),n.translate(d[0]*ne,d[1]*ne),this._drawCoords(n,s),n.fillStyle=r[0],n.fill()):(s="m"+(s=this._calculateTip(v))[0]+","+s[1]+" l"+s[2]+","+s[3]+" "+s[4]+","+s[5]+" xe",d[2]=u&&/^(r|b)/i.test(t.string())?8===Z.ie?2:1:0,f.css({coordsize:c[0]+u+" "+c[1]+u,antialias:""+(v.string().indexOf(G)>-1),left:d[0]-d[2]*Number(a===O),top:d[1]-d[2]*Number(a===F),width:c[0]+u,height:c[1]+u}).each((function(t){var i=e(this);i[i.prop?"prop":"attr"]({coordsize:c[0]+u+" "+c[1]+u,path:s,fillcolor:r[0],filled:!!t,stroked:!t}).toggle(!(!u&&!t)),!t&&i.html(ae("stroke",'weight="'+2*u+'px" color="'+r[1]+'" miterlimit="1000" joinstyle="miter"'))}))),o.opera&&setTimeout((function(){h.tip.css({display:"inline-block",visibility:"visible"})}),1),i!==S&&this.calculate(t,c)},calculate:function(t,i){if(!this.enabled)return S;var r,a,n=this,o=this.qtip.elements,s=this.element,l=this.options.offset,d={};return t=t||this.corner,r=t.precedance,i=i||this._calculateSize(t),a=[t.x,t.y],r===O&&a.reverse(),e.each(a,(function(e,a){var s,c,u;a===G?(d[s=r===F?M:R]="50%",d[le+"-"+s]=-Math.round(i[r===F?0:1]/2)+l):(s=n._parseWidth(t,a,o.tooltip),c=n._parseWidth(t,a,o.content),u=n._parseRadius(t),d[a]=Math.max(-n.border,e?c:l+(u>s?u:-s)))})),d[t[r]]-=i[r===O?0:1],s.css({margin:"",top:"",bottom:"",left:"",right:""}).css(d),d},reposition:function(e,t,i){function r(e,t,i,r,a){e===E&&d.precedance===t&&c[r]&&d[i]!==G?d.precedance=d.precedance===O?F:O:e!==E&&c[r]&&(d[t]=d[t]===G?c[r]>0?r:a:d[t]===r?a:r)}function a(e,t,r){d[e]===G?m[le+"-"+t]=f[e]=n[le+"-"+t]-c[t]:(o=n[r]!==l?[c[t],-n[t]]:[-c[t],n[t]],(f[e]=Math.max(o[0],o[1]))>o[0]&&(i[t]-=c[t],f[t]=S),m[n[r]!==l?r:t]=f[e])}if(this.enabled){var n,o,s=t.cache,d=this.corner.clone(),c=i.adjusted,u=t.options.position.adjust.method.split(" "),h=u[0],p=u[1]||u[0],f={left:S,top:S,x:0,y:0},m={};this.corner.fixed!==D&&(r(h,O,F,M,N),r(p,F,O,R,T),d.string()===s.corner.string()&&s.cornerTop===c.top&&s.cornerLeft===c.left||this.update(d,S)),(n=this.calculate(d)).right!==l&&(n.left=-n.right),n.bottom!==l&&(n.top=-n.bottom),n.user=this.offset,f.left=h===E&&!!c.left,f.left&&a(O,M,N),f.top=p===E&&!!c.top,f.top&&a(F,R,T),this.element.css(m).toggle(!(f.x&&f.y||d.x===G&&f.y||d.y===G&&f.x)),i.left-=n.left.charAt?n.user:h!==E||f.top||!f.left&&!f.top?n.left+this.border:0,i.top-=n.top.charAt?n.user:p!==E||f.left||!f.left&&!f.top?n.top+this.border:0,s.cornerLeft=c.left,s.cornerTop=c.top,s.corner=d.clone()}},destroy:function(){this.qtip._unbind(this.qtip.tooltip,this._ns),this.qtip.elements.tip&&this.qtip.elements.tip.find("*").remove().end().remove()}}),(re=A.tip=function(e){return new w(e,e.options.style.tip)}).initialize="render",re.sanitize=function(e){if(e.style&&"tip"in e.style){var t=e.style.tip;"object"!=typeof t&&(t=e.style.tip={corner:t}),/string|boolean/i.test(typeof t.corner)||(t.corner=D)}},C.tip={"^position.my|style.tip.(corner|mimic|border)$":function(){this.create(),this.qtip.reposition()},"^style.tip.(height|width)$":function(e){this.size=[e.width,e.height],this.update(),this.qtip.reposition()},"^content.title|style.(classes|widget)$":function(){this.update()}},e.extend(D,$.defaults,{style:{tip:{corner:D,mimic:S,width:6,height:6,border:D,offset:0}}}),A.viewport=function(e,t,i,r,a,n,l){function d(e,i,r,a,n,o,s,l,d){var c=t[n],b=w[e],y=$[e],x=r===E,_=b===n?d:b===o?-d:-d/2,C=y===n?l:y===o?-l:-l/2,j=g[n]+v[n]-(p?0:h[n]),D=j-c,S=c+d-(s===I?f:m)-j,k=_-(w.precedance===e||b===w[i]?C:0)-(y===G?l/2:0);return x?(k=(b===n?1:-1)*_,t[n]+=D>0?D:S>0?-S:0,t[n]=Math.max(-h[n]+v[n],c-k,Math.min(Math.max(-h[n]+v[n]+(s===I?f:m),c+k),t[n],"center"===b?c-_:1e9))):(a*="flipinvert"===r?2:0,D>0&&(b!==n||S>0)?(t[n]-=k+a,u.invert(e,n)):S>0&&(b!==o||D>0)&&(t[n]-=(b===G?-k:k)+a,u.invert(e,o)),t[n]<g[n]&&-t[n]>S&&(t[n]=c,u=w.clone())),t[n]-c}var c,u,h,p,f,m,g,v,b=i.target,y=e.elements.tooltip,w=i.my,$=i.at,x=i.adjust,_=x.method.split(" "),C=_[0],j=_[1]||_[0],D=i.viewport,k=i.container,A={left:0,top:0};return D.jquery&&b[0]!==o&&b[0]!==s.body&&"none"!==x.method?(h=k.offset()||A,p="static"===k.css("position"),c="fixed"===y.css("position"),f=D[0]===o?D.width():D.outerWidth(S),m=D[0]===o?D.height():D.outerHeight(S),g={left:c?0:D.scrollLeft(),top:c?0:D.scrollTop()},v=D.offset()||A,"shift"===C&&"shift"===j||(u=w.clone()),A={left:"none"!==C?d(O,F,C,x.x,M,N,I,r,n):0,top:"none"!==j?d(F,O,j,x.y,R,T,q,a,l):0,my:u}):A}}))},7107:(e,t,i)=>{"use strict";i.r(t);i(6891),i(8978),i(7420),i(6795),i(4337),i(3889),i(8750);var r=i(9299),a=i(2237);i(4414),i(6227),i(1923),i(1707),i(2526),i(8326),i(7363),i(1571);window.TTPDFViewer=class{constructor(e){return this.pdf_count=0,this.url_array=[],this.target=null,this.initPDFViewer(e.urls,e.target)}initPDFViewer(e,t){this.url_array=e,this.target=t,Array.isArray(e)||(e=[e]),e.length>1&&$(".resume-label .label").text($.i18n._("Resume")+" ("+e.length+" "+$.i18n._("documents")+")"),this.loadMultiplePDF(e,t)}loadMultiplePDF(e,t){if(Array.isArray(e)&&e.length>0){var i=e.pop();if(0!==this.pdf_count){var r=document.createElement("hr");t.appendChild(r)}var a=document.createElement("div");a.className="pdfContainer",a.setAttribute("data-document-index",this.pdf_count),t.appendChild(a),this.loadPDF(i,a,this.pdf_count),this.pdf_count++}}loadPDF(e,t,i){r.getDocument&&a.PDFPageView||alert("Please build the pdfjs-dist library using\n  `gulp dist-install`"),r.GlobalWorkerOptions.workerSrc="dist/pdf.worker.js";var n=e,o=new a.EventBus;r.getDocument({url:n,cMapUrl:"dist/pdfjs-cmaps/",cMapPacked:!0}).promise.then((e=>{for(var i=Promise.resolve(),r=1;r<=e.numPages;r++)i=i.then(function(i){return e.getPage(i).then((function(e){var r=(t.clientWidth-10-5-20)/(1.3333333333333333*e.getViewport({scale:1}).width),n=new a.PDFPageView({container:t,id:i,scale:r,defaultViewport:e.getViewport({scale:r}),eventBus:o,textLayerFactory:new a.DefaultTextLayerFactory,annotationLayerFactory:new a.DefaultAnnotationLayerFactory,renderInteractiveForms:!0});return n.setPdfPage(e),n.draw().then((()=>{$(".pdfContainer a").attr("target","_blank")}))}))}.bind(null,r));this.loadMultiplePDF(this.url_array,this.target)}))}},Promise.all([i.e("vendors-node_modules_linkifyjs_string_js"),i.e("reports-ReportBaseViewController"),i.e("awesomebox-ADropDown"),i.e("awesomebox-AComboBox"),i.e("common-RequestViewCommonController"),i.e("ttgrid-TTGrid"),i.e("post-login-app-dependancies")]).then(i.bind(i,2530)).catch(Global.importErrorHandler)},2993:()=>{},8618:()=>{},120:()=>{},6355:()=>{},5804:()=>{}}]);
//# sourceMappingURL=post-login-main_ui-vendor-dependancies.bundle.js.map?v=7dfbda79ec60b56ff2c6