(self.webpackChunktimetrex=self.webpackChunktimetrex||[]).push([["payroll-pay_stub_entry_account-PayStubEntryAccountViewController"],{9378:(t,e,a)=>{"use strict";a.r(e),a.d(e,{"PayStubEntryAccountViewController":()=>i});class i extends BaseViewController{constructor(t={}){_.defaults(t,{el:"#pay_stub_entry_account_view_container",type_array:null,status_array:null,accrual_type_array:null}),super(t)}init(t){this.edit_view_tpl="PayStubEntryAccountEditView.html",this.permission_id="pay_stub_account",this.viewId="PayStubEntryAccount",this.script_name="PayStubEntryAccountView",this.table_name_key="pay_stub_entry_account",this.context_menu_name=$.i18n._("Pay Stub Accounts"),this.navigation_label=$.i18n._("Pay Stub Account")+":",this.api=TTAPI.APIPayStubEntryAccount,this.render(),this.buildContextMenu(),this.initData(),this.setSelectRibbonMenuIfNecessary("PayStubEntryAccount")}initOptions(){this.initDropDownOption("type"),this.initDropDownOption("status"),this.initDropDownOption("accrual_type")}onFormItemChange(t,e){this.setIsChanged(t),this.setMassEditingFieldsWhenFormChange(t);var a=t.getField(),i=t.getValue();this.current_edit_record[a]=i,"type_id"===a&&this.onTypeChange(),"accrual_pay_stub_entry_account_id"===a&&this.onAccrualPayStubEntryAccountChange(),e||this.validate()}setEditViewDataDone(){super.setEditViewDataDone(),this.onTypeChange(),this.onAccrualPayStubEntryAccountChange()}onTypeChange(){50==this.current_edit_record.type_id?(this.detachElement("accrual_pay_stub_entry_account_id"),this.detachElement("accrual_type_id")):(this.attachElement("accrual_pay_stub_entry_account_id"),this.onAccrualPayStubEntryAccountChange()),this.editFieldResize()}onAccrualPayStubEntryAccountChange(){TTUUID.isUUID(this.current_edit_record.accrual_pay_stub_entry_account_id)&&this.current_edit_record.accrual_pay_stub_entry_account_id!=TTUUID.zero_id?this.attachElement("accrual_type_id"):this.detachElement("accrual_type_id"),this.editFieldResize()}getCustomContextMenuModel(){return{exclude:[],include:[{label:$.i18n._("Migrate<br>PS Accounts"),id:ContextMenuIconName.migrate_pay_stub_account,group:"other",icon:Icons.wizard}]}}onCustomContextClick(t){switch(t){case ContextMenuIconName.migrate_pay_stub_account:this.onWizardClick()}}onWizardClick(){IndexViewController.openWizard("PayStubAccountWizard",null,(function(){}))}buildEditViewUI(){super.buildEditViewUI();var t=this,e={"tab_pay_stub_account":{"label":$.i18n._("Pay Stub Account")},"tab_audit":!0};this.setTabModel(e),this.navigation.AComboBox({api_class:TTAPI.APIPayStubEntryAccount,id:this.script_name+"_navigation",allow_multiple_selection:!1,layout_name:"global_PayStubAccount",navigation_mode:!0,show_search_inputs:!0}),this.setNavigation();var a=this.edit_view_tab.find("#tab_pay_stub_account").find(".first-column");this.edit_view_tabs[0]=[],this.edit_view_tabs[0].push(a);var i=Global.loadWidgetByName(FormItemType.COMBO_BOX);i.TComboBox({field:"status_id",set_empty:!1}),i.setSourceData(t.status_array),this.addEditFieldToColumn($.i18n._("Status"),i,a,""),(i=Global.loadWidgetByName(FormItemType.COMBO_BOX)).TComboBox({field:"type_id",set_empty:!1}),i.setSourceData(t.type_array),this.addEditFieldToColumn($.i18n._("Type"),i,a),(i=Global.loadWidgetByName(FormItemType.TEXT_INPUT)).TTextInput({field:"name",width:"100%"}),this.addEditFieldToColumn($.i18n._("Name"),i,a),i.parent().width("45%"),(i=Global.loadWidgetByName(FormItemType.TEXT_INPUT)).TTextInput({field:"ps_order",width:359}),this.addEditFieldToColumn($.i18n._("Order"),i,a);var n={},c={type_id:[50,80]};n.filter_data=c,(i=Global.loadWidgetByName(FormItemType.AWESOME_BOX)).AComboBox({api_class:TTAPI.APIPayStubEntryAccount,allow_multiple_selection:!1,layout_name:"global_PayStubAccount",show_search_inputs:!0,set_empty:!0,field:"accrual_pay_stub_entry_account_id"}),i.setDefaultArgs(n),this.addEditFieldToColumn($.i18n._("Accrual"),i,a,"",null,!0),(i=Global.loadWidgetByName(FormItemType.COMBO_BOX)).TComboBox({field:"accrual_type_id",set_empty:!1}),i.setSourceData(t.accrual_type_array),this.addEditFieldToColumn($.i18n._("Accrual Type"),i,a,"",null,!0),(i=Global.loadWidgetByName(FormItemType.TEXT_INPUT)).TTextInput({field:"debit_account",width:359}),this.addEditFieldToColumn($.i18n._("Debit Account"),i,a),(i=Global.loadWidgetByName(FormItemType.TEXT_INPUT)).TTextInput({field:"credit_account",width:359}),this.addEditFieldToColumn($.i18n._("Credit Account"),i,a,"")}buildSearchFields(){super.buildSearchFields(),this.search_fields=[new SearchField({label:$.i18n._("Name"),in_column:1,field:"name",multiple:!0,basic_search:!0,adv_search:!1,form_item_type:FormItemType.TEXT_INPUT}),new SearchField({label:$.i18n._("Type"),in_column:1,field:"type_id",multiple:!0,basic_search:!0,layout_name:"global_option_column",form_item_type:FormItemType.AWESOME_BOX}),new SearchField({label:$.i18n._("Debit Account"),in_column:1,field:"debit_account",multiple:!0,basic_search:!0,adv_search:!1,form_item_type:FormItemType.TEXT_INPUT}),new SearchField({label:$.i18n._("Credit Account"),in_column:1,field:"credit_account",multiple:!0,basic_search:!0,adv_search:!1,form_item_type:FormItemType.TEXT_INPUT}),new SearchField({label:$.i18n._("Created By"),in_column:2,field:"created_by",layout_name:"global_user",api_class:TTAPI.APIUser,multiple:!0,basic_search:!0,adv_search:!1,form_item_type:FormItemType.AWESOME_BOX}),new SearchField({label:$.i18n._("Updated By"),in_column:2,field:"updated_by",layout_name:"global_user",api_class:TTAPI.APIUser,multiple:!0,basic_search:!0,adv_search:!1,form_item_type:FormItemType.AWESOME_BOX})]}}}}]);
//# sourceMappingURL=payroll-pay_stub_entry_account-PayStubEntryAccountViewController.bundle.js.map?v=1ae870b52885e2186c46