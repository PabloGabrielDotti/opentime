{"version":3,"sources":["webpack://timetrex/./interface/html5/global/widgets/awesomebox/ALayoutCache.js","webpack://timetrex/./interface/html5/global/widgets/awesomebox/ASearchInput.js","webpack://timetrex/./interface/html5/global/widgets/checkbox/TCheckbox.js","webpack://timetrex/./interface/html5/global/widgets/column_editor/ColumnEditor.js","webpack://timetrex/./interface/html5/global/widgets/datepicker/TDatePicker.js","webpack://timetrex/./interface/html5/global/widgets/datepicker/TRangePicker.js","webpack://timetrex/./interface/html5/global/widgets/error_tip/ErrorTipBox.js","webpack://timetrex/./interface/html5/global/widgets/feedback/TFeedback.js","webpack://timetrex/./interface/html5/global/widgets/inside_editor/InsideEditor.js","webpack://timetrex/./interface/html5/global/widgets/jqgrid/TGridHeader.js","webpack://timetrex/./interface/html5/global/widgets/list/TList.js","webpack://timetrex/./interface/html5/global/widgets/message_box/NoHierarchyBox.js","webpack://timetrex/./interface/html5/global/widgets/message_box/NoResultBox.js","webpack://timetrex/./interface/html5/global/widgets/message_box/SaveAndContinueBox.js","webpack://timetrex/./interface/html5/global/widgets/ribbon/RibbonSubMenuNavWidget.js","webpack://timetrex/./interface/html5/global/widgets/search_panel/SearchPanel.js","webpack://timetrex/./interface/html5/global/widgets/separated_box/SeparatedBox.js","webpack://timetrex/./interface/html5/global/widgets/tag_input/TTagInput.js","webpack://timetrex/./interface/html5/global/widgets/text/TText.js","webpack://timetrex/./interface/html5/global/widgets/textarea/TTextArea.js","webpack://timetrex/./interface/html5/global/widgets/timepicker/TTimePicker.js","webpack://timetrex/./interface/html5/global/widgets/toggle_button/TToggleButton.js","webpack://timetrex/./interface/html5/global/widgets/top_alert/TopNotification.js","webpack://timetrex/./interface/html5/model/SearchField.js","webpack://timetrex/./interface/html5/post-login-main_ui-dependancies.js","webpack://timetrex/./interface/html5/views/common/AuthorizationHistoryCommon.js","webpack://timetrex/./interface/html5/views/common/BaseTreeViewController.js","webpack://timetrex/./interface/html5/views/common/EmbeddedMessageCommon.js","webpack://timetrex/./interface/html5/views/wizard/user_generic_data_status/UserGenericStatusWindowController.js","webpack://timetrex/./interface/html5/global/widgets/awesomebox/ALayoutCache-exposed.js"],"names":["ALayoutCache","layout_dic","default_columns","getDefaultColumn","layout_name","buildDefaultColumns","Global","isSet","label","$","i18n","_","value","fn","ASearchInput","options","opts","extend","ADropDown","defaults","column_model","search_timer","$this","this","default_tooltip","setFilter","filters","field","name","val","addClass","clearValue","removeClass","each","o","meta","data","focusin","focusout","bind","e","clearTimeout","keyCode","ctrlKey","metaKey","setTimeout","trigger","jQuery","TCheckbox","error_tip_box","error_string","check_box","enabled","clearErrorStyle","getEnabled","setEnabled","attr","removeAttr","setCheckBox","children","eq","checked","isChecked","setMassEditMode","insertBefore","change","remove","setErrorStyle","errStr","show","isWarning","showErrorTip","sec","loadWidgetByName","WidgetNamesDic","ERROR_TOOLTIP","ErrorTipBox","cancelRemove","hasClass","hideErrorTip","getField","getValue","prop","setValue","ColumnEditor","all_columns","original_columns","parent_awesome_box","a_dropdown","is_mouse_over","layout_selector","user_generic_data_api","related_layout_Array","numArray","getIsMouseOver","getParentAwesomeBox","addCss","LocalCacheData","openAwesomeBoxColumnEditor","getId","onClose","layout","getLayout","a_dropdown_div","find","rows_per_page_div","loadWidget","display_show_all","id","key","display_close_btn","display_column_settings","static_height","resize_grids","append","css","setColumns","index","width","sortable","setUnselectedGridData","getAllColumns","getDisplayColumnsForEditor","setSelectGridData","setResizeGrids","offset","left","bodyWidth","$$this","height","top","bodyHeight","mouseenter","mouseleave","target","type","script_name","getScriptName","getAPI","getOptions","onResult","columns_result","columns_result_data","getResult","buildColumnArray","getUserGenericData","filter_data","script","deleted","results","result_data","length","sort","a","b","compare","empty","source_data","push","customize_item","len","i","item","setSourceData","filter","parseInt","layout_id","onSave","select_id","convertLayoutFilterToAPIFilter","display_columns","buildDisplayColumns","onColumnSettingSaveFromLayout","selectId","selection_items","getSelectItems","onColumnSettingSave","api_display_columns","len1","j","close_btn","save_btn","TTAPI","APIUserGenericData","rows_selector","getRowPerPage","TComboBox","widget","TDatePicker","validation_field","date_picker_input","icon","multiple","mode","is_open","is_static_width","hide","getValidationField","getDefaultFormatValue","strToDate","format","setPlaceHolder","autoResize","setDefaultWidgetValue","content_width","example_width","example_display","getLoginUserPreference","date_format_display","calculateTextWidth","time_format_display","min_width","max_width","padding","getRealImagePath","stopPropagation","datepicker","time_format","date_format_1","time_format_1","day_name_min","month_name_short","current_text","close_text","_gotoToday","Date","showOtherMonths","selectOtherMonths","showTime","dateFormat","showHour","showMinute","changeMonth","changeYear","showButtonPanel","duration","showAnim","yearRange","showOn","dayNamesMin","currentText","monthNamesShort","closeText","beforeShow","datetimepicker","timeFormat","loginUserPreference","mouseover","mouseout","is","current_open_sub_controller","edit_view","is_viewing","current_open_primary_controller","view_mode_message","TRangePicker","ranger_picker","range_start_picker","range_end_picker","result","editor","tab_bars","date_picker","can_not_close","close","tab_index","tabs","openRangerPicker","insideEditorSetValue","removeAllRows","row","addRow","insideEditorRemoveRow","rowIndex","rows_widgets_array","splice","removeLastRowLine","insideEditorAddRow","current_data","start_date_stamp","getTime","setDate","getDate","getRowRender","render","getRender","widgets","form_item_input","FormItemType","DATE_PICKER","addIconsEvent","insideEditorGetValue","current_edit_item_id","tab_0_label","tab_1_label","text","start_picker_label","end_picker_label","inst","_getInst","_get","currentDay","selectedDay","drawMonth","selectedMonth","currentMonth","drawYear","selectedYear","currentYear","date","getMonth","getFullYear","_setDateDatepicker","_selectDate","_getDateDatepicker","_notifyChange","_adjustDate","click","inside_editor_div","args","INSIDE_EDITOR","InsideEditor","title","removeRow","parent_controller","render_args","api","row_render","activate","ui","range_width","result_array","split","related_widget","timer","join","html","TFeedback","_options","source","force_source","delay","manual_trigger","prompt_for_feedback","review_link","getProductEdition","feedback_container","FEEDBACK_BOX","page_title","all_pages","default_page","positive_page","negative_page","APIUser","feedback","getFeedbackType","showFeedbackContainer","Debug","Text","removeFeedbackContainer","initNegativePage","feedback_rating","user_contact","user_email","user_phone","user","APIAuthentication","getCurrentUser","async","work_email","home_email","work_phone","home_phone","getUserContactDetails","form_messagebox","form_email","form_phone","message","sendAnalyticsEvent","sendDataToFeedbackAPI","showPage","page","triggerFeedbackReviewAPI","window","open","cancel_text","initDefaultPage","close_window","setUserFeedbackRating","res","isValid","review_state","setUserFeedbackReview","getLoginUser","current_open_view_id","delete_ids","updateAllRows","editor_data","onFormItemChange","clone","setTitle","table","trs","include_header","setWidgetEnableBaseOnParentController","plus_icon","minus_icon","parents","getDefaultData","key_name","template","render_div","setIsChanged","TGridHeader","getColumnModel","setSortStyle","sort_type","sortIcon","sortNumberSpan","getWidth","parent","cleanSortStyle","sort_number","TList","select_value","set_empty","set_any","set_select_item_when_set_source_data","select_items","toString","addFirstItemToArray","mass_edit_mode","NoHierarchyBox","related_view_controller","ribbon_button","no_hierarchy_message","Icons","hierarchy","context_menu_array","PermissionManager","checkTopLevelPermission","TopMenuManager","goToView","NoResultBox","no_result_message","iconLabel","ribbon_button_div","message_div","is_new","new_add","onAddClick","is_edit","edit","onEditClick","SaveAndContinueBox","save_and_continue_message","save_and_continue","context_btn","ContextMenuIconName","onSaveAndContinue","RibbonSubMenuNavWidget","openRibbonNaviMenu","SearchPanel","tab","is_collapsed","layouts_array","select_tab_index","select_tab","last_select_tab_index","last_select_tab","trigger_change_event","hidedAdvTab","setGridSize","grid","setGridColumnsWidth","column_selector","setGridColumnsWidths","isAdvTabVisible","isCollapsed","hideAdvSearchPanel","setSearchFlag","basic_tab","adv_tab","hasFilter","TTUUID","not_exist_id","inArray","setSelectTabIndex","triggerEvent","getLastSelectTabIndex","getLastSelectTabId","getSelectTabIndex","getLayoutsArray","setLayoutsArray","layout_selector_div","select_layout","setReleatedViewController","layout_tab","current_view_label","collapseBtn","tabDiv","tabContentDiv","searchButtonDiv","refresh_btn","search","triggerAnalyticsNavigationOther","viewId","searchBtn","clearSearchBtn","onCollapseBtnClick","onSearch","onClearSearch","viewController","on","layout_changed","setSelectLayout","newTab","newPanel","triggerAnalyticsTabs","SeparatedBox","label_span","TTagInput","api_tag","add_tag_input","tag_span_dic","object_type_id","substring","buildTagSpan","tagArray","content","delete_mode","indexOf","tagSpanDiv","tagSpan","doing_dblclick","dblclick","current_div","new_value","substr","doNext","prepend","createTag","APICompanyGenericTag","autocomplete","select","isSelectedItem","event","focus","contextmenu","preventDefault","stopImmediatePropagation","relatedTarget","which","getCompanyGenericTag","final_result","TText","setClassStyle","style","decodeCellValue","setResizeEvent","temp_span","selected_able","TTextArea","static_width","setField","rows","TTimePicker","time_picker_input","focus_out_timer","stepMinute","timepicker","showMillisec","showMicrosec","showTimezone","showHeader","off","TToggleButton","selected_btn","data_provider","btn_dic","button_data","btn","TopNotification","el","row_box","bottom_button","collapse","setBarWidth","biggest_width","span","is_invisible","removeRowOnTime","row_tpl","setExpendButton","setCloseButton","unbind","setDestination","destination","hasOwnProperty","IndexViewController","goToViewByViewLabel","menu_name","setNotificationBar","hideOrShowRows","arg","bg_color","SearchField","Base","api_class","optionName","form_item_type","in_column","basic_search","adv_search","tree_mode","addition_source_function","customSearchFilter","custom_first_label","default_args","super","RibbonMenu","RibbonSubMenu","RibbonSubMenuType","RibbonSubMenuGroup","RibbonSubMenuNavItem","ReportBaseViewController","AuthorizationHistory","RequestViewCommonController","EmbeddedMessage","BaseTreeViewController","UserGenericStatusWindowController","loadViewRequiredJSReady","authorization_api","authorization_history_columns","authorization_history_default_display_columns","host_view_controller","init","host","is_add","separate_box","SEPARATED_BOX","addEditFieldToColumn","APIAuthorization","getAuthorizationHistoryColumns","initAuthorizationHistoryLayout","setAuthorizationGridSize","callback","getAuthorizationHistoryDefaultDisplayColumns","setAuthorizationHistorySelectLayout","initAuthorizationHistoryData","object_id","current_edit_record","hierarchy_type_id","isArray","formatGridData","authorization_history_grid","setData","showAuthorizationHistoryGridBorders","history_height_unit","getData","setGridWidth","setGridHeight","buildAuthorizationDisplayColumns","apiDisplayColumnsArray","top_border","bottom_border","callBack","column_start_from","column_info_array","view_column_data","column_info","jqGrid","TTGrid","onResizeGrid","winMultiselect","multiselect","BaseViewController","ui_id","filter_sort","default_display_columns","layout_data","grid_table_name","winMultiSelect","onSelectRow","proxy","onGridSelectRow","bindGridColumnEvents","setGridHeaderStyle","showGridBorders","set_default_menu","page_action","page_number","filter_columns","getFilterColumnsFromDisplayColumns","filter_items_per_page","sub_view_mode","parent_key","parent_value","getSubViewFilter","last_select_ids","getGridSelectIdArray","buildTreeRecord","grid_current_page_items","removeNoResultCover","showNoResultCover","reSetGridTreeData","ProgressBar","closeOverlay","setDefaultMenu","paging_type","pager_data","is_last_page","paging_widget","reSelectLastSelectItems","autoOpenEditViewIfNecessary","searchDone","col_model","getGridParam","datastr","datatype","grid_select_id_array","ondblClickRow","onGridDblClickRow","gridview","treeGrid","treeGridModel","treedatatype","ExpandColumn","real_this","constructor","__super__","getDefaultDisplayColumns","edit_view_ui_dic","collectUIDataToCurrentEditRecord","setEditViewDataDone","is_changed","edit_only_mode","navigation_div","navigation","getSourceData","setDefaultArgs","is_mass_editing","setNavigationArrowsStatus","setCurrentEditRecordData","edit_view_tab","initSubLogView","switchToProperTab","array","i_key","i_item","_id_","doViewAPICall","handleAPICallbackResult","record_id","getCurrentSelectedRecord","getParentIdByTreeRecord","handleViewAPICallbackResult","removeDeletedRows","doEditAPICall","current_doing_context_action","setEditMenu","setTabStatus","grid_selected_id_array","TAlertManager","showAlert","selectedId","onCancelClick","openEditView","initEditView","navigation_widget_div","AWESOME_BOX","navigation_label","edit_view_close_icon","onCloseIconClick","tab_model","Array","primary_tab_key","primary_tab_label","setTabModel","AComboBox","allow_multiple_selection","navigation_mode","show_search_inputs","on_tree_grid_row_select","tree_mode_collapse","onTreeGridNavigationRowSelect","left_click","right_click","setNavigation","tab_group_column1","edit_view_tabs","TEXT_INPUT","TTextInput","message_control_api","item_id","object_type","view_object","read_ids","APIMessageControl","messages","container","currentItem","status_id","from","from_first_name","from_last_name","updated_date","htmlDecode","subject","body","linkify","nl2br","className","cloneMessageControl","appendTo","initUI","tab_object","column","TEXT","reply","record_array","ignoreWarning","batch_id","user_id","events","content_div","APIUserGenericStatus","initData","showOverlay","initLayout","failed","warning","success","status","total","percent","start_from","formatter","cell_value","related_data","get","outerHTML","altRows","rowNum","colNames","viewrecords","resize","loadViewSource","isUUID","can_cache_controller","getApplicationName","___EXPOSE_LOADER_IMPORT___","___EXPOSE_LOADER_GLOBAL_THIS___","___EXPOSE_LOADER_IMPORT_MODULE_LOCAL_NAME___","module","exports"],"mappings":"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","file":"post-login-app-dependancies.bundle.js?v=2e8f5fad37fd89226d63","sourcesContent":["export var ALayoutCache = function() {\n\n};\n\nALayoutCache.layout_dic = {};\n\nALayoutCache.default_columns = null;\n\nALayoutCache.getDefaultColumn = function( layout_name ) {\n\tif ( !ALayoutCache.default_columns ) {\n\t\tALayoutCache.default_columns = ALayoutCache.buildDefaultColumns();\n\t}\n\n\tif ( !Global.isSet( ALayoutCache.default_columns[layout_name] ) ) {\n\t\treturn [\n\t\t\t{ label: $.i18n._( 'Name' ), value: 'name' }\n\t\t]; //Default Column setting\n\t}\n\n\treturn ALayoutCache.default_columns[layout_name];\n\n};\n\nALayoutCache.buildDefaultColumns = function() {\n\tvar default_columns = {};\n\n//\t  default_columns['global_branch'] = [new ViewColumn({label:'Name',value:'name'})];\n//\t  default_columns['global_department'] = [new ViewColumn({label:'Name',value:'name'})];\n//\t  default_columns['global_job_title'] = [new ViewColumn({label:'Name',value:'name'})];\n//\t  default_columns['global_permission_control'] = [new ViewColumn({label:'Name',value:'name'})];\n\n\tdefault_columns['global_client_contact'] = [\n\t\t{ label: $.i18n._( 'First Name' ), value: 'first_name' },\n\t\t{ label: $.i18n._( 'Last Name' ), value: 'last_name' },\n\t\t{ label: $.i18n._( 'Status' ), value: 'status' }\n\t];\n\n\tdefault_columns['global_legal_entity'] = [\n\t\t{ label: $.i18n._( 'Name' ), value: 'legal_name' }\n\t];\n\n\tdefault_columns['global_job'] = [\n\t\t{ label: $.i18n._( 'Name' ), value: 'name' },\n\t\t{ label: $.i18n._( 'Code' ), value: 'manual_id' }\n\t];\n\n\tdefault_columns['global_job_item'] = [\n\t\t{ label: $.i18n._( 'Name' ), value: 'name' },\n\t\t{ label: $.i18n._( 'Code' ), value: 'manual_id' }\n\t];\n\n\tdefault_columns['global_client_payment'] = [\n\t\t{ label: $.i18n._( 'Number' ), value: 'display_number' },\n\t\t{ label: $.i18n._( 'Type' ), value: 'type' }\n\t];\n\tdefault_columns['global_option_column'] = [\n\t\t{ label: $.i18n._( 'Name' ), value: 'label' }\n\t];\n\tdefault_columns['global_absence'] = [\n\t\t{ label: $.i18n._( 'Name' ), value: 'name' },\n\t\t{ label: $.i18n._( 'Date' ), value: 'date_stamp' }\n\t];\n\tdefault_columns['global_timesheet'] = [\n\t\t{ label: $.i18n._( 'Time' ), value: 'punch_time' },\n\t\t{ label: $.i18n._( 'In/Out' ), value: 'status' },\n\t\t{ label: $.i18n._( 'Punch Type' ), value: 'type' }\n\n\t];\n\tdefault_columns['global_user'] = [\n\t\t{ label: $.i18n._( 'First Name' ), value: 'first_name' },\n\t\t{ label: $.i18n._( 'Last Name' ), value: 'last_name' },\n\t\t{ label: $.i18n._( 'Status' ), value: 'status' }\n\t];\n\n\tdefault_columns['global_message_user'] = [\n\t\t{ label: $.i18n._( 'First Name' ), value: 'first_name' },\n\t\t{ label: $.i18n._( 'Last Name' ), value: 'last_name' },\n\t\t{ label: $.i18n._( 'Status' ), value: 'status' }\n\t];\n\n\tdefault_columns['global_user_contact'] = [\n\t\t{ label: $.i18n._( 'First Name' ), value: 'first_name' },\n\t\t{ label: $.i18n._( 'Last Name' ), value: 'last_name' }\n\t];\n\tdefault_columns['global_wage'] = [\n\t\t{ label: $.i18n._( 'First Name' ), value: 'first_name' },\n\t\t{ label: $.i18n._( 'Last Name' ), value: 'last_name' },\n\t\t{ label: $.i18n._( 'Type' ), value: 'type' },\n\t\t{ label: $.i18n._( 'Wage' ), value: 'wage' }\n\t];\n\tdefault_columns['global_log'] = [\n\t\t{ label: $.i18n._( 'Date' ), value: 'date' },\n\t\t{ label: $.i18n._( 'Action' ), value: 'action' },\n\t\t{ label: $.i18n._( 'Object' ), value: 'object' }\n\t];\n\tdefault_columns['global_bank_account'] = [\n\t\t{ label: $.i18n._( 'First Name' ), value: 'first_name' },\n\t\t{ label: $.i18n._( 'Last Name' ), value: 'last_name' },\n\t\t{ label: $.i18n._( 'Account Name' ), value: 'account' }\n\t];\n\tdefault_columns['global_tree_column'] = [\n\t\t{ label: '', value: 'id' },\n\t\t{ label: $.i18n._( 'Name' ), value: 'name' }\n\t];\n\n\tdefault_columns['global_sort_columns'] = [\n\t\t{ label: $.i18n._( 'Column Name' ), value: 'label' },\n\t\t{ label: $.i18n._( 'Sort' ), value: 'sort' }\n\t];\n\tdefault_columns['global_Pay_period'] = [\n\t\t{ label: $.i18n._( 'Start Date' ), value: 'start_date' },\n\t\t{ label: $.i18n._( 'End Date' ), value: 'end_date' },\n\t\t{ label: $.i18n._( 'Pay Period Schedule' ), value: 'pay_period_schedule' }\n\n\t];\n\n\tdefault_columns['global_user_skill'] = [\n\t\t{ label: $.i18n._( 'First Name' ), value: 'first_name' },\n\t\t{ label: $.i18n._( 'Last Name' ), value: 'last_name' },\n\t\t{ label: $.i18n._( 'Skill' ), value: 'qualification' }\n\n\t];\n\n\tdefault_columns['global_user_education'] = [\n\t\t{ label: $.i18n._( 'First Name' ), value: 'first_name' },\n\t\t{ label: $.i18n._( 'Last Name' ), value: 'last_name' },\n\t\t{ label: $.i18n._( 'Course' ), value: 'qualification' }\n\n\t];\n\n\tdefault_columns['global_user_membership'] = [\n\t\t{ label: $.i18n._( 'First Name' ), value: 'first_name' },\n\t\t{ label: $.i18n._( 'Last Name' ), value: 'last_name' },\n\t\t{ label: $.i18n._( 'Membership' ), value: 'qualification' }\n\n\t];\n\n\tdefault_columns['global_user_license'] = [\n\t\t{ label: $.i18n._( 'First Name' ), value: 'first_name' },\n\t\t{ label: $.i18n._( 'Last Name' ), value: 'last_name' },\n\t\t{ label: $.i18n._( 'License' ), value: 'qualification' }\n\n\t];\n\n\tdefault_columns['global_job_applicant'] = [\n\t\t{ label: $.i18n._( 'First Name' ), value: 'first_name' },\n\t\t{ label: $.i18n._( 'Last Name' ), value: 'last_name' },\n\t\t{ label: $.i18n._( 'Status' ), value: 'status' }\n\n\t];\n\n\tdefault_columns['global_job_application'] = [\n\t\t{ label: $.i18n._( 'Job Vacancy' ), value: 'job_vacancy' },\n\t\t{ label: $.i18n._( 'Type' ), value: 'type' },\n\t\t{ label: $.i18n._( 'Status' ), value: 'status' }\n\n\t];\n\n\tdefault_columns['global_kpi'] = [\n\t\t{ label: $.i18n._( 'Name' ), value: 'name' },\n\t\t{ label: $.i18n._( 'Type' ), value: 'type' },\n\t\t{ label: $.i18n._( 'Status' ), value: 'status' }\n\n\t];\n\n\tdefault_columns['global_payroll_remittance_agency'] = [\n\t\t{ label: $.i18n._( 'Name' ), value: 'name' },\n\t\t{ label: $.i18n._( 'Legal Entity Name' ), value: 'legal_entity_legal_name' }\n\t];\n\n\tdefault_columns['global_kpi_review_control'] = [\n\t\t{ label: $.i18n._( 'Employee Name' ), value: 'user' },\n\t\t{ label: $.i18n._( 'Reviewer Name' ), value: 'reviewer_user' },\n\t\t{ label: $.i18n._( 'Start Date' ), value: 'start_date' },\n\t\t{ label: $.i18n._( 'End Date' ), value: 'end_date' }\n\n\t];\n\n\tdefault_columns['global_invoice'] = [\n\t\t{ label: $.i18n._( 'Client' ), value: 'client' },\n\t\t{ label: $.i18n._( 'Status' ), value: 'status' }\n\n\t];\n\n\tdefault_columns['global_client'] = [\n\t\t{ label: $.i18n._( 'Company Name' ), value: 'company_name' },\n\t\t{ label: $.i18n._( 'Groups' ), value: 'group' }\n\n\t];\n\n\tdefault_columns['global_transaction'] = [\n\t\t{ label: $.i18n._( 'Client' ), value: 'client' },\n\t\t{ label: $.i18n._( 'Status' ), value: 'status' }\n\n\t];\n\n\tdefault_columns['global_PayStubAccount'] = [\n\t\t{ label: $.i18n._( 'Name' ), value: 'name' },\n\t\t{ label: $.i18n._( 'Type' ), value: 'type' }\n\t];\n\n\tdefault_columns['global_simple_name'] = [\n\t\t{ label: 'Name', value: 'name' }\n\t];\n\n\treturn default_columns;\n};\n","( function( $ ) {\n\n\t$.fn.ASearchInput = function( options ) {\n\t\tvar opts = $.extend( {}, $.fn.ADropDown.defaults, options );\n\n\t\tvar column_model = null;\n\n\t\tvar search_timer = null;\n\n\t\tvar $this = this;\n\t\tvar default_tooltip = $.i18n._( 'click to search' );\n\n\t\tthis.setFilter = function( filters ) {\n\t\t\tvar field = column_model.name;\n\n\t\t\tif ( Global.isSet( filters[field] ) ) {\n\t\t\t\t$( this ).val( filters[field] );\n\t\t\t\t$( this ).addClass( 'search-input-focus-in' );\n\t\t\t}\n\t\t};\n\n\t\tthis.clearValue = function() {\n\t\t\t$( this ).val( default_tooltip );\n\t\t\t$( this ).removeClass( 'search-input-focus-in' );\n\t\t\t$( this ).addClass( 'search-input-focus-out' );\n\t\t};\n\n\t\tthis.each( function() {\n\n\t\t\tvar o = $.meta ? $.extend( {}, opts, $( this ).data() ) : opts;\n\n\t\t\tif ( o.column_model ) {\n\n\t\t\t\tcolumn_model = o.column_model;\n\t\t\t}\n\n\t\t\t$( this ).addClass( 'search-input-focus-out' );\n\n\t\t\t$( this ).val( default_tooltip );\n\n\t\t\t$( this ).focusin( function() {\n\n\t\t\t\tif ( $( this ).val() === default_tooltip ) {\n\t\t\t\t\t$( this ).val( '' );\n\t\t\t\t\t$( this ).addClass( 'search-input-focus-in' );\n\t\t\t\t}\n\n\t\t\t} );\n\n\t\t\t$( this ).focusout( function() {\n\t\t\t\tif ( $( this ).val() === '' ) {\n\t\t\t\t\t$( this ).val( default_tooltip );\n\t\t\t\t\t$( this ).removeClass( 'search-input-focus-in' );\n\t\t\t\t}\n\n\t\t\t} );\n\n\t\t\t$( this ).bind( 'input propertychange', function( e ) {\n\n\t\t\t\tif ( search_timer ) {\n\t\t\t\t\tclearTimeout( search_timer );\n\t\t\t\t}\n\n\t\t\t\tif ( e.keyCode === 91 || e.ctrlKey || e.metaKey || e.keyCode === 17 ) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tsearch_timer = setTimeout( function() {\n\n\t\t\t\t\tvar val = ( $this.val() === default_tooltip ) ? '' : $this.val();\n\n\t\t\t\t\t$this.trigger( 'searchEnter', [val, column_model.name] );\n\n\t\t\t\t}, 500 );\n\n\t\t\t} );\n\n\t\t} );\n\n\t\treturn this;\n\n\t};\n\n\t$.fn.ASearchInput.defaults = {};\n\n} )( jQuery );","( function( $ ) {\n\n\t$.fn.TCheckbox = function( options ) {\n\t\tvar opts = $.extend( {}, $.fn.TCheckbox.defaults, options );\n\n\t\tvar $this = this;\n\t\tvar field;\n\n\t\tvar error_string = '';\n\t\tvar error_tip_box;\n\n\t\tvar mass_edit_mode = false;\n\t\tvar check_box = null;\n\n\t\tvar enabled = true;\n\n\t\tthis.clearErrorStyle = function() {\n\n\t\t};\n\n\t\tthis.getEnabled = function() {\n\t\t\treturn enabled;\n\t\t};\n\n\t\tthis.setEnabled = function( val ) {\n\t\t\tenabled = val;\n\t\t\tif ( val === false || val === '' ) {\n\t\t\t\t$this.attr( 'disabled', 'true' );\n\t\t\t} else {\n\t\t\t\t$this.removeAttr( 'disabled' );\n\t\t\t}\n\n\t\t};\n\n\t\tthis.setCheckBox = function( val ) {\n\t\t\tif ( check_box ) {\n\t\t\t\tcheck_box.children().eq( 0 )[0].checked = val;\n\t\t\t}\n\t\t};\n\n\t\tthis.isChecked = function() {\n\t\t\tif ( check_box ) {\n\t\t\t\tif ( check_box.children().eq( 0 )[0].checked === true ) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn false;\n\t\t};\n\n\t\tthis.setMassEditMode = function( val ) {\n\t\t\tmass_edit_mode = val;\n\n\t\t\tif ( mass_edit_mode ) {\n\t\t\t\tcheck_box = $( ' <div class=\"mass-edit-checkbox-wrapper checkbox-mass-edit-checkbox-wrapper\"><input type=\"checkbox\" class=\"mass-edit-checkbox\"></input>' +\n\t\t\t\t\t'<label for=\"checkbox-input-1\" class=\"input-helper input-helper--checkbox\"></label></div>' );\n\t\t\t\tcheck_box.insertBefore( $( this ) );\n\t\t\t\tcheck_box.change( function() {\n\t\t\t\t\t$this.trigger( 'formItemChange', [$this] );\n\t\t\t\t} );\n\n\t\t\t} else {\n\t\t\t\tif ( check_box ) {\n\t\t\t\t\tcheck_box.remove();\n\t\t\t\t\tcheck_box = null;\n\t\t\t\t}\n\t\t\t}\n\n\t\t};\n\n\t\tthis.setErrorStyle = function( errStr, show, isWarning ) {\n\t\t\tif ( isWarning ) {\n\t\t\t\t$( this ).addClass( 'warning-tip' );\n\t\t\t} else {\n\t\t\t\t$( this ).addClass( 'error-tip' );\n\t\t\t}\n\t\t\terror_string = errStr;\n\n\t\t\tif ( show ) {\n\t\t\t\tthis.showErrorTip();\n\t\t\t}\n\t\t};\n\n\t\tthis.showErrorTip = function( sec ) {\n\t\t\tif ( !Global.isSet( sec ) ) {\n\t\t\t\tsec = 2;\n\t\t\t}\n\n\t\t\tif ( !error_tip_box ) {\n\t\t\t\terror_tip_box = Global.loadWidgetByName( WidgetNamesDic.ERROR_TOOLTIP );\n\t\t\t\terror_tip_box = error_tip_box.ErrorTipBox();\n\t\t\t}\n\t\t\terror_tip_box.cancelRemove();\n\t\t\tif ( $( this ).hasClass( 'warning-tip' ) ) {\n\t\t\t\terror_tip_box.show( this, error_string, sec, true );\n\t\t\t} else {\n\t\t\t\terror_tip_box.show( this, error_string, sec );\n\t\t\t}\n\t\t};\n\n\t\tthis.hideErrorTip = function() {\n\t\t\tif ( Global.isSet( error_tip_box ) ) {\n\t\t\t\terror_tip_box.remove();\n\t\t\t}\n\t\t};\n\n\t\tthis.clearErrorStyle = function() {\n\t\t\t$( this ).removeClass( 'error-tip' );\n\t\t\t$( this ).removeClass( 'warning-tip' );\n\t\t\tthis.hideErrorTip();\n\t\t\terror_string = '';\n\t\t};\n\n\t\tthis.getField = function() {\n\t\t\treturn field;\n\t\t};\n\n\t\tthis.getValue = function() {\n\n\t\t\tif ( this.prop( 'checked' ) || this[0].checked === true ) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\treturn false;\n\t\t};\n\n\t\tthis.setValue = function( val ) {\n\n\t\t\tif ( val === true ) {\n\t\t\t\tthis.prop( 'checked', 'checked' );\n\t\t\t\tthis[0].checked = true;\n\t\t\t} else {\n\t\t\t\tthis.removeAttr( 'checked' );\n\t\t\t\tthis[0].checked = false;\n\t\t\t}\n\n\t\t};\n\n\t\tthis.each( function() {\n\n\t\t\tvar o = $.meta ? $.extend( {}, opts, $( this ).data() ) : opts;\n\n\t\t\tfield = o.field;\n\n\t\t\t$( this ).change( function() {\n\t\t\t\tif ( check_box ) {\n\t\t\t\t\t$this.setCheckBox( true );\n\t\t\t\t}\n\n\t\t\t\t//#2353 - Removed for jquery 3.3.1\n\t\t\t\t// if ( $this.prop('checked' ) === 'checked' ) {\n\t\t\t\t// \t$this.removeAttr( 'checked' );\n\t\t\t\t// \t$this[0].checked = false;\n\t\t\t\t// } else {\n\t\t\t\t// \t$this.prop('checked', 'checked' );\n\t\t\t\t// \t$this[0].checked = true;\n\t\t\t\t// }\n\n\t\t\t\t$this.trigger( 'formItemChange', [$this] );\n\t\t\t} );\n\n\t\t} );\n\n\t\treturn this;\n\n\t};\n\n\t$.fn.TCheckbox.defaults = {};\n\n} )( jQuery );","( function( $ ) {\n\n\t$.fn.ColumnEditor = function( options ) {\n\t\tvar opts = $.extend( {}, $.fn.ColumnEditor.defaults, options );\n\n\t\tvar parent_awesome_box = null;\n\n\t\tvar a_dropdown = null;\n\n\t\tvar $this = this;\n\n\t\tvar is_mouse_over = false;\n\n\t\tvar layout_selector = null;\n\n\t\tvar user_generic_data_api = null;\n\n\t\tvar related_layout_Array = null;\n\n\t\tvar all_columns;\n\n\t\tvar original_columns;\n\n\t\tvar numArray = [\n\t\t\t{ label: $.i18n._( 'Default' ), value: 0 },\n\t\t\t{ label: 5, value: 5 },\n\t\t\t{ label: 10, value: 10 },\n\t\t\t{\n\t\t\t\tlabel: 15,\n\t\t\t\tvalue: 15\n\t\t\t},\n\t\t\t{ label: 20, value: 20 },\n\t\t\t{ label: 25, value: 25 },\n\t\t\t{ label: 50, value: 50 },\n\t\t\t{\n\t\t\t\tlabel: 100,\n\t\t\t\tvalue: 100\n\t\t\t},\n\t\t\t{ label: 250, value: 250 },\n\t\t\t{ label: 500, value: 500 },\n\t\t\t{ label: 1000, value: 1000 }\n\t\t];\n\n\t\tthis.getIsMouseOver = function() {\n\t\t\treturn is_mouse_over;\n\t\t};\n\n\t\tthis.getParentAwesomeBox = function() {\n\t\t\treturn parent_awesome_box;\n\t\t};\n\n\t\tGlobal.addCss( 'global/widgets/column_editor/ColumnEditor.css' );\n\n\t\tthis.show = function() {\n\n\t\t\tif ( LocalCacheData.openAwesomeBoxColumnEditor ) {\n\n\t\t\t\tif ( LocalCacheData.openAwesomeBoxColumnEditor.getParentAwesomeBox().getId() === parent_awesome_box.getId() ) {\n\t\t\t\t\tLocalCacheData.openAwesomeBoxColumnEditor.onClose();\n\t\t\t\t\treturn;\n\t\t\t\t} else {\n\t\t\t\t\tLocalCacheData.openAwesomeBoxColumnEditor.onClose();\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tvar layout = parent_awesome_box.getLayout();\n\t\t\tvar a_dropdown_div = $( this ).find( '.column-editor-drop-down-div' );\n\n\t\t\tvar rows_per_page_div = $( this ).find( '.rows-per-page-div' );\n\n\t\t\ta_dropdown = Global.loadWidget( 'global/widgets/awesomebox/ADropDown.html' );\n\t\t\ta_dropdown = $( a_dropdown );\n\t\t\t//Create ADropDown\n\t\t\ta_dropdown = a_dropdown.ADropDown( {\n\t\t\t\tdisplay_show_all: false,\n\t\t\t\tid: 'column_editor',\n\t\t\t\tkey: 'value',\n\t\t\t\tdisplay_close_btn: false,\n\t\t\t\tdisplay_column_settings: false,\n\t\t\t\tstatic_height: 150,\n\t\t\t\tresize_grids: true\n\t\t\t} );\n\n\t\t\ta_dropdown_div.append( a_dropdown );\n\n\t\t\t//Add Self to UI\n\t\t\t$( 'body' ).append( $( this ).css( 'visibility', 'hidden' ) ); // #2734 - Add to DOM but invisible so code can do calculations, but user does not see flashes.\n\n\t\t\ta_dropdown.setColumns( [\n\t\t\t\t{ name: 'label', index: 'label', label: $.i18n._( 'Column Name' ), width: 100, sortable: false }\n\t\t\t] );\n\n\t\t\ta_dropdown.setUnselectedGridData( parent_awesome_box.getAllColumns() );\n\n\t\t\toriginal_columns = parent_awesome_box.getDisplayColumnsForEditor();\n\t\t\ta_dropdown.setSelectGridData( original_columns );\n\n\t\t\ta_dropdown.setResizeGrids( true );\n\n\t\t\t//Set position\n\t\t\tif ( 958 + $( parent_awesome_box ).offset().left + 50 > Global.bodyWidth() ) {\n\t\t\t\t$( this ).css( 'left', Global.bodyWidth() - 958 - 50 );\n\t\t\t} else {\n\n\t\t\t\t$( this ).css( 'left', $( parent_awesome_box ).offset().left );\n\t\t\t}\n\n\t\t\tvar $$this = this;\n\t\t\tsetTimeout( function() {\n\t\t\t\tif ( ( $( $$this ).height() + $( parent_awesome_box ).offset().top + 50 ) > Global.bodyHeight() ) {\n\t\t\t\t\t$( $$this ).css( 'top', ( Global.bodyHeight() - $( $$this ).height() - 25 ) );\n\t\t\t\t} else {\n\t\t\t\t\t$( $$this ).css( 'top', $( parent_awesome_box ).offset().top + 25 );\n\t\t\t\t}\n\t\t\t\t$( $$this ).css( 'visibility', 'visible' ); // show once all positions and sizes are done calculating and moving.\n\t\t\t}, 100 );\n\n\t\t\t$( this ).mouseenter( function() {\n\t\t\t\tis_mouse_over = true;\n\t\t\t} );\n\n\t\t\t$( this ).mouseleave( function( e ) {\n\t\t\t\t// Issue #2853 - This comparison fixes an issue where firefox improperly triggers mouseleave on select menus.\n\t\t\t\tif ( e.target == this ) {\n\t\t\t\t\tis_mouse_over = false;\n\t\t\t\t}\n\t\t\t} );\n\n\t\t\tLocalCacheData.openAwesomeBoxColumnEditor = $this;\n\n\t\t\tif ( layout && Global.isSet( layout.data.type ) && layout.data.type === 10 ) {\n\t\t\t\ta_dropdown_div.css( 'display', 'none' );\n\t\t\t\trows_per_page_div.css( 'display', 'none' );\n\n\t\t\t} else {\n\t\t\t\ta_dropdown_div.css( 'display', 'block' );\n\t\t\t\trows_per_page_div.css( 'display', 'block' );\n\t\t\t}\n\n\t\t\tvar script_name = parent_awesome_box.getScriptName();\n\n\t\t\tvar api = parent_awesome_box.getAPI();\n\n\t\t\tapi.getOptions( 'columns', {\n\t\t\t\tonResult: function( columns_result ) {\n\n\t\t\t\t\tvar columns_result_data = columns_result.getResult();\n\t\t\t\t\tall_columns = Global.buildColumnArray( columns_result_data );\n\n\t\t\t\t}\n\t\t\t} );\n\n\t\t\tuser_generic_data_api.getUserGenericData( { filter_data: { script: script_name, deleted: false } },\n\t\t\t\t{\n\t\t\t\t\tonResult: function( results ) {\n\n\t\t\t\t\t\tvar result_data = results.getResult();\n\n\t\t\t\t\t\t//Save layout array\n\t\t\t\t\t\trelated_layout_Array = result_data;\n\n\t\t\t\t\t\tif ( result_data && result_data.length > 0 ) {\n\n\t\t\t\t\t\t\tresult_data.sort( function( a, b ) {\n\n\t\t\t\t\t\t\t\treturn Global.compare( a, b, 'name' );\n\n\t\t\t\t\t\t\t} );\n\n\t\t\t\t\t\t\t$( layout_selector ).empty();\n\n\t\t\t\t\t\t\tvar source_data = [];\n\n\t\t\t\t\t\t\tsource_data.push( { label: $.i18n._( Global.customize_item ), value: -1 } );\n\n\t\t\t\t\t\t\tvar len = result_data.length;\n\t\t\t\t\t\t\tfor ( var i = 0; i < len; i++ ) {\n\t\t\t\t\t\t\t\tvar item = result_data[i];\n\t\t\t\t\t\t\t\tsource_data.push( { label: item.name, value: item.id } );\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tlayout_selector.setSourceData( source_data );\n\n\t\t\t\t\t\t\tif ( layout && Global.isSet( layout.data.type ) && layout.data.type === 10 ) {\n\t\t\t\t\t\t\t\t$( $( layout_selector ).find( 'option' ) ).filter( function() {\n\t\t\t\t\t\t\t\t\treturn parseInt( $( this ).attr( 'value' ) ) === layout.data.layout_id;\n\t\t\t\t\t\t\t\t} ).prop( 'selected', true ).attr( 'selected', true );\n\n\t\t\t\t\t\t\t\tvar select_id = layout_selector.getValue();\n\n\t\t\t\t\t\t\t\t//If saved layout is deleted. Show first one and show columns setting\n\t\t\t\t\t\t\t\tif ( select_id === -1 ) {\n\t\t\t\t\t\t\t\t\ta_dropdown_div.css( 'display', 'block' );\n\t\t\t\t\t\t\t\t\trows_per_page_div.css( 'display', 'block' );\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\tsource_data = [];\n\n\t\t\t\t\t\t\tsource_data.push( { label: $.i18n._( Global.customize_item ), value: -1 } );\n\n//\t\t\t\t\t\t$( layout_selector ).append( '<option value=\"' + -1 + '\">' + Global.customize_item + '</option>' );\n\n\t\t\t\t\t\t\tlayout_selector.setSourceData( source_data );\n\t\t\t\t\t\t\t//If saved layout is deleted. Show first one and show columns setting\n\t\t\t\t\t\t\ta_dropdown_div.css( 'display', 'block' );\n\t\t\t\t\t\t\trows_per_page_div.css( 'display', 'block' );\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\t\t\t\t} );\n\n\t\t};\n\n\t\tthis.onClose = function() {\n\t\t\t$( $this ).remove();\n\t\t\tLocalCacheData.openAwesomeBoxColumnEditor = null;\n\t\t\tis_mouse_over = false;\n\t\t};\n\n\t\tthis.onSave = function() {\n\t\t\t$this.onClose();\n\n\t\t\tvar select_id = layout_selector.getValue();\n\n\t\t\tif ( !related_layout_Array ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif ( select_id !== -1 ) {\n\t\t\t\tvar len = related_layout_Array.length;\n\t\t\t\tfor ( var i = 0; i < len; i++ ) {\n\t\t\t\t\tvar item = related_layout_Array[i];\n\t\t\t\t\tif ( item.id === select_id ) {\n\t\t\t\t\t\titem.data.filter_data = Global.convertLayoutFilterToAPIFilter( item );\n\t\t\t\t\t\titem.data.display_columns = $this.buildDisplayColumns( item.data.display_columns );\n\t\t\t\t\t\tparent_awesome_box.onColumnSettingSaveFromLayout( item );\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tvar rowPerPageSelect = $( $this ).find( '#rows-per-page-selector' );\n\n\t\t\t\trowPerPageSelect.find( 'option:selected' ).each( function() {\n\n\t\t\t\t\tvar selectId = $( this ).attr( 'value' );\n\n\t\t\t\t\tvar selection_items = a_dropdown.getSelectItems();\n\n\t\t\t\t\tif ( selection_items.length === 0 ) {\n\t\t\t\t\t\tselection_items = original_columns;\n\t\t\t\t\t}\n\n\t\t\t\t\tparent_awesome_box.onColumnSettingSave( selection_items, selectId, '-1' );\n\n\t\t\t\t} );\n\t\t\t}\n\n\t\t};\n\n\t\tthis.buildDisplayColumns = function( api_display_columns ) {\n\t\t\tvar len = all_columns.length;\n\t\t\tvar len1 = api_display_columns.length;\n\t\t\tvar display_columns = [];\n\n\t\t\tfor ( var j = 0; j < len1; j++ ) {\n\t\t\t\tfor ( var i = 0; i < len; i++ ) {\n\t\t\t\t\tif ( api_display_columns[j] === all_columns[i].value ) {\n\t\t\t\t\t\tdisplay_columns.push( all_columns[i] );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn display_columns;\n\t\t};\n\n\t\t//For multiple items like .xxx could contains a few widgets.\n\t\tthis.each( function() {\n\n\t\t\tvar o = $.meta ? $.extend( {}, opts, $( this ).data() ) : opts;\n\n\t\t\tvar close_btn = $( this ).find( '#close_btn' );\n\n\t\t\tvar save_btn = $( this ).find( '#save_btn' );\n\n\t\t\tuser_generic_data_api = TTAPI.APIUserGenericData;\n\n\t\t\tparent_awesome_box = o.parent_awesome_box;\n\n\t\t\tclose_btn.bind( 'click', $this.onClose );\n\n\t\t\tsave_btn.bind( 'click', $this.onSave );\n\n\t\t\tvar rows_selector = $( this ).find( '#rows-per-page-selector' );\n\n\t\t\tvar len = numArray.length;\n\n\t\t\tfor ( var i = 0; i < len; i++ ) {\n\t\t\t\tvar item = numArray[i];\n\t\t\t\t$( rows_selector ).append( '<option value=\"' + item.value + '\">' + item.label + '</option>' );\n\t\t\t}\n\n\t\t\t$( $( rows_selector ).find( 'option' ) ).filter( function() {\n\t\t\t\treturn $( this ).attr( 'value' ) === parent_awesome_box.getRowPerPage();\n\t\t\t} ).prop( 'selected', true ).attr( 'selected', true );\n\n\t\t\tlayout_selector = $( this ).find( '#layout-selector' );\n\t\t\tlayout_selector = layout_selector.TComboBox();\n\n\t\t\tvar a_dropdown_div = $( this ).find( '.column-editor-drop-down-div' );\n\t\t\tvar rows_per_page_div = $( this ).find( '.rows-per-page-div' );\n\n\t\t\tlayout_selector.bind( 'formItemChange', function( e, widget ) {\n\t\t\t\tvar select_id = widget.getValue();\n\n\t\t\t\tif ( select_id !== -1 ) {\n\t\t\t\t\ta_dropdown_div.css( 'display', 'none' );\n\t\t\t\t\trows_per_page_div.css( 'display', 'none' );\n\n\t\t\t\t} else {\n\t\t\t\t\ta_dropdown_div.css( 'display', 'block' );\n\t\t\t\t\trows_per_page_div.css( 'display', 'block' );\n\t\t\t\t}\n\t\t\t} );\n\n\t\t} );\n\n\t\treturn this;\n\n\t};\n\n\t$.fn.ColumnEditor.defaults = {};\n\n} )( jQuery );","( function( $ ) {\n\n\t$.fn.TDatePicker = function( options ) {\n\t\tvar opts = $.extend( {}, $.fn.TDatePicker.defaults, options );\n\t\t//Global.addCss( 'global/widgets/datepicker/TDatePicker.css' );\n\n\t\tvar $this = this;\n\t\tvar field;\n\t\tvar validation_field;\n\t\tvar date_picker_input;\n\t\tvar icon;\n\t\tvar error_string = '';\n\t\tvar error_tip_box;\n\t\tvar mode = 'date';\n\t\tvar multiple; // This is used to test Punches -> Edit view Date\n\t\tvar mass_edit_mode = false;\n\t\tvar check_box = null;\n\t\tvar enabled = true;\n\t\tvar is_open = false;\n\t\tvar focus_out_timer;\n\t\tvar can_open = false; //default when the calender can be open, we only open it when click on the icon\n\t\tvar is_static_width = false;\n\n\t\tthis.getEnabled = function() {\n\t\t\treturn enabled;\n\t\t};\n\n\t\tthis.setEnabled = function( val ) {\n\t\t\tenabled = val;\n\t\t\tif ( val === false || val === '' ) {\n\t\t\t\t//$this.attr( 'disabled', 'true' );\n\t\t\t\tdate_picker_input.addClass( 't-date-picker-readonly' );\n\t\t\t\ticon.css( 'display', 'none' );\n\t\t\t\tdate_picker_input.attr( 'readonly', 'readonly' );\n\t\t\t\tif ( check_box ) {\n\t\t\t\t\tcheck_box.hide();\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t//$this.removeAttr( 'disabled' );\n\t\t\t\tdate_picker_input.removeClass( 't-date-picker-readonly' );\n\t\t\t\ticon.css( 'display', 'inline' );\n\t\t\t\tdate_picker_input.removeAttr( 'readonly' );\n\t\t\t\tif ( check_box ) {\n\t\t\t\t\tcheck_box.show();\n\t\t\t\t}\n\t\t\t}\n\n\t\t};\n\n\t\tthis.setCheckBox = function( val ) {\n\t\t\tif ( check_box ) {\n\t\t\t\tcheck_box.children().eq( 0 )[0].checked = val;\n\t\t\t}\n\t\t};\n\n\t\tthis.isChecked = function() {\n\t\t\tif ( check_box ) {\n\t\t\t\tif ( check_box.children().eq( 0 )[0].checked === true ) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn false;\n\t\t};\n\n\t\tthis.setMassEditMode = function( val ) {\n\t\t\tmass_edit_mode = val;\n\n\t\t\tif ( mass_edit_mode ) {\n\t\t\t\tcheck_box = $( ' <div class=\"mass-edit-checkbox-wrapper\"><input type=\"checkbox\" class=\"mass-edit-checkbox\"></input>' +\n\t\t\t\t\t'<label for=\"checkbox-input-1\" class=\"input-helper input-helper--checkbox\"></label></div>' );\n\t\t\t\tcheck_box.insertBefore( $( this ) );\n\n\t\t\t\tcheck_box.change( function() {\n\t\t\t\t\t$this.trigger( 'formItemChange', [$this] );\n\t\t\t\t} );\n\n\t\t\t} else {\n\t\t\t\tif ( check_box ) {\n\t\t\t\t\tcheck_box.remove();\n\t\t\t\t\tcheck_box = null;\n\t\t\t\t}\n\t\t\t}\n\n\t\t};\n\n\t\tthis.setErrorStyle = function( errStr, show, isWarning ) {\n\t\t\tif ( isWarning ) {\n\t\t\t\tdate_picker_input.addClass( 'warning-tip' );\n\t\t\t} else {\n\t\t\t\tdate_picker_input.addClass( 'error-tip' );\n\t\t\t}\n\t\t\terror_string = errStr;\n\n\t\t\tif ( show ) {\n\t\t\t\tthis.showErrorTip();\n\t\t\t}\n\t\t};\n\n\t\tthis.showErrorTip = function( sec ) {\n\n\t\t\tif ( !Global.isSet( sec ) ) {\n\t\t\t\tsec = 2;\n\t\t\t}\n\n\t\t\tif ( !error_tip_box ) {\n\t\t\t\terror_tip_box = Global.loadWidgetByName( WidgetNamesDic.ERROR_TOOLTIP );\n\t\t\t\terror_tip_box = error_tip_box.ErrorTipBox();\n\t\t\t}\n\t\t\tif ( date_picker_input.hasClass( 'warning-tip' ) ) {\n\t\t\t\terror_tip_box.show( this, error_string, sec, true );\n\t\t\t} else {\n\t\t\t\terror_tip_box.show( this, error_string, sec );\n\t\t\t}\n\t\t};\n\n\t\tthis.hideErrorTip = function() {\n\n\t\t\tif ( Global.isSet( error_tip_box ) ) {\n\t\t\t\terror_tip_box.remove();\n\t\t\t}\n\n\t\t};\n\n\t\t// Error: TypeError: date_picker_input is undefined in /interface/html5/global/widgets/datepicker/TDatePicker.js?v=8.0.3-20150313-161037 line 122\n\t\tthis.clearErrorStyle = function() {\n\t\t\tif ( !date_picker_input ) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tdate_picker_input.removeClass( 'error-tip' );\n\t\t\tdate_picker_input.removeClass( 'warning-tip' );\n\t\t\tthis.hideErrorTip();\n\t\t\terror_string = '';\n\t\t};\n\n\t\tthis.getField = function() {\n\t\t\treturn field;\n\t\t};\n\n\t\tthis.getValidationField = function() {\n\t\t\treturn validation_field;\n\t\t};\n\n\t\tthis.getDefaultFormatValue = function() {\n\t\t\t// Error: Uncaught TypeError: Cannot read property 'val' of undefined in interface/html5/global/widgets/datepicker/TDatePicker.js?v=9.0.5-20151222-162114 line 145\n\t\t\tvar val = date_picker_input ? date_picker_input.val() : null;\n\t\t\t//Error: Uncaught TypeError: Cannot read property 'format' of null in interface/html5/global/widgets/datepicker/TDatePicker.js?v=9.0.0-20150909-213207 line 140\n\t\t\tval = Global.strToDate( val ) && Global.strToDate( val ).format( 'YYYY-MM-DD' );\n\n\t\t\treturn val;\n\t\t};\n\n\t\tthis.setPlaceHolder = function( val ) {\n\t\t\tdate_picker_input.attr( 'placeholder', val );\n\t\t};\n\n\t\tthis.getValue = function() {\n\t\t\t// This is used to test Punches -> Edit view Date\n\t\t\tif ( multiple ) {\n\t\t\t\treturn [date_picker_input.val()];\n\t\t\t}\n\n\t\t\treturn date_picker_input.val();\n\t\t};\n\n\t\tthis.setValue = function( val ) {\n\t\t\t//Error: Uncaught TypeError: Cannot read property 'val' of undefined in /interface/html5/global/widgets/datepicker/TDatePicker.js?v=8.0.0-20141230-130626 line 144\n\t\t\tif ( !date_picker_input ) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif ( !val ) {\n\t\t\t\tval = '';\n\t\t\t}\n\t\t\tdate_picker_input.val( val );\n\t\t\tthis.autoResize();\n\t\t};\n\n\t\tthis.setDefaultWidgetValue = function() {\n\t\t\tif ( $( this ).attr( 'widget-value' ) ) {\n\t\t\t\tthis.setValue( $( this ).attr( 'widget-value' ) );\n\t\t\t}\n\t\t};\n\n\t\tthis.autoResize = function() {\n\t\t\tvar content_width, example_width, example_display;\n\t\t\tif ( LocalCacheData.getLoginUserPreference() ) {\n\t\t\t\texample_display = LocalCacheData.getLoginUserPreference().date_format_display;\n\t\t\t} else {\n\t\t\t\texample_display = 'dd-mmm-yy';\n\t\t\t}\n\t\t\tif ( !is_static_width ) {\n\t\t\t\tif ( mode === 'date' ) {\n\t\t\t\t\texample_width = Global.calculateTextWidth( example_display );\n\t\t\t\t} else if ( mode === 'date_time' ) {\n\t\t\t\t\texample_width = Global.calculateTextWidth( example_display + ' ' + LocalCacheData.getLoginUserPreference().time_format_display );\n\t\t\t\t}\n\t\t\t\tcontent_width = Global.calculateTextWidth( date_picker_input.val(), {\n\t\t\t\t\tmin_width: example_width,\n\t\t\t\t\tmax_width: ( example_width + 100 ),\n\t\t\t\t\tpadding: 28\n\t\t\t\t} );\n\t\t\t\t$this.width( content_width + 'px' );\n\t\t\t}\n\t\t};\n\n\t\tthis.each( function() {\n\t\t\tvar o = $.meta ? $.extend( {}, opts, $( this ).data() ) : opts;\n\t\t\tfield = o.field;\n\t\t\tif ( o.validation_field ) {\n\t\t\t\tvalidation_field = o.validation_field;\n\t\t\t}\n\t\t\tmultiple = o.multiple; // This is used to test Punches -> Edit view Date\n\t\t\tif ( Global.isSet( o.mode ) ) {\n\t\t\t\tmode = o.mode;\n\t\t\t}\n\t\t\ticon = $( this ).find( '.t-date-picker-icon' );\n\t\t\tdate_picker_input = $( this ).find( '.t-date-picker' );\n\t\t\ticon.attr( 'src', Global.getRealImagePath( 'images/cal.png' ) );\n\n\t\t\ticon.bind( 'mousedown', function( e ) {\n\t\t\t\te.stopPropagation(); //Stop jquery-ui datepickers own mousedown event from firing, which cause the date picker to close, then the below 'mouseup' event opens it again.\n\t\t\t} );\n\n\t\t\ticon.bind( 'mouseup', function() { //Need to use 'mouseup' event as main.js binds 'mousedown' for closing when clicked off.\n\t\t\t\tif ( !enabled ) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tif ( !is_open ) {\n\t\t\t\t\tdate_picker_input.datepicker( 'show' );\n\t\t\t\t\tis_open = true;\n\t\t\t\t} else {\n\t\t\t\t\tdate_picker_input.datepicker( 'hide' );\n\t\t\t\t\tis_open = false;\n\t\t\t\t}\n\t\t\t} );\n\n\t\t\tvar time_format = 'h:mm TT';\n\t\t\tvar format = 'dd-M-y';\n\t\t\t// When portal mode, no user preference.\n\t\t\tif ( LocalCacheData.getLoginUserPreference() ) {\n\t\t\t\tformat = LocalCacheData.getLoginUserPreference().date_format_1;\n\t\t\t\ttime_format = LocalCacheData.getLoginUserPreference().time_format_1;\n\t\t\t}\n\t\t\tvar day_name_min = [\n\t\t\t\t$.i18n._( 'Sun' ), $.i18n._( 'Mon' ), $.i18n._( 'Tue' ),\n\t\t\t\t$.i18n._( 'Wed' ), $.i18n._( 'Thu' ), $.i18n._( 'Fri' ), $.i18n._( 'Sat' )\n\t\t\t];\n\t\t\tvar month_name_short = [\n\t\t\t\t$.i18n._( 'Jan' ), $.i18n._( 'Feb' ),\n\t\t\t\t$.i18n._( 'Mar' ), $.i18n._( 'Apr' ), $.i18n._( 'May' ),\n\t\t\t\t$.i18n._( 'Jun' ), $.i18n._( 'Jul' ), $.i18n._( 'Aug' ),\n\t\t\t\t$.i18n._( 'Sep' ), $.i18n._( 'Oct' ), $.i18n._( 'Nov' ),\n\t\t\t\t$.i18n._( 'Dec' )\n\t\t\t];\n\t\t\tvar current_text = $.i18n._( 'Today' );\n\t\t\tvar close_text = $.i18n._( 'Close' );\n\n\t\t\t$.datepicker._gotoToday = function( id ) {\n\t\t\t\t//This fixes JS exception when using the \"TODAY\" button in the date pickers: Uncaught TypeError: Cannot read property 'selectedYear' of undefined\n\t\t\t\t$( id ).datepicker( 'setDate', new Date() ).datepicker( 'hide' ).change();\n\n\t\t\t\t// var target = $( id );\n\t\t\t\t// var inst = this._getInst( target[0] );\n\t\t\t\t// if ( this._get( inst, 'gotoCurrent' ) && inst.currentDay ) {\n\t\t\t\t// \tinst.selectedDay = inst.currentDay;\n\t\t\t\t// \tinst.drawMonth = inst.selectedMonth = inst.currentMonth;\n\t\t\t\t// \tinst.drawYear = inst.selectedYear = inst.currentYear;\n\t\t\t\t// }\n\t\t\t\t// else {\n\t\t\t\t// \tvar date = new Date();\n\t\t\t\t// \tinst.selectedDay = date.getDate();\n\t\t\t\t// \tinst.drawMonth = inst.selectedMonth = date.getMonth();\n\t\t\t\t// \tinst.drawYear = inst.selectedYear = date.getFullYear();\n\t\t\t\t// \t// the below two lines are new\n\t\t\t\t// \tthis._setDateDatepicker( target, date );\n\t\t\t\t// \tthis._selectDate( id, this._getDateDatepicker( target ) );\n\t\t\t\t// \t$( target ).datepicker( 'setDate', date );\n\t\t\t\t// }\n\t\t\t\t// this._notifyChange( inst );\n\t\t\t\t// this._adjustDate( target );\n\t\t\t};\n\n\t\t\tif ( mode === 'date' ) {\n\t\t\t\tdate_picker_input = date_picker_input.datepicker( {\n\t\t\t\t\tshowOtherMonths: true,\n\t\t\t\t\tselectOtherMonths: true,\n\t\t\t\t\tshowTime: false,\n\t\t\t\t\tdateFormat: format,\n\t\t\t\t\tshowHour: false,\n\t\t\t\t\tshowMinute: false,\n\t\t\t\t\tchangeMonth: true,\n\t\t\t\t\tchangeYear: true,\n\t\t\t\t\tshowButtonPanel: true,\n\t\t\t\t\tduration: '',\n\t\t\t\t\tshowAnim: '',\n\t\t\t\t\tyearRange: '-100:+10',\n\t\t\t\t\tshowOn: '',\n\t\t\t\t\tdayNamesMin: day_name_min,\n\t\t\t\t\tcurrentText: current_text,\n\t\t\t\t\tmonthNamesShort: month_name_short,\n\t\t\t\t\tcloseText: close_text,\n\t\t\t\t\tbeforeShow: function() {\n\t\t\t\t\t\tif ( o.beforeShow ) {\n\t\t\t\t\t\t\to.beforeShow();\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\n\t\t\t\t\tonClose: function() {\n\t\t\t\t\t\tis_open = false;\n\t\t\t\t\t\t$this.autoResize();\n\t\t\t\t\t\tif ( o.onClose ) {\n\t\t\t\t\t\t\to.onClose();\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\n\t\t\t\t\t//#2353 - removed because it breaks the month navigation buttons\n\t\t\t\t\t// onChangeMonthYear: function( year, month, args ) {\n\t\t\t\t\t// \tvar day = $.datepicker.formatDate( 'dd', $( this ).datepicker( 'getDate' ) );\n\t\t\t\t\t// \t$( this ).val( $.datepicker.formatDate( format, new Date( year, month - 1, day ) ) );\n\t\t\t\t\t// }\n\n\t\t\t\t} );\n\n\t\t\t\t// Portal mode, no user preference.\n\t\t\t\tif ( LocalCacheData.getLoginUserPreference() ) {\n\t\t\t\t\t$this.setPlaceHolder( LocalCacheData.getLoginUserPreference().date_format_display );\n\t\t\t\t} else {\n\t\t\t\t\t$this.setPlaceHolder( 'dd-mmm-yy' );\n\t\t\t\t}\n\n\t\t\t} else if ( mode === 'date_time' ) {\n\t\t\t\tdate_picker_input = date_picker_input.datetimepicker( {\n\t\t\t\t\tshowOtherMonths: true,\n\t\t\t\t\tselectOtherMonths: true,\n\t\t\t\t\tdateFormat: format,\n\t\t\t\t\ttimeFormat: time_format,\n\t\t\t\t\tshowTime: true,\n\t\t\t\t\tshowHour: true,\n\t\t\t\t\tshowMinute: true,\n\t\t\t\t\tchangeMonth: true,\n\t\t\t\t\tchangeYear: true,\n\t\t\t\t\tshowButtonPanel: true,\n\t\t\t\t\tduration: '',\n\t\t\t\t\tshowAnim: '',\n\t\t\t\t\tshowOn: '',\n\t\t\t\t\tyearRange: '-100:+10',\n\t\t\t\t\tcloseText: close_text,\n\t\t\t\t\tdayNamesMin: day_name_min,\n\t\t\t\t\tmonthNamesShort: month_name_short,\n\t\t\t\t\tcurrentText: current_text,\n\t\t\t\t\tonClose: function() {\n\t\t\t\t\t\tis_open = false;\n\t\t\t\t\t\t$this.autoResize();\n\t\t\t\t\t\tif ( o.onClose ) {\n\t\t\t\t\t\t\to.onClose();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} );\n\t\t\t\t$this.setPlaceHolder( LocalCacheData.loginUserPreference.date_format_display + ' ' + LocalCacheData.loginUserPreference.time_format_display );\n\t\t\t}\n\n\t\t\tdate_picker_input.change( function() {\n\t\t\t\tif ( check_box ) {\n\t\t\t\t\t$this.setCheckBox( true );\n\t\t\t\t}\n\n\t\t\t\t$this.trigger( 'formItemChange', [$this] );\n\t\t\t\t$this.autoResize();\n\t\t\t} );\n\n\t\t\tdate_picker_input.mouseover( function() {\n\n\t\t\t\tif ( enabled ) {\n\t\t\t\t\tif ( error_string && error_string.length > 0 ) {\n\t\t\t\t\t\t$this.showErrorTip( 20 );\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t} );\n\n\t\t\tdate_picker_input.mouseout( function() {\n\t\t\t\tif ( !$( $this ).is( ':focus' ) ) {\n\t\t\t\t\t$this.hideErrorTip();\n\t\t\t\t}\n\t\t\t} );\n\n\t\t\tdate_picker_input.focusin( function( e ) {\n\t\t\t\tif ( !enabled ) {\n\t\t\t\t\tif ( !check_box ) {\n\t\t\t\t\t\tif ( LocalCacheData.current_open_sub_controller &&\n\t\t\t\t\t\t\tLocalCacheData.current_open_sub_controller.edit_view &&\n\t\t\t\t\t\t\tLocalCacheData.current_open_sub_controller.is_viewing ) {\n\t\t\t\t\t\t\terror_string = Global.view_mode_message;\n\t\t\t\t\t\t\t$this.showErrorTip( 10 );\n\t\t\t\t\t\t} else if ( LocalCacheData.current_open_primary_controller &&\n\t\t\t\t\t\t\tLocalCacheData.current_open_primary_controller.edit_view &&\n\t\t\t\t\t\t\tLocalCacheData.current_open_primary_controller.is_viewing ) {\n\t\t\t\t\t\t\terror_string = Global.view_mode_message;\n\t\t\t\t\t\t\t$this.showErrorTip( 10 );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\t\t\t\t\tif ( error_string && error_string.length > 0 ) {\n\t\t\t\t\t\t$this.showErrorTip( 20 );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} );\n\n\t\t\tdate_picker_input.focusout( function() {\n\t\t\t\t$this.hideErrorTip();\n\n\t\t\t} );\n\n\t\t\tif ( o.width > 0 ) {\n\t\t\t\t$this.width( o.width );\n\t\t\t\tis_static_width = true;\n\t\t\t} else {\n\t\t\t\t$this.autoResize();\n\t\t\t\tis_static_width = false;\n\t\t\t}\n\n\t\t\t$this.setDefaultWidgetValue();\n\n\t\t} );\n\n\t\treturn this;\n\n\t};\n\n\t$.fn.TDatePicker.defaults = {};\n\n} )( jQuery );\n","( function( $ ) {\n\n\t$.fn.TRangePicker = function( options ) {\n\t\tvar opts = $.extend( {}, $.fn.TRangePicker.defaults, options );\n\t\t//Global.addCss( 'global/widgets/datepicker/TDatePicker.css' );\n\n\t\tvar $this = this;\n\t\tvar field;\n\t\tvar validation_field;\n\t\tvar date_picker_input;\n\t\tvar icon;\n\t\tvar error_string = '';\n\t\tvar error_tip_box;\n\t\tvar mass_edit_mode = false;\n\t\tvar check_box = null;\n\t\tvar enabled = true;\n\t\tvar is_open = false;\n\t\tvar focus_out_timer;\n\t\tvar is_mouse_over = false;\n\t\tvar ranger_picker;\n\n\t\tvar range_start_picker;\n\t\tvar range_end_picker;\n\n\t\tvar result;\n\n\t\tvar editor;\n\n\t\tvar can_not_close = false;\n\n\t\tvar tab_bars;\n\n\t\tvar date_picker;\n\n\t\tvar default_width_by_format = {\n\t\t\t'DD-MMM-YY': 100,\n\t\t\t'ddd, MMMM DD YYYY': 170,\n\t\t\t'dddd, MMMM DD YYYY': 190,\n\t\t\t'DD-MMM-YYYY': 110,\n\t\t\t'DDMMMYYYY': 100,\n\t\t\t'DD/MM/YYYY': 100,\n\t\t\t'DD/MM/YY': 100,\n\t\t\t'DD-MM-YY': 100,\n\t\t\t'DD-MM-YYYY': 100,\n\t\t\t'MM/DD/YY': 100,\n\t\t\t'MM/DD/YYYY': 100,\n\t\t\t'MM-DD-YY': 100,\n\t\t\t'MM-DD-YYYY': 100,\n\t\t\t'YYYY-MM-DD': 100,\n\t\t\t'MMM-DD-YY': 100,\n\t\t\t'MMM-DD-YYYY': 110,\n\t\t\t'ddd, MMM DD YYYY': 140,\n\t\t\t'ddd, DD-MMM-YYYY': 140,\n\t\t\t'ddd, DDMMMYYYY': 130\n\t\t};\n\n\t\tthis.getEnabled = function() {\n\t\t\treturn enabled;\n\t\t};\n\n\t\tthis.setEnabled = function( val ) {\n\t\t\tenabled = val;\n\t\t\tif ( val === false || val === '' ) {\n\t\t\t\t$this.attr( 'disabled', 'true' );\n\t\t\t\tdate_picker_input.addClass( 't-date-picker-readonly' );\n\t\t\t\ticon.css( 'display', 'none' );\n//\t\t\t\tdate_picker_input.attr( 'readonly', 'readonly' )\n\t\t\t} else {\n\t\t\t\t$this.removeAttr( 'disabled' );\n\t\t\t\tdate_picker_input.removeClass( 't-date-picker-readonly' );\n\t\t\t\ticon.css( 'display', 'inline' );\n//\t\t\t\tdate_picker_input.removeAttr( 'readonly' );\n\t\t\t}\n\n\t\t};\n\n\t\tthis.setCheckBox = function( val ) {\n\t\t\tif ( check_box ) {\n\t\t\t\tcheck_box.children().eq( 0 )[0].checked = val;\n\t\t\t}\n\t\t};\n\n\t\tthis.isChecked = function() {\n\t\t\tif ( check_box ) {\n\t\t\t\tif ( check_box.children().eq( 0 )[0].checked === true ) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn false;\n\t\t};\n\n\t\tthis.setMassEditMode = function( val ) {\n\t\t\tmass_edit_mode = val;\n\n\t\t\tif ( mass_edit_mode ) {\n\t\t\t\tcheck_box = $( ' <div class=\"mass-edit-checkbox-wrapper\"><input type=\"checkbox\" class=\"mass-edit-checkbox\"></input>' +\n\t\t\t\t\t'<label for=\"checkbox-input-1\" class=\"input-helper input-helper--checkbox\"></label></div>' );\n\t\t\t\tcheck_box.insertBefore( $( this ) );\n\n\t\t\t\tcheck_box.change( function() {\n\t\t\t\t\t$this.trigger( 'formItemChange', [$this] );\n\t\t\t\t} );\n\n\t\t\t} else {\n\t\t\t\tif ( check_box ) {\n\t\t\t\t\tcheck_box.remove();\n\t\t\t\t\tcheck_box = null;\n\t\t\t\t}\n\t\t\t}\n\n\t\t};\n\n\t\tthis.setErrorStyle = function( errStr, show, isWarning ) {\n\t\t\tif ( isWarning ) {\n\t\t\t\tdate_picker_input.addClass( 'warning-tip' );\n\t\t\t} else {\n\t\t\t\tdate_picker_input.addClass( 'error-tip' );\n\t\t\t}\n\t\t\terror_string = errStr;\n\n\t\t\tif ( show ) {\n\t\t\t\tthis.showErrorTip();\n\t\t\t}\n\t\t};\n\n\t\tthis.showErrorTip = function( sec ) {\n\n\t\t\tif ( !Global.isSet( sec ) ) {\n\t\t\t\tsec = 2;\n\t\t\t}\n\n\t\t\tif ( !error_tip_box ) {\n\t\t\t\terror_tip_box = Global.loadWidgetByName( WidgetNamesDic.ERROR_TOOLTIP );\n\t\t\t\terror_tip_box = error_tip_box.ErrorTipBox();\n\t\t\t}\n\t\t\tif ( date_picker_input.hasClass( 'warning-tip' ) ) {\n\t\t\t\terror_tip_box.show( this, error_string, sec, true );\n\t\t\t} else {\n\t\t\t\terror_tip_box.show( this, error_string, sec );\n\t\t\t}\n\t\t};\n\n\t\tthis.hideErrorTip = function() {\n\n\t\t\tif ( Global.isSet( error_tip_box ) ) {\n\t\t\t\terror_tip_box.remove();\n\t\t\t}\n\n\t\t};\n\n\t\tthis.clearErrorStyle = function() {\n\t\t\tdate_picker_input.removeClass( 'error-tip' );\n\t\t\tdate_picker_input.removeClass( 'warning-tip' );\n\t\t\tthis.hideErrorTip();\n\t\t\terror_string = '';\n\t\t};\n\n\t\tthis.getField = function() {\n\t\t\treturn field;\n\t\t};\n\n\t\tthis.getValidationField = function() {\n\t\t\treturn validation_field;\n\t\t};\n\n\t\tthis.getDefaultFormatValue = function() {\n\t\t\tvar val = date_picker_input.val();\n\n\t\t\tval = Global.strToDate( val ).format( 'YYYY-MM-DD' );\n\n\t\t\treturn val;\n\t\t};\n\n\t\tthis.getValue = function() {\n\t\t\treturn result;\n\t\t};\n\n\t\tthis.setValue = function( val ) {\n\t\t\tif ( !val ) {\n\t\t\t\tval = '';\n\t\t\t}\n\t\t\tif ( $.type( val ) !== 'array' ) {\n\t\t\t\tresult = [val];\n\t\t\t\tdate_picker_input.val( val );\n\t\t\t\tdate_picker_input.removeAttr( 'readonly' );\n\t\t\t} else {\n\t\t\t\tresult = val;\n\t\t\t\tif ( val.length == 1 ) {\n\t\t\t\t\tdate_picker_input.val( val[0] );\n\t\t\t\t\tdate_picker_input.removeAttr( 'readonly' );\n\t\t\t\t} else {\n\t\t\t\t\tdate_picker_input.val( val.length + ' ' + $.i18n._( 'dates selected' ) );\n\t\t\t\t\tdate_picker_input.attr( 'readonly', 'readonly' );\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis.autoResize();\n\t\t};\n\n\t\tthis.autoResize = function() {\n\t\t\tvar content_width, example_width;\n\t\t\texample_width = Global.calculateTextWidth( LocalCacheData.getLoginUserPreference().date_format_display );\n\t\t\tcontent_width = Global.calculateTextWidth( date_picker_input.val(), {\n\t\t\t\tmin_width: example_width,\n\t\t\t\tmax_width: ( ( example_width * 2 ) + 100 ),\n\t\t\t\tpadding: 28\n\t\t\t} );\n\t\t\tdate_picker.width( content_width + 'px' );\n\t\t};\n\n\t\tthis.close = function() {\n\n\t\t\tif ( can_not_close ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar tab_index = tab_bars.tabs( 'option', 'active' );\n\n\t\t\tranger_picker.remove();\n\t\t\tis_open = false;\n\t\t\tLocalCacheData.openRangerPicker = null;\n\t\t\tis_mouse_over = false; //When close from esc, this maybe true\n\n\t\t\tif ( tab_index == 0 ) {\n\t\t\t\tresult = range_start_picker.val() + ' - ' + range_end_picker.val();\n\t\t\t\tdate_picker_input.val( result );\n\t\t\t\tdate_picker_input.attr( 'readonly', 'readonly' );\n\t\t\t} else {\n\t\t\t\tresult = editor.getValue();\n\n\t\t\t\tif ( result.length > 1 ) {\n\t\t\t\t\tdate_picker_input.val( result.length + ' ' + $.i18n._( 'dates selected' ) );\n\t\t\t\t\tdate_picker_input.attr( 'readonly', 'readonly' );\n\t\t\t\t} else {\n\t\t\t\t\tdate_picker_input.val( result[0] );\n\t\t\t\t\tdate_picker_input.removeAttr( 'readonly' );\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tthis.autoResize();\n\n\t\t\tsetTimeout( function() {\n\t\t\t\t$this.trigger( 'formItemChange', [$this] );\n\t\t\t}, 100 );\n//\n\n\t\t};\n\n\t\tthis.getIsMouseOver = function() {\n\t\t\treturn is_mouse_over;\n\t\t};\n\n\t\tvar insideEditorSetValue = function( val ) {\n\n\t\t\tvar len = val ? val.length : 0;\n\t\t\tthis.removeAllRows();\n\n\t\t\tif ( len > 0 ) {\n\t\t\t\tfor ( var i = 0; i < val.length; i++ ) {\n\t\t\t\t\tif ( Global.isSet( val[i] ) ) {\n\t\t\t\t\t\tvar row = val[i];\n\t\t\t\t\t\tthis.addRow( row );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tthis.addRow( '' );\n\t\t\t}\n\n\t\t};\n\n\t\t// Commented out due to its use of this._super (no longer valid in ES6 syntax) and it appears not to be used.\n\t\t// var setEditViewDataDone = function() {\n\t\t// \tthis._super( 'setEditViewDataDone' );\n\t\t// \tthis.initInsideEditorData();\n\t\t//\n\t\t// };\n\n\t\tvar initInsideEditorData = function() {\n\t\t\tvar $this = this;\n\n\t\t\tvar args = {};\n\t\t\targs.filter_data = {};\n\t\t\targs.filter_data.hierarchy_control_id = this.current_edit_record.id ? this.current_edit_record.id : ( this.copied_record_id ? this.copied_record_id : '' );\n\n\t\t\tif ( ( !this.current_edit_record || !this.current_edit_record.id ) && !this.copied_record_id ) {\n\t\t\t\tthis.editor.addRow();\n\t\t\t} else {\n\t\t\t\tthis.hierarchy_level_api.getHierarchyLevel( args, true, {\n\t\t\t\t\tonResult: function( res ) {\n\t\t\t\t\t\tif ( !$this.edit_view ) {\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tvar data = res.getResult();\n\n\t\t\t\t\t\t$this.editor.setValue( data );\n\n\t\t\t\t\t}\n\t\t\t\t} );\n\t\t\t}\n\n\t\t};\n\n\t\tvar insideEditorRemoveRow = function( row ) {\n\t\t\tvar index = row[0].rowIndex - 1;\n\t\t\trow.remove();\n\t\t\tthis.rows_widgets_array.splice( index, 1 );\n\t\t\tthis.removeLastRowLine();\n\t\t};\n\n\t\tvar insideEditorAddRow = function( data ) {\n\t\t\tif ( !data ) {\n\t\t\t\tdata = '';\n\t\t\t}\n\n\t\t\tif ( this.rows_widgets_array.length > 0 && !data ) {\n\t\t\t\tvar current_data = this.rows_widgets_array[this.rows_widgets_array.length - 1].start_date_stamp.getValue();\n\n\t\t\t\tif ( !current_data ) {\n\t\t\t\t\tcurrent_data = new Date();\n\t\t\t\t} else {\n\t\t\t\t\tcurrent_data = Global.strToDate( current_data );\n\t\t\t\t}\n\n\t\t\t\tcurrent_data = new Date( new Date( current_data.getTime() ).setDate( current_data.getDate() + 1 ) );\n\t\t\t\tdata = current_data.format();\n\n\t\t\t} else if ( this.rows_widgets_array.length === 0 && !data ) {\n\t\t\t\tdata = new Date().format();\n\t\t\t}\n\n\t\t\tvar row = this.getRowRender(); //Get Row render\n\t\t\tvar render = this.getRender(); //get render, should be a table\n\t\t\tvar widgets = {}; //Save each row's widgets\n\n\t\t\t//Build row widgets\n\n\t\t\t//Date\n\t\t\tvar form_item_input = Global.loadWidgetByName( FormItemType.DATE_PICKER );\n\t\t\tform_item_input.TDatePicker( {\n\t\t\t\tfield: 'start_date_stamp',\n\t\t\t\tbeforeShow: function() {\n\t\t\t\t\tcan_not_close = true;\n\t\t\t\t},\n\t\t\t\tonClose: function() {\n\t\t\t\t\tcan_not_close = false;\n\t\t\t\t}\n\t\t\t} );\n\n\t\t\t$( '.ranger-picker-dates-width-tr' ).width( form_item_input.width() + 80 );\n\n\t\t\tform_item_input.setValue( data );\n\t\t\twidgets[form_item_input.getField()] = form_item_input;\n\t\t\trow.children().eq( 0 ).append( form_item_input );\n\n\t\t\t$( render ).append( row );\n\n\t\t\tthis.rows_widgets_array.push( widgets );\n\n\t\t\tthis.addIconsEvent( row ); //Bind event to add and minus icon\n\t\t\tthis.removeLastRowLine();\n\t\t};\n\n\t\tvar insideEditorGetValue = function( current_edit_item_id ) {\n\t\t\tvar len = this.rows_widgets_array.length;\n\n\t\t\tvar result = [];\n\n\t\t\tfor ( var i = 0; i < len; i++ ) {\n\t\t\t\tvar row = this.rows_widgets_array[i];\n\t\t\t\tif ( row.start_date_stamp.getValue() ) {\n\t\t\t\t\tresult.push( row.start_date_stamp.getValue() );\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn result;\n\t\t};\n\n\t\tvar show = function() {\n\t\t\tranger_picker = $( Global.loadWidget( 'global/widgets/datepicker/TRangePicker.html' ) );\n\t\t\tvar tab_0_label = ranger_picker.find( 'a[ref=tab_range]' );\n\t\t\tvar tab_1_label = ranger_picker.find( 'a[ref=tab_date]' );\n\t\t\ttab_0_label.text( $.i18n._( 'Range' ) );\n\t\t\ttab_1_label.text( $.i18n._( 'Dates' ) );\n\t\t\trange_start_picker = ranger_picker.find( '#tab_range_content_div' ).find( '.start-picker' );\n\t\t\trange_end_picker = ranger_picker.find( '#tab_range_content_div' ).find( '.end-picker' );\n\t\t\tvar start_picker_label = ranger_picker.find( '#tab_range_content_div' ).find( '.start-picker-label' );\n\t\t\tvar end_picker_label = ranger_picker.find( '#tab_range_content_div' ).find( '.end-picker-label' );\n\t\t\tstart_picker_label.text( $.i18n._( 'Start' ) + ':' );\n\t\t\tend_picker_label.text( $.i18n._( 'End' ) + ':' );\n\t\t\tvar format = LocalCacheData.getLoginUserPreference().date_format_1;\n\n\t\t\t$.datepicker._gotoToday = function( id ) {\n\t\t\t\tvar target = $( id );\n\t\t\t\tvar inst = this._getInst( target[0] );\n\t\t\t\tif ( this._get( inst, 'gotoCurrent' ) && inst.currentDay ) {\n\t\t\t\t\tinst.selectedDay = inst.currentDay;\n\t\t\t\t\tinst.drawMonth = inst.selectedMonth = inst.currentMonth;\n\t\t\t\t\tinst.drawYear = inst.selectedYear = inst.currentYear;\n\t\t\t\t} else {\n\t\t\t\t\tvar date = new Date();\n\t\t\t\t\tinst.selectedDay = date.getDate();\n\t\t\t\t\tinst.drawMonth = inst.selectedMonth = date.getMonth();\n\t\t\t\t\tinst.drawYear = inst.selectedYear = date.getFullYear();\n\t\t\t\t\t// the below two lines are new\n\t\t\t\t\tthis._setDateDatepicker( target, date );\n\t\t\t\t\tthis._selectDate( id, this._getDateDatepicker( target ) );\n\t\t\t\t\t$( target ).datepicker( 'setDate', date );\n\t\t\t\t}\n\t\t\t\tthis._notifyChange( inst );\n\t\t\t\tthis._adjustDate( target );\n\t\t\t};\n\n\t\t\trange_start_picker.datepicker( {\n\t\t\t\tshowOtherMonths: true,\n\t\t\t\tselectOtherMonths: true,\n\t\t\t\tshowTime: false,\n\t\t\t\tdateFormat: format,\n\t\t\t\tshowHour: false,\n\t\t\t\tshowMinute: false,\n\t\t\t\tchangeMonth: true,\n\t\t\t\tchangeYear: true,\n\t\t\t\tshowButtonPanel: true,\n\t\t\t\tduration: '',\n\t\t\t\tshowAnim: '',\n\t\t\t\tyearRange: '-100:+10',\n\t\t\t\tshowOn: '',\n\t\t\t\tdayNamesMin: [\n\t\t\t\t\t$.i18n._( 'Sun' ), $.i18n._( 'Mon' ), $.i18n._( 'Tue' ),\n\t\t\t\t\t$.i18n._( 'Wed' ), $.i18n._( 'Thu' ), $.i18n._( 'Fri' ), $.i18n._( 'Sat' )\n\t\t\t\t],\n\t\t\t\tcurrentText: $.i18n._( 'Today' ),\n\t\t\t\tmonthNamesShort: [\n\t\t\t\t\t$.i18n._( 'Jan' ), $.i18n._( 'Feb' ),\n\t\t\t\t\t$.i18n._( 'Mar' ), $.i18n._( 'Apr' ), $.i18n._( 'May' ),\n\t\t\t\t\t$.i18n._( 'Jun' ), $.i18n._( 'Jul' ), $.i18n._( 'Aug' ),\n\t\t\t\t\t$.i18n._( 'Sep' ), $.i18n._( 'Oct' ), $.i18n._( 'Nov' ),\n\t\t\t\t\t$.i18n._( 'Dec' )\n\t\t\t\t],\n\t\t\t} );\n\n\t\t\trange_end_picker.datepicker( {\n\t\t\t\tshowOtherMonths: true,\n\t\t\t\tselectOtherMonths: true,\n\t\t\t\tshowTime: false,\n\t\t\t\tdateFormat: format,\n\t\t\t\tshowHour: false,\n\t\t\t\tshowMinute: false,\n\t\t\t\tchangeMonth: true,\n\t\t\t\tchangeYear: true,\n\t\t\t\tshowButtonPanel: true,\n\t\t\t\tduration: '',\n\t\t\t\tshowAnim: '',\n\t\t\t\tyearRange: '-100:+10',\n\t\t\t\tshowOn: '',\n\t\t\t\tdayNamesMin: [\n\t\t\t\t\t$.i18n._( 'Sun' ), $.i18n._( 'Mon' ), $.i18n._( 'Tue' ),\n\t\t\t\t\t$.i18n._( 'Wed' ), $.i18n._( 'Thu' ), $.i18n._( 'Fri' ), $.i18n._( 'Sat' )\n\t\t\t\t],\n\t\t\t\tcurrentText: $.i18n._( 'Today' ),\n\t\t\t\tmonthNamesShort: [\n\t\t\t\t\t$.i18n._( 'Jan' ), $.i18n._( 'Feb' ),\n\t\t\t\t\t$.i18n._( 'Mar' ), $.i18n._( 'Apr' ), $.i18n._( 'May' ),\n\t\t\t\t\t$.i18n._( 'Jun' ), $.i18n._( 'Jul' ), $.i18n._( 'Aug' ),\n\t\t\t\t\t$.i18n._( 'Sep' ), $.i18n._( 'Oct' ), $.i18n._( 'Nov' ),\n\t\t\t\t\t$.i18n._( 'Dec' )\n\t\t\t\t]\n\n\t\t\t} );\n\n\t\t\tvar close_icon = ranger_picker.find( '.close-icon' );\n\n\t\t\tclose_icon.click( function() {\n\t\t\t\t$this.close();\n\t\t\t} );\n\n\t\t\t//Add render in tab 1\n\n\t\t\tvar tab_date = ranger_picker.find( '#tab_date' );\n\n\t\t\tvar inside_editor_div = tab_date.find( '.inside-editor-div' );\n\t\t\tvar args = {\n\t\t\t\tstart_date_stamp: $.i18n._( 'Date' )\n\t\t\t};\n\n\t\t\teditor = Global.loadWidgetByName( FormItemType.INSIDE_EDITOR );\n\n\t\t\teditor = editor.InsideEditor( {\n\t\t\t\ttitle: '',\n\t\t\t\taddRow: insideEditorAddRow,\n\t\t\t\tgetValue: insideEditorGetValue,\n\t\t\t\tsetValue: insideEditorSetValue,\n\t\t\t\tremoveRow: insideEditorRemoveRow,\n\t\t\t\tparent_controller: this,\n\t\t\t\trender: 'global/widgets/datepicker/TRangeInsideEditorRender.html',\n\t\t\t\trender_args: args,\n\t\t\t\tapi: null,\n\t\t\t\trow_render: 'global/widgets/datepicker/TRangeInsideEditorRow.html'\n\t\t\t} );\n\n\t\t\tinside_editor_div.append( editor );\n\n\t\t\teditor.setValue();\n\n\t\t\t$( 'body' ).append( ranger_picker );\n\n\t\t\ttab_bars = $( ranger_picker.find( '.edit-view-tab-bar' ) );\n\n\t\t\ttab_bars = tab_bars.tabs( {\n\t\t\t\tactivate: function( e, ui ) {\n\n\t\t\t\t\tif ( !tab_bars || !tab_bars.is( ':visible' ) ) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t}\n\t\t\t} );\n\n\t\t\tranger_picker.mouseenter( function() {\n\t\t\t\tis_mouse_over = true;\n\t\t\t} );\n\n\t\t\tranger_picker.mouseleave( function() {\n\t\t\t\tis_mouse_over = false;\n\t\t\t} );\n\n\t\t\t//Set Position\n\n\t\t\tvar range_width = ranger_picker.width();\n\n\t\t\tif ( range_width + $( $this ).offset().left + 50 > Global.bodyWidth() ) {\n\t\t\t\tranger_picker.css( 'left', Global.bodyWidth() - range_width - 50 );\n\t\t\t} else {\n\n\t\t\t\tranger_picker.css( 'left', $( $this ).offset().left );\n\t\t\t}\n\n\t\t\tif ( $( $this ).offset().top + 25 + 300 < Global.bodyHeight() ) {\n\t\t\t\tranger_picker.css( 'top', $( $this ).offset().top + 25 );\n\t\t\t} else {\n\t\t\t\tranger_picker.css( 'top', Global.bodyHeight() - 300 );\n\t\t\t}\n\n\t\t\tLocalCacheData.openRangerPicker = $this;\n\n\t\t\tif ( result && ( typeof result == 'string' ) ) {\n\t\t\t\tvar result_array = result.split( ' - ' );\n\t\t\t\trange_start_picker.datepicker( 'setDate', result_array[0] );\n\t\t\t\trange_end_picker.datepicker( 'setDate', result_array[1] );\n\t\t\t} else if ( result && $.type( result ) === 'array' ) {\n\t\t\t\ttab_bars.tabs( 'option', 'active', 1 );\n\n\t\t\t\teditor.setValue( result );\n\t\t\t}\n\n\t\t};\n\n\t\tthis.setPlaceHolder = function( val ) {\n\t\t\tdate_picker_input.attr( 'placeholder', val );\n\t\t};\n\n\t\tthis.each( function() {\n\n\t\t\tvar o = $.meta ? $.extend( {}, opts, $( this ).data() ) : opts;\n\n\t\t\tdate_picker = $( this );\n\n\t\t\tfield = o.field;\n\t\t\tif ( o.validation_field ) {\n\t\t\t\tvalidation_field = o.validation_field;\n\t\t\t}\n\t\t\ticon = $( this ).find( '.t-date-picker-icon' );\n\t\t\tdate_picker_input = $( this ).find( '.t-date-picker' );\n\t\t\ticon.attr( 'src', Global.getRealImagePath( 'images/cal.png' ) );\n\n\t\t\t$this.setPlaceHolder( LocalCacheData.loginUserPreference.date_format_display );\n\n\t\t\tdate_picker_input.change( function() {\n\t\t\t\tif ( check_box ) {\n\t\t\t\t\t$this.setCheckBox( true );\n\t\t\t\t}\n\t\t\t\tresult = [date_picker_input.val()];\n\t\t\t\t$this.trigger( 'formItemChange', [$this] );\n\t\t\t\t$this.autoResize();\n\t\t\t\treturn true;\n\t\t\t} );\n\n\t\t\ticon.bind( 'mouseup', function() { //Need to use 'mouseup' event as main.js binds 'mousedown' for closing when clicked off.\n\t\t\t\tif ( !enabled ) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tif ( !is_open ) {\n\t\t\t\t\tshow();\n\t\t\t\t\tis_open = true;\n\t\t\t\t} else {\n\t\t\t\t\t$this.close();\n\t\t\t\t\tis_open = false;\n\t\t\t\t}\n\n\t\t\t} );\n\n\t\t\tdate_picker_input.mouseover( function() {\n\n\t\t\t\tif ( enabled ) {\n\t\t\t\t\tif ( error_string && error_string.length > 0 ) {\n\t\t\t\t\t\t$this.showErrorTip( 20 );\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t} );\n\n\t\t\tdate_picker_input.mouseout( function() {\n\t\t\t\tif ( !$( $this ).is( ':focus' ) ) {\n\t\t\t\t\t$this.hideErrorTip();\n\t\t\t\t}\n\t\t\t} );\n\n\t\t\t$this.autoResize();\n\n\t\t} );\n\n\t\treturn this;\n\n\t};\n\n\t$.fn.TRangePicker.defaults = {};\n\n} )( jQuery );\n","( function( $ ) {\n\n\t$.fn.ErrorTipBox = function( options ) {\n\t\tvar opts = $.extend( {}, $.fn.ErrorTipBox.defaults, options );\n\t\tvar $this = this;\n\t\tvar related_widget;\n\t\tvar timer;\n\n\t\tGlobal.addCss( 'global/widgets/error_tip/ErrorTipBox.css' );\n\n\t\tthis.cancelRemove = function() {\n\t\t\tif ( Global.isSet( timer ) ) {\n\t\t\t\tclearTimeout( timer );\n\t\t\t}\n\n\t\t};\n\n\t\tthis.show = function( target, error_string, sec, isWarning ) {\n\t\t\trelated_widget = target;\n\n\t\t\tif ( isWarning ) {\n\t\t\t\t$( this ).addClass( 'warningtip-box' );\n\t\t\t} else {\n\t\t\t\t$( this ).removeClass( 'warningtip-box' );\n\t\t\t}\n\n\t\t\tif ( $.type( error_string ) === 'array' ) {\n\t\t\t\terror_string = error_string.join( '<br>' );\n\t\t\t}\n\n\t\t\tvar error_tip_label = $( this ).find( '.errortip-label' );\n\t\t\terror_tip_label.html( error_string );\n\n\t\t\t$( this ).css( 'left', related_widget.offset().left + related_widget.width() + 5 );\n\n\t\t\tif ( related_widget.hasClass( 'a-combobox' ) ) {\n\t\t\t\t$( this ).css( 'top', related_widget.offset().top );\n\t\t\t} else {\n\t\t\t\t$( this ).css( 'top', related_widget.offset().top );\n\t\t\t}\n\n\t\t\t$( 'body' ).append( this );\n\n\t\t\tif ( sec > 0 ) {\n\t\t\t\ttimer = setTimeout( function() {\n\t\t\t\t\t$this.remove();\n\t\t\t\t}, sec * 1000 );\n\t\t\t}\n\t\t};\n\n\t\tthis.remove = function() {\n\t\t\t$( this ).remove();\n\t\t};\n\n\t\tthis.each( function() {\n\n\t\t\tvar o = $.meta ? $.extend( {}, opts, $( this ).data() ) : opts;\n\n\t\t} );\n\n\t\treturn this;\n\n\t};\n\n\t$.fn.ErrorTipBox.defaults = {};\n\n} )( jQuery );","( function( $ ) {\n\n\t$.fn.TFeedback = function( _options ) {\n\t\tvar options = $.extend( {\n\t\t\tsource: '',\n\t\t\tforce_source: false, // does not prepend viewId to source value\n\t\t\tdelay: 0,\n\t\t\tmanual_trigger: false,\n\t\t\tprompt_for_feedback: false, // Default is false so that only manual trigger, custom functions, or server input will make the feedback popup appear.\n\t\t\treview_link: 'https://www.timetrex.com/r?id=review&product_edition_id=' + Global.getProductEdition()\n\t\t}, _options );\n\n\t\t// DOM references for containers and pages\n\t\tvar feedback_container = Global.loadWidgetByName( FormItemType.FEEDBACK_BOX ); // Note: There is a .feedback-overlay div at the root of feedback_container controlled by CSS.\n\t\tvar page_title = feedback_container.find( '.top-bar-title' );\n\t\tvar all_pages = feedback_container.find( '.feedback-page' );\n\t\tvar default_page = feedback_container.find( '.feedback-page.default' );\n\t\tvar positive_page = feedback_container.find( '.feedback-page.positive' );\n\t\tvar negative_page = feedback_container.find( '.feedback-page.negative' );\n\n\t\tvar api = TTAPI.APIUser;\n\n\t\tvar feedback = {\n\t\t\tPOSITIVE: 'postitive',\n\t\t\tNEUTRAL: 'neutral',\n\t\t\tNEGATIVE: 'negative'\n\t\t};\n\n\t\tfunction init() {\n\n\t\t\t// check the feedback prompt status set by API\n\t\t\tif ( LocalCacheData.getLoginUser() && LocalCacheData.getLoginUser().prompt_for_feedback == true ) {\n\t\t\t\toptions.prompt_for_feedback = true;\n\t\t\t\tLocalCacheData.getLoginUser().prompt_for_feedback = false;\n\t\t\t\t// TODO: API Call to save the new value\n\t\t\t}\n\n\t\t\tif ( options.prompt_for_feedback ) {\n\t\t\t\t// Append current view id to the source\n\t\t\t\tif ( !options.force_source ) {\n\t\t\t\t\toptions.source = LocalCacheData.current_open_view_id + '@' + options.source;\n\t\t\t\t}\n\n\t\t\t\t// Initialise the default page (not visible until showFeedbackContainer() is triggered.\n\t\t\t\tshowPage( 'default' );\n\n\t\t\t\t// Display feedback dialog either immediately or with a delay\n\t\t\t\tif ( options.delay && options.delay > 0 ) {\n\t\t\t\t\tdelayShowFeedbackContainer( options.delay );\n\t\t\t\t} else {\n\t\t\t\t\tshowFeedbackContainer();\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tfunction getFeedbackType() {\n\t\t\tif ( options.manual_trigger ) {\n\t\t\t\treturn 'click';\n\t\t\t} else {\n\t\t\t\treturn 'popup';\n\t\t\t}\n\t\t}\n\n\t\t/**\n\t\t *\n\t\t * @param {number} duration - number of milliseconds to delay the feedback popup from showing.\n\t\t */\n\t\tfunction delayShowFeedbackContainer( duration ) {\n\t\t\tduration = duration || 0;\n\t\t\tDebug.Text( 'Setting feedback display delay to ' + duration, 'TFeedback.js', 'TFeedback', 'initDefaultPage', 10 );\n\t\t\tsetTimeout( function() {\n\t\t\t\tDebug.Text( 'Triggering delayed feedback display', 'TFeedback.js', 'TFeedback', 'initDefaultPage', 10 );\n\t\t\t\tshowFeedbackContainer();\n\t\t\t}, duration );\n\t\t}\n\n\t\tfunction showFeedbackContainer() {\n\t\t\tif ( $( '.feedback-container' ).length == 0 ) {\n\t\t\t\t$( 'body' ).append( feedback_container );\n\t\t\t} else {\n\t\t\t\tDebug.Text( 'ERROR: Feedback container already exists, halting to prevent duplicate popups.', 'TFeedback.js', 'TFeedback', 'initDefaultPage', 1 );\n\t\t\t}\n\t\t}\n\n\t\tfunction removeFeedbackContainer() {\n\t\t\tif ( Global.isSet( feedback_container ) ) {\n\t\t\t\tfeedback_container.remove();\n\t\t\t}\n\t\t}\n\n\t\tfunction initDefaultPage() {\n\t\t\tpage_title.html( $.i18n._( 'Feedback' ) );\n\t\t\tdefault_page.find( '.page-text' ).text( $.i18n._( 'Tell us what you think about TimeTrex?' ) );\n\n\t\t\tdefault_page.find( '.positive-button' )\n\t\t\t\t.html( $.i18n._( 'It\\'s great!' ) )\n\t\t\t\t.bind( 'click', function() {\n\t\t\t\t\tshowPage( 'positive' );\n\t\t\t\t\tDebug.Text( 'Feedback Analytics: Category: feedback, Action: ' + getFeedbackType() + ', Label: ' + getFeedbackType() + ':feedback:' + options.source + ':' + feedback.POSITIVE, 'TFeedback.js', 'TFeedback', 'initDefaultPage', 10 );\n\t\t\t\t\tGlobal.sendAnalyticsEvent( 'feedback', getFeedbackType(), getFeedbackType() + ':feedback:' + options.source + ':' + feedback.POSITIVE );\n\t\t\t\t\tsendDataToFeedbackAPI( feedback.POSITIVE, '' );\n\t\t\t\t} );\n\n\t\t\tdefault_page.find( '.negative-button' )\n\t\t\t\t.html( $.i18n._( 'Not so great' ) )\n\t\t\t\t.bind( 'click', function() {\n\t\t\t\t\tshowPage( 'negative' );\n\t\t\t\t\tDebug.Text( 'Feedback Analytics: Category: feedback, Action: ' + getFeedbackType() + ', Label: ' + getFeedbackType() + ':feedback:' + options.source + ':' + feedback.NEGATIVE, 'TFeedback.js', 'TFeedback', 'initDefaultPage', 10 );\n\t\t\t\t\tGlobal.sendAnalyticsEvent( 'feedback', getFeedbackType(), getFeedbackType() + ':feedback:' + options.source + ':' + feedback.NEGATIVE );\n\t\t\t\t\tsendDataToFeedbackAPI( feedback.NEGATIVE, '' );\n\t\t\t\t} );\n\n\t\t\tvar cancel_text;\n\t\t\tif ( options.manual_trigger ) {\n\t\t\t\tcancel_text = $.i18n._( 'Close' );\n\t\t\t} else {\n\t\t\t\tvar cancel_text = $.i18n._( 'Ask me later' );\n\t\t\t}\n\n\t\t\tdefault_page.find( '.cancel-button' )\n\t\t\t\t.html( cancel_text )\n\t\t\t\t.click( function() {\n\t\t\t\t\tremoveFeedbackContainer();\n\t\t\t\t\tDebug.Text( 'Feedback Analytics: Category: feedback, Action: ' + getFeedbackType() + ', Label: ' + getFeedbackType() + ':feedback:' + options.source + ':' + feedback.NEUTRAL, 'TFeedback.js', 'TFeedback', 'initDefaultPage', 10 );\n\t\t\t\t\tGlobal.sendAnalyticsEvent( 'feedback', getFeedbackType(), getFeedbackType() + ':feedback:' + options.source + ':' + feedback.NEUTRAL );\n\t\t\t\t\tsendDataToFeedbackAPI( feedback.NEUTRAL, '' );\n\t\t\t\t} );\n\n\t\t\tDebug.Text( 'Feedback Analytics: Category: feedback, Action: ' + getFeedbackType() + ', Label: ' + getFeedbackType() + ':feedback:' + options.source, 'TFeedback.js', 'TFeedback', 'initDefaultPage', 10 );\n\t\t\tGlobal.sendAnalyticsEvent( 'feedback', getFeedbackType(), getFeedbackType() + ':feedback:' + options.source );\n\t\t}\n\n\t\tfunction initPositivePage() {\n\t\t\tvar feedback_rating = feedback.POSITIVE;\n\t\t\tpage_title.html( $.i18n._( 'Feedback' ) );\n\t\t\tpositive_page.find( '.page-text.block1' ).text( $.i18n._( 'It thrills us to hear you think TimeTrex is great!' ) );\n\t\t\tpositive_page.find( '.page-text.block2' ).text( $.i18n._( 'Share your experience and WIN a tasty lunch for your team!' ) );\n\t\t\tpositive_page.find( '.page-text.block3' ).text( $.i18n._( 'We\\'ll select one winner each month.' ) );\n\t\t\tpositive_page.find( '.openReviewPageButton' )\n\t\t\t\t.html( $.i18n._( 'Share experience' ) )\n\t\t\t\t.bind( 'click', function() {\n\t\t\t\t\tDebug.Text( 'Feedback Analytics: Category: feedback, Action: ' + getFeedbackType() + '-Link, Label: submit:feedback:' + options.source + ':' + feedback_rating, 'TFeedback.js', 'TFeedback', 'initPositivePage', 10 );\n\t\t\t\t\tGlobal.sendAnalyticsEvent( 'feedback', getFeedbackType() + '-link', 'submit:' + getFeedbackType() + ':feedback:' + options.source + ':' + feedback_rating );\n\t\t\t\t\tsendDataToFeedbackAPI( feedback_rating, '', false );\n\t\t\t\t\ttriggerFeedbackReviewAPI( 1, true );\n\t\t\t\t\twindow.open( options.review_link, '_blank', 'review_link' );\n\t\t\t\t} );\n\t\t\tpositive_page.find( '.cancel-button' )\n\t\t\t\t.html( $.i18n._( 'I\\'m not hungry' ) ) //Skip the Lunch\n\t\t\t\t.click( function() {\n\t\t\t\t\ttriggerFeedbackReviewAPI( 0, true );\n\t\t\t\t\tDebug.Text( 'Feedback: Category: feedback, Action: cancel, Label: cancel:feedback:' + options.source + ':' + feedback_rating, 'TFeedback.js', 'TFeedback', 'cancelButtonClick', 10 );\n\t\t\t\t\tGlobal.sendAnalyticsEvent( 'feedback', 'cancel', 'cancel:feedback:' + options.source + ':' + feedback_rating );\n\t\t\t\t} );\n\t\t}\n\n\t\tfunction initNegativePage() {\n\t\t\tvar feedback_rating = feedback.NEGATIVE;\n\t\t\tvar user_contact = getUserContactDetails();\n\t\t\tvar form_messagebox = negative_page.find( '.feedback-messagebox' );\n\t\t\tvar form_email = negative_page.find( '.feedback-email' );\n\t\t\tvar form_phone = negative_page.find( '.feedback-phone' );\n\n\t\t\tpage_title.html( $.i18n._( 'Feedback' ) );\n\t\t\tnegative_page.find( '.page-text' ).html( $.i18n._( 'We\\'re all ears!<br>What improvements do you think we should make?' ) );\n\t\t\tnegative_page.find( '.contact-notice-text' ).html( $.i18n._( 'What is the best way to contact you?' ) );\n\t\t\tnegative_page.find( '.email-label-text' ).html( $.i18n._( 'Email' ) );\n\t\t\tnegative_page.find( '.phone-label-text' ).html( $.i18n._( 'Phone' ) );\n\t\t\tform_email.val( user_contact.user_email );\n\t\t\tform_phone.val( user_contact.user_phone );\n\n\t\t\tnegative_page.find( '.sendButton' )\n\t\t\t\t.html( $.i18n._( 'Send' ) )\n\t\t\t\t.click( _sendForm );\n\t\t\tnegative_page.find( '.cancel-button' )\n\t\t\t\t.html( $.i18n._( 'Back' ) )\n\t\t\t\t.click( function() {\n\t\t\t\t\tshowPage( 'default' );\n\t\t\t\t\tDebug.Text( 'Feedback: Category: feedback, Action: cancel, Label: cancel:feedback:' + options.source + ':' + feedback_rating, 'TFeedback.js', 'TFeedback', 'cancelButtonClick', 10 );\n\t\t\t\t\tGlobal.sendAnalyticsEvent( 'feedback', 'cancel', 'cancel:feedback:' + options.source + ':' + feedback_rating );\n\t\t\t\t} );\n\n\t\t\tfunction _sendForm() {\n\t\t\t\tvar message = '';\n\t\t\t\tif ( form_messagebox.val().length > 0 ) {\n\t\t\t\t\tmessage = form_messagebox.val() + '\\nEmail: ' + form_email.val() + '\\nPhone: ' + form_phone.val();\n\t\t\t\t}\n\t\t\t\tDebug.Text( 'Feedback Analytics: Category: feedback, Action: submit, Label: submit:feedback:' + options.source + ':' + feedback_rating, 'TFeedback.js', 'TFeedback', 'initNegativePage._sendForm', 10 );\n\t\t\t\tGlobal.sendAnalyticsEvent( 'feedback', 'submit', 'submit:feedback:' + options.source + ':' + feedback_rating );\n\n\t\t\t\tsendDataToFeedbackAPI( feedback_rating, message, true );\n\t\t\t}\n\t\t}\n\n\t\tfunction showPage( page ) {\n\t\t\t// Set i18n translation text and pre-populate any data fields for requested page, then load page.\n\t\t\tswitch ( page ) {\n\t\t\t\tcase 'positive':\n\t\t\t\t\tinitPositivePage();\n\t\t\t\t\tall_pages.hide();\n\t\t\t\t\tpositive_page.show();\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'negative':\n\t\t\t\t\tinitNegativePage();\n\t\t\t\t\tall_pages.hide();\n\t\t\t\t\tnegative_page.show();\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tinitDefaultPage();\n\t\t\t\t\tall_pages.hide();\n\t\t\t\t\tdefault_page.show();\n\t\t\t}\n\t\t}\n\n\t\tfunction getUserContactDetails() {\n\t\t\tvar current_user_api = TTAPI.APIAuthentication;\n\t\t\tvar user = current_user_api.getCurrentUser( { async: false } );\n\t\t\tuser = user.getResult();\n\t\t\tvar user_email;\n\t\t\tif ( user.work_email != false && user.work_email != '' ) {\n\t\t\t\tuser_email = user.work_email;\n\t\t\t} else if ( user.home_email != false ) {\n\t\t\t\tuser_email = user.home_email;\n\t\t\t}\n\t\t\tvar user_phone;\n\t\t\tif ( user.work_phone != false && user.work_phone != '' ) {\n\t\t\t\tuser_phone = user.work_phone;\n\t\t\t} else if ( user.home_phone != false ) {\n\t\t\t\tuser_phone = user.home_phone;\n\t\t\t}\n\n\t\t\treturn {\n\t\t\t\tuser_email: user_email,\n\t\t\t\tuser_phone: user_phone\n\t\t\t};\n\t\t}\n\n\t\tfunction sendDataToFeedbackAPI( feedback_rating, message, close_window ) {\n\t\t\tif ( options.source ) {\n\t\t\t\tmessage += '\\n\\nFeedback source: ' + options.source;\n\t\t\t}\n\n\t\t\tapi.setUserFeedbackRating( feedback_rating, message, {\n\t\t\t\tonResult: function( res ) {\n\t\t\t\t\tif ( res.isValid() ) {\n\t\t\t\t\t\tif ( close_window ) {\n\t\t\t\t\t\t\tremoveFeedbackContainer();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} );\n\t\t}\n\n\t\tfunction triggerFeedbackReviewAPI( review_state, close_window ) {\n\t\t\tapi.setUserFeedbackReview( review_state, {\n\t\t\t\tonResult: function( res ) {\n\t\t\t\t\tif ( res.isValid() ) {\n\t\t\t\t\t\tif ( close_window ) {\n\t\t\t\t\t\t\tremoveFeedbackContainer();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} );\n\t\t}\n\n\t\t// this.each is typical jQuery format to apply the actions to all elements in the jQuery selector. In this case, not needed as we attach manually to the body tag, and won't work on empty selectors.\n\t\t// this.each( function() {\n\t\t// \tinit();\n\t\t// } );\n\n\t\tinit();\n\n\t\treturn this;\n\t};\n\n} )( jQuery );\n","( function( $ ) {\n\n\t$.fn.InsideEditor = function( options ) {\n\n\t\tGlobal.addCss( 'global/widgets/inside_editor/InsideEditor.css' );\n\t\tvar opts = $.extend( {}, $.fn.InsideEditor.defaults, options );\n\n\t\tvar $this = this;\n\t\tvar field;\n\t\tvar row_render;\n\t\tvar render;\n\n\t\tthis.rows_widgets_array = null;\n\t\tthis.delete_ids = null;\n\t\tthis.addRow = null;\n\t\tthis.setValue = null;\n\t\tthis.getValue = null; // set outside\n\t\tthis.removeRow = null;\n\t\tthis.updateAllRows = null;\n\t\tthis.editor_data = null;\n\t\tthis.onFormItemChange = null;\n\n\t\tthis.parent_controller = null;\n//\t\tthis.parent_id = null;\n\n\t\tthis.api = null;\n\n\t\tthis.setValue = function( val ) {\n\t\t\tif ( val && val.length > 0 ) {\n\t\t\t\tthis.setValue( val );\n\t\t\t} else {\n\t\t\t\tthis.addRow();\n\t\t\t}\n\t\t};\n\n\t\tthis.getRender = function() {\n\t\t\treturn render;\n\t\t};\n\n\t\tthis.getRowRender = function() {\n\t\t\treturn row_render.clone();\n\t\t};\n\n\t\tthis.clearErrorStyle = function() {\n\n\t\t};\n\n\t\tthis.getField = function() {\n\t\t\treturn field;\n\t\t};\n\n\t\tthis.setTitle = function( val ) {\n\t\t\tvar title = $this.children().eq( 0 );\n\n\t\t\ttitle.text( val );\n\n\t\t};\n\n\t\tthis.removeLastRowLine = function() {\n\t\t\tvar table = this.find( '.inside-editor-render' );\n\t\t\tvar trs = table.find( 'tr' );\n\t\t\ttable.find( 'td' ).removeClass( 'no-line' );\n\n\t\t\tvar last_tr = trs.eq( trs.length - 1 );\n\n\t\t\tlast_tr.find( 'td' ).addClass( 'no-line' );\n\t\t};\n\n\t\tthis.removeAllRows = function( include_header ) {\n\t\t\tvar table = this.find( '.inside-editor-render' );\n\t\t\tvar trs = table.find( 'tr' );\n\t\t\tif ( include_header ) {\n\n\t\t\t\ttable.find( 'tr' ).each( function() {\n\t\t\t\t\t$( this ).remove();\n\t\t\t\t} );\n\n\t\t\t} else {\n\t\t\t\ttable.find( 'tr.inside-editor-row' ).remove();\n\t\t\t}\n\n\t\t\tthis.rows_widgets_array = [];\n\t\t};\n\n\t\tthis.setWidgetEnableBaseOnParentController = function( form_item_input ) {\n\t\t\tif ( this.parent_controller.is_viewing ) {\n\t\t\t\tform_item_input.setEnabled( false );\n\t\t\t} else {\n\t\t\t\tform_item_input.setEnabled( true );\n\t\t\t}\n\t\t};\n\n\t\tthis.addIconsEvent = function( row ) {\n\t\t\tvar plus_icon = row.find( '.plus-icon' );\n\t\t\tvar minus_icon = row.find( '.minus-icon' );\n\n\t\t\tplus_icon.click( function() {\n\t\t\t\t$this.addRow( null, $( this ).parents( 'tr' ).index(), row );\n\t\t\t} );\n\n\t\t\tminus_icon.click( function() {\n\t\t\t\t$this.removeRow( row );\n\n\t\t\t\tif ( render.find( 'tr' ).length === 1 ) {\n\t\t\t\t\t$this.addRow();\n\t\t\t\t}\n\n\t\t\t} );\n\n\t\t};\n\n\t\tthis.getDefaultData = function( index ) {\n\n\t\t\tif ( Global.isSet( this.api ) ) {\n\t\t\t\tthis.api['get' + this.api.key_name + 'DefaultData']( {\n\t\t\t\t\tonResult: function( result ) {\n\t\t\t\t\t\tvar result_data = result.getResult();\n\t\t\t\t\t\tresult_data.id = false;\n\n\t\t\t\t\t\tif ( !result_data ) {\n\t\t\t\t\t\t\tresult_data = [];\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t$this.addRow( result_data, index );\n\n\t\t\t\t\t}\n\t\t\t\t} );\n\t\t\t}\n\t\t};\n\n\t\tthis.each( function() {\n\t\t\tvar o = $.meta ? $.extend( {}, opts, $( this ).data() ) : opts;\n\t\t\tif ( o.title ) {\n\t\t\t\t$this.setTitle( o.title );\n\t\t\t}\n\t\t\tif ( o.onFormItemChange ) {\n\t\t\t\t$this.onFormItemChange = o.onFormItemChange;\n\t\t\t}\n\t\t\t$this.rows_widgets_array = [];\n\t\t\t$this.delete_ids = [];\n\t\t\t$this.addRow = o.addRow;\n\t\t\t$this.removeRow = o.removeRow;\n\t\t\t$this.getValue = o.getValue;\n\t\t\t$this.setValue = o.setValue;\n\t\t\t$this.parent_controller = o.parent_controller;\n\t\t\t$this.api = o.api;\n\t\t\t$this.updateAllRows = o.updateAllRows;\n\t\t\trender = Global.loadWidget( o.render );\n\t\t\trow_render = $( Global.loadWidget( o.row_render ) );\n\t\t\tvar args = o.render_args;\n\t\t\tvar template = _.template( render );\n\t\t\tvar render_div = $this.children().eq( 1 );\n\t\t\trender_div.append( template( args ) );\n\t\t\trender = $( render_div.find( '.inside-editor-render' ) );\n\n\t\t} );\n\n\t\t// Sets data as modified when a widget triggers onFormItemChange.\n\t\t// Some inside editor widgets bind their own formItemChange and to prevent unintended interactions we only set data changed.\n\t\t$this.bind( 'formItemChange', function( e, target ) {\n\t\t\t// Fix issue #2885: Error: Uncaught TypeError: o.parent_controller.setIsChanged is not a function.\n\t\t\t// This was happening in TimeSheet -> New Punch and opening the inside editor for dates and changing a date.\n\t\t\tif ( typeof $this.parent_controller.setIsChanged === 'function' ) {\n\t\t\t\t$this.parent_controller.setIsChanged( target );\n\t\t\t}\n\t\t} );\n\n\t\treturn this;\n\n\t};\n\n\t$.fn.InsideEditor.defaults = {};\n\n} )( jQuery );","( function( $ ) {\n\n\t$.fn.TGridHeader = function( options ) {\n\t\tvar opts = $.extend( {}, $.fn.TGridHeader.defaults, options );\n\n\t\tvar sort_type = true;\n\n\t\tvar sort_number = null;\n\n\t\tvar column_model = null; //Column model from Grid\n\n\t\tvar $this = this;\n\n\t\tGlobal.addCss( 'global/widgets/jqgrid/TGridHeader.css' );\n\n\t\tthis.getColumnModel = function() {\n\t\t\treturn column_model;\n\t\t};\n\n\t\tthis.setSortStyle = function( sort_type, index ) {\n\t\t\tvar sortIcon = $( '<img class=\\'t-grid-header-sort-icon\\'></img>' );\n\n\t\t\tif ( sort_type === 'asc' ) {\n\n\t\t\t\tsortIcon.attr( 'src', Global.getRealImagePath( 'images/sort_up.png' ) );\n\n\t\t\t} else {\n\t\t\t\tsortIcon.attr( 'src', Global.getRealImagePath( 'images/sort_down.png' ) );\n\t\t\t}\n\n\t\t\tthis.append( sortIcon );\n\n\t\t\tif ( index > 0 ) {\n\t\t\t\tvar sortNumberSpan = $( '<span class=\\'t-grid-header-sort-number\\'>' + index + '</span>' );\n\n\t\t\t\tthis.append( sortNumberSpan );\n\t\t\t}\n\n\t\t};\n\n\t\tthis.getWidth = function() {\n\t\t\treturn $( this ).parent().width();\n\t\t};\n\n\t\tthis.cleanSortStyle = function() {\n\t\t\tvar sortIcon = this.find( 'img' );\n\t\t\tvar sort_number = this.find( 'span[class=t-grid-header-sort-number]' );\n\n\t\t\tif ( sortIcon.length > 0 ) {\n\t\t\t\t$( sortIcon ).remove();\n\t\t\t}\n\n\t\t\tif ( sort_number.length > 0 ) {\n\t\t\t\t$( sort_number ).remove();\n\t\t\t}\n\t\t};\n\n\t\t//For multiple items like .xxx could contains a few widgets.\n\t\tthis.each( function() {\n\t\t\tvar o = $.meta ? $.extend( {}, opts, $( this ).data() ) : opts;\n\n\t\t\tif ( o.column_model ) {\n\n\t\t\t\tcolumn_model = o.column_model;\n\t\t\t}\n\n\t\t\t$( this ).click( function( e ) {\n\n\t\t\t\t$( $this ).trigger( 'headerClick', [e, column_model] );\n\n\t\t\t} );\n\n\t\t} );\n\n\t\treturn this;\n\n\t};\n\n\t$.fn.TGridHeader.defaults = {};\n\n} )( jQuery );","( function( $ ) {\n\n\t$.fn.TList = function( options ) {\n\t\tvar opts = $.extend( {}, $.fn.TList.defaults, options );\n\t\tvar $this = this;\n\t\tvar field;\n\t\tvar source_data = null;\n\n\t\tvar select_value = null;\n\n\t\tvar set_empty = false;\n\n\t\tvar set_any = false;\n\n\t\tvar set_select_item_when_set_source_data = false;\n\n\t\tvar error_string = '';\n\t\tvar error_tip_box;\n\n\t\tvar mass_edit_mode = false;\n\n\t\tvar check_box = null;\n\n\t\tvar enabled = true;\n\n\t\tthis.getEnabled = function() {\n\t\t\treturn enabled;\n\t\t};\n\n\t\tthis.setEnabled = function( val ) {\n\t\t\tenabled = val;\n\n\t\t\tif ( val === false || val === '' ) {\n\t\t\t\t$this.attr( 'disabled', 'true' );\n\t\t\t\t$this.addClass( 't-select-readonly' );\n\t\t\t} else {\n\t\t\t\t$this.removeAttr( 'disabled' );\n\t\t\t\t$this.removeClass( 't-select-readonly' );\n\t\t\t}\n\n\t\t};\n\n\t\tthis.setCheckBox = function( val ) {\n\t\t\tif ( check_box ) {\n\t\t\t\tcheck_box.children().eq( 0 )[0].checked = val;\n\t\t\t}\n\t\t};\n\n\t\tthis.isChecked = function() {\n\t\t\tif ( check_box ) {\n\t\t\t\tif ( check_box.children().eq( 0 )[0].checked === true ) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn false;\n\t\t};\n\n\t\tthis.setMassEditMode = function( val ) {\n\t\t\tmass_edit_mode = val;\n\n\t\t\tif ( mass_edit_mode ) {\n\t\t\t\tcheck_box = $( ' <div class=\"mass-edit-checkbox-wrapper\"><input type=\"checkbox\" class=\"mass-edit-checkbox\"></input>' +\n\t\t\t\t\t'<label for=\"checkbox-input-1\" class=\"input-helper input-helper--checkbox\"></label></div>' );\n\t\t\t\tcheck_box.insertBefore( $( this ) );\n\n\t\t\t\tcheck_box.change( function() {\n\t\t\t\t\t$this.trigger( 'formItemChange', [$this] );\n\t\t\t\t} );\n\t\t\t} else {\n\t\t\t\tif ( check_box ) {\n\t\t\t\t\tcheck_box.remove();\n\t\t\t\t\tcheck_box = null;\n\t\t\t\t}\n\t\t\t}\n\n\t\t};\n\n\t\tthis.setErrorStyle = function( errStr, show, isWarning ) {\n\t\t\tif ( isWarning ) {\n\t\t\t\t$( this ).addClass( 'warning-tip' );\n\t\t\t} else {\n\t\t\t\t$( this ).addClass( 'error-tip' );\n\t\t\t}\n\t\t\terror_string = errStr;\n\n\t\t\tif ( show ) {\n\t\t\t\tthis.showErrorTip();\n\t\t\t}\n\t\t};\n\n\t\tthis.showErrorTip = function( sec ) {\n\n\t\t\tif ( !Global.isSet( sec ) ) {\n\t\t\t\tsec = 2;\n\t\t\t}\n\n\t\t\tif ( !error_tip_box ) {\n\t\t\t\terror_tip_box = Global.loadWidgetByName( WidgetNamesDic.ERROR_TOOLTIP );\n\t\t\t\terror_tip_box = error_tip_box.ErrorTipBox();\n\t\t\t}\n\t\t\tif ( $( this ).hasClass( 'warning-tip' ) ) {\n\t\t\t\terror_tip_box.show( this, error_string, sec, true );\n\t\t\t} else {\n\t\t\t\terror_tip_box.show( this, error_string, sec );\n\t\t\t}\n\t\t};\n\n\t\tthis.hideErrorTip = function() {\n\n\t\t\tif ( Global.isSet( error_tip_box ) ) {\n\t\t\t\terror_tip_box.remove();\n\t\t\t}\n\n\t\t};\n\n\t\tthis.clearErrorStyle = function() {\n\t\t\t$( this ).removeClass( 'error-tip' );\n\t\t\t$( this ).removeClass( 'warning-tip' );\n\t\t\tthis.hideErrorTip();\n\t\t\terror_string = '';\n\t\t};\n\n\t\tthis.getField = function() {\n\t\t\treturn field;\n\t\t};\n\n\t\tthis.getValue = function() {\n\n\t\t\tvar result = [];\n\t\t\tvar select_items = $( this ).children( 'option:selected' );\n\t\t\tvar len = select_items.length;\n\t\t\tif ( len > 0 ) {\n\t\t\t\tfor ( var i = 0; i < len; i++ ) {\n\t\t\t\t\tvar item = select_items.eq( i );\n\t\t\t\t\tresult.push( item.attr( 'value' ) );\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn result;\n\t\t};\n\n\t\tthis.setValue = function( val ) {\n\n\t\t\tselect_value = val;\n\n\t\t\tif ( !source_data || ( set_empty && source_data.length === 1 ) || ( set_any && source_data.length === 1 ) ) {\n\t\t\t\tset_select_item_when_set_source_data = true;\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif ( !val ) {\n\t\t\t\tif ( set_empty ) {\n\t\t\t\t\tval = '0';\n\t\t\t\t} else if ( set_any ) {\n\t\t\t\t\tval = '-1';\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t$( $( this ).find( 'option' ) ).removeAttr( 'selected' );\n\n\t\t\t$( $( this ).find( 'option' ) ).filter( function() {\n\n\t\t\t\tif ( val === null || val === undefined ) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\n\t\t\t\tvar result = false;\n\t\t\t\tif ( $.type( val ) === 'array' ) {\n\t\t\t\t\tfor ( var i = 0; i < val.length; i++ ) {\n\t\t\t\t\t\tvar item = val[i];\n\n\t\t\t\t\t\tif ( item.toString() === $( this ).attr( 'value' ) ) {\n\t\t\t\t\t\t\tresult = true;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tresult = ( $( this ).attr( 'value' ) === val.toString() );\n\t\t\t\t}\n\n\t\t\t\treturn result;\n\n\t\t\t} ).prop( 'selected', true ).attr( 'selected', true );\n\n\t\t};\n\n\t\tthis.setSourceData = function( val ) {\n\n\t\t\t$( this ).empty();\n\n\t\t\tif ( !Global.isSet( val ) || val.length < 1 ) {\n\t\t\t\tif ( set_empty ) {\n\t\t\t\t\tval = Global.addFirstItemToArray( val, 'empty' );\n\t\t\t\t} else if ( set_any ) {\n\t\t\t\t\tval = Global.addFirstItemToArray( val, 'any' );\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif ( set_empty ) {\n\n\t\t\t\t\tif ( val[0].value !== '0' ) {\n\t\t\t\t\t\tval = Global.addFirstItemToArray( val, 'empty' );\n\t\t\t\t\t}\n\n\t\t\t\t} else if ( set_any ) {\n\t\t\t\t\tif ( val[0].value !== '-1' ) {\n\t\t\t\t\t\tval = Global.addFirstItemToArray( val, 'any' );\n\t\t\t\t\t}\n\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tsource_data = val;\n\n\t\t\tvar len = val.length;\n\t\t\tfor ( var i = 0; i < len; i++ ) {\n\t\t\t\tvar item = val[i];\n\t\t\t\t$( this ).append( '<option value=\"' + item.value + '\">' + item.label + '</option>' );\n\t\t\t}\n\n\t\t\tif ( set_select_item_when_set_source_data ) {\n\t\t\t\tthis.setValue( select_value );\n\t\t\t}\n\n\t\t};\n\n\t\tthis.each( function() {\n\n\t\t\tvar o = $.meta ? $.extend( {}, opts, $( this ).data() ) : opts;\n\n\t\t\tif ( o.set_empty ) {\n\t\t\t\tset_empty = o.set_empty;\n\t\t\t}\n\n\t\t\tif ( o.set_any ) {\n\t\t\t\tset_any = o.set_any;\n\t\t\t}\n\n\t\t\tif ( o.mass_edit_mode ) {\n\t\t\t\tmass_edit_mode = o.mass_edit_mode;\n\t\t\t}\n\n\t\t\tfield = o.field;\n\n\t\t\t$( this ).change( function() {\n\n\t\t\t\tif ( !enabled ) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tif ( check_box ) {\n\t\t\t\t\t$this.setCheckBox( true );\n\t\t\t\t}\n\n\t\t\t\t$this.trigger( 'formItemChange', [$this] );\n\t\t\t} );\n\n\t\t\t$( this ).click( function() {\n\t\t\t\tif ( !enabled ) {\n\t\t\t\t\tif ( !check_box ) {\n\t\t\t\t\t\tif ( LocalCacheData.current_open_sub_controller &&\n\t\t\t\t\t\t\tLocalCacheData.current_open_sub_controller.edit_view &&\n\t\t\t\t\t\t\tLocalCacheData.current_open_sub_controller.is_viewing ) {\n\t\t\t\t\t\t\terror_string = Global.view_mode_message;\n\t\t\t\t\t\t\t$this.showErrorTip( 10 );\n\t\t\t\t\t\t} else if ( LocalCacheData.current_open_primary_controller &&\n\t\t\t\t\t\t\tLocalCacheData.current_open_primary_controller.edit_view &&\n\t\t\t\t\t\t\tLocalCacheData.current_open_primary_controller.is_viewing ) {\n\t\t\t\t\t\t\terror_string = Global.view_mode_message;\n\t\t\t\t\t\t\t$this.showErrorTip( 10 );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} );\n\n\t\t\t$( this ).mouseover( function() {\n\n\t\t\t\tif ( enabled ) {\n\t\t\t\t\tif ( error_string && error_string.length > 0 ) {\n\t\t\t\t\t\t$this.showErrorTip( 20 );\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t} );\n\n\t\t\t$( this ).mouseout( function() {\n\t\t\t\t$this.hideErrorTip();\n\t\t\t} );\n\n\t\t} );\n\n\t\treturn this;\n\n\t};\n\n\t$.fn.TList.defaults = {};\n\n} )( jQuery );","( function( $ ) {\n\n\t$.fn.NoHierarchyBox = function( options ) {\n\t\tvar opts = $.extend( {}, $.fn.NoHierarchyBox.defaults, options );\n\t\tvar field;\n\t\tvar related_view_controller;\n\n\t\tthis.each( function() {\n\n\t\t\tvar o = $.meta ? $.extend( {}, opts, $( this ).data() ) : opts;\n\n\t\t\tif ( o.related_view_controller ) {\n\t\t\t\trelated_view_controller = o.related_view_controller;\n\t\t\t}\n\n\t\t\tvar label = $( this ).find( '.label' );\n\t\t\tvar icon = $( this ).find( '.icon' );\n\t\t\tvar message = $( this ).find( '.message' );\n\n\t\t\tvar ribbon_button = $( this ).find( '.ribbon-button' );\n\t\t\t;\n\n\t\t\tmessage.text( Global.no_hierarchy_message );\n\t\t\ticon.attr( 'src', Global.getRealImagePath( 'css/global/widgets/ribbon/icons/' + Icons.hierarchy ) );\n\t\t\tlabel.html( $.i18n._( 'Hierarchy' ) );\n\n\t\t\tvar len = related_view_controller.context_menu_array.length;\n\n\t\t\tif ( !PermissionManager.checkTopLevelPermission( 'HierarchyControl' ) ) {\n\t\t\t\tribbon_button.addClass( 'disable-image' );\n\t\t\t}\n\n\t\t\tribbon_button.bind( 'click', function() {\n\n\t\t\t\tif ( ribbon_button.hasClass( 'disable-image' ) ) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tTopMenuManager.goToView( 'HierarchyControl' );\n\t\t\t} );\n\n\t\t} );\n\n\t\treturn this;\n\n\t};\n\n\t$.fn.NoHierarchyBox.defaults = {};\n\n} )( jQuery );","( function( $ ) {\n\n\t$.fn.NoResultBox = function( options ) {\n\n\t\tGlobal.addCss( 'global/widgets/message_box/NoResultBox.css' );\n\t\tvar opts = $.extend( {}, $.fn.NoResultBox.defaults, options );\n\t\tvar related_view_controller;\n\t\tvar message = Global.no_result_message;\n\t\tvar iconLabel = '';\n\n\t\tthis.each( function() {\n\n\t\t\tvar o = $.meta ? $.extend( {}, opts, $( this ).data() ) : opts;\n\n\t\t\tif ( o.related_view_controller ) {\n\t\t\t\trelated_view_controller = o.related_view_controller;\n\t\t\t}\n\n\t\t\tif ( o.message ) {\n\t\t\t\tmessage = o.message;\n\t\t\t}\n\n\t\t\tif ( o.iconLabel ) {\n\t\t\t\ticonLabel = o.iconLabel;\n\t\t\t} else {\n\t\t\t\ticonLabel = $.i18n._( 'New' );\n\t\t\t}\n\n\t\t\tvar ribbon_button = $( this ).find( '.ribbon-button' );\n\t\t\tvar ribbon_button_div = $( this ).find( '.add-div' );\n\t\t\tvar label = $( this ).find( '.label' );\n\t\t\tvar icon = $( this ).find( '.icon' );\n\t\t\tvar message_div = $( this ).find( '.message' );\n\n\t\t\tribbon_button_div.css( 'display', 'block' );\n\n\t\t\tif ( o.is_new ) {\n\n\t\t\t\ticon.attr( 'src', Global.getRealImagePath( 'css/global/widgets/ribbon/icons/' + Icons.new_add ) );\n\t\t\t\tlabel.text( iconLabel );\n\n\t\t\t\tribbon_button.bind( 'click', function() {\n\t\t\t\t\trelated_view_controller.onAddClick();\n\t\t\t\t} );\n\n\t\t\t} else if ( o.is_edit ) {\n\n\t\t\t\ticon.attr( 'src', Global.getRealImagePath( 'css/global/widgets/ribbon/icons/' + Icons.edit ) );\n\t\t\t\tlabel.text( $.i18n._( 'Edit' ) );\n\n\t\t\t\tribbon_button.bind( 'click', function() {\n\t\t\t\t\trelated_view_controller.onEditClick();\n\t\t\t\t} );\n\n\t\t\t} else {\n\n\t\t\t\tribbon_button_div.css( 'display', 'none' );\n\t\t\t}\n\n\t\t\tmessage_div.text( message );\n\n\t\t} );\n\n\t\treturn this;\n\n\t};\n\n\t$.fn.NoResultBox.defaults = {};\n\n} )( jQuery );","( function( $ ) {\n\n\t$.fn.SaveAndContinueBox = function( options ) {\n\t\tvar opts = $.extend( {}, $.fn.SaveAndContinueBox.defaults, options );\n\t\tvar field;\n\t\tvar related_view_controller;\n\n\t\tthis.each( function() {\n\n\t\t\tvar o = $.meta ? $.extend( {}, opts, $( this ).data() ) : opts;\n\n\t\t\tif ( o.related_view_controller ) {\n\t\t\t\trelated_view_controller = o.related_view_controller;\n\t\t\t}\n\n\t\t\tvar label = $( this ).find( '.label' );\n\t\t\tvar icon = $( this ).find( '.icon' );\n\t\t\tvar message = $( this ).find( '.message' );\n\n\t\t\tvar ribbon_button = $( this ).find( '.ribbon-button' );\n\n\t\t\tmessage.text( Global.save_and_continue_message );\n\t\t\ticon.attr( 'src', Global.getRealImagePath( 'css/global/widgets/ribbon/icons/' + Icons.save_and_continue ) );\n\t\t\tlabel.html( $.i18n._( 'Save<br>& Continue' ) );\n\n\t\t\tvar len = related_view_controller.context_menu_array.length;\n\n\t\t\tfor ( var i = 0; i < len; i++ ) {\n\t\t\t\tvar context_btn = $( related_view_controller.context_menu_array[i] );\n\t\t\t\tvar id = $( context_btn.find( '.ribbon-sub-menu-icon' ) ).attr( 'id' );\n\t\t\t\tif ( id === ContextMenuIconName.save_and_continue ) {\n\t\t\t\t\tif ( context_btn.hasClass( 'invisible-image' ) || context_btn.hasClass( 'disable-image' ) ) {\n\t\t\t\t\t\tribbon_button.addClass( 'disable-image' );\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tribbon_button.bind( 'click', function() {\n\n\t\t\t\tif ( ribbon_button.hasClass( 'disable-image' ) ) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\trelated_view_controller.onSaveAndContinue();\n\t\t\t} );\n\n\t\t} );\n\n\t\treturn this;\n\n\t};\n\n\t$.fn.SaveAndContinueBox.defaults = {};\n\n} )( jQuery );","( function( $ ) {\n\n\t$.fn.RibbonSubMenuNavWidget = function( options ) {\n\t\tvar opts = $.extend( {}, $.fn.RibbonSubMenuNavWidget.defaults, options );\n\n\t\tvar $this = this;\n\n\t\tvar is_mouse_over = false;\n\n\t\tthis.close = function() {\n\t\t\tthis.remove();\n\t\t\tLocalCacheData.openRibbonNaviMenu = null;\n\t\t};\n\n\t\tthis.getIsMouseOver = function() {\n\t\t\treturn is_mouse_over;\n\t\t};\n\n\t\tthis.each( function() {\n\n\t\t\tvar o = $.meta ? $.extend( {}, opts, $( this ).data() ) : opts;\n\n\t\t\t$( this ).mouseenter( function() {\n\t\t\t\tis_mouse_over = true;\n\t\t\t} );\n\n\t\t\t$( this ).mouseleave( function() {\n\t\t\t\tis_mouse_over = false;\n\t\t\t} );\n\n\t\t} );\n\n\t\treturn this;\n\n\t};\n\n\t$.fn.RibbonSubMenuNavWidget.defaults = {};\n\n} )( jQuery );","( function( $ ) {\n\n\t$.fn.SearchPanel = function( options ) {\n\t\tvar opts = $.extend( {}, $.fn.SearchPanel.defaults, options );\n\n\t\tvar is_collapsed = true;\n\n\t\tvar layouts_array = null;\n\n\t\tvar related_view_controller = null;\n\n\t\tvar $this = this;\n\n\t\tvar tab;\n\n\t\tvar select_tab_index = 0;\n\n\t\tvar select_tab = null;\n\n\t\tvar last_select_tab_index = 0;\n\n\t\tvar last_select_tab = null;\n\n\t\tvar trigger_change_event = true;\n\n\t\tvar hidedAdvTab = false;\n\n//\t\tGlobal.addCss( 'global/widgets/search_panel/SearchPanel.css' );\n\n\t\tthis.isAdvTabVisible = function() {\n\t\t\treturn !hidedAdvTab;\n\t\t};\n\n\t\tthis.isCollapsed = function() {\n\t\t\treturn is_collapsed;\n\t\t};\n\n\t\tthis.hideAdvSearchPanel = function() {\n\t\t\t$( tab ).find( 'li[aria-controls=adv_search]' ).remove();\n\t\t\thidedAdvTab = true;\n\t\t};\n\n\t\tthis.setSearchFlag = function( filter ) {\n\t\t\tvar basic_tab = this.find( 'a[href=\\'#basic_search\\']' );\n\t\t\tvar adv_tab = this.find( 'a[href=\\'#adv_search\\']' );\n\n\t\t\tbasic_tab.removeClass( 'active-label' );\n\t\t\tadv_tab.removeClass( 'active-label' );\n\n\t\t\tvar hasFilter = false;\n\t\t\tfor ( var key in filter ) {\n\t\t\t\tif ( key === 'country' && filter[key].value == TTUUID.not_exist_id ) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\t//For Documents view\n\t\t\t\tif ( $.inArray( key, ['private', 'template','is_attachment' ] ) !== -1 && filter[key].value == false ) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\t// For Authorizations views\n\t\t\t\tif ( key === 'hierarchy_level' && ( filter[key].value == 1 || filter[key].value.value == 1 ) ) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\thasFilter = true;\n\t\t\t}\n\n\t\t\tif ( hasFilter ) {\n\t\t\t\t$( this ).find( '.search-flag' ).remove();\n\t\t\t\tif ( select_tab_index === 0 || hidedAdvTab ) {\n\t\t\t\t\tbasic_tab.addClass( 'active-label' );\n\t\t\t\t\tbasic_tab.html( $.i18n._( 'BASIC SEARCH' ) + '<img title=\\'' + $.i18n._( 'Search is currently active' ) + '\\' src=\\'' + Global.getRealImagePath( 'css/global/widgets/ribbon/icons/alert-16x16.png' ) + '\\' class=\\'search-flag\\'> </img>' );\n\t\t\t\t} else {\n\t\t\t\t\tadv_tab.addClass( 'active-label' );\n\t\t\t\t\tadv_tab.html( $.i18n._( 'ADVANCED SEARCH' ) + '<img title=\\'' + $.i18n._( 'Search is currently active' ) + '\\' src=\\'' + Global.getRealImagePath( 'css/global/widgets/ribbon/icons/alert-16x16.png' ) + '\\' class=\\'search-flag\\'> </img>' );\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t$( this ).find( '.search-flag' ).remove();\n\t\t\t}\n\n\t\t};\n\n\t\t//Don't trgiiger tab event in some case. Like first set filter to search panel\n\t\tthis.setSelectTabIndex = function( val, triggerEvent ) {\n\n\t\t\tif ( select_tab_index === val ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif ( Global.isSet( triggerEvent ) ) {\n\t\t\t\ttrigger_change_event = triggerEvent;\n\t\t\t} else {\n\t\t\t\ttrigger_change_event = true;\n\t\t\t}\n\n\t\t\t$( tab ).tabs( 'option', 'active', val );\n\t\t};\n\n\t\tthis.getLastSelectTabIndex = function() {\n\t\t\treturn last_select_tab_index;\n\t\t};\n\n\t\tthis.getLastSelectTabId = function() {\n\n\t\t\tif ( !last_select_tab ) {\n\t\t\t\treturn 'basic_search';\n\t\t\t}\n\n\t\t\treturn $( last_select_tab.tab ).attr( 'ref' );\n\t\t};\n\n\t\tthis.getSelectTabIndex = function() {\n\t\t\treturn select_tab_index;\n\t\t};\n\n\t\tthis.getLayoutsArray = function() {\n\t\t\treturn layouts_array;\n\t\t};\n\n\t\tfunction setGridSize() {\n\t\t\tif ( related_view_controller.grid ) {\n\t\t\t\trelated_view_controller.setGridSize();\n\t\t\t\trelated_view_controller.setGridColumnsWidth();\n\n\t\t\t\tif ( related_view_controller.column_selector ) { //This doesn't exist on Attendance -> TimeSheet, Basic Search. JS exception: TypeError: related_view_controller.column_selector is null\n\t\t\t\t\trelated_view_controller.column_selector.setGridColumnsWidths(); //It seems that browser optimize out scrollBar calculations until the DOM is actually visible, so need to do this at the last moment.\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t//Set Select Layout combobox\n\t\tthis.setLayoutsArray = function( val ) {\n\t\t\tlayouts_array = val;\n\t\t\tvar layout_selector = $( this ).find( '#layout_selector' );\n\t\t\tvar layout_selector_div = $( this ).find( '.layout-selector-div' );\n\n\t\t\t$( layout_selector ).empty();\n\n\t\t\tif ( layouts_array && layouts_array.length > 0 ) {\n\t\t\t\tvar len = layouts_array.length;\n\t\t\t\tfor ( var i = 0; i < len; i++ ) {\n\t\t\t\t\tvar item = layouts_array[i];\n\t\t\t\t\t$( layout_selector ).append( $( '<option value=\"' + item.id + '\"></option>' ).text( item.name ) );\n\t\t\t\t}\n\n\t\t\t\t$( $( layout_selector ).find( 'option' ) ).filter( function() {\n\n\t\t\t\t\t//Saved layout id should always be number\n\t\t\t\t\treturn $( this ).attr( 'value' ) == related_view_controller.select_layout.id;\n\t\t\t\t} ).prop( 'selected', true ).attr( 'selected', true );\n\n\t\t\t\t$( layout_selector_div ).css( 'display', 'block' );\n\n\t\t\t} else {\n\t\t\t\t$( layout_selector_div ).css( 'display', 'none' );\n\t\t\t}\n\n\t\t};\n\n\t\tthis.setReleatedViewController = function( val ) {\n\t\t\trelated_view_controller = val;\n\t\t};\n\n\t\t//For multiple items like .xxx could contains a few widgets.\n\t\tthis.each( function() {\n\t\t\tvar o = $.meta ? $.extend( {}, opts, $( this ).data() ) : opts;\n\n\t\t\tvar basic_tab = $( this ).find( 'a[href=\\'#basic_search\\']' );\n\t\t\tvar adv_tab = $( this ).find( 'a[href=\\'#adv_search\\']' );\n\t\t\tvar layout_tab = $( this ).find( 'a[href=\\'#saved_layout\\']' );\n\n\t\t\tvar current_view_label = $( this ).find( '.current-view-label' );\n\n\t\t\tbasic_tab.html( $.i18n._( 'BASIC SEARCH' ) );\n\t\t\tadv_tab.html( $.i18n._( 'ADVANCED SEARCH' ) );\n\t\t\tlayout_tab.html( $.i18n._( 'SAVED SEARCH & LAYOUT' ) );\n\t\t\tcurrent_view_label.html( $.i18n._( 'Current View' ) + ':' );\n\n\t\t\ttab = $( this ).find( '.search-panel-tab-bar' );\n\n\t\t\tvar collapseBtn = $( this ).find( '#collapseBtn' );\n\n\t\t\tvar tabDiv = $( this ).find( '.search-panel-tab-outside' );\n\n\t\t\tvar tabContentDiv = $( this ).find( '.search-panel-tab' );\n\n\t\t\tvar layout_selector = $( this ).find( '#layout_selector' );\n\n\t\t\tvar column_selector = Global.loadWidget( 'global/widgets/awesomebox/ADropDown.html' );\n\n\t\t\tvar searchButtonDiv = $( this ).find( '.search-btn-div' );\n\n\t\t\tvar refresh_btn = $( this ).find( '#refreshBtn' );\n\n\t\t\trefresh_btn.bind( 'click', function() {\n\t\t\t\trefresh_btn.addClass( 'button-rotate' );\n\t\t\t\trelated_view_controller.search();\n\t\t\t\tGlobal.triggerAnalyticsNavigationOther( 'click:refresh_data', 'click', related_view_controller.viewId );\n\t\t\t} );\n\n\t\t\t$( searchButtonDiv ).css( 'display', 'none' );\n\t\t\tvar searchBtn = $( searchButtonDiv ).find( '#searchBtn' );\n\t\t\tvar clearSearchBtn = $( searchButtonDiv ).find( '#clearSearchBtn' );\n\n\t\t\tsearchBtn.text( $.i18n._( 'Search' ) );\n\t\t\tclearSearchBtn.text( $.i18n._( 'Clear Search' ) );\n\n\t\t\tsearchBtn.click( function() {\n\t\t\t\t//Delay 100 to make sure awesomebox values are set in select value\n\t\t\t\tsetTimeout( function() {\n\t\t\t\t\trelated_view_controller.onSearch();\n\t\t\t\t}, 100 );\n\n\t\t\t} );\n\n\t\t\tclearSearchBtn.click( function() {\n\t\t\t\trelated_view_controller.onClearSearch();\n\t\t\t} );\n\n\t\t\trelated_view_controller = o.viewController;\n\n\t\t\t$( layout_selector ).on( 'change', function() {\n\t\t\t\trelated_view_controller.layout_changed = true;\n\n\t\t\t\tvar selectId = $( layout_selector ).find( 'option:selected' ).attr( 'value' );\n\t\t\t\tvar len = layouts_array.length;\n\t\t\t\tfor ( var i = 0; i < len; i++ ) {\n\t\t\t\t\tvar item = layouts_array[i];\n\n\t\t\t\t\tif ( item.id == selectId ) {\n\t\t\t\t\t\trelated_view_controller.select_layout = item;\n\t\t\t\t\t\trelated_view_controller.setSelectLayout();\n\t\t\t\t\t\trelated_view_controller.search();\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\n\t\t\t\t}\n\t\t\t\tGlobal.triggerAnalyticsNavigationOther( 'searchpanel:layout_change', 'click', related_view_controller.viewId );\n\t\t\t} );\n\n\t\t\t// Switch and expand search panel on tab changes.\n\t\t\t$( tab ).tabs( { 'activate': onMenuSelect } );\n\n\t\t\t// Expand search panel on an already active tab click.\n\t\t\t$( tab ).find( 'li' ).click( function( e ) {\n\t\t\t\tif ( is_collapsed ) {\n\t\t\t\t\tonCollapseBtnClick();\n\t\t\t\t}\n\t\t\t} );\n\n\t\t\tfunction onMenuSelect( e, ui ) {\n\t\t\t\tlast_select_tab_index = select_tab_index;\n\n\t\t\t\tlast_select_tab = select_tab;\n\n\t\t\t\tselect_tab_index = ui.newTab.index();\n\n\t\t\t\tselect_tab = ui;\n\n\t\t\t\tif ( trigger_change_event ) {\n\n\t\t\t\t\t$this.trigger( 'searchTabSelect', [e, ui.newPanel] );\n\t\t\t\t} else {\n\t\t\t\t\ttrigger_change_event = true;\n\t\t\t\t}\n\n\t\t\t\tif ( is_collapsed ) {\n\t\t\t\t\tonCollapseBtnClick();\n\t\t\t\t}\n\n\t\t\t\tsetGridSize();\n\n\t\t\t\t//delayCaller would cause \"flashing\" when switching between Basic/Advanced/Saved Search tabs.\n\t\t\t\t// var delayCaller = setInterval( function() {\n\t\t\t\t// \tif ( related_view_controller.grid ) {\n\t\t\t\t// \t\tclearInterval( delayCaller );\n\t\t\t\t// \t\tsetGridSize();\n\t\t\t\t// \t}\n\t\t\t\t// }, 1 );\n\n\t\t\t\tGlobal.triggerAnalyticsTabs( e, ui );\n\t\t\t}\n\n\t\t\t$( collapseBtn ).click( onCollapseBtnClick );\n\n\t\t\tfunction onCollapseBtnClick() {\n\t\t\t\tif ( is_collapsed ) {\n\t\t\t\t\tis_collapsed = false;\n\t\t\t\t\t$( collapseBtn ).removeClass( 'expend-btn' );\n\n\t\t\t\t\t$( tabDiv ).removeClass( 'search-panel-tab-outside-collapse' );\n\t\t\t\t\t$( tabContentDiv ).removeClass( 'search-panel-tab-collapse' );\n\n\t\t\t\t\t$( searchButtonDiv ).css( 'display', 'block' );\n\n\t\t\t\t} else {\n\t\t\t\t\tis_collapsed = true;\n\t\t\t\t\t$( collapseBtn ).addClass( 'expend-btn' );\n\t\t\t\t\t$( tabDiv ).addClass( 'search-panel-tab-outside-collapse' );\n\t\t\t\t\t$( tabContentDiv ).addClass( 'search-panel-tab-collapse' );\n\n\t\t\t\t\t$( searchButtonDiv ).css( 'display', 'none' );\n\t\t\t\t}\n\n\t\t\t\tsetGridSize();\n\t\t\t}\n\n\t\t\t// function resizeGrid() {\n\t\t\t// \tif (!interval) {\n\t\t\t// \t\tvar interval = setInterval(function () {\n\t\t\t// \t\t\tif ( related_view_controller.grid ) {\n\t\t\t// \t\t\t\tclearInterval(interval);\n\t\t\t// \t\t\t\tvar offset = $('.search-panel').outerHeight() + $('.search-btn-div').outerHeight() + $('.total-number-div').outerHeight() + $('.grid-top-border').outerHeight() + $('.grid-bottom-border').outerHeight() + $('.search-panel-tab-bar').outerHeight() + $('.copyright-container').outerHeight();\n\t\t\t// \t\t\t\tvar height = parseInt($('#contentContainer').height() - offset);\n\t\t\t// \t\t\t\tif ( height != related_view_controller.grid.getGridHeight() ) {\n\t\t\t// \t\t\t\t\trelated_view_controller.grid.setGridHeight(height);\n\t\t\t// \t\t\t\t\t$('.grid-div').height('auto');\n\t\t\t// \t\t\t\t}\n\t\t\t// \t\t\t}\n\t\t\t// \t\t}, 100 );\n\t\t\t// \t}\n\t\t\t// }\n\n\t\t} );\n\n\t\treturn this;\n\n\t};\n\n\t$.fn.SearchPanel.defaults = {};\n\n} )( jQuery );","( function( $ ) {\n\n\t$.fn.SeparatedBox = function( options ) {\n\t\tvar opts = $.extend( {}, $.fn.SeparatedBox.defaults, options );\n\n\t\tvar $this = this;\n\n\t\tvar label = '';\n\n\t\tvar field;\n\n\t\tthis.getField = function() {\n\t\t\treturn field;\n\t\t};\n\n\t\tthis.setValue = function() {\n\n\t\t};\n\n\t\tthis.getValue = function() {\n\n\t\t};\n\n\t\tthis.setErrorStyle = function( errStr, show ) {\n\n\t\t};\n\n\t\tthis.showErrorTip = function( sec ) {\n\n\t\t};\n\n\t\tthis.hideErrorTip = function() {\n\n\t\t};\n\n\t\tthis.clearErrorStyle = function() {\n\n\t\t};\n\n\t\tthis.each( function() {\n\n\t\t\tvar o = $.meta ? $.extend( {}, opts, $( this ).data() ) : opts;\n\n\t\t\tfield = o.field;\n\n\t\t\tvar label_span = $( this ).find( '.label' );\n\n\t\t\tlabel = o.label;\n\n\t\t\tlabel_span.text( label );\n\n\t\t} );\n\n\t\treturn this;\n\n\t};\n\n\t$.fn.SeparatedBox.defaults = {};\n\n} )( jQuery );","( function( $ ) {\n\n\t$.fn.TTagInput = function( options ) {\n\t\tvar opts = $.extend( {}, $.fn.TTagInput.defaults, options );\n\t\tvar $this = this;\n\t\tvar field;\n\n\t\tvar add_tag_input = null;\n\n\t\tvar tag_span_dic = [];\n\n\t\tvar close_btn = null;\n\n\t\tvar mass_edit_mode = false;\n\n\t\tvar check_box = null;\n\n\t\tvar enabled = true;\n\n\t\tvar error_string = '';\n\n\t\tvar error_tip_box;\n\n\t\tvar api_tag;\n\n\t\tvar object_type_id = -1;\n\n\t\tthis.showErrorTip = function( sec ) {\n\n\t\t\tif ( !Global.isSet( sec ) ) {\n\t\t\t\tsec = 2;\n\t\t\t}\n\n\t\t\tif ( !error_tip_box ) {\n\t\t\t\terror_tip_box = Global.loadWidgetByName( WidgetNamesDic.ERROR_TOOLTIP );\n\t\t\t\terror_tip_box = error_tip_box.ErrorTipBox();\n\t\t\t}\n\t\t\tif ( $( this ).hasClass( 'warning-tip' ) ) {\n\t\t\t\terror_tip_box.show( this, error_string, sec, true );\n\t\t\t} else {\n\t\t\t\terror_tip_box.show( this, error_string, sec );\n\t\t\t}\n\t\t};\n\n\t\tthis.hideErrorTip = function() {\n\n\t\t\tif ( Global.isSet( error_tip_box ) ) {\n\t\t\t\terror_tip_box.remove();\n\t\t\t}\n\n\t\t};\n\n\t\tthis.getEnabled = function() {\n\t\t\treturn enabled;\n\t\t};\n\n\t\tthis.setEnabled = function( val ) {\n\t\t\tenabled = val;\n\t\t\tif ( val === false || val === '' ) {\n\t\t\t\t$this.addClass( 't-tag-input-readonly' );\n\t\t\t\tadd_tag_input.addClass( 'add-tag-input-readonly' );\n\t\t\t\tadd_tag_input.attr( 'disabled', true );\n\t\t\t} else {\n\t\t\t\t$this.removeClass( 't-tag-input-readonly' );\n\t\t\t\tadd_tag_input.removeClass( 'add-tag-input-readonly' );\n\t\t\t\tadd_tag_input.removeAttr( 'disabled' );\n\t\t\t}\n//\t\t\t  $this.children().attr( 'disabled', 'true' );\n\n\t\t};\n\n\t\tthis.setCheckBox = function( val ) {\n\t\t\tif ( check_box ) {\n\t\t\t\tcheck_box.children().eq( 0 )[0].checked = val;\n\t\t\t}\n\t\t};\n\n\t\tthis.isChecked = function() {\n\t\t\tif ( check_box ) {\n\t\t\t\tif ( check_box.children().eq( 0 )[0].checked === true ) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn false;\n\t\t};\n\n\t\tthis.setMassEditMode = function( val ) {\n\t\t\tmass_edit_mode = val;\n\n\t\t\tif ( mass_edit_mode ) {\n\t\t\t\tcheck_box = $( ' <div class=\"mass-edit-checkbox-wrapper tag-mass-edit-checkbox-wrapper\"><input type=\"checkbox\" class=\"mass-edit-checkbox\"></input>' +\n\t\t\t\t\t'<label for=\"checkbox-input-1\" class=\"input-helper input-helper--checkbox\"></label></div>' );\n\t\t\t\tcheck_box.insertBefore( $( this ) );\n\n\t\t\t\tcheck_box.change( function() {\n\t\t\t\t\t$this.trigger( 'formItemChange', [$this] );\n\t\t\t\t} );\n\n\t\t\t} else {\n\t\t\t\tif ( check_box ) {\n\t\t\t\t\tcheck_box.remove();\n\t\t\t\t\tcheck_box = null;\n\t\t\t\t}\n\t\t\t}\n\n\t\t};\n\n\t\tthis.clearErrorStyle = function() {\n\n\t\t};\n\n\t\tthis.getField = function() {\n\t\t\treturn field;\n\t\t};\n\n\t\tGlobal.addCss( 'global/widgets/tag_input/TTagInput.css' );\n\n\t\tthis.getValue = function() {\n\n\t\t\tvar value = '';\n\n\t\t\tfor ( var key in tag_span_dic ) {\n\t\t\t\t// Error: Unable to get property 'find' of undefined or null reference in /interface/html5/global/widgets/tag_input/TTagInput.js?v=8.0.6-20150417-143734 line 116\n\t\t\t\tif ( tag_span_dic[key] ) {\n\t\t\t\t\tvalue = value + tag_span_dic[key].find( '.tag-span' ).text() + ',';\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tvalue = value.substring( 0, value.length - 1 );\n\n\t\t\treturn value;\n\t\t};\n\n\t\tthis.setValue = function( val ) {\n\n\t\t\t$this.buildTagSpan( val );\n\t\t};\n\n\t\tthis.buildTagSpan = function( val ) {\n\n\t\t\tif ( !val ) {\n\t\t\t\tval = '';\n\t\t\t}\n\n\t\t\tfor ( var key in tag_span_dic ) {\n\t\t\t\t// Error: Unable to get property 'remove' of undefined or null reference in /interface/html5/global/widgets/tag_input/TTagInput.js?v=8.0.6-20150417-143734 line 136\n\t\t\t\tif ( tag_span_dic[key] ) {\n\t\t\t\t\ttag_span_dic[key].remove();\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\ttag_span_dic = {};\n\n\t\t\tvar tagArray = val.split( ',' );\n\n\t\t\tif ( tagArray && tagArray.length === 1 && tagArray[0] === '' ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t$.each( tagArray, function( index, content ) {\n\n\t\t\t\tvar delete_mode = false;\n\t\t\t\tif ( content.indexOf( '[search-deleted]' ) > 0 || content.indexOf( '-' ) === 0 ) {\n\t\t\t\t\tcontent = content.split( '[search-deleted]' )[0];\n\t\t\t\t\tdelete_mode = true;\n\t\t\t\t}\n\n\t\t\t\tvar tagSpanDiv = $( '<div class=\\'tag-span-div\\'></div>' );\n\t\t\t\tvar close_btn = $( '<span  class=\\'close-btn\\'>X</span>' );\n\t\t\t\tvar tagSpan = $( '<span class=\\'tag-span\\'></span>' );\n\n\t\t\t\tif ( delete_mode ) {\n\t\t\t\t\ttagSpanDiv.addClass( 'removed' );\n\t\t\t\t}\n\n\t\t\t\tclose_btn.attr( 'data-value', content );\n\t\t\t\ttagSpan.text( content );\n\n\t\t\t\tvar doing_dblclick = false;\n\t\t\t\tclose_btn.dblclick( function( e ) {\n\t\t\t\t\tdoing_dblclick = true;\n\t\t\t\t\tif ( !enabled ) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\tvar value = $( this ).attr( 'data-value' );\n\n\t\t\t\t\tif ( Global.isSet( tag_span_dic[value] ) ) {\n\t\t\t\t\t\ttag_span_dic[value].remove();\n\n\t\t\t\t\t}\n\n\t\t\t\t\tdelete tag_span_dic[value];\n\n\t\t\t\t\tif ( check_box ) {\n\t\t\t\t\t\t$this.setCheckBox( true );\n\t\t\t\t\t}\n\n\t\t\t\t\t$this.trigger( 'formItemChange', [$this] );\n\n\t\t\t\t\tsetTimeout( function() {\n\t\t\t\t\t\tdoing_dblclick = false;\n\t\t\t\t\t}, 200 );\n\n\t\t\t\t} );\n\n\t\t\t\tclose_btn.click( function( e ) {\n\n\t\t\t\t\tsetTimeout( function() {\n\t\t\t\t\t\tif ( !doing_dblclick ) {\n\t\t\t\t\t\t\tdoNext();\n\t\t\t\t\t\t}\n\t\t\t\t\t}, 200 );\n\n\t\t\t\t\tvar $$this = this;\n\n\t\t\t\t\tfunction doNext() {\n\t\t\t\t\t\tif ( !enabled ) {\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tvar value = $( $$this ).attr( 'data-value' );\n\t\t\t\t\t\tvar current_div = tag_span_dic[value];\n\t\t\t\t\t\tvar new_value = '';\n\n\t\t\t\t\t\t//Error: Unable to get property 'removeClass' of undefined or null reference in /interface/html5/global/widgets/tag_input/TTagInput.js?v=8.0.0-20150126-192326 line 214\n\t\t\t\t\t\tif ( !current_div ) {\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif ( value.indexOf( '-' ) === 0 ) {\n\t\t\t\t\t\t\tnew_value = value.substr( 1 );\n\t\t\t\t\t\t\tcurrent_div.removeClass( 'removed' );\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tnew_value = '-' + value;\n\t\t\t\t\t\t\tcurrent_div.addClass( 'removed' );\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\ttag_span_dic[value].find( '.tag-span' ).text( new_value );\n\n\t\t\t\t\t\tdelete tag_span_dic[value];\n\t\t\t\t\t\t$( $$this ).attr( 'data-value', new_value );\n\n\t\t\t\t\t\ttag_span_dic[new_value] = current_div;\n\n\t\t\t\t\t\tif ( check_box ) {\n\t\t\t\t\t\t\t$this.setCheckBox( true );\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t$this.trigger( 'formItemChange', [$this] );\n\t\t\t\t\t}\n\n\t\t\t\t} );\n\n\t\t\t\ttagSpanDiv.append( tagSpan );\n\t\t\t\ttagSpanDiv.append( close_btn );\n\t\t\t\t$( $this ).prepend( tagSpanDiv );\n\n\t\t\t\ttag_span_dic[content] = tagSpanDiv;\n\n\t\t\t} );\n\t\t};\n\n\t\tthis.createTag = function( val ) {\n\n\t\t\tvar tagSpanDiv = $( '<div class=\\'tag-span-div new\\'></div>' );\n\t\t\tvar close_btn = $( '<span class=\\'close-btn\\'>X</span>' );\n\t\t\tvar tagSpan = $( '<span class=\\'tag-span\\'></span>' );\n\n\t\t\tclose_btn.attr( 'data-value', val );\n\t\t\ttagSpan.text( val );\n\n\t\t\tvar doing_dblclick = false;\n\n\t\t\tclose_btn.dblclick( function( e ) {\n\t\t\t\tdoing_dblclick = true;\n\t\t\t\tif ( !enabled ) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tvar value = $( this ).attr( 'data-value' );\n\n\t\t\t\tif ( Global.isSet( tag_span_dic[value] ) ) {\n\t\t\t\t\ttag_span_dic[value].remove();\n\n\t\t\t\t}\n\n\t\t\t\tdelete tag_span_dic[value];\n\n\t\t\t\tif ( check_box ) {\n\t\t\t\t\t$this.setCheckBox( true );\n\t\t\t\t}\n\n\t\t\t\t$this.trigger( 'formItemChange', [$this] );\n\n\t\t\t\tsetTimeout( function() {\n\t\t\t\t\tdoing_dblclick = false;\n\t\t\t\t}, 200 );\n\n\t\t\t} );\n\n\t\t\tclose_btn.click( function( e ) {\n\n\t\t\t\tsetTimeout( function() {\n\t\t\t\t\tif ( !doing_dblclick ) {\n\t\t\t\t\t\tdoNext();\n\t\t\t\t\t}\n\t\t\t\t}, 200 );\n\n\t\t\t\tvar $$this = this;\n\n\t\t\t\tfunction doNext() {\n\t\t\t\t\tif ( !enabled ) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\tvar value = $( $$this ).attr( 'data-value' );\n\t\t\t\t\tvar current_div = tag_span_dic[value];\n\t\t\t\t\tvar new_value = '';\n\n\t\t\t\t\tif ( value.indexOf( '-' ) === 0 ) {\n\t\t\t\t\t\tnew_value = value.substr( 1 );\n\t\t\t\t\t\tcurrent_div.removeClass( 'removed' );\n\t\t\t\t\t} else {\n\t\t\t\t\t\tnew_value = '-' + value;\n\t\t\t\t\t\tcurrent_div.addClass( 'removed' );\n\t\t\t\t\t}\n\n\t\t\t\t\ttag_span_dic[value].find( '.tag-span' ).text( new_value );\n\n\t\t\t\t\tdelete tag_span_dic[value];\n\t\t\t\t\t$( $$this ).attr( 'data-value', new_value );\n\n\t\t\t\t\ttag_span_dic[new_value] = current_div;\n\n\t\t\t\t\t$this.trigger( 'formItemChange', [$this] );\n\t\t\t\t}\n\n\t\t\t} );\n\n\t\t\tif ( Global.isSet( tag_span_dic[close_btn.attr( 'data-value' )] ) ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\ttagSpanDiv.append( tagSpan );\n\t\t\ttagSpanDiv.append( close_btn );\n\t\t\ttagSpanDiv.insertBefore( add_tag_input );\n\t\t\ttag_span_dic[val] = tagSpanDiv;\n\t\t};\n\n\t\tthis.each( function() {\n\n\t\t\tvar o = $.meta ? $.extend( {}, opts, $( this ).data() ) : opts;\n\n\t\t\tfield = o.field;\n\n\t\t\tif ( o.object_type_id ) {\n\t\t\t\tobject_type_id = o.object_type_id;\n\t\t\t}\n\n\t\t\tadd_tag_input = $( '<input class=\\'add-tag-input\\' autocomplete=\\'On\\'></input>' );\n\n\t\t\tapi_tag = TTAPI.APICompanyGenericTag;\n\n\t\t\tadd_tag_input.autocomplete( {\n\t\t\t\tsource: [],\n\t\t\t\tselect: function( e, ui ) {\n\t\t\t\t\t$this.createTag( ui.item.value );\n\t\t\t\t\tif ( check_box ) {\n\t\t\t\t\t\t$this.setCheckBox( true );\n\t\t\t\t\t}\n\t\t\t\t\tadd_tag_input.autocomplete( 'option', { source: [] } );\n\t\t\t\t\t$this.trigger( 'formItemChange', [$this] );\n\t\t\t\t\t$this.isSelectedItem = true;\n\t\t\t\t},\n\t\t\t\tclose: function( event, ui ) {\n\t\t\t\t\tif ( $this.isSelectedItem ) {\n\t\t\t\t\t\tadd_tag_input.val( '' );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} );\n\n\t\t\t$( this ).append( add_tag_input );\n\n\t\t\t$( this ).click( function() {\n\t\t\t\tadd_tag_input.focus();\n\t\t\t\tif ( !enabled ) {\n\t\t\t\t\tif ( !check_box ) {\n\t\t\t\t\t\tif ( LocalCacheData.current_open_sub_controller &&\n\t\t\t\t\t\t\tLocalCacheData.current_open_sub_controller.edit_view &&\n\t\t\t\t\t\t\tLocalCacheData.current_open_sub_controller.is_viewing ) {\n\t\t\t\t\t\t\terror_string = Global.view_mode_message;\n\t\t\t\t\t\t\t$this.showErrorTip( 10 );\n\t\t\t\t\t\t} else if ( LocalCacheData.current_open_primary_controller &&\n\t\t\t\t\t\t\tLocalCacheData.current_open_primary_controller.edit_view &&\n\t\t\t\t\t\t\tLocalCacheData.current_open_primary_controller.is_viewing ) {\n\t\t\t\t\t\t\terror_string = Global.view_mode_message;\n\t\t\t\t\t\t\t$this.showErrorTip( 10 );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} );\n\n\t\t\t$( this ).contextmenu( function( e ) {\n\t\t\t\te.preventDefault();\n\t\t\t\te.stopImmediatePropagation();\n\n\t\t\t} );\n\n\t\t\t$( this ).mouseout( function() {\n\t\t\t\t$this.hideErrorTip();\n\t\t\t} );\n\n\t\t\tadd_tag_input.bind( 'focusout', function( e ) {\n\t\t\t\tif ( $( e.relatedTarget ).attr( 'id' ) === 'ui-active-menuitem' ) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tif ( add_tag_input.val().length > 0 ) {\n\n\t\t\t\t\tif ( !enabled ) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\t$this.createTag( add_tag_input.val() );\n\t\t\t\t\tadd_tag_input.val( '' );\n\n\t\t\t\t\tif ( check_box ) {\n\t\t\t\t\t\t$this.setCheckBox( true );\n\t\t\t\t\t}\n\n\t\t\t\t\t$this.trigger( 'formItemChange', [$this] );\n\n\t\t\t\t}\n\t\t\t} );\n\n\t\t\tadd_tag_input.bind( 'keyup', function( e ) {\n\t\t\t\tif ( e.which === 40 || e.which === 38 ) {\n\t\t\t\t\te.preventDefault();\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\n\t\t\t\te.preventDefault();\n\t\t\t\tvar args = {};\n\t\t\t\targs.filter_data = {};\n\t\t\t\targs.filter_data.object_type_id = [object_type_id];\n\t\t\t\targs.filter_data.name = add_tag_input.val();\n\t\t\t\tapi_tag.getCompanyGenericTag( args, {\n\t\t\t\t\tonResult: function( result ) {\n\n\t\t\t\t\t\tvar result_data = result.getResult();\n\t\t\t\t\t\tvar final_result = [];\n\n\t\t\t\t\t\tfor ( var i = 0; i < result_data.length; i++ ) {\n\t\t\t\t\t\t\t//https://stackoverflow.com/questions/13144025/jquery-autocomplete-update-source-with-object-formatting-the-array\n\t\t\t\t\t\t\t//final_result.push({title: result_data[i].name, label: result_data[i].name,});\n\t\t\t\t\t\t\t//http://api.jqueryui.com/autocomplete/#option-source\n\t\t\t\t\t\t\tfinal_result.push( result_data[i].name );\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t//add_tag_input.autocomplete( \"option\", \"source\", final_result )\n\n\t\t\t\t\t\tadd_tag_input.autocomplete( 'option', { source: final_result } );\n\n\t\t\t\t\t}\n\t\t\t\t} );\n\n\t\t\t\treturn false;\n\n\t\t\t} );\n\n\t\t\tadd_tag_input.bind( 'keydown', function( e ) {\n\n\t\t\t\tif ( e.which === 40 || e.which === 38 ) {\n\t\t\t\t\te.preventDefault();\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\n\t\t\t\tif ( ( e.which === 13 || e.which === 44 || e.which === 32 || e.which === 9 || e.which === 188 ) &&\n\t\t\t\t\tadd_tag_input.val().length > 0 ) {\n\n\t\t\t\t\te.preventDefault();\n\n\t\t\t\t\tif ( !enabled ) {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\n\t\t\t\t\t$this.createTag( add_tag_input.val() );\n\t\t\t\t\tadd_tag_input.val( '' );\n\n\t\t\t\t\tif ( check_box ) {\n\t\t\t\t\t\t$this.setCheckBox( true );\n\t\t\t\t\t}\n\t\t\t\t\t//add_tag_input.autocomplete( \"option\", { source: [] } );\n\t\t\t\t\t$this.trigger( 'formItemChange', [$this] );\n\n\t\t\t\t\treturn false;\n\t\t\t\t} else {\n\t\t\t\t\t//add_tag_input.autocomplete( \"option\", { source: [] } );\n\t\t\t\t}\n\n\t\t\t} );\n\n\t\t} );\n\n\t\treturn this;\n\n\t};\n\n\t$.fn.TTagInput.defaults = {};\n\n} )( jQuery );","( function( $ ) {\n\n\t$.fn.TText = function( options ) {\n\t\tvar opts = $.extend( {}, $.fn.TText.defaults, options );\n\n\t\tvar $this = this;\n\t\tvar field;\n\n\t\tthis.clearErrorStyle = function() {\n\n\t\t};\n\n\t\tthis.setClassStyle = function( style ) {\n\t\t\tif ( style ) {\n\t\t\t\tthis.css( style );\n\t\t\t}\n\t\t};\n\n\t\tthis.getField = function() {\n\t\t\treturn field;\n\t\t};\n\n\t\tthis.getValue = function() {\n//\t\t\treturn\t$this.val();\n\t\t\treturn $this.text();\n\t\t};\n\n\t\tthis.setValue = function( val ) {\n\t\t\tif ( !val && val !== 0 ) {\n\t\t\t\tval = $.i18n._( 'N/A' );\n\t\t\t}\n\n\t\t\tval = Global.decodeCellValue( val );\n\t\t\t$this.html( ( val ) );\n\n\t\t\tthis.setResizeEvent();\n\t\t};\n\n\t\tthis.setResizeEvent = function() {\n\t\t\t$this.height( 'auto' );\n\n\t\t\t//Set label size if there is new lines in contents\n\t\t\t//if set value before add widget to UI, the height is 0, get the height so the event can be correct\n\t\t\tif ( $this.height() === 0 ) {\n\t\t\t\tvar temp_span = $this.clone();\n\t\t\t\t$( 'body' ).append( temp_span );\n\t\t\t\t$this.height( temp_span.height() );\n\t\t\t\ttemp_span.remove();\n\n\t\t\t}\n\n\t\t\t$this.trigger( 'setSize' );\n\t\t};\n\n\t\tthis.each( function() {\n\n\t\t\tvar o = $.meta ? $.extend( {}, opts, $( this ).data() ) : opts;\n\n\t\t\tfield = o.field;\n\n\t\t\tif ( o.selected_able ) {\n\t\t\t\t$( this ).addClass( 't-text-selected-able' );\n\t\t\t}\n\n\t\t} );\n\n\t\treturn this;\n\n\t};\n\n\t$.fn.TText.defaults = {};\n\n} )( jQuery );","( function( $ ) {\n\n\t$.fn.TTextArea = function( options ) {\n\t\tvar opts = $.extend( {}, $.fn.TTextArea.defaults, options );\n\t\tvar $this = this;\n\t\tvar field;\n\t\tvar error_string = '';\n\t\tvar error_tip_box;\n\t\tvar mass_edit_mode = false;\n\t\tvar check_box = null;\n\t\tvar enabled = true;\n\t\tvar static_width;\n\t\tvar is_static_width = false;\n\n\t\tthis.getEnabled = function() {\n\t\t\treturn enabled;\n\t\t};\n\n\t\tthis.setEnabled = function( val ) {\n\t\t\tenabled = val;\n\t\t\tif ( val === false || val === '' ) {\n\t\t\t\t$this.attr( 'readonly', 'true' );\n\t\t\t\t$this.children().attr( 'disabled', 'true' );\n\t\t\t\t$this.addClass( 't-text-area-readonly' );\n\t\t\t} else {\n\t\t\t\t$this.removeAttr( 'readonly' );\n\t\t\t\t$this.children().removeAttr( 'disabled' );\n\t\t\t\t$this.removeClass( 't-text-area-readonly' );\n\t\t\t}\n\n\t\t};\n\n\t\tthis.setCheckBox = function( val ) {\n\t\t\tif ( check_box ) {\n\t\t\t\tcheck_box.children().eq( 0 )[0].checked = val;\n\t\t\t}\n\t\t};\n\n\t\tthis.isChecked = function() {\n\t\t\tif ( check_box ) {\n\t\t\t\tif ( check_box.children().eq( 0 )[0].checked === true ) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn false;\n\t\t};\n\n\t\tthis.setMassEditMode = function( val ) {\n\t\t\tmass_edit_mode = val;\n\n\t\t\tif ( mass_edit_mode ) {\n\t\t\t\tcheck_box = $( ' <div class=\"mass-edit-checkbox-wrapper textarea--mass-edit-checkbox-wrapper\"><input type=\"checkbox\" class=\"mass-edit-checkbox\"></input>' +\n\t\t\t\t\t'<label for=\"checkbox-input-1\" class=\"input-helper input-helper--checkbox\"></label></div>' );\n\t\t\t\tcheck_box.insertBefore( $( this ) );\n\n\t\t\t\tcheck_box.change( function() {\n\t\t\t\t\t$this.trigger( 'formItemChange', [$this] );\n\t\t\t\t} );\n\n\t\t\t\tif ( is_static_width && static_width.toString().indexOf( '%' ) > 0 ) {\n\t\t\t\t\t$this.css( 'width', 'calc(' + static_width + ' - 25px)' );\n\t\t\t\t}\n\n\t\t\t} else {\n\t\t\t\tif ( check_box ) {\n\t\t\t\t\tcheck_box.remove();\n\t\t\t\t\tcheck_box = null;\n\t\t\t\t}\n\t\t\t}\n\n\t\t};\n\n\t\tthis.setValue = function( val ) {\n\n\t\t\tif ( !val ) {\n\t\t\t\tval = '';\n\t\t\t}\n\n\t\t\t$this.val( val );\n\n\t\t};\n\n\t\tthis.setErrorStyle = function( errStr, show, isWarning ) {\n\t\t\tif ( isWarning ) {\n\t\t\t\t$( this ).addClass( 'warning-tip' );\n\t\t\t} else {\n\t\t\t\t$( this ).addClass( 'error-tip' );\n\t\t\t}\n\t\t\terror_string = errStr;\n\n\t\t\tif ( show ) {\n\t\t\t\tthis.showErrorTip();\n\t\t\t}\n\t\t};\n\n\t\tthis.showErrorTip = function( sec ) {\n\n\t\t\tif ( !Global.isSet( sec ) ) {\n\t\t\t\tsec = 2;\n\t\t\t}\n\n\t\t\tif ( !error_tip_box ) {\n\t\t\t\terror_tip_box = Global.loadWidgetByName( WidgetNamesDic.ERROR_TOOLTIP );\n\t\t\t\terror_tip_box = error_tip_box.ErrorTipBox();\n\t\t\t}\n\t\t\tif ( $( this ).hasClass( 'warning-tip' ) ) {\n\t\t\t\terror_tip_box.show( this, error_string, sec, true );\n\t\t\t} else {\n\t\t\t\terror_tip_box.show( this, error_string, sec );\n\t\t\t}\n\t\t};\n\n\t\tthis.hideErrorTip = function() {\n\n\t\t\tif ( Global.isSet( error_tip_box ) ) {\n\t\t\t\terror_tip_box.remove();\n\t\t\t}\n\n\t\t};\n\n\t\tthis.clearErrorStyle = function() {\n\t\t\t$( this ).removeClass( 'error-tip' );\n\t\t\t$( this ).removeClass( 'warning-tip' );\n\t\t\tthis.hideErrorTip();\n\t\t\terror_string = '';\n\t\t};\n\n\t\tthis.setField = function( val ) {\n\t\t\tfield = val;\n\t\t};\n\n\t\tthis.getField = function() {\n\t\t\treturn field;\n\t\t};\n\n\t\tthis.getValue = function() {\n\t\t\treturn $this.val();\n\t\t};\n\n\t\tthis.setValue = function( val ) {\n\n\t\t\tif ( !val ) {\n\t\t\t\tval = '';\n\t\t\t}\n\n\t\t\t$this.val( val );\n\t\t};\n\n\t\tthis.each( function() {\n\n\t\t\tvar o = $.meta ? $.extend( {}, opts, $( this ).data() ) : opts;\n\n\t\t\tfield = o.field;\n\n\t\t\tif ( o.width && ( o.width > 0 || o.width.indexOf( '%' ) > 0 ) ) {\n\t\t\t\t$this.width( o.width );\n\t\t\t\tstatic_width = o.width;\n\t\t\t\tis_static_width = true;\n\t\t\t}\n\n\t\t\tif ( o.height && ( o.height > 0 || o.height.indexOf( '%' ) > 0 ) ) {\n\t\t\t\t$this.height( o.height );\n\t\t\t}\n\n\t\t\tif ( o.rows > 0 ) {\n\t\t\t\t$this.attr( 'rows', o.rows );\n\t\t\t} else {\n\t\t\t\t$this.attr( 'rows', 3 );\n\t\t\t}\n\n\t\t\tif ( o.style ) {\n\t\t\t\t$this.css( o.style );\n\t\t\t}\n\n\t\t\t$( this ).change( function() {\n\t\t\t\tif ( check_box ) {\n\t\t\t\t\t$this.setCheckBox( true );\n\t\t\t\t}\n\n\t\t\t\t$this.trigger( 'formItemChange', [$this] );\n\t\t\t} );\n\n\t\t\t$( this ).mouseover( function() {\n\n\t\t\t\tif ( enabled ) {\n\t\t\t\t\tif ( error_string && error_string.length > 0 ) {\n\t\t\t\t\t\t$this.showErrorTip( 20 );\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t} );\n\n\t\t\t$( this ).mouseout( function() {\n\t\t\t\tif ( !$( $this ).is( ':focus' ) ) {\n\t\t\t\t\t$this.hideErrorTip();\n\t\t\t\t}\n\t\t\t} );\n\n//\t\t\t$( this ).bind( 'contextmenu', ( function( e ) {\n//\t\t\t\te.preventDefault();\n//\t\t\t}) );\n\n\t\t\t$( this ).focusin( function() {\n\t\t\t\tif ( !enabled ) {\n\t\t\t\t\tif ( !check_box ) {\n\t\t\t\t\t\tif ( LocalCacheData.current_open_sub_controller &&\n\t\t\t\t\t\t\tLocalCacheData.current_open_sub_controller.edit_view &&\n\t\t\t\t\t\t\tLocalCacheData.current_open_sub_controller.is_viewing ) {\n\t\t\t\t\t\t\terror_string = Global.view_mode_message;\n\t\t\t\t\t\t\t$this.showErrorTip( 10 );\n\t\t\t\t\t\t} else if ( LocalCacheData.current_open_primary_controller &&\n\t\t\t\t\t\t\tLocalCacheData.current_open_primary_controller.edit_view &&\n\t\t\t\t\t\t\tLocalCacheData.current_open_primary_controller.is_viewing ) {\n\t\t\t\t\t\t\terror_string = Global.view_mode_message;\n\t\t\t\t\t\t\t$this.showErrorTip( 10 );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tif ( error_string && error_string.length > 0 ) {\n\t\t\t\t\t\t$this.showErrorTip( 20 );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} );\n\n\t\t\t$( this ).focusout( function() {\n\t\t\t\t$this.hideErrorTip();\n\t\t\t} );\n\n\t\t} );\n\n\t\treturn this;\n\n\t};\n\n\t$.fn.TTextArea.defaults = {};\n\n} )( jQuery );","( function( $ ) {\n\n\t$.fn.TTimePicker = function( options ) {\n\t\tvar opts = $.extend( {}, $.fn.TTimePicker.defaults, options );\n\t\t//Global.addCss( 'global/widgets/timepicker/TTimePicker.css' );\n\t\tvar $this = this;\n\t\tvar field;\n\t\tvar validation_field;\n\t\tvar time_picker_input;\n\t\tvar icon;\n\t\tvar error_string = '';\n\t\tvar error_tip_box;\n\t\tvar mass_edit_mode = false;\n\t\tvar check_box = null;\n\t\tvar enabled = true;\n\t\tvar is_open = false;\n\t\tvar focus_out_timer;\n\t\tvar can_open = false; //default when the calender can be open, we only open it when click on the icon\n\t\tvar is_static_width = false;\n\t\tvar stepMinute = 15;\n\n\t\tthis.getEnabled = function() {\n\t\t\treturn enabled;\n\t\t};\n\n\t\tthis.setEnabled = function( val ) {\n\t\t\tenabled = val;\n\t\t\tif ( val === false || val === '' ) {\n\t\t\t\ttime_picker_input.addClass( 't-time-picker-readonly' );\n\t\t\t\ticon.css( 'display', 'none' );\n\t\t\t\ttime_picker_input.attr( 'readonly', 'readonly' );\n\t\t\t} else {\n\t\t\t\ttime_picker_input.removeClass( 't-time-picker-readonly' );\n\t\t\t\ticon.css( 'display', 'inline' );\n\t\t\t\ttime_picker_input.removeAttr( 'readonly' );\n\t\t\t}\n\t\t};\n\n\t\tthis.setCheckBox = function( val ) {\n\t\t\tcheck_box.children().eq( 0 )[0].checked = val;\n\t\t};\n\n\t\tthis.isChecked = function() {\n\t\t\tif ( check_box ) {\n\t\t\t\tif ( check_box.children().eq( 0 )[0].checked === true ) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn false;\n\t\t};\n\n\t\tthis.setMassEditMode = function( val ) {\n\t\t\tmass_edit_mode = val;\n\t\t\tif ( mass_edit_mode ) {\n\t\t\t\tcheck_box = $( ' <div class=\"mass-edit-checkbox-wrapper\"><input type=\"checkbox\" class=\"mass-edit-checkbox\"></input>' +\n\t\t\t\t\t'<label for=\"checkbox-input-1\" class=\"input-helper input-helper--checkbox\"></label></div>' );\n\t\t\t\tcheck_box.insertBefore( $( this ) );\n\n\t\t\t\tcheck_box.change( function() {\n\t\t\t\t\t$this.trigger( 'formItemChange', [$this] );\n\t\t\t\t} );\n\n\t\t\t} else {\n\t\t\t\tif ( check_box ) {\n\t\t\t\t\tcheck_box.remove();\n\t\t\t\t\tcheck_box = null;\n\t\t\t\t}\n\t\t\t}\n\n\t\t};\n\n\t\tthis.setErrorStyle = function( errStr, show, isWarning ) {\n\t\t\tif ( isWarning ) {\n\t\t\t\ttime_picker_input.addClass( 'warning-tip' );\n\t\t\t} else {\n\t\t\t\ttime_picker_input.addClass( 'error-tip' );\n\t\t\t}\n\t\t\terror_string = errStr;\n\t\t\tif ( show ) {\n\t\t\t\tthis.showErrorTip();\n\t\t\t}\n\t\t};\n\n\t\tthis.showErrorTip = function( sec ) {\n\t\t\tif ( !Global.isSet( sec ) ) {\n\t\t\t\tsec = 2;\n\t\t\t}\n\t\t\tif ( !error_tip_box ) {\n\t\t\t\terror_tip_box = Global.loadWidgetByName( WidgetNamesDic.ERROR_TOOLTIP );\n\t\t\t\terror_tip_box = error_tip_box.ErrorTipBox();\n\t\t\t}\n\t\t\tif ( time_picker_input.hasClass( 'warning-tip' ) ) {\n\t\t\t\terror_tip_box.show( this, error_string, sec, true );\n\t\t\t} else {\n\t\t\t\terror_tip_box.show( this, error_string, sec );\n\t\t\t}\n\t\t};\n\n\t\tthis.hideErrorTip = function() {\n\t\t\tif ( Global.isSet( error_tip_box ) ) {\n\t\t\t\terror_tip_box.remove();\n\t\t\t}\n\t\t};\n\n\t\t// Error: TypeError: time_picker_input is undefined in /interface/html5/global/widgets/datepicker/TTimePicker.js?v=8.0.3-20150313-161037 line 122\n\t\tthis.clearErrorStyle = function() {\n\t\t\tif ( !time_picker_input ) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\ttime_picker_input.removeClass( 'error-tip' );\n\t\t\ttime_picker_input.removeClass( 'warning-tip' );\n\t\t\tthis.hideErrorTip();\n\t\t\terror_string = '';\n\t\t};\n\n\t\tthis.getField = function() {\n\t\t\treturn field;\n\t\t};\n\n\t\tthis.getValidationField = function() {\n\t\t\treturn validation_field;\n\t\t};\n\n\t\tthis.getDefaultFormatValue = function() {\n\t\t\tvar val = time_picker_input.val();\n\n\t\t\tval = Global.strToDate( val ).format( 'YYYY-MM-DD' );\n\n\t\t\treturn val;\n\t\t};\n\n\t\tthis.setPlaceHolder = function( val ) {\n\t\t\ttime_picker_input.attr( 'placeholder', val );\n\t\t};\n\n\t\tthis.getValue = function() {\n\t\t\treturn time_picker_input.val();\n\t\t};\n\n\t\tthis.setValue = function( val ) {\n\t\t\t//Error: Uncaught TypeError: Cannot read property 'val' of undefined in /interface/html5/global/widgets/datepicker/TTimePicker.js?v=8.0.0-20141230-130626 line 144\n\t\t\tif ( !time_picker_input ) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif ( !val ) {\n\t\t\t\tval = '';\n\t\t\t}\n\t\t\ttime_picker_input.val( val );\n\t\t\tthis.autoResize();\n\t\t};\n\n\t\tthis.setDefaultWidgetValue = function() {\n\t\t\tif ( $( this ).attr( 'widget-value' ) ) {\n\t\t\t\tthis.setValue( $( this ).attr( 'widget-value' ) );\n\t\t\t}\n\t\t};\n\n\t\tthis.autoResize = function() {\n\t\t\tvar content_width, example_width;\n\t\t\tif ( !is_static_width ) {\n\t\t\t\texample_width = Global.calculateTextWidth( LocalCacheData.getLoginUserPreference().time_format_display );\n\t\t\t\tcontent_width = Global.calculateTextWidth( time_picker_input.val(), {\n\t\t\t\t\tmin_width: example_width,\n\t\t\t\t\tmax_width: ( example_width + 100 ),\n\t\t\t\t\tpadding: 28\n\t\t\t\t} );\n\t\t\t\t$this.width( content_width + 'px' );\n\t\t\t}\n\t\t};\n\n\t\tthis.each( function() {\n\t\t\tvar o = $.meta ? $.extend( {}, opts, $( this ).data() ) : opts;\n\t\t\tvar time_format = 'h:mm TT';\n\t\t\tif ( LocalCacheData.getLoginUserPreference() ) {\n\t\t\t\ttime_format = LocalCacheData.getLoginUserPreference().time_format_1;\n\t\t\t}\n\t\t\tfield = o.field;\n\t\t\tif ( o.validation_field ) {\n\t\t\t\tvalidation_field = o.validation_field;\n\t\t\t}\n\t\t\ticon = $( this ).find( '.t-time-picker-icon' );\n\t\t\ttime_picker_input = $( this ).find( '.t-time-picker' );\n\t\t\ticon.attr( 'src', Global.getRealImagePath( 'images/time.png' ) );\n\t\t\ticon.bind( 'mouseup', function() {\n\t\t\t\tif ( !enabled ) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tif ( !is_open ) {\n\t\t\t\t\ttime_picker_input.timepicker( 'show' );\n\t\t\t\t\tis_open = true;\n\t\t\t\t} else {\n\t\t\t\t\tis_open = false;\n\t\t\t\t\tif ( focus_out_timer ) {\n\t\t\t\t\t\tclearTimeout( focus_out_timer );\n\t\t\t\t\t\tfocus_out_timer = null;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} );\n\n\t\t\tif ( o.stepMinute ) {\n\t\t\t\tstepMinute = o.stepMinute;\n\t\t\t}\n\n\t\t\tvar close_text = $.i18n._( 'Close' );\n\t\t\ttime_picker_input = time_picker_input.timepicker( {\n\t\t\t\tshowMillisec: false,\n\t\t\t\tshowMicrosec: false,\n\t\t\t\tshowTimezone: false,\n\t\t\t\tshowHeader: false,\n\t\t\t\ttimeFormat: time_format,\n\t\t\t\tshowOn: '',\n\t\t\t\tstepMinute: stepMinute,\n\t\t\t\tcloseText: close_text,\n\t\t\t\tshowAnim: '',\n\t\t\t\tbeforeShow: function() {\n\t\t\t\t\tif ( o.beforeShow ) {\n\t\t\t\t\t\to.beforeShow();\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tonClose: function() {\n\t\t\t\t\tfocus_out_timer = setTimeout( function() {\n\t\t\t\t\t\tis_open = false;\n\t\t\t\t\t\t$this.autoResize();\n\t\t\t\t\t\tif ( o.onClose ) {\n\t\t\t\t\t\t\to.onClose();\n\t\t\t\t\t\t}\n\t\t\t\t\t}, 100 );\n\t\t\t\t}\n\t\t\t} );\n\t\t\t$this.setPlaceHolder( LocalCacheData.loginUserPreference.time_format_display );\n\n\t\t\t//hack to stop automatic rounding of typed dates to stepMinute increment\n\t\t\ttime_picker_input.off( 'keyup' ).off( 'keydown' ).off( 'keypress' );\n\n\t\t\ttime_picker_input.off( 'change' ).on( 'change', function( e ) {\n\t\t\t\tif ( check_box ) {\n\t\t\t\t\t$this.setCheckBox( true );\n\t\t\t\t}\n\t\t\t\t$this.trigger( 'formItemChange', [$this] );\n\t\t\t\t$this.autoResize();\n\t\t\t} );\n\t\t\ttime_picker_input.mouseover( function() {\n\t\t\t\tif ( enabled ) {\n\t\t\t\t\tif ( error_string && error_string.length > 0 ) {\n\t\t\t\t\t\t$this.showErrorTip( 20 );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} );\n\t\t\ttime_picker_input.mouseout( function() {\n\t\t\t\tif ( !$( $this ).is( ':focus' ) ) {\n\t\t\t\t\t$this.hideErrorTip();\n\t\t\t\t}\n\t\t\t} );\n\n\t\t\ttime_picker_input.focusin( function( e ) {\n\t\t\t\tif ( !enabled ) {\n\t\t\t\t\tif ( !check_box ) {\n\t\t\t\t\t\tif ( LocalCacheData.current_open_sub_controller &&\n\t\t\t\t\t\t\tLocalCacheData.current_open_sub_controller.edit_view &&\n\t\t\t\t\t\t\tLocalCacheData.current_open_sub_controller.is_viewing ) {\n\t\t\t\t\t\t\terror_string = Global.view_mode_message;\n\t\t\t\t\t\t\t$this.showErrorTip( 10 );\n\t\t\t\t\t\t} else if ( LocalCacheData.current_open_primary_controller &&\n\t\t\t\t\t\t\tLocalCacheData.current_open_primary_controller.edit_view &&\n\t\t\t\t\t\t\tLocalCacheData.current_open_primary_controller.is_viewing ) {\n\t\t\t\t\t\t\terror_string = Global.view_mode_message;\n\t\t\t\t\t\t\t$this.showErrorTip( 10 );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tif ( error_string && error_string.length > 0 ) {\n\t\t\t\t\t\t$this.showErrorTip( 20 );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} );\n\n\t\t\ttime_picker_input.focusout( function() {\n\t\t\t\t$this.hideErrorTip();\n\n\t\t\t} );\n\t\t\tif ( o.width > 0 ) {\n\t\t\t\t$this.width( o.width );\n\t\t\t\tis_static_width = true;\n\t\t\t} else {\n\t\t\t\t$this.autoResize();\n\t\t\t\tis_static_width = false;\n\t\t\t}\n\t\t\t$this.setDefaultWidgetValue();\n\t\t} );\n\t\treturn this;\n\t};\n\n\t$.fn.TTimePicker.defaults = {};\n\n} )( jQuery );","( function( $ ) {\n\n\t$.fn.TToggleButton = function( options ) {\n\n\t\tGlobal.addCss( 'global/widgets/toggle_button/ToggleButton.css' );\n\t\tvar opts = $.extend( {}, $.fn.TToggleButton.defaults, options );\n\n\t\tvar data_provider = [];\n\n\t\tvar $this = this;\n\n\t\tvar btn_dic = {};\n\n\t\tvar selected_btn;\n\n\t\tthis.getValue = function() {\n\t\t\treturn selected_btn ? selected_btn.val() : null;\n\t\t};\n\n\t\tthis.setValue = function( val ) {\n\t\t\tif ( selected_btn ) {\n\t\t\t\tselected_btn.removeClass( 'selected' );\n\t\t\t}\n\n\t\t\tselected_btn = btn_dic[val];\n\t\t\t//Error: TypeError: selected_btn is undefined in interface/html5/global/widgets/toggle_button/TToggleButton.js?v=9.0.4-20151123-161606 line 26\n\t\t\tselected_btn && selected_btn.addClass( 'selected' );\n\n\t\t};\n\n\t\tthis.each( function() {\n\n\t\t\tvar o = $.meta ? $.extend( {}, opts, $( this ).data() ) : opts;\n\n\t\t\tdata_provider = o.data_provider;\n\n\t\t\tbtn_dic = {};\n\n\t\t\tvar len = data_provider.length;\n\t\t\tfor ( var i = 0; i < len; i++ ) {\n\t\t\t\tvar button_data = data_provider[i];\n\t\t\t\tvar btn = $( '<button></button>' );\n\t\t\t\tif ( i === 0 ) {\n\t\t\t\t\tbtn.addClass( 'toggle-button first' );\n\t\t\t\t} else if ( i === len - 1 ) {\n\t\t\t\t\tbtn.addClass( 'toggle-button last' );\n\t\t\t\t} else if ( i === 0 && i === len - 1 ) {\n\t\t\t\t\tbtn.addClass( 'toggle-button first-last' );\n\t\t\t\t} else {\n\t\t\t\t\tbtn.addClass( 'toggle-button middle' );\n\t\t\t\t}\n\n\t\t\t\tbtn_dic[button_data.value] = btn;\n\n\t\t\t\tbtn.val( button_data.value );\n\t\t\t\tbtn.text( button_data.label );\n\n\t\t\t\tbtn.click( function() {\n\t\t\t\t\t$this.setValue( $( this ).val() );\n\t\t\t\t\t$this.trigger( 'change', [$this.getValue()] );\n\t\t\t\t} );\n\n\t\t\t\t$this.append( btn );\n\t\t\t}\n\n\t\t} );\n\n\t\treturn this;\n\n\t};\n\n\t$.fn.TToggleButton.defaults = {};\n\n} )( jQuery );","( function( $ ) {\n\n\t$.fn.TopNotification = function( options ) {\n\t\tvar opts = $.extend( {}, $.fn.TopNotification.defaults, options );\n\t\tvar data;\n\t\tvar $this = this;\n\t\tvar el;\n\t\tvar row_box;\n\t\tvar bottom_button;\n\t\tvar collapse = false;\n\n\t\tvar addRow = function() {\n\n\t\t};\n\n\t\tvar setBarWidth = function() {\n\t\t\tvar rows = el.children().eq( 0 ).children();\n\t\t\tvar len = rows.length;\n\t\t\tvar biggest_width = 0;\n\n\t\t\tfor ( var i = 0; i < len; i++ ) {\n\t\t\t\tvar row = rows.eq( i );\n\t\t\t\tvar span = row.children().eq( 0 );\n\t\t\t\tvar is_invisible = false;\n\t\t\t\tif ( !span.is( ':visible' ) ) {\n\t\t\t\t\tspan.parent().show();\n\t\t\t\t\tis_invisible = true;\n\t\t\t\t}\n\t\t\t\tif ( span.width() > biggest_width ) {\n\n\t\t\t\t\tbiggest_width = span.width();\n\t\t\t\t}\n\n\t\t\t\tif ( is_invisible ) {\n\t\t\t\t\tspan.parent().hide();\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tel.width( biggest_width + 25 );\n\t\t};\n\n\t\tvar removeRowOnTime = function( row_tpl, delay ) {\n\t\t\tsetTimeout( function() {\n\t\t\t\tremoveRow( row_tpl );\n\t\t\t\tsetExpendButton();\n\t\t\t}, ( delay * 1000 ) );\n\t\t};\n\n\t\tvar setCloseButton = function( row_tpl ) {\n\n\t\t\trow_tpl.children().eq( 1 ).unbind( 'click' ).bind( 'click', function( e ) {\n\t\t\t\tremoveRow( row_tpl );\n\t\t\t\tsetExpendButton();\n\t\t\t} );\n\t\t};\n\n\t\tvar removeRow = function( row ) {\n\n\t\t\trow.remove();\n\t\t\tvar rows = el.children().eq( 0 ).children();\n\t\t\tif ( collapse ) {\n\n\t\t\t\tif ( rows.length > 0 ) {\n\t\t\t\t\trows.eq( 0 ).show();\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tif ( rows.length < 1 ) {\n\t\t\t\t$this.remove();\n\t\t\t}\n\n\t\t\tsetBarWidth();\n\t\t};\n\n\t\tvar setDestination = function( row_tpl, item ) {\n\n\t\t\trow_tpl.css( 'cursor', 'pointer' );\n\t\t\trow_tpl.unbind( 'click' ).bind( 'click', function() {\n\n\t\t\t\tif ( item.destination ) {\n\n\t\t\t\t\tif ( ( typeof item.destination['indexOf'] ) !== 'undefined' && ( item.destination.indexOf( 'http://' ) > -1 || item.destination.indexOf( 'https://' ) > -1 ) ) {\n\t\t\t\t\t\twindow.open( item.destination, '_blank' );\n\n\t\t\t\t\t} else if ( item.destination.hasOwnProperty( 'menu_name' ) ) {\n\t\t\t\t\t\tIndexViewController.goToViewByViewLabel( item.destination.menu_name );\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tremoveRow( row_tpl );\n\t\t\t\t}\n\n\t\t\t\tremoveRow( row_tpl );\n\t\t\t\tIndexViewController.setNotificationBar( 'notification' );\n\n\t\t\t} );\n\n\t\t};\n\n\t\tvar setExpendButton = function() {\n\t\t\tif ( row_box.children().length > 1 ) {\n\t\t\t\tbottom_button.show();\n\t\t\t\tbottom_button.parent().height( 15 );\n\t\t\t} else {\n\t\t\t\tbottom_button.hide();\n\t\t\t\tbottom_button.parent().height( 0 );\n\t\t\t}\n\n\t\t\tbottom_button.unbind( 'click' ).bind( 'click', function() {\n\n\t\t\t\tif ( bottom_button.parent().find( '.down-btn' ).length > 0 ) {\n\t\t\t\t\tbottom_button.attr( 'class', 'bottom-btn up-btn' );\n\t\t\t\t\thideOrShowRows( false );\n\n\t\t\t\t} else {\n\t\t\t\t\tbottom_button.attr( 'class', 'bottom-btn down-btn' );\n\t\t\t\t\thideOrShowRows( true );\n\t\t\t\t}\n\t\t\t} );\n\n\t\t\tfunction hideOrShowRows( hide ) {\n\t\t\t\tvar len = row_box.children().length;\n\t\t\t\tcollapse = hide;\n\t\t\t\tfor ( var i = 1; i < len; i++ ) {\n\t\t\t\t\tif ( hide ) {\n\t\t\t\t\t\trow_box.children().eq( i ).hide();\n\t\t\t\t\t} else {\n\t\t\t\t\t\trow_box.children().eq( i ).show();\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\t\t};\n\n\t\tthis.show = function( arg ) {\n\n\t\t\tthis.remove();\n\n\t\t\tdata = arg;\n\n\t\t\t//Error: TypeError: undefined is not an object (evaluating 'el.width') in /interface/html5/global/widgets/top_alert/TopNotification.js?v=7.4.6-20141027-085016 line 143\n\t\t\tif ( !el ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tel.width( '100%' );\n\t\t\tbottom_button.attr( 'class', 'bottom-btn up-btn' );\n\n\t\t\tif ( data && data.length > 0 ) {\n\t\t\t\tfor ( var i = 0; i < data.length; i++ ) {\n\t\t\t\t\tvar item = data[i];\n\t\t\t\t\tvar row_tpl = $( Global.loadWidget( 'global/widgets/top_alert/NotificationRow.html' ) );\n\n\t\t\t\t\trow_tpl.children().eq( 0 ).text( item.message );\n\t\t\t\t\trow_tpl.css( 'backgroundColor', item.bg_color );\n\n\t\t\t\t\tsetCloseButton( row_tpl );\n\n\t\t\t\t\tif ( item.delay === -1 ) {\n\t\t\t\t\t\trow_tpl.children().eq( 1 ).hide();\n\t\t\t\t\t} else if ( item.delay > 0 ) {\n\t\t\t\t\t\tremoveRowOnTime( row_tpl, item.delay );\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( item.destination || item.delay != -1 ) {\n\t\t\t\t\t\tsetDestination( row_tpl, item );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tel.children().eq( 0 ).append( row_tpl );\n\t\t\t\t}\n\n\t\t\t\t$( 'body' ).append( el );\n\t\t\t\tsetExpendButton();\n\n\t\t\t\tsetBarWidth();\n\t\t\t}\n\n\t\t};\n\n\t\t//Error: Unable to get property 'remove' of undefined or null reference in /interface/html5/global/widgets/top_alert/TopNotification.js?v=7.4.6-20141027-132733 line 179\n\t\tthis.remove = function() {\n\t\t\tif ( el ) {\n\t\t\t\tel.remove();\n\t\t\t\tel.children().eq( 0 ).empty();\n\t\t\t}\n\n\t\t};\n\n\t\tthis.each( function() {\n\n\t\t\tvar o = $.meta ? $.extend( {}, opts, $( this ).data() ) : opts;\n\n\t\t\tel = $( this );\n\n\t\t\trow_box = el.children().eq( 0 );\n\t\t\tbottom_button = el.find( '.bottom-btn' );\n\n\t\t} );\n\n\t\treturn this;\n\n\t};\n\n\t$.fn.TopNotification.defaults = {};\n\n} )( jQuery );","import { Base } from '@/model/Base';\n\nexport class SearchField extends Base {\n\tconstructor( options = {} ) {\n\t\t_.defaults( options, {\n\t\t\tlabel: null,\n\t\t\tfield: null,\n\t\t\tapi_class: null,\n\t\t\tlayout_name: '',\n\t\t\tmultiple: true,\n\t\t\toptionName: '',\n\t\t\tform_item_type: '',\n\t\t\tin_column: 1,\n\t\t\tbasic_search: false,\n\t\t\tadv_search: false,\n\t\t\ttree_mode: false,\n\t\t\tdata_provider: null,\n\t\t\tscript_name: '',\n\t\t\taddition_source_function: null,\n\t\t\tset_any: true,\n\t\t\tobject_type_id: -1,\n\t\t\tcustomSearchFilter: null,\n\t\t\tcustom_first_label: null,\n\t\t\tdefault_args: null\n\t\t} );\n\n\t\tsuper( options );\n\t}\n}\n","// JS\nimport { RibbonMenu } from '@/model/RibbonMenu';\nimport { RibbonSubMenu, RibbonSubMenuType } from '@/model/RibbonSubMenu';\nimport { RibbonSubMenuGroup } from '@/model/RibbonSubMenuGroup';\nimport { RibbonSubMenuNavItem } from '@/model/RibbonSubMenuNavItem';\nimport { ContextMenuIconName, Icons } from '@/global/ContextMenuConstant';\n\nimport '@/global/widgets/inside_editor/InsideEditor';\nimport '@/global/widgets/error_tip/ErrorTipBox';\nimport '@/global/widgets/feedback/TFeedback';\nimport '@/global/widgets/toggle_button/TToggleButton'; // only used in timesheet and schedule. Potentially refactor to imports in those views.\n// import '@/global/widgets/switch_button/SwitchButton';\nimport '@/global/widgets/view_min_tab/ViewMinTabBar';\nimport '@/global/widgets/top_alert/TopNotification';\nimport '@/global/widgets/ribbon/RibbonSubMenuNavWidget';\nimport '@/global/widgets/search_panel/SearchPanel';\n\nimport { SearchField } from '@/model/SearchField';\nimport 'expose-loader?exposes=ALayoutCache|ALayoutCache!@/global/widgets/awesomebox/ALayoutCache';\nimport '@/global/widgets/awesomebox/ADropDown';\nimport '@/global/widgets/awesomebox/AComboBox';\nimport '@/global/widgets/awesomebox/ASearchInput';\nimport '@/global/widgets/column_editor/ColumnEditor';\nimport '@/global/widgets/message_box/SaveAndContinueBox';\nimport '@/global/widgets/message_box/NoHierarchyBox';\nimport '@/global/widgets/message_box/NoResultBox';\nimport '@/global/widgets/separated_box/SeparatedBox';\n\nimport { ReportBaseViewController } from '@/views/reports/ReportBaseViewController';\n\nimport { AuthorizationHistory } from '@/views/common/AuthorizationHistoryCommon';\nimport { RequestViewCommonController } from '@/views/common/RequestViewCommonController';\nimport { EmbeddedMessage } from '@/views/common/EmbeddedMessageCommon';\n\nimport { BaseTreeViewController } from '@/views/common/BaseTreeViewController';\nimport { UserGenericStatusWindowController } from '@/views/wizard/user_generic_data_status/UserGenericStatusWindowController';\n\nimport '@/global/widgets/tag_input/TTagInput';\nimport '@/global/widgets/datepicker/TDatePicker';\nimport '@/global/widgets/timepicker/TTimePicker';\nimport '@/global/widgets/datepicker/TRangePicker';\nimport '@/global/widgets/textarea/TTextArea';\nimport '@/global/widgets/text/TText';\nimport '@/global/widgets/list/TList';\nimport '@/global/widgets/checkbox/TCheckbox';\n\nimport '@/global/widgets/jqgrid/TGridHeader';\nimport '@/global/widgets/ttgrid/TTGrid';\n\nwindow.RibbonMenu = RibbonMenu;\nwindow.RibbonSubMenu = RibbonSubMenu;\nwindow.RibbonSubMenuType = RibbonSubMenuType;\nwindow.RibbonSubMenuGroup = RibbonSubMenuGroup;\nwindow.RibbonSubMenuNavItem = RibbonSubMenuNavItem;\nwindow.ContextMenuIconName = ContextMenuIconName;\nwindow.Icons = Icons;\nwindow.SearchField = SearchField;\nwindow.ReportBaseViewController = ReportBaseViewController;\n\n// To remove the need for Global.getViewPreloadPathByViewId, include all the preloads upfront.\nwindow.AuthorizationHistory = AuthorizationHistory;\nwindow.RequestViewCommonController = RequestViewCommonController;\nwindow.EmbeddedMessage = EmbeddedMessage;\n\nwindow.BaseTreeViewController = BaseTreeViewController;\nwindow.UserGenericStatusWindowController = UserGenericStatusWindowController;\n\nLocalCacheData.loadViewRequiredJSReady = true; // #2848 Moved from main.js:loadViewRequiredJS() to ensure that ALL dependancies are loaded, before the rest of the app is loaded.","export var AuthorizationHistory = {\n\n\t/**\n\t * There's only 4 steps for ading auth history to a view file:\n\t * 1. Copy the authorization-grid-div from RequestEditView.html\n\t * 2. Paste that div into the editview html of the new view\n\t * 3. Add AuthorizationHistory.init(this) to setEditViewDataDone() or to the end of onViewClick() if you experience screen flashing with it in setEditViewDataDone()\n\t * 4a.If the view only has one hierarchytype id, add this.hierarchy_type_id = [**the correct id**]; to the init function of the view\n\t * 4b.Else, ensure that hierarch_type_id is set in the view's current_edit_record\n\t *\n\t */\n\n\tauthorization_api: null,\n\tauthorization_history_columns: [],\n\tauthorization_history_default_display_columns: [],\n\n\thost_view_controller: null,\n\n\t/**\n\t * call this to render the auth grid.\n\t * assumes this.edit_view exists.\n\t * @param $this\n\t * @returns {AuthorizationHistory}\n\t */\n\tinit: function( host ) {\n\t\t$( '.authorization-grid-div' ).hide();\n\t\tif ( host.is_add ) {\n\t\t\treturn;\n\t\t}\n\n\t\tvar separate_box = $( '.authorization-grid-div .grid-title' );\n\t\tseparate_box.html( '' );\n\n\t\tvar form_item_input = Global.loadWidgetByName( FormItemType.SEPARATED_BOX );\n\t\tform_item_input.SeparatedBox( { label: $.i18n._( 'Authorization History' ) } );\n\t\tform_item_input.attr( 'id', 'authorization_history' );\n\t\thost.addEditFieldToColumn( null, form_item_input, separate_box );\n\n\t\tthis.host_view_controller = host;\n\t\tthis.authorization_api = TTAPI.APIAuthorization;\n\n\t\tvar $this = this;\n\t\tthis.getAuthorizationHistoryColumns( function() {\n\t\t\t$this.initAuthorizationHistoryLayout( function() {\n\t\t\t\t$this.setAuthorizationGridSize();\n\t\t\t} );\n\t\t} );\n\n\t\treturn $this;\n\t},\n\n\tinitAuthorizationHistoryLayout: function( callback ) {\n\t\tvar $this = this;\n\t\tthis.getAuthorizationHistoryDefaultDisplayColumns( function() {\n\t\t\tif ( !$this.host_view_controller.edit_view ) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t$this.setAuthorizationHistorySelectLayout();\n\t\t\t$this.initAuthorizationHistoryData();\n\t\t\tif ( callback ) {\n\t\t\t\tcallback();\n\t\t\t}\n\t\t} );\n\t},\n\n\t/**\n\t * Gets data from the API and puts it into the authorization history grid.\n\t *\n\t * @param callback\n\t */\n\tinitAuthorizationHistoryData: function( callback ) {\n\t\tvar filter = {};\n\t\tfilter.filter_data = {};\n\n\t\tfilter.filter_columns = { 'created_by': true, 'created_date': true, 'authorized': true };\n\t\tfilter.filter_data.object_id = [this.host_view_controller.current_edit_record.id];\n\t\tfilter.filter_data.object_type_id = this.host_view_controller.hierarchy_type_id ? this.host_view_controller.hierarchy_type_id : this.host_view_controller.current_edit_record.hierarchy_type_id;\n\n\t\tvar $this = this;\n\t\tthis.authorization_api['get' + this.authorization_api.key_name]( filter, {\n\t\t\tonResult: function( result ) {\n\n\t\t\t\tif ( !$this.host_view_controller.edit_view ) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tvar result_data = result.getResult();\n\t\t\t\tif ( result.isValid() && Global.isArray( result_data ) && result_data.length >= 1 ) {\n\t\t\t\t\tresult_data = Global.formatGridData( result_data, $this.authorization_api.key_name );\n\n\t\t\t\t\t$this.authorization_history_grid.setData( result_data );\n\n\t\t\t\t\t$( $this.host_view_controller.edit_view.find( '.authorization-grid-div' ) ).show();\n\t\t\t\t\t$this.showAuthorizationHistoryGridBorders();\n\t\t\t\t\t$this.setAuthorizationGridSize();\n\t\t\t\t} else {\n\t\t\t\t\t$( $this.host_view_controller.edit_view.find( '.authorization-grid-div' ) ).hide();\n\t\t\t\t}\n\n\t\t\t}\n\t\t} );\n\t},\n\n\tsetAuthorizationGridSize: function() {\n\t\tvar history_height_unit;\n\t\tif ( ( !this.authorization_history_grid || !this.authorization_history_grid.grid.is( ':visible' ) ) ) {\n\t\t\treturn;\n\t\t}\n\t\thistory_height_unit = this.authorization_history_grid.getData().length;\n\t\thistory_height_unit > 5 && ( history_height_unit = 5 );\n\t\tthis.authorization_history_grid.grid.setGridWidth( $( this.host_view_controller.edit_view.find( '#authorization_history' ) ).width() );\n\t\tthis.authorization_history_grid.grid.setGridHeight( history_height_unit * 25 );\n\t},\n\n\tbuildAuthorizationDisplayColumns: function( apiDisplayColumnsArray ) {\n\t\tvar len = this.authorization_history_columns.length;\n\t\tvar len1 = apiDisplayColumnsArray.length;\n\t\tvar display_columns = [];\n\n\t\tfor ( var j = 0; j < len1; j++ ) {\n\t\t\tfor ( var i = 0; i < len; i++ ) {\n\t\t\t\tif ( apiDisplayColumnsArray[j] === this.authorization_history_columns[i].value ) {\n\t\t\t\t\tdisplay_columns.push( this.authorization_history_columns[i] );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn display_columns;\n\t},\n\n\tshowAuthorizationHistoryGridBorders: function() {\n\t\tvar top_border = this.host_view_controller.edit_view.find( '.grid-top-border' );\n\t\tvar bottom_border = this.host_view_controller.edit_view.find( '.grid-bottom-border' );\n\n\t\ttop_border.css( 'display', 'block' );\n\t\tbottom_border.css( 'display', 'block' );\n\t},\n\n\tgetAuthorizationHistoryDefaultDisplayColumns: function( callBack ) {\n\t\tvar $this = this;\n\t\tthis.authorization_api.getOptions( 'default_display_columns', {\n\t\t\tonResult: function( columns_result ) {\n\t\t\t\tvar columns_result_data = columns_result.getResult();\n\n\t\t\t\t$this.authorization_history_default_display_columns = columns_result_data;\n\n\t\t\t\tif ( callBack ) {\n\t\t\t\t\tcallBack();\n\t\t\t\t}\n\n\t\t\t}\n\t\t} );\n\t},\n\n\tgetAuthorizationHistoryColumns: function( callBack ) {\n\t\tvar $this = this;\n\t\tthis.authorization_api.getOptions( 'columns', {\n\t\t\tonResult: function( columns_result ) {\n\t\t\t\tvar columns_result_data = columns_result.getResult();\n\t\t\t\t$this.authorization_history_columns = Global.buildColumnArray( columns_result_data );\n\n\t\t\t\tif ( callBack ) {\n\t\t\t\t\tcallBack();\n\t\t\t\t}\n\t\t\t}\n\t\t} );\n\t},\n\n\tsetAuthorizationHistorySelectLayout: function( column_start_from ) {\n\t\tvar $this = this;\n\t\tvar grid = this.host_view_controller.edit_view.find( '#grid' );\n\t\tif ( grid ) {\n\t\t\tgrid.attr( 'id', 'authorization_history_grid' );  //Grid's id is ScriptName + _grid\n\t\t}\n\t\tvar column_info_array = [];\n\t\tvar display_columns = this.buildAuthorizationDisplayColumns( this.authorization_history_default_display_columns );\n\n\t\t//Set Data Grid on List view\n\t\tvar len = display_columns.length;\n\n\t\tfor ( var i = 0; i < len; i++ ) {\n\t\t\tvar view_column_data = display_columns[i];\n\n\t\t\tvar column_info = {\n\t\t\t\tname: view_column_data.value,\n\t\t\t\tindex: view_column_data.value,\n\t\t\t\tlabel: view_column_data.label,\n\t\t\t\twidth: 100,\n\t\t\t\tsortable: false,\n\t\t\t\ttitle: false\n\t\t\t};\n\t\t\tcolumn_info_array.push( column_info );\n\t\t}\n\n\t\tif ( this.authorization_history_grid ) {\n\n\t\t\tthis.authorization_history_grid.grid.jqGrid( 'GridUnload' );\n\t\t\tthis.authorization_history_grid = null;\n\t\t}\n\n\t\tthis.authorization_history_grid = new TTGrid( 'authorization_history_grid', {\n\t\t\tonResizeGrid: false,\n\t\t\twinMultiselect: false,\n\t\t\tmultiselect: false,\n\t\t\twidth: this.host_view_controller.edit_view.find( '.edit-view-tab' ).width()\n\t\t}, column_info_array );\n\t}\n\n};","export class BaseTreeViewController extends BaseViewController {\n\tsetSelectLayout( column_start_from ) {\n\t\tvar $this = this;\n\n\t\tvar grid;\n\t\tif ( !Global.isSet( this.grid ) ) {\n\t\t\tgrid = $( this.el ).find( '#grid' );\n\n\t\t\tgrid.attr( 'id', this.ui_id + '_grid' );  //Grid's id is ScriptName + _grid\n\n\t\t\tgrid = $( this.el ).find( '#' + this.ui_id + '_grid' );\n\t\t}\n\n\t\tvar column_info_array = [];\n\n\t\tif ( !this.select_layout ) { //Set to defalt layout if no layout at all\n\t\t\tthis.select_layout = { id: '' };\n\t\t\tthis.select_layout.data = { filter_data: {}, filter_sort: {} };\n\t\t\tthis.select_layout.data.display_columns = this.default_display_columns;\n\t\t}\n\t\tvar layout_data = this.select_layout.data;\n\n\t\tif ( layout_data.display_columns.length < 1 ) {\n\t\t\tlayout_data.display_columns = this.default_display_columns;\n\t\t}\n\n\t\tvar display_columns = this.buildDisplayColumns( layout_data.display_columns );\n\t\t//Set Data Grid on List view\n\t\tvar len = display_columns.length;\n\n\t\tvar start_from = 0;\n\n\t\tif ( Global.isSet( column_start_from ) && column_start_from > 0 ) {\n\t\t\tstart_from = column_start_from;\n\t\t}\n\n\t\tvar view_column_data = display_columns[0];\n\n\t\tvar column_info = {\n\t\t\tname: view_column_data.value,\n\t\t\tindex: view_column_data.value,\n\t\t\tlabel: $this.grid_table_name,\n\t\t\twidth: 100,\n\t\t\tsortable: false,\n\t\t\ttitle: false\n\t\t};\n\n\t\tcolumn_info_array.push( column_info );\n\n\t\tif ( this.grid ) {\n\t\t\tthis.grid.jqGrid( 'GridUnload' );\n\t\t\tthis.grid = null;\n\t\t}\n\n\t\tthis.grid = new TTGrid( this.ui_id + '_grid', {\n\t\t\tmultiselect: false,\n\t\t\twinMultiSelect: false,\n\t\t\ttree_mode: true,\n\t\t\tonSelectRow: $.proxy( this.onGridSelectRow, this )\n\t\t}, column_info_array );\n\n\t\tthis.bindGridColumnEvents();\n\n\t\tthis.setGridHeaderStyle(); //Set Sort Style\n\n\t\tthis.filter_data = this.select_layout.data.filter_data;\n\n\t\tthis.showGridBorders();\n\n\t\t$this.setGridSize();\n\t}\n\n\tsearch( set_default_menu, page_action, page_number ) {\n\t\tvar $this = this;\n\n\t\tif ( !Global.isSet( set_default_menu ) ) {\n\t\t\tset_default_menu = true;\n\t\t}\n\n\t\tvar filter = {};\n\t\tfilter.filter_data = {};\n\t\tfilter.filter_sort = {};\n\t\tfilter.filter_columns = this.getFilterColumnsFromDisplayColumns();\n\t\tfilter.filter_items_per_page = 0; // Default to 0 to load user preference defined\n\n\t\tif ( this.sub_view_mode && this.parent_key ) {\n\t\t\tthis.select_layout.data.filter_data[this.parent_key] = this.parent_value;\n\n\t\t\t//If sub view controller set custom filters, get it\n\t\t\tif ( Global.isSet( this.getSubViewFilter ) ) {\n\n\t\t\t\tthis.select_layout.data.filter_data = this.getSubViewFilter( this.select_layout.data.filter_data );\n\n\t\t\t}\n\t\t}\n\n\t\tthis.last_select_ids = this.getGridSelectIdArray();\n\t\t//select_layout will not be null, it's set in setSelectLayout function\n\t\tfilter.filter_data = Global.convertLayoutFilterToAPIFilter( this.select_layout );\n\t\tfilter.filter_sort = this.select_layout.data.filter_sort;\n\n\t\tthis.api['get' + this.api.key_name]( filter, false, false, {\n\t\t\tonResult: function( result ) {\n\n\t\t\t\tvar result_data = result.getResult();\n\n\t\t\t\tresult_data = Global.buildTreeRecord( result_data );\n\n\t\t\t\t$this.grid_current_page_items = result_data; // For tree mode only\n\n\t\t\t\tif ( !Global.isArray( result_data ) ) {\n\t\t\t\t\t$this.showNoResultCover();\n\t\t\t\t} else {\n\t\t\t\t\t$this.removeNoResultCover();\n\t\t\t\t}\n\n\t\t\t\t$this.reSetGridTreeData( result_data );\n\n\t\t\t\t$this.setGridSize();\n\n\t\t\t\tProgressBar.closeOverlay(); //Add this in initData\n\t\t\t\tif ( set_default_menu ) {\n\t\t\t\t\t$this.setDefaultMenu();\n\t\t\t\t}\n\n\t\t\t\tif ( LocalCacheData.paging_type === 0 ) {\n\t\t\t\t\tif ( !$this.pager_data || $this.pager_data.is_last_page ) {\n\t\t\t\t\t\t$this.paging_widget.css( 'display', 'none' );\n\t\t\t\t\t} else {\n\t\t\t\t\t\t$this.paging_widget.css( 'display', 'block' );\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t$this.reSelectLastSelectItems();\n\t\t\t\t$this.autoOpenEditViewIfNecessary();\n\t\t\t\t$this.searchDone();\n\t\t\t}\n\t\t} );\n\t}\n\n\treSetGridTreeData( val ) {\n\t\tvar $this = this;\n\n\t\tvar col_model = this.grid.getGridParam( 'colModel' );\n\t\tthis.grid.grid.jqGrid( 'GridUnload' );\n\t\tthis.grid = null;\n\n\t\tthis.grid = new TTGrid( this.ui_id + '_grid', {\n\t\t\tmultiselect: false,\n\t\t\twinMultiSelect: false,\n\t\t\tdatastr: val,\n\t\t\tdatatype: 'jsonstring',\n\t\t\tsortable: false,\n\t\t\tonSelectRow: function( id ) {\n\t\t\t\t$( '#ribbon_view_container .context-menu:visible a' ).click();\n\t\t\t\t$this.grid_select_id_array = [id];\n\t\t\t\t$this.setDefaultMenu();\n\n\t\t\t},\n\t\t\tondblClickRow: function() {\n\t\t\t\t$this.onGridDblClickRow();\n\t\t\t},\n\t\t\tgridview: true,\n\t\t\ttreeGrid: true,\n\t\t\ttreeGridModel: 'adjacency',\n\t\t\ttreedatatype: 'local',\n\t\t\tExpandColumn: 'name',\n\t\t}, col_model );\n\t}\n\n\tgetGridSelectIdArray() {\n\t\tvar result = [];\n\t\tresult = this.grid_select_id_array;\n\n\t\treturn result;\n\t}\n\n\tinitLayout() {\n\t\tvar $this = this;\n\t\tthis.real_this = this.constructor.__super__; // this seems first entry point. needed where view controller is extended twice, Base->Tree-View, used with onViewClick _super\n\n\t\t$this.getDefaultDisplayColumns( function() {\n\t\t\t$this.setSelectLayout();\n\t\t\t$this.search();\n\t\t} );\n\t}\n\n\tgetAllColumns( callBack ) {\n\t\tvar $this = this;\n\n\t\tthis.api.getOptions( 'columns', {\n\t\t\tonResult: function( columns_result ) {\n\n\t\t\t\tvar columns_result_data = columns_result.getResult();\n\t\t\t\t$this.all_columns = Global.buildColumnArray( columns_result_data );\n\n\t\t\t\tif ( callBack ) {\n\t\t\t\t\tcallBack();\n\t\t\t\t}\n\n\t\t\t}\n\t\t} );\n\t}\n\n\tsetCurrentEditRecordData() {\n\t\t//Set current edit record data to all widgets\n\t\tfor ( var key in this.current_edit_record ) {\n\t\t\tvar widget = this.edit_view_ui_dic[key];\n\t\t\tif ( Global.isSet( widget ) ) {\n\t\t\t\tswitch ( key ) {\n\t\t\t\t\tcase 'parent_id':\n\t\t\t\t\t\twidget.setSourceData( this.grid_current_page_items );\n\t\t\t\t\t\twidget.setValue( this.current_edit_record[key] );\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tdefault:\n\t\t\t\t\t\twidget.setValue( this.current_edit_record[key] );\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\n\t\t\t}\n\t\t}\n\t\tthis.collectUIDataToCurrentEditRecord();\n\t\tthis.setEditViewDataDone();\n\t}\n\n\tsetEditViewData() {\n\t\tvar $this = this;\n\n\t\tthis.is_changed = false;\n\n\t\tif ( !this.edit_only_mode ) {\n\n\t\t\tvar navigation_div = this.edit_view.find( '.navigation-div' );\n\n\t\t\tif ( Global.isSet( this.current_edit_record.id ) && this.current_edit_record.id ) {\n\t\t\t\tnavigation_div.css( 'display', 'block' );\n\t\t\t\t//Set Navigation Awesomebox\n\n\t\t\t\t//init navigation only when open edit view\n\t\t\t\tif ( !this.navigation.getSourceData() ) {\n\t\t\t\t\tthis.navigation.setSourceData( this.grid_current_page_items );\n\n\t\t\t\t\tvar default_args = {};\n\t\t\t\t\tdefault_args.filter_data = Global.convertLayoutFilterToAPIFilter( this.select_layout );\n\t\t\t\t\tdefault_args.filter_sort = this.select_layout.data.filter_sort;\n\t\t\t\t\tthis.navigation.setDefaultArgs( default_args );\n\t\t\t\t}\n\n\t\t\t\tthis.navigation.setValue( this.current_edit_record );\n\n\t\t\t} else {\n\t\t\t\tnavigation_div.css( 'display', 'none' );\n\t\t\t}\n\t\t}\n\n\t\tfor ( var key in this.edit_view_ui_dic ) {\n\n\t\t\t//Set all UI field to current edit reocrd, we need validate all UI fielld when save and validate\n\t\t\tif ( !Global.isSet( $this.current_edit_record[key] ) && !this.is_mass_editing ) {\n\t\t\t\t$this.current_edit_record[key] = false;\n\t\t\t}\n\n\t\t}\n\n\t\tthis.setNavigationArrowsStatus();\n\n\t\t// Create this function alone because of the column value of view is different from each other, some columns need to be handle specially. and easily to rewrite this function in sub-class.\n\n\t\tthis.setCurrentEditRecordData();\n\n\t\t//Init *Please save this record before modifying any related data* box\n\t\tthis.edit_view.find( '.save-and-continue-div' ).SaveAndContinueBox( { related_view_controller: this } );\n\t\tthis.edit_view.find( '.save-and-continue-div' ).css( 'display', 'none' );\n\n\t\tif ( this.edit_view_tab.tabs( 'option', 'active' ) === 1 ) {\n\t\t\tif ( this.current_edit_record.id ) {\n\t\t\t\tthis.edit_view_tab.find( '#tab_audit' ).find( '.first-column-sub-view' ).css( 'display', 'block' );\n\t\t\t\tthis.initSubLogView( 'tab_audit' );\n\t\t\t} else {\n\t\t\t\tthis.edit_view_tab.find( '#tab_audit' ).find( '.first-column-sub-view' ).css( 'display', 'none' );\n\t\t\t\tthis.edit_view.find( '.save-and-continue-div' ).css( 'display', 'block' );\n\t\t\t}\n\t\t}\n\t\tthis.switchToProperTab();\n\t}\n\n\taddIdFieldToNavigation( array ) {\n\t\t$.each( array, function( key, item ) {\n\t\t\t$( item ).each( function( i_key, i_item ) {\n\t\t\t\ti_item.id = i_item._id_;\n\t\t\t} );\n\t\t} );\n\n\t\treturn array;\n\t}\n\n\tdoViewAPICall( filter ) {\n\t\treturn super.doViewAPICall( filter, [filter, false, false] );\n\t}\n\n\thandleViewAPICallbackResult( result ) {\n\t\treturn this.handleAPICallbackResult( result );\n\t}\n\n\thandleAPICallbackResult( result ) {\n\t\tvar result_data = result.getResult();\n\t\tvar record_id = this.getCurrentSelectedRecord();\n\t\tresult_data = Global.getParentIdByTreeRecord( Global.buildTreeRecord( result_data ), record_id );\n\t\tresult_data = result_data[0];\n\t\tresult_data.id = record_id;\n\n\t\tsuper.handleViewAPICallbackResult( result_data );\n\t}\n\n\thandleEditAPICallbackResult( result ) {\n\t\treturn this.handleAPICallbackResult( result );\n\t}\n\n\tonDeleteDone( result ) {\n\t\tthis.grid_select_id_array = [];\n\t\tthis.setDefaultMenu();\n\t\tthis.removeDeletedRows();\n\t}\n\n\tonSaveDone( result ) {\n\t\tthis.grid_select_id_array = [];\n\t}\n\n\tdoEditAPICall( filter ) {\n\t\treturn super.doEditAPICall( filter, [filter, false, false] );\n\t}\n\n\t_continueDoCopyAsNew() {\n\t\tvar $this = this;\n\n\t\tLocalCacheData.current_doing_context_action = 'copy_as_new';\n\n\t\tif ( Global.isSet( this.edit_view ) ) {\n\n\t\t\tthis.current_edit_record.id = '';\n\t\t\tvar navigation_div = this.edit_view.find( '.navigation-div' );\n\t\t\tnavigation_div.css( 'display', 'none' );\n\t\t\tthis.setEditMenu();\n\t\t\tthis.setTabStatus();\n\t\t\tthis.is_changed = false;\n\t\t\tProgressBar.closeOverlay();\n\n\t\t} else {\n\t\t\tvar filter = {};\n\t\t\tvar grid_selected_id_array = this.getGridSelectIdArray();\n\t\t\tvar grid_selected_length = grid_selected_id_array.length;\n\n\t\t\tif ( grid_selected_length > 0 ) {\n\t\t\t\tvar selectedId = grid_selected_id_array[0];\n\t\t\t} else {\n\t\t\t\tTAlertManager.showAlert( $.i18n._( 'No selected record' ) );\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tfilter.filter_data = {};\n\n\t\t\tthis.api['get' + this.api.key_name]( filter, false, false, {\n\t\t\t\tonResult: function( result ) {\n\t\t\t\t\tvar result_data = result.getResult();\n\t\t\t\t\tresult_data = Global.buildTreeRecord( result_data );\n\t\t\t\t\tresult_data = Global.getParentIdByTreeRecord( result_data, selectedId );\n\n\t\t\t\t\tif ( !result_data ) {\n\t\t\t\t\t\tTAlertManager.showAlert( $.i18n._( 'Record does not exist' ) );\n\t\t\t\t\t\t$this.onCancelClick();\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\t$this.openEditView(); // Put it here is to avoid if the selected one is not existed in data or have deleted by other pragram. in this case, the edit view should not be opend.\n\n\t\t\t\t\tresult_data = result_data[0];\n\t\t\t\t\tif ( $this.sub_view_mode && $this.parent_key ) {\n\t\t\t\t\t\tresult_data[$this.parent_key] = $this.parent_value;\n\t\t\t\t\t}\n\n\t\t\t\t\t$this.current_edit_record = result_data;\n\t\t\t\t\t$this.current_edit_record.id = '';\n\n\t\t\t\t\t$this.initEditView();\n\n\t\t\t\t}\n\t\t\t} );\n\t\t}\n\t}\n\n\tbuildEditViewUI() {\n\t\tvar $this = this;\n\n\t\t//No navigation when edit only mode\n\t\tif ( !this.edit_only_mode ) {\n\t\t\tvar navigation_div = this.edit_view.find( '.navigation-div' );\n\t\t\tvar label = navigation_div.find( '.navigation-label' );\n\n\t\t\tvar navigation_widget_div = navigation_div.find( '.navigation-widget-div' );\n\n\t\t\tthis.navigation = Global.loadWidgetByName( FormItemType.AWESOME_BOX );\n\n\t\t\tlabel.text( this.navigation_label );\n\n\t\t\tnavigation_widget_div.append( this.navigation );\n\t\t}\n\n\t\tthis.edit_view_close_icon = this.edit_view.find( '.close-icon' );\n\t\tthis.edit_view_close_icon.hide();\n\t\tthis.edit_view_close_icon.click( function() {\n\t\t\t$this.onCloseIconClick();\n\t\t} );\n\n\t\tvar tab_model = Array();\n\t\ttab_model[this.primary_tab_key] = { 'label': this.primary_tab_label };\n\t\ttab_model['tab_audit'] = {\n\t\t\t'label': $.i18n._( 'Audit' ),\n\t\t\t'init_callback': 'initSubLogView',\n\t\t\t'display_on_mass_edit': false,\n\t\t\t'display_on_add': false\n\t\t};\n\t\tthis.setTabModel( tab_model );\n\n\t\tthis.navigation.AComboBox( {\n\t\t\tid: this.script_name + '_navigation',\n\t\t\ttree_mode: true,\n\t\t\tallow_multiple_selection: false,\n\t\t\tlayout_name: 'global_tree_column',\n\t\t\tnavigation_mode: true,\n\t\t\tshow_search_inputs: false,\n\t\t\ton_tree_grid_row_select: function( id, tree_mode_collapse ) {\n\t\t\t\t$this.onTreeGridNavigationRowSelect( id, tree_mode_collapse );\n\t\t\t}\n\t\t} );\n\n\t\tvar left_click = navigation_div.find( '.left-click' );\n\t\tvar right_click = navigation_div.find( '.right-click' );\n\t\tleft_click.attr( 'src', Global.getRealImagePath( 'images/left_arrow.png' ) );\n\t\tright_click.attr( 'src', Global.getRealImagePath( 'images/right_arrow.png' ) );\n\n\t\tthis.setNavigation();\n\n\t\t//Tab 0 start\n\t\tvar tab_group = this.edit_view_tab.find( '#' + this.primary_tab_key );\n\n\t\tvar tab_group_column1 = tab_group.find( '.first-column' );\n\n\t\tthis.edit_view_tabs[0] = [];\n\n\t\tthis.edit_view_tabs[0].push( tab_group_column1 );\n\n\t\t//Parent\n\t\t//Group\n\t\tvar form_item_input = Global.loadWidgetByName( FormItemType.AWESOME_BOX );\n\n\t\tform_item_input.AComboBox( {\n\t\t\ttree_mode: true,\n\t\t\tallow_multiple_selection: false,\n\t\t\tlayout_name: 'global_tree_column',\n\t\t\tset_empty: true,\n\t\t\tfield: 'parent_id'\n\t\t} );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Parent' ), form_item_input, tab_group_column1, '' );\n\n\t\t//Name\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.TEXT_INPUT );\n\n\t\tform_item_input.TTextInput( { field: 'name', width: '100%' } );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Name' ), form_item_input, tab_group_column1, '' );\n\n\t\tform_item_input.parent().width( '45%' );\n\t}\n}\n","import linkifyStr from 'linkifyjs/string';\n\nexport var EmbeddedMessage = {\n\tmessage_control_api: null,\n\t/**\n\t * Initializes embedded messages with a call to EmbeddedMessage.init()\n\t * Requires that initUI be called when the editviewui is built\n\t *\n\t * @param item_id (current_edit_record.id)\n\t * @param object_type (50 for requests)\n\t */\n\tinit: function( item_id, object_type, view_object, edit_view, edit_view_tab, edit_view_ui_dic, callback ) {\n\t\tvar args = {};\n\t\targs.filter_data = {};\n\t\targs.filter_data.object_type_id = object_type;\n\t\targs.filter_data.object_id = item_id;\n\t\tvar read_ids = [];\n\t\tthis.message_control_api = TTAPI.APIMessageControl;\n\n\t\tvar $this = this;\n\t\tthis.message_control_api['getEmbeddedMessage']( args, {\n\t\t\tonResult: function( res ) {\n\t\t\t\t// Error: Uncaught TypeError: Cannot read property 'setValue' of undefined in interface/html5/#!m=RequestAuthorization&id=1306 line 1547\n\t\t\t\tif ( !edit_view || !edit_view_ui_dic['from'] ) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tvar data = res.getResult();\n\t\t\t\tif ( Global.isArray( data ) ) {\n\t\t\t\t\t$( edit_view.find( '.separate' ) ).css( 'display', 'block' );\n\n\t\t\t\t\tview_object.messages = data;\n\n\t\t\t\t\tvar container = $( '<div></div>' );\n\n\t\t\t\t\tfor ( var key in data ) {\n\n\t\t\t\t\t\tvar currentItem = data[key];\n\t\t\t\t\t\t/* jshint ignore:start */\n\t\t\t\t\t\tif ( currentItem.status_id == 10 ) {\n\t\t\t\t\t\t\tread_ids.push( currentItem.id );\n\t\t\t\t\t\t}\n\t\t\t\t\t\t/* jshint ignore:end */\n\t\t\t\t\t\t/**\n\t\t\t\t\t\t * This can be a little confusing to look at so here's the process:\n\t\t\t\t\t\t * 1. Set the hidden fields' values\n\t\t\t\t\t\t * 2. Clone the message template\n\t\t\t\t\t\t * 3. Append the message templage to container\n\t\t\t\t\t\t * 4. Append the contents of the the container variable to the visible form\n\t\t\t\t\t\t */\n\t\t\t\t\t\tvar from = currentItem.from_first_name + ' ' + currentItem.from_last_name + ' @ ' + currentItem.updated_date;\n\t\t\t\t\t\tedit_view_ui_dic['from'].setValue( from );\n\n\t\t\t\t\t\tedit_view_ui_dic['subject'].setValue( Global.htmlDecode( currentItem.subject ) );\n\t\t\t\t\t\t// The function setValue is not used on the body to avoid double encoding issues on the content as linkify (parses links in text) already handles that.\n\t\t\t\t\t\tedit_view_ui_dic['body'].html( Global.htmlDecode( currentItem.body ).linkify( { nl2br: true, className: 'linkified' } ) );\n\t\t\t\t\t\tedit_view_ui_dic['body'].setResizeEvent();\n\n\t\t\t\t\t\tvar cloneMessageControl = $( edit_view_tab.find( '#tab_request' ).find( '.edit-view-tab' ).find( '.embedded-message-template' ) ).clone();\n\t\t\t\t\t\tcloneMessageControl.removeClass( 'embedded-message-template' );\n\t\t\t\t\t\tcloneMessageControl.addClass( 'embedded-message-container' );\n\t\t\t\t\t\tcloneMessageControl.css( 'display', 'block' );\n\t\t\t\t\t\tcloneMessageControl.css( 'margin', '0px' );\n\t\t\t\t\t\tcloneMessageControl.appendTo( container );\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( read_ids.length > 0 ) {\n\t\t\t\t\t\t$this.message_control_api['markRecipientMessageAsRead']( read_ids, {\n\t\t\t\t\t\t\tonResult: function( res ) {\n\t\t\t\t\t\t\t\t//commented out as it is needed on the message screen, but not here and results in a big api call we'd rather avoid.\n\t\t\t\t\t\t\t\t//$this.search( false );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} );\n\t\t\t\t\t}\n\n\t\t\t\t\t$( edit_view_tab.find( '#tab_request' ).find( '.edit-view-tab' ).find( '.embedded-message-column' ) ).hide();\n\t\t\t\t\tedit_view_tab.find( '#tab_request' ).find( '.edit-view-tab' ).find( '.embedded-message-container' ).hide();\n\t\t\t\t\tedit_view_tab.find( '#tab_request' ).find( '.edit-view-tab' ).find( '.embedded-message-container' ).remove();\n\t\t\t\t\tedit_view_tab.find( '#tab_request' ).find( '.edit-view-tab' ).append( container.html() );\n\t\t\t\t} else {\n\t\t\t\t\t$( edit_view.find( '.separate' ) ).css( 'display', 'none' );\n\t\t\t\t}\n\n\t\t\t\tcallback();\n\t\t\t}\n\t\t} );\n\t},\n\n\t/**\n\t * Requires a full width column with the class embedded-message-template\n\t *\n\t * @param view_object\n\t * @param tab_object\n\t */\n\tinitUI: function( view_object, tab_object ) {\n\n\t\tvar separate_box = tab_object.find( '.separate' ).css( 'display', 'none' );\n\n\t\t// Messages title bar\n\t\tvar form_item_input = Global.loadWidgetByName( FormItemType.SEPARATED_BOX );\n\t\tform_item_input.SeparatedBox( { label: $.i18n._( 'Messages' ) } );\n\t\tview_object.addEditFieldToColumn( null, form_item_input, separate_box );\n\n\t\tvar column = tab_object.find( '.embedded-message-template' );\n\n\t\t// From\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.TEXT );\n\t\tform_item_input.TText( { field: 'from', selected_able: true } );\n\t\tview_object.addEditFieldToColumn( $.i18n._( 'From' ), form_item_input, column, '' );\n\n\t\t// Subject\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.TEXT );\n\t\tform_item_input.TText( { field: 'subject', selected_able: true } );\n\t\tview_object.addEditFieldToColumn( $.i18n._( 'Subject' ), form_item_input, column );\n\n\t\t// Body\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.TEXT );\n\t\tform_item_input.TText( { field: 'body', width: 600, height: 400, selected_able: true } );\n\t\tview_object.addEditFieldToColumn( $.i18n._( 'Body' ), form_item_input, column, '', null, null, true );\n\n\t\t// Tab 0 second column end\n\t\tview_object.edit_view_tabs[0].push( column );\n\t\tcolumn.css( 'display', 'none' );\n\t\treturn;\n\t},\n\n\t/**\n\t * The record array must be an array containing a single record\n\t * The callback function must take the result object as an argument\n\t *\n\t * @param record_array\n\t * @param ignoreWarning\n\t * @param callback\n\t */\n\treply: function( record_array, ignoreWarning, callback ) {\n\t\tthis.message_control_api['setMessageControl']( record_array, false, ignoreWarning, {\n\t\t\tonResult: function( result ) {\n\t\t\t\tif ( callback ) {\n\t\t\t\t\tcallback( result );\n\t\t\t\t}\n\t\t\t}\n\t\t} );\n\t}\n};","export class UserGenericStatusWindowController extends BaseViewController {\n\tconstructor( options = {} ) {\n\t\t_.defaults( options, {\n\t\t\t// el: '.user-generic-data-status',\n\t\t\tel: '', // el is set to the DOM id which is set in UserGenericStatusWindowController.open()\n\n\t\t\tbatch_id: '',\n\t\t\tuser_id: '',\n\n\t\t\tcallback: null,\n\n\t\t\tevents: {\n\t\t\t\t'click .done-btn': 'onCloseClick'\n\t\t\t},\n\n\t\t} );\n\n\t\tsuper( options );\n\t}\n\n\tinit( options ) {\n\t\tthis.options = options;\n\t\tthis.content_div = $( this.el ).find( '.content' );\n\t\tthis.batch_id = this.options.batch_id;\n\t\tthis.user_id = this.options.user_id;\n\n\t\tif ( this.options.callback ) {\n\t\t\tthis.callback = this.options.callback;\n\t\t}\n\n\t\tthis.api = TTAPI.APIUserGenericStatus;\n\t\tthis.render();\n\t\tthis.initData();\n\n\t}\n\n\t//Don't initOptions if edit_only_mode. Do it in sub views\n\tinitData() {\n\t\tvar $this = this;\n\t\tProgressBar.showOverlay();\n\t\tthis.getAllColumns( function() {\n\t\t\t$this.initLayout();\n\t\t} );\n\t}\n\n\tinitLayout() {\n\t\tvar $this = this;\n\t\t$this.getDefaultDisplayColumns( function() {\n\t\t\t$this.setSelectLayout();\n\t\t\t$this.search();\n\n\t\t} );\n\t}\n\n\tonCloseClick() {\n\t\t// UserGenericStatusWindowController.instance = null;\n\t\t$( this.el ).remove();\n\n\t\tif ( this.callback ) {\n\t\t\tthis.callback();\n\t\t}\n\t}\n\n\trender() {\n\t\tvar title = $( this.el ).find( '.title' );\n\t\ttitle.text( $.i18n._( 'Status Report' ) );\n\n\t}\n\n\tgetAllColumns( callBack ) {\n\n\t\tvar $this = this;\n\t\tthis.api.getOptions( 'columns', {\n\t\t\tonResult( columns_result ) {\n\t\t\t\tvar columns_result_data = columns_result.getResult();\n\t\t\t\t$this.all_columns = Global.buildColumnArray( columns_result_data );\n\n\t\t\t\tif ( callBack ) {\n\t\t\t\t\tcallBack();\n\t\t\t\t}\n\n\t\t\t}\n\t\t} );\n\n\t}\n\n\tsearch( set_default_menu ) {\n\n\t\tif ( !Global.isSet( set_default_menu ) ) {\n\t\t\tset_default_menu = true;\n\t\t}\n\n\t\tvar $this = this;\n\n\t\tvar filter = {};\n\t\tfilter.filter_data = {};\n\t\tfilter.filter_data.batch_id = this.batch_id;\n\t\tfilter.filter_items_per_page = 0; // Default to 0 to load user preference defined\n\n\t\tthis.api['getUserGenericStatus']( filter, true, {\n\t\t\tonResult: function( result ) {\n\n\t\t\t\tvar result_data = result.getResult();\n\t\t\t\tresult_data = Global.formatGridData( result_data, $this.api.key_name );\n\n\t\t\t\t$this.grid.setData( result_data );\n\n\t\t\t\t$this.setGridSize();\n\n\t\t\t\tProgressBar.closeOverlay(); //Add this in initData\n\n\t\t\t\tif ( set_default_menu ) {\n\t\t\t\t\t$this.setDefaultMenu( true );\n\t\t\t\t}\n\n\t\t\t}\n\t\t} );\n\n\t\tthis.api['getUserGenericStatusCountArray']( this.user_id, this.batch_id, {\n\t\t\tonResult: function( result ) {\n\n\t\t\t\tvar result_data = result.getResult();\n\n\t\t\t\tvar failed = $( $this.el ).find( '.failed' );\n\t\t\t\tvar warning = $( $this.el ).find( '.warning' );\n\t\t\t\tvar success = $( $this.el ).find( '.success' );\n\n\t\t\t\tif ( result_data != true && result_data.status ) {\n\t\t\t\t\tfailed.text( result_data.status[10].total + '/' + result_data.total + '( ' + result_data.status[10].percent + '% )' );\n\t\t\t\t\twarning.text( result_data.status[20].total + '/' + result_data.total + '( ' + result_data.status[20].percent + '% )' );\n\t\t\t\t\tsuccess.text( result_data.status[30].total + '/' + result_data.total + '( ' + result_data.status[30].percent + '% )' );\n\t\t\t\t}\n\n\t\t\t}\n\t\t} );\n\n\t}\n\n\tsetGridSize() {\n\n\t}\n\n\tsetSelectLayout( column_start_from ) {\n\n\t\tvar $this = this;\n\t\tvar column_info_array = [];\n\n\t\tthis.select_layout = { id: '' };\n\t\tthis.select_layout.data = { filter_data: {}, filter_sort: {} };\n\t\tthis.select_layout.data.display_columns = this.default_display_columns;\n\t\tvar layout_data = this.select_layout.data;\n\t\tvar display_columns = this.buildDisplayColumns( layout_data.display_columns );\n\n\t\t//Set Data Grid on List view\n\t\tvar len = display_columns.length;\n\n\t\tif ( layout_data.display_columns.length < 1 ) {\n\t\t\tlayout_data.display_columns = this.default_display_columns;\n\t\t}\n\n\t\tvar start_from = 0;\n\n\t\tif ( Global.isSet( column_start_from ) && column_start_from > 0 ) {\n\t\t\tstart_from = column_start_from;\n\t\t}\n\n\t\tfor ( var i = start_from; i < len; i++ ) {\n\t\t\tvar view_column_data = display_columns[i];\n\n\t\t\tif ( view_column_data.value === 'description' ) {\n\t\t\t\tvar column_info = {\n\t\t\t\t\tname: view_column_data.value,\n\t\t\t\t\tindex: view_column_data.value,\n\t\t\t\t\tlabel: view_column_data.label,\n\t\t\t\t\twidth: 400,\n\t\t\t\t\tsortable: false,\n\t\t\t\t\ttitle: false\n\t\t\t\t};\n\n\t\t\t} else if ( view_column_data.value === 'status' ) {\n\t\t\t\tcolumn_info = {\n\t\t\t\t\tname: view_column_data.value, index: view_column_data.value, label: view_column_data.label,\n\t\t\t\t\twidth: 100, sortable: false, title: false, formatter: function( cell_value, related_data, row ) {\n\n\t\t\t\t\t\tvar span = $( '<span></span>' );\n\n\t\t\t\t\t\tif ( cell_value === 'Failed' ) {\n\t\t\t\t\t\t\tspan.addClass( 'failed-label' );\n\t\t\t\t\t\t} else if ( cell_value === 'Warning' ) {\n\t\t\t\t\t\t\tspan.addClass( 'warning-label' );\n\t\t\t\t\t\t} else if ( cell_value === 'Success' ) {\n\t\t\t\t\t\t\tspan.addClass( 'success-label' );\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tspan.text( cell_value );\n\t\t\t\t\t\treturn span.get( 0 ).outerHTML;\n\t\t\t\t\t}\n\t\t\t\t};\n\n\t\t\t} else {\n\t\t\t\tcolumn_info = {\n\t\t\t\t\tname: view_column_data.value,\n\t\t\t\t\tindex: view_column_data.value,\n\t\t\t\t\tlabel: view_column_data.label,\n\t\t\t\t\twidth: 100,\n\t\t\t\t\tsortable: false,\n\t\t\t\t\ttitle: false\n\t\t\t\t};\n\t\t\t}\n\n\t\t\tcolumn_info_array.push( column_info );\n\t\t}\n\n\t\tif ( this.grid ) {\n\t\t\tthis.grid.grid.jqGrid( 'GridUnload' );\n\t\t\tthis.grid = null;\n\t\t}\n\n\t\tthis.grid = new TTGrid( 'user_generic_data_status_grid-' + this.batch_id, {\n\t\t\taltRows: true,\n\t\t\tonSelectRow: $.proxy( this.onGridSelectRow, this ),\n\t\t\tdata: [],\n\t\t\trowNum: 10000,\n\t\t\tsortable: false,\n\t\t\tdatatype: 'local',\n\t\t\twidth: 600,\n\t\t\tcolNames: [],\n\t\t\tviewrecords: true\n\t\t}, column_info_array );\n\n\t\tvar content_div = $( this.el ).find( '.content' );\n\n\t\tthis.grid.grid.setGridWidth( content_div.width() - 2 );\n\t\tthis.grid.grid.setGridHeight( content_div.height() - 25 );\n\t\t$( window ).resize( function() {\n\t\t\t$this.grid.grid.setGridWidth( content_div.width() - 2 );\n\t\t\t$this.grid.grid.setGridHeight( content_div.height() - 25 );\n\t\t} );\n\n\t\tthis.filter_data = this.select_layout.data.filter_data;\n\t}\n\n}\n\n// UserGenericStatusWindowController.instance = null;\n\nUserGenericStatusWindowController.open = function( batch_id, user_id, callback ) {\n\tGlobal.loadViewSource( 'UserGenericStatus', 'UserGenericStatusWindow.css' );\n\tGlobal.loadViewSource( 'UserGenericStatus', 'UserGenericStatusWindow.html', function( result ) {\n\t\tif ( TTUUID.isUUID( batch_id ) == true ) {\n\t\t\tvar args = {\n\t\t\t\tbatch_id: batch_id,\n\t\t\t\tfailed: $.i18n._( 'Failed' ),\n\t\t\t\twarning: $.i18n._( 'Warning' ),\n\t\t\t\tsuccess: $.i18n._( 'Success' )\n\t\t\t};\n\n\t\t\tvar template = _.template( result );\n\t\t\t$( 'body' ).append( template( args ) );\n\n\t\t\tnew UserGenericStatusWindowController( {\n\t\t\t\tel: '#' + batch_id,\n\t\t\t\tbatch_id: batch_id,\n\t\t\t\tuser_id: user_id,\n\t\t\t\tcan_cache_controller: false,\n\t\t\t\tcallback: callback,\n\t\t\t} );\n\t\t} else {\n\t\t\tTAlertManager.showAlert( $.i18n._( 'Status report is empty. Please try again.', LocalCacheData.getApplicationName() ), $.i18n._( 'NOTICE' ) );\n\t\t}\n\t} );\n};","var ___EXPOSE_LOADER_IMPORT___ = require(\"-!./ALayoutCache.js\");\nvar ___EXPOSE_LOADER_GET_GLOBAL_THIS___ = require(\"../../../../../node_modules/expose-loader/dist/runtime/getGlobalThis.js\");\nvar ___EXPOSE_LOADER_GLOBAL_THIS___ = ___EXPOSE_LOADER_GET_GLOBAL_THIS___;\nvar ___EXPOSE_LOADER_IMPORT_MODULE_LOCAL_NAME___ = ___EXPOSE_LOADER_IMPORT___.ALayoutCache\nif (typeof ___EXPOSE_LOADER_GLOBAL_THIS___[\"ALayoutCache\"] === 'undefined') ___EXPOSE_LOADER_GLOBAL_THIS___[\"ALayoutCache\"] = ___EXPOSE_LOADER_IMPORT_MODULE_LOCAL_NAME___;\nmodule.exports = ___EXPOSE_LOADER_IMPORT___;\n"],"sourceRoot":""}