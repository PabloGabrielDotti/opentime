{"version":3,"sources":["webpack://timetrex/./interface/html5/views/payroll/recurring_pay_stub_amendment/RecurringPayStubAmendmentViewController.js"],"names":["RecurringPayStubAmendmentViewController","BaseViewController","options","_","defaults","el","type_array","filtered_status_array","frequency_array","super","this","edit_view_tpl","permission_id","viewId","script_name","table_name_key","context_menu_name","$","i18n","navigation_label","api","TTAPI","APIRecurringPayStubAmendment","render","buildContextMenu","initData","setSelectRibbonMenuIfNecessary","$this","initDropDownOption","basic_search_field_ui_dic","setSourceData","target","doNotValidate","setIsChanged","setMassEditingFieldsWhenFormChange","key","getField","c_value","getValue","current_edit_record","onTypeChange","is_mass_editing","isChecked","edit_view_ui_dic","setCheckBox","validate","records","type_id","amount","percent_amount","detachElement","attachElement","editFieldResize","widget_rate","widget_units","widget_amount","length","setReadOnly","setValue","parseFloat","toFixed","widget","setDefaultData","Global","isSet","rate","units","collectUIDataToCurrentEditRecord","setEditViewDataDone","buildEditViewUI","tab_model","setTabModel","navigation","AComboBox","api_class","id","allow_multiple_selection","layout_name","navigation_mode","show_search_inputs","setNavigation","tab_recurring_ps_amendment_column1","edit_view_tab","find","edit_view_tabs","push","form_item_input","loadWidgetByName","FormItemType","COMBO_BOX","TComboBox","field","set_empty","addEditFieldToColumn","TEXT_INPUT","TTextInput","width","parent","DATE_PICKER","TDatePicker","AWESOME_BOX","APIUser","default_args","setDefaultArgs","SEPARATED_BOX","SeparatedBox","label","args","filter_data","APIPayStubEntryAccount","hasKeyEvent","buildSearchFields","search_fields","SearchField","in_column","basic_search","form_item_type","multiple"],"mappings":"8OAAO,MAAMA,UAAgDC,mBAC5D,YAAaC,EAAU,IACtBC,EAAEC,SAAUF,EAAS,CACpBG,GAAI,+CACJC,WAAY,KACZC,sBAAuB,KACvBC,gBAAiB,OAGlBC,MAAOP,GAGR,KAAMA,GAELQ,KAAKC,cAAgB,yCACrBD,KAAKE,cAAgB,qBACrBF,KAAKG,OAAS,4BACdH,KAAKI,YAAc,gCACnBJ,KAAKK,eAAiB,yBACtBL,KAAKM,kBAAoBC,EAAEC,KAAKf,EAAG,0BACnCO,KAAKS,iBAAmBF,EAAEC,KAAKf,EAAG,0BAA6B,IAC/DO,KAAKU,IAAMC,MAAMC,6BAEjBZ,KAAKa,SACLb,KAAKc,mBAELd,KAAKe,WACLf,KAAKgB,+BAAgC,6BAGtC,cACC,IAAIC,EAAQjB,KACZA,KAAKkB,mBAAoB,QACzBlB,KAAKkB,mBAAoB,kBAAmB,YAAalB,KAAKU,KAAK,WAClEO,EAAME,0BAAqC,UAAEC,cAAeH,EAAMpB,0BAEnEG,KAAKkB,mBAAoB,aAG1B,iBAAkBG,EAAQC,GACzBtB,KAAKuB,aAAcF,GACnBrB,KAAKwB,mCAAoCH,GAEzC,IAAII,EAAMJ,EAAOK,WACbC,EAAUN,EAAOO,WAErB5B,KAAK6B,oBAAoBJ,GAAOE,EAEnB,YAARF,GACJzB,KAAK8B,eAGO,SAARL,GAA0B,UAARA,GAA2B,WAARA,IACpCzB,KAAK+B,kBACJV,EAAOW,aACXhC,KAAKiC,iBAAuB,KAAEC,aAAa,GAC3ClC,KAAKiC,iBAAwB,MAAEC,aAAa,GAC5ClC,KAAKiC,iBAAyB,OAAEC,aAAa,KAE7ClC,KAAKiC,iBAAuB,KAAEC,aAAa,GAC3ClC,KAAKiC,iBAAwB,MAAEC,aAAa,GAC5ClC,KAAKiC,iBAAyB,OAAEC,aAAa,KAG/ClC,KAAK6B,oBAA4B,OAAI7B,KAAKiC,iBAAyB,OAAEL,YAGhEN,GACLtB,KAAKmC,WAIP,gBAAiBC,GAMhB,OAJwB,IAAnBA,EAAQC,UACZD,EAAQE,OAASF,EAAQG,gBAGnBH,EAGR,eAC0C,IAApCpC,KAAK6B,oBAAoBQ,SAC7BrC,KAAKwC,cAAe,kBACpBxC,KAAKwC,cAAe,gCACpBxC,KAAKyC,cAAe,QACpBzC,KAAKyC,cAAe,SACpBzC,KAAKyC,cAAe,WAE2B,IAApCzC,KAAK6B,oBAAoBQ,UACpCrC,KAAKyC,cAAe,kBACpBzC,KAAKyC,cAAe,gCACpBzC,KAAKwC,cAAe,QACpBxC,KAAKwC,cAAe,SACpBxC,KAAKwC,cAAe,WAGrBxC,KAAK0C,kBAGN,gBAAiBrB,GAChB,IAAIsB,EAAc3C,KAAKiC,iBAAuB,KAC1CW,EAAe5C,KAAKiC,iBAAwB,MAC5CY,EAAgB7C,KAAKiC,iBAAyB,OAEhB,IAA7BZ,EAAOO,WAAWkB,QACtBD,EAAcE,aAAa,IAEvBJ,EAAYf,WAAWkB,OAAS,GAAKF,EAAahB,WAAWkB,OAAS,IAC1ED,EAAcE,aAAa,GAGvBJ,EAAYf,WAAWkB,OAAS,GAAKF,EAAahB,WAAWkB,OAAS,EAC1ED,EAAcG,UAAYC,WAAYN,EAAYf,YAAeqB,WAAYL,EAAahB,aAAesB,QAAS,IAElHL,EAAcG,SAAU,QAK1B,kBAAmB3B,GAClB,IAAI8B,EAASnD,KAAKiC,iBAAyB,OACvCU,EAAc3C,KAAKiC,iBAAuB,KAC1CW,EAAe5C,KAAKiC,iBAAwB,MAC3CU,EAAYf,WAAWkB,OAAS,GAAKF,EAAahB,WAAWkB,OAAS,GAG1EK,EAAOH,SAAU,QAGlBG,EAAOJ,aAAa,GAIrB,2BAQC,IAAII,EAEJ,IAAM,IAAI1B,KAPVzB,KAAKoD,eAAgB,CACpB,UAAW,KAMKpD,KAAK6B,oBACrBsB,EAASnD,KAAKiC,iBAAiBR,GAC1B4B,OAAOC,MAAOH,IAGhBA,EAAOH,SAAUhD,KAAK6B,oBAAoBJ,KAOzCzB,KAAK6B,oBAAoB0B,MAAQvD,KAAK6B,oBAAoB2B,SAC9DL,EAASnD,KAAKiC,iBAAyB,QAChCc,aAAa,GAGrB/C,KAAKyD,mCACLzD,KAAK0D,sBAGN,sBACC3D,MAAM2D,sBACN1D,KAAK8B,eAGN,kBACC/B,MAAM4D,kBAEN,IAAI1C,EAAQjB,KAGR4D,EAAY,CACf,6BAA8B,CAAE,QAASrD,EAAEC,KAAKf,EAAG,2BACnD,aAAa,GAEdO,KAAK6D,YAAaD,GAElB5D,KAAK8D,WAAWC,UAAW,CAC1BC,UAAWrD,MAAMC,6BACjBqD,GAAIjE,KAAKI,YAAc,cACvB8D,0BAA0B,EAC1BC,YAAa,6BACbC,iBAAiB,EACjBC,oBAAoB,IAGrBrE,KAAKsE,gBAIL,IAEIC,EAF6BvE,KAAKwE,cAAcC,KAAM,+BAEUA,KAAM,iBAE1EzE,KAAK0E,eAAe,GAAK,GAEzB1E,KAAK0E,eAAe,GAAGC,KAAMJ,GAG7B,IAAIK,EAAkBvB,OAAOwB,iBAAkBC,aAAaC,WAE5DH,EAAgBI,UAAW,CAAEC,MAAO,YAAaC,WAAW,IAC5DN,EAAgBxD,cAAeH,EAAMpB,uBACrCG,KAAKmF,qBAAsB5E,EAAEC,KAAKf,EAAG,UAAYmF,EAAiBL,EAAoC,KAGtGK,EAAkBvB,OAAOwB,iBAAkBC,aAAaM,aAExCC,WAAY,CAAEJ,MAAO,OAAQK,MAAO,SACpDtF,KAAKmF,qBAAsB5E,EAAEC,KAAKf,EAAG,QAAUmF,EAAiBL,GAEhEK,EAAgBW,SAASD,MAAO,QAIhCV,EAAkBvB,OAAOwB,iBAAkBC,aAAaM,aAExCC,WAAY,CAAEJ,MAAO,cAAeK,MAAO,SAC3DtF,KAAKmF,qBAAsB5E,EAAEC,KAAKf,EAAG,eAAiBmF,EAAiBL,GAEvEK,EAAgBW,SAASD,MAAO,QAIhCV,EAAkBvB,OAAOwB,iBAAkBC,aAAaC,YAExCC,UAAW,CAAEC,MAAO,eAAgBC,WAAW,IAC/DN,EAAgBxD,cAAeH,EAAMnB,iBACrCE,KAAKmF,qBAAsB5E,EAAEC,KAAKf,EAAG,aAAemF,EAAiBL,IAGrEK,EAAkBvB,OAAOwB,iBAAkBC,aAAaU,cAExCC,YAAa,CAAER,MAAO,eACtCjF,KAAKmF,qBAAsB5E,EAAEC,KAAKf,EAAG,cAAgBmF,EAAiBL,IAGtEK,EAAkBvB,OAAOwB,iBAAkBC,aAAaU,cAExCC,YAAa,CAAER,MAAO,aACtCjF,KAAKmF,qBAAsB5E,EAAEC,KAAKf,EAAG,YAAcmF,EAAiBL,IAGpEK,EAAkBvB,OAAOwB,iBAAkBC,aAAaY,cACxC3B,UAAW,CAC1BC,UAAWrD,MAAMgF,QACjBzB,0BAA0B,EAC1BC,YAAa,cACbE,oBAAoB,EACpBa,WAAW,EACXD,MAAO,SAER,IAAIW,EAAe,CACnB,mBAAkC,0BAClChB,EAAgBiB,eAAgBD,GAChC5F,KAAKmF,qBAAsB5E,EAAEC,KAAKf,EAAG,eAAiBmF,EAAiBL,IAGvEK,EAAkBvB,OAAOwB,iBAAkBC,aAAagB,gBACxCC,aAAc,CAAEC,MAAOzF,EAAEC,KAAKf,EAAG,wBACjDO,KAAKmF,qBAAsB,KAAMP,EAAiBL,GAGlD,IAAI0B,EAAO,GACPC,EAAc,CAClB,QAAsB,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,KAC/CD,EAAKC,YAAcA,GAEnBtB,EAAkBvB,OAAOwB,iBAAkBC,aAAaY,cACxC3B,UAAW,CAC1BC,UAAWrD,MAAMwF,uBACjBjC,0BAA0B,EAC1BC,YAAa,wBACbE,oBAAoB,EACpBa,WAAW,EACXD,MAAO,2BAERL,EAAgBiB,eAAgBI,GAChCjG,KAAKmF,qBAAsB5E,EAAEC,KAAKf,EAAG,oBAAsBmF,EAAiBL,IAG5EK,EAAkBvB,OAAOwB,iBAAkBC,aAAaC,YACxCC,UAAW,CAAEC,MAAO,UAAWC,WAAW,IAC1DN,EAAgBxD,cAAeH,EAAMrB,YACrCI,KAAKmF,qBAAsB5E,EAAEC,KAAKf,EAAG,eAAiBmF,EAAiBL,IAKvEK,EAAkBvB,OAAOwB,iBAAkBC,aAAaM,aAExCC,WAAY,CAAEJ,MAAO,OAAQK,MAAO,IAAKc,aAAa,IACtEpG,KAAKmF,qBAAsB5E,EAAEC,KAAKf,EAAG,QAAUmF,EAAiBL,EAAoC,GAAI,MAAM,EAAM,KAAM,MAAM,IAGhIK,EAAkBvB,OAAOwB,iBAAkBC,aAAaM,aAExCC,WAAY,CAAEJ,MAAO,QAASK,MAAO,IAAKc,aAAa,IACvEpG,KAAKmF,qBAAsB5E,EAAEC,KAAKf,EAAG,SAAWmF,EAAiBL,EAAoC,GAAI,MAAM,EAAM,KAAM,MAAM,IAIjIK,EAAkBvB,OAAOwB,iBAAkBC,aAAaM,aAExCC,WAAY,CAAEJ,MAAO,SAAUK,MAAO,MACtDtF,KAAKmF,qBAAsB5E,EAAEC,KAAKf,EAAG,UAAYmF,EAAiBL,EAAoC,GAAI,MAAM,IAKhHK,EAAkBvB,OAAOwB,iBAAkBC,aAAaM,aAExCC,WAAY,CAAEJ,MAAO,iBAAkBK,MAAO,KAC9DtF,KAAKmF,qBAAsB5E,EAAEC,KAAKf,EAAG,WAAamF,EAAiBL,EAAoC,GAAI,MAAM,GAEjH0B,EAAO,IACPC,EAAc,IACF7D,QAAU,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,IAC/C4D,EAAKC,YAAcA,GAGnBtB,EAAkBvB,OAAOwB,iBAAkBC,aAAaY,cACxC3B,UAAW,CAC1BC,UAAWrD,MAAMwF,uBACjBjC,0BAA0B,EAC1BC,YAAa,wBACbE,oBAAoB,EACpBa,WAAW,EACXD,MAAO,iCAGRL,EAAgBiB,eAAgBI,GAChCjG,KAAKmF,qBAAsB5E,EAAEC,KAAKf,EAAG,cAAgBmF,EAAiBL,EAAoC,GAAI,MAAM,IAGpHK,EAAkBvB,OAAOwB,iBAAkBC,aAAaM,aAExCC,WAAY,CAAEJ,MAAO,2BAA4BK,MAAO,MACxEtF,KAAKmF,qBAAsB5E,EAAEC,KAAKf,EAAG,0BAA4BmF,EAAiBL,EAAoC,IAGvH,oBAECxE,MAAMsG,oBACNrG,KAAKsG,cAAgB,CAEpB,IAAIC,YAAa,CAChBP,MAAOzF,EAAEC,KAAKf,EAAG,QACjB+G,UAAW,EACXvB,MAAO,OACPwB,cAAc,EACdC,eAAgB5B,aAAaM,aAE9B,IAAImB,YAAa,CAChBP,MAAOzF,EAAEC,KAAKf,EAAG,QACjB+G,UAAW,EACXvB,MAAO,UACP0B,UAAU,EACVF,cAAc,EACdtC,YAAa,uBACbuC,eAAgB5B,aAAaY,cAE9B,IAAIa,YAAa,CAChBP,MAAOzF,EAAEC,KAAKf,EAAG,UACjB+G,UAAW,EACXvB,MAAO,YACP0B,UAAU,EACVF,cAAc,EACdtC,YAAa,uBACbuC,eAAgB5B,aAAaY,cAE9B,IAAIa,YAAa,CAChBP,MAAOzF,EAAEC,KAAKf,EAAG,aACjB+G,UAAW,EACXvB,MAAO,eACP0B,UAAU,EACVF,cAAc,EACdtC,YAAa,uBACbuC,eAAgB5B,aAAaY,cAG9B,IAAIa,YAAa,CAChBP,MAAOzF,EAAEC,KAAKf,EAAG,cACjB+G,UAAW,EACXvB,MAAO,aACPd,YAAa,cACbH,UAAWrD,MAAMgF,QACjBgB,UAAU,EACVF,cAAc,EACdC,eAAgB5B,aAAaY,cAG9B,IAAIa,YAAa,CAChBP,MAAOzF,EAAEC,KAAKf,EAAG,cACjB+G,UAAW,EACXvB,MAAO,aACPd,YAAa,cACbH,UAAWrD,MAAMgF,QACjBgB,UAAU,EACVF,cAAc,EACdC,eAAgB5B,aAAaY","file":"payroll-recurring_pay_stub_amendment-RecurringPayStubAmendmentViewController.bundle.js?v=f1615aa0b3dd2a15618a","sourcesContent":["export class RecurringPayStubAmendmentViewController extends BaseViewController {\n\tconstructor( options = {} ) {\n\t\t_.defaults( options, {\n\t\t\tel: '#recurring_pay_stub_amendment_view_container',\n\t\t\ttype_array: null,\n\t\t\tfiltered_status_array: null,\n\t\t\tfrequency_array: null\n\t\t} );\n\n\t\tsuper( options );\n\t}\n\n\tinit( options ) {\n\t\t//this._super('initialize', options );\n\t\tthis.edit_view_tpl = 'RecurringPayStubAmendmentEditView.html';\n\t\tthis.permission_id = 'pay_stub_amendment';\n\t\tthis.viewId = 'RecurringPayStubAmendment';\n\t\tthis.script_name = 'RecurringPayStubAmendmentView';\n\t\tthis.table_name_key = 'recurring_ps_amendment';\n\t\tthis.context_menu_name = $.i18n._( 'Recurring PS Amendment' );\n\t\tthis.navigation_label = $.i18n._( 'Recurring PS Amendment' ) + ':';\n\t\tthis.api = TTAPI.APIRecurringPayStubAmendment;\n\n\t\tthis.render();\n\t\tthis.buildContextMenu();\n\n\t\tthis.initData();\n\t\tthis.setSelectRibbonMenuIfNecessary( 'RecurringPayStubAmendment' );\n\t}\n\n\tinitOptions() {\n\t\tvar $this = this;\n\t\tthis.initDropDownOption( 'type' );\n\t\tthis.initDropDownOption( 'filtered_status', 'status_id', this.api, function() {\n\t\t\t$this.basic_search_field_ui_dic['status_id'].setSourceData( $this.filtered_status_array );\n\t\t} );\n\t\tthis.initDropDownOption( 'frequency' );\n\t}\n\n\tonFormItemChange( target, doNotValidate ) {\n\t\tthis.setIsChanged( target );\n\t\tthis.setMassEditingFieldsWhenFormChange( target );\n\n\t\tvar key = target.getField();\n\t\tvar c_value = target.getValue();\n\n\t\tthis.current_edit_record[key] = c_value;\n\n\t\tif ( key === 'type_id' ) {\n\t\t\tthis.onTypeChange();\n\t\t}\n\n\t\tif ( key === 'rate' || key === 'units' || key === 'amount' ) {\n\t\t\tif ( this.is_mass_editing ) {\n\t\t\t\tif ( target.isChecked() ) {\n\t\t\t\t\tthis.edit_view_ui_dic['rate'].setCheckBox( true );\n\t\t\t\t\tthis.edit_view_ui_dic['units'].setCheckBox( true );\n\t\t\t\t\tthis.edit_view_ui_dic['amount'].setCheckBox( true );\n\t\t\t\t} else {\n\t\t\t\t\tthis.edit_view_ui_dic['rate'].setCheckBox( false );\n\t\t\t\t\tthis.edit_view_ui_dic['units'].setCheckBox( false );\n\t\t\t\t\tthis.edit_view_ui_dic['amount'].setCheckBox( false );\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis.current_edit_record['amount'] = this.edit_view_ui_dic['amount'].getValue();\n\t\t}\n\n\t\tif ( !doNotValidate ) {\n\t\t\tthis.validate();\n\t\t}\n\t}\n\n\tuniformVariable( records ) {\n\n\t\tif ( records.type_id == 20 ) {\n\t\t\trecords.amount = records.percent_amount;\n\t\t}\n\n\t\treturn records;\n\t}\n\n\tonTypeChange() {\n\t\tif ( this.current_edit_record.type_id == 10 ) {\n\t\t\tthis.detachElement( 'percent_amount' );\n\t\t\tthis.detachElement( 'percent_amount_entry_name_id' );\n\t\t\tthis.attachElement( 'rate' );\n\t\t\tthis.attachElement( 'units' );\n\t\t\tthis.attachElement( 'amount' );\n\n\t\t} else if ( this.current_edit_record.type_id == 20 ) {\n\t\t\tthis.attachElement( 'percent_amount' );\n\t\t\tthis.attachElement( 'percent_amount_entry_name_id' );\n\t\t\tthis.detachElement( 'rate' );\n\t\t\tthis.detachElement( 'units' );\n\t\t\tthis.detachElement( 'amount' );\n\t\t}\n\n\t\tthis.editFieldResize();\n\t}\n\n\tonFormItemKeyUp( target ) {\n\t\tvar widget_rate = this.edit_view_ui_dic['rate'];\n\t\tvar widget_units = this.edit_view_ui_dic['units'];\n\t\tvar widget_amount = this.edit_view_ui_dic['amount'];\n\n\t\tif ( target.getValue().length === 0 ) {\n\t\t\twidget_amount.setReadOnly( false );\n\t\t}\n\t\tif ( widget_rate.getValue().length > 0 || widget_units.getValue().length > 0 ) {\n\t\t\twidget_amount.setReadOnly( true );\n\t\t}\n\n\t\tif ( widget_rate.getValue().length > 0 && widget_units.getValue().length > 0 ) {\n\t\t\twidget_amount.setValue( ( parseFloat( widget_rate.getValue() ) * parseFloat( widget_units.getValue() ) ).toFixed( 2 ) );\n\t\t} else {\n\t\t\twidget_amount.setValue( '0.00' );\n\t\t}\n\t}\n\n\t/* jshint ignore:start */\n\tonFormItemKeyDown( target ) {\n\t\tvar widget = this.edit_view_ui_dic['amount'];\n\t\tvar widget_rate = this.edit_view_ui_dic['rate'];\n\t\tvar widget_units = this.edit_view_ui_dic['units'];\n\t\tif ( widget_rate.getValue().length > 0 && widget_units.getValue().length > 0 ) {\n\n\t\t} else {\n\t\t\twidget.setValue( '0.00' );\n\t\t}\n\n\t\twidget.setReadOnly( true );\n\t}\n\n\t/* jshint ignore:end */\n\tsetCurrentEditRecordData() {\n\n\t\t// When mass editing, these fields may not be the common data, so their value will be undefined, so this will cause their change event cannot work properly.\n\t\tthis.setDefaultData( {\n\t\t\t'type_id': 10\n\t\t} );\n\n\t\t//Set current edit record data to all widgets\n\t\tvar widget;\n\n\t\tfor ( var key in this.current_edit_record ) {\n\t\t\twidget = this.edit_view_ui_dic[key];\n\t\t\tif ( Global.isSet( widget ) ) {\n\t\t\t\tswitch ( key ) {\n\t\t\t\t\tdefault:\n\t\t\t\t\t\twidget.setValue( this.current_edit_record[key] );\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\n\t\t\t}\n\t\t}\n\n\t\tif ( this.current_edit_record.rate || this.current_edit_record.units ) {\n\t\t\twidget = this.edit_view_ui_dic['amount'];\n\t\t\twidget.setReadOnly( true );\n\t\t}\n\n\t\tthis.collectUIDataToCurrentEditRecord();\n\t\tthis.setEditViewDataDone();\n\t}\n\n\tsetEditViewDataDone() {\n\t\tsuper.setEditViewDataDone();\n\t\tthis.onTypeChange();\n\t}\n\n\tbuildEditViewUI() {\n\t\tsuper.buildEditViewUI();\n\n\t\tvar $this = this;\n\t\tvar allow_multiple_selection = false;\n\n\t\tvar tab_model = {\n\t\t\t'tab_recurring_ps_amendment': { 'label': $.i18n._( 'Recurring PS Amendment' ) },\n\t\t\t'tab_audit': true,\n\t\t};\n\t\tthis.setTabModel( tab_model );\n\n\t\tthis.navigation.AComboBox( {\n\t\t\tapi_class: TTAPI.APIRecurringPayStubAmendment,\n\t\t\tid: this.script_name + '_navigation',\n\t\t\tallow_multiple_selection: false,\n\t\t\tlayout_name: 'global_recurring_amendment',\n\t\t\tnavigation_mode: true,\n\t\t\tshow_search_inputs: true\n\t\t} );\n\n\t\tthis.setNavigation();\n\n\t\t//Tab 0 start\n\n\t\tvar tab_recurring_ps_amendment = this.edit_view_tab.find( '#tab_recurring_ps_amendment' );\n\n\t\tvar tab_recurring_ps_amendment_column1 = tab_recurring_ps_amendment.find( '.first-column' );\n\n\t\tthis.edit_view_tabs[0] = [];\n\n\t\tthis.edit_view_tabs[0].push( tab_recurring_ps_amendment_column1 );\n\n\t\t// Status\n\t\tvar form_item_input = Global.loadWidgetByName( FormItemType.COMBO_BOX );\n\n\t\tform_item_input.TComboBox( { field: 'status_id', set_empty: false } );\n\t\tform_item_input.setSourceData( $this.filtered_status_array );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Status' ), form_item_input, tab_recurring_ps_amendment_column1, '' );\n\n\t\t// Name\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.TEXT_INPUT );\n\n\t\tform_item_input.TTextInput( { field: 'name', width: '100%' } );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Name' ), form_item_input, tab_recurring_ps_amendment_column1 );\n\n\t\tform_item_input.parent().width( '45%' );\n\n\t\t// Description\n\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.TEXT_INPUT );\n\n\t\tform_item_input.TTextInput( { field: 'description', width: '100%' } );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Description' ), form_item_input, tab_recurring_ps_amendment_column1 );\n\n\t\tform_item_input.parent().width( '45%' );\n\n\t\t// Frequency\n\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.COMBO_BOX );\n\n\t\tform_item_input.TComboBox( { field: 'frequency_id', set_empty: false } );\n\t\tform_item_input.setSourceData( $this.frequency_array );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Frequency' ), form_item_input, tab_recurring_ps_amendment_column1 );\n\n\t\t// Start Date\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.DATE_PICKER );\n\n\t\tform_item_input.TDatePicker( { field: 'start_date' } );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Start Date' ), form_item_input, tab_recurring_ps_amendment_column1 );\n\n\t\t// End Date\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.DATE_PICKER );\n\n\t\tform_item_input.TDatePicker( { field: 'end_date' } );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'End Date' ), form_item_input, tab_recurring_ps_amendment_column1 );\n\n\t\t// Employee(s)\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.AWESOME_BOX );\n\t\tform_item_input.AComboBox( {\n\t\t\tapi_class: TTAPI.APIUser,\n\t\t\tallow_multiple_selection: true,\n\t\t\tlayout_name: 'global_user',\n\t\t\tshow_search_inputs: true,\n\t\t\tset_empty: true,\n\t\t\tfield: 'user'\n\t\t} );\n\t\tvar default_args = {};\n\t\tdefault_args.permission_section = 'recurring_ps_amendment';\n\t\tform_item_input.setDefaultArgs( default_args );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Employee(s)' ), form_item_input, tab_recurring_ps_amendment_column1 );\n\n\t\t// Pay Stub Amendment\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.SEPARATED_BOX );\n\t\tform_item_input.SeparatedBox( { label: $.i18n._( 'Pay Stub Amendment' ) } );\n\t\tthis.addEditFieldToColumn( null, form_item_input, tab_recurring_ps_amendment_column1 );\n\n\t\t// Pay Stub Account\n\t\tvar args = {};\n\t\tvar filter_data = {};\n\t\tfilter_data.type_id = [10, 20, 30, 50, 60, 65, 80];\n\t\targs.filter_data = filter_data;\n\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.AWESOME_BOX );\n\t\tform_item_input.AComboBox( {\n\t\t\tapi_class: TTAPI.APIPayStubEntryAccount,\n\t\t\tallow_multiple_selection: false,\n\t\t\tlayout_name: 'global_PayStubAccount',\n\t\t\tshow_search_inputs: true,\n\t\t\tset_empty: true,\n\t\t\tfield: 'pay_stub_entry_name_id'\n\t\t} );\n\t\tform_item_input.setDefaultArgs( args );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Pay Stub Account' ), form_item_input, tab_recurring_ps_amendment_column1 );\n\n\t\t// Amount Type\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.COMBO_BOX );\n\t\tform_item_input.TComboBox( { field: 'type_id', set_empty: false } );\n\t\tform_item_input.setSourceData( $this.type_array );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Amount Type' ), form_item_input, tab_recurring_ps_amendment_column1 );\n\n\t\t// Fixed\n\n\t\t// Rate\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.TEXT_INPUT );\n\n\t\tform_item_input.TTextInput( { field: 'rate', width: 149, hasKeyEvent: true } );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Rate' ), form_item_input, tab_recurring_ps_amendment_column1, '', null, true, null, null, true );\n\n\t\t// Units\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.TEXT_INPUT );\n\n\t\tform_item_input.TTextInput( { field: 'units', width: 149, hasKeyEvent: true } );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Units' ), form_item_input, tab_recurring_ps_amendment_column1, '', null, true, null, null, true );\n\n\t\t// Amount\n\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.TEXT_INPUT );\n\n\t\tform_item_input.TTextInput( { field: 'amount', width: 149 } );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Amount' ), form_item_input, tab_recurring_ps_amendment_column1, '', null, true );\n\n\t\t// Percent\n\n\t\t//Percent\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.TEXT_INPUT );\n\n\t\tform_item_input.TTextInput( { field: 'percent_amount', width: 79 } );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Percent' ), form_item_input, tab_recurring_ps_amendment_column1, '', null, true );\n\n\t\targs = {};\n\t\tfilter_data = {};\n\t\tfilter_data.type_id = [10, 20, 30, 40, 50, 60, 65];\n\t\targs.filter_data = filter_data;\n\n\t\t// Percent of\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.AWESOME_BOX );\n\t\tform_item_input.AComboBox( {\n\t\t\tapi_class: TTAPI.APIPayStubEntryAccount,\n\t\t\tallow_multiple_selection: false,\n\t\t\tlayout_name: 'global_PayStubAccount',\n\t\t\tshow_search_inputs: true,\n\t\t\tset_empty: true,\n\t\t\tfield: 'percent_amount_entry_name_id'\n\t\t} );\n\n\t\tform_item_input.setDefaultArgs( args );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Percent of' ), form_item_input, tab_recurring_ps_amendment_column1, '', null, true );\n\n\t\t// Pay Stub Note (Public)\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.TEXT_INPUT );\n\n\t\tform_item_input.TTextInput( { field: 'ps_amendment_description', width: 359 } );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Pay Stub Note (Public)' ), form_item_input, tab_recurring_ps_amendment_column1, '' );\n\t}\n\n\tbuildSearchFields() {\n\n\t\tsuper.buildSearchFields();\n\t\tthis.search_fields = [\n\n\t\t\tnew SearchField( {\n\t\t\t\tlabel: $.i18n._( 'Name' ),\n\t\t\t\tin_column: 1,\n\t\t\t\tfield: 'name',\n\t\t\t\tbasic_search: true,\n\t\t\t\tform_item_type: FormItemType.TEXT_INPUT\n\t\t\t} ),\n\t\t\tnew SearchField( {\n\t\t\t\tlabel: $.i18n._( 'Type' ),\n\t\t\t\tin_column: 1,\n\t\t\t\tfield: 'type_id',\n\t\t\t\tmultiple: true,\n\t\t\t\tbasic_search: true,\n\t\t\t\tlayout_name: 'global_option_column',\n\t\t\t\tform_item_type: FormItemType.AWESOME_BOX\n\t\t\t} ),\n\t\t\tnew SearchField( {\n\t\t\t\tlabel: $.i18n._( 'Status' ),\n\t\t\t\tin_column: 1,\n\t\t\t\tfield: 'status_id',\n\t\t\t\tmultiple: true,\n\t\t\t\tbasic_search: true,\n\t\t\t\tlayout_name: 'global_option_column',\n\t\t\t\tform_item_type: FormItemType.AWESOME_BOX\n\t\t\t} ),\n\t\t\tnew SearchField( {\n\t\t\t\tlabel: $.i18n._( 'Frequency' ),\n\t\t\t\tin_column: 2,\n\t\t\t\tfield: 'frequency_id',\n\t\t\t\tmultiple: true,\n\t\t\t\tbasic_search: true,\n\t\t\t\tlayout_name: 'global_option_column',\n\t\t\t\tform_item_type: FormItemType.AWESOME_BOX\n\t\t\t} ),\n\n\t\t\tnew SearchField( {\n\t\t\t\tlabel: $.i18n._( 'Created By' ),\n\t\t\t\tin_column: 2,\n\t\t\t\tfield: 'created_by',\n\t\t\t\tlayout_name: 'global_user',\n\t\t\t\tapi_class: TTAPI.APIUser,\n\t\t\t\tmultiple: true,\n\t\t\t\tbasic_search: true,\n\t\t\t\tform_item_type: FormItemType.AWESOME_BOX\n\t\t\t} ),\n\n\t\t\tnew SearchField( {\n\t\t\t\tlabel: $.i18n._( 'Updated By' ),\n\t\t\t\tin_column: 2,\n\t\t\t\tfield: 'updated_by',\n\t\t\t\tlayout_name: 'global_user',\n\t\t\t\tapi_class: TTAPI.APIUser,\n\t\t\t\tmultiple: true,\n\t\t\t\tbasic_search: true,\n\t\t\t\tform_item_type: FormItemType.AWESOME_BOX\n\t\t\t} )\n\t\t];\n\t}\n\n}\n"],"sourceRoot":""}