(self.webpackChunktimetrex=self.webpackChunktimetrex||[]).push([["wizard-re_calculate_timesheet-ReCalculateTimeSheetWizardController"],{2971:(e,t,i)=>{"use strict";i.r(t),i.d(t,{"ReCalculateTimeSheetWizardController":()=>s});class s extends BaseWizardController{constructor(e={}){_.defaults(e,{el:".wizard-bg"}),super(e)}init(e){this.title=$.i18n._("TimeSheet ReCalculation Wizard"),this.steps=3,this.current_step=1,this.render()}render(){super.render(),this.initCurrentStep()}buildCurrentStepUI(){switch(this.content_div.empty(),this.current_step){case 1:var e=this.getLabel();e.text($.i18n._("Recalculating timesheets is only required when policies have been modified and need to be applied retroactively.")),this.content_div.append(e);break;case 2:(e=this.getLabel()).text($.i18n._("Select one or more pay periods"));var t=this.getAComboBox(TTAPI.APIPayPeriod,!0,"global_Pay_period","pay_period_id"),i=$("<div class='wizard-acombobox-div'></div>");i.append(t),this.stepsWidgetDic[this.current_step]={},this.stepsWidgetDic[this.current_step][t.getField()]=t,this.content_div.append(e),this.content_div.append(i);break;case 3:(e=this.getLabel()).text($.i18n._("Select one or more employees")+":"),t=this.getAComboBox(TTAPI.APIUser,!0,"global_user","user_id",!0),(i=$("<div class='wizard-acombobox-div'></div>")).append(t),this.stepsWidgetDic[this.current_step]={},this.stepsWidgetDic[this.current_step][t.getField()]=t,this.content_div.append(e),this.content_div.append(i)}}buildCurrentStepData(){}onDoneClick(){var e=this;if(super.onDoneClick(),this.saveCurrentStep(),this.stepsDataDic&&this.stepsDataDic[2]&&this.stepsDataDic[3]){var t=this.stepsDataDic[2].pay_period_id,i=this.stepsDataDic[3].user_id,s=TTAPI.APITimeSheet;this.onCloseClick(),s.reCalculateTimeSheet(t,i,{onResult:function(t){e.call_back&&e.call_back()}})}}setCurrentStepValues(){if(this.stepsDataDic[this.current_step]){var e=this.stepsDataDic[this.current_step],t=this.stepsWidgetDic[this.current_step];switch(this.current_step){case 1:break;case 2:e.pay_period_id&&t.pay_period_id.setValue(e.pay_period_id);break;case 3:e.user_id&&t.user_id.setValue(e.user_id)}}}saveCurrentStep(){this.stepsDataDic[this.current_step]={};var e=this.stepsDataDic[this.current_step],t=this.stepsWidgetDic[this.current_step];switch(this.current_step){case 1:break;case 2:e.pay_period_id=t.pay_period_id.getValue();break;case 3:e.user_id=t.user_id.getValue()}}setDefaultDataToSteps(){if(!this.default_data)return null;this.stepsDataDic[2]={},this.stepsDataDic[3]={},this.getDefaultData("user_id")&&(this.stepsDataDic[3].user_id=this.getDefaultData("user_id")),this.getDefaultData("pay_period_id")&&(this.stepsDataDic[2].pay_period_id=this.getDefaultData("pay_period_id"))}}}}]);
//# sourceMappingURL=wizard-re_calculate_timesheet-ReCalculateTimeSheetWizardController.bundle.js.map?v=e42e57e9b09f7611065b