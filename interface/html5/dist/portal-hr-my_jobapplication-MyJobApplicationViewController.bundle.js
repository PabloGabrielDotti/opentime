(self.webpackChunktimetrex=self.webpackChunktimetrex||[]).push([["portal-hr-my_jobapplication-MyJobApplicationViewController"],{4813:(a,e,t)=>{"use strict";t.r(e),t.d(e,{"MyJobApplicationViewController":()=>o});var i=t(7526),l=t(121);class o extends l.BaseViewController{constructor(a={}){_.defaults(a,{el:"#my_job_application_view",events:{"click #available_jobs":"availableJobsClick","click #applyBtn":"onApplyJobClick"}}),super(a)}initialize(a){super.initialize(a),this.viewId="MyJobApplication",this.api=i.y.APIJobApplicantPortal,this.$(".search-result .content").empty(),this.search()}availableJobsClick(){window.location=Global.getBaseURL()+"#!m=PortalJobVacancy&company_id="+LocalCacheData.getAllURLArgs().company_id,LocalCacheData.setAllURLArgs({})}getFilterColumnsFromDisplayColumns(){var a={id:!0,job_vacancy:!0,job_vacancy_id:!0,interview_date:!0,created_date:!0};return a}search(a,e,t){var i=this,l={};this.vacancy_list_panel=this.$(".search-result .content"),this.more_btn=this.$(".search-result .more"),this.more_btn.unbind("click").bind("click",(function(){i.loadMore()})),l.filter_data={},l.filter_sort={},l.filter_columns=this.getFilterColumnsFromDisplayColumns(),l.filter_items_per_page=0,this.pager_data?l.filter_page="next"===a?this.pager_data.next_page:1:l.filter_page=1,this.api.getJobApplication(l,!1,{onResult:function(a){var e=a.getResult();if(Global.isArray(e)){for(var t=0;t<e.length;t++){var l=e[t],o=Global.loadWidget("views/portal/hr/my_jobapplication/MyJobApplicationRow.html"),n={job_vacancy:$.i18n._(l.job_vacancy),created_date:$.i18n._(l.created_date)};o=$(_.template(o)(n));var c=Global.getBaseURL()+"#!m=PortalJobVacancyDetail&id="+l.job_vacancy_id+"&company_id="+LocalCacheData.getAllURLArgs().company_id;$(o).find(".row-vacancy-title > span > a").attr("href",c),i.vacancy_list_panel.append(o)}i.pager_data=a.getPagerData(),i.pager_data.is_last_page?i.more_btn.hide():i.more_btn.show()}else{var r=$('<span class="vacancy-list-no-result">'+$.i18n._("No Results Found")+"</span>");i.vacancy_list_panel.append(r),i.vacancy_list_panel.css("text-align","center"),i.more_btn.hide()}}})}loadMore(){this.search("next")}onApplyJobClick(a){if(LocalCacheData.getPortalLoginUser()){var e=Global.getBaseURL()+"#!m=MyProfile&company_id="+LocalCacheData.getAllURLArgs().company_id;window.location=e}}}}}]);
//# sourceMappingURL=portal-hr-my_jobapplication-MyJobApplicationViewController.bundle.js.map?v=e938e5adf2c5ac48c89b