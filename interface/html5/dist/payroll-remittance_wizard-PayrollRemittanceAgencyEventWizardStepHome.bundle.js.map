{"version":3,"sources":["webpack://timetrex/./interface/html5/global/widgets/wizard/WizardStep.js","webpack://timetrex/./interface/html5/views/payroll/remittance_wizard/PayrollRemittanceAgencyEventWizardStepHome.js"],"names":["WizardStep","TTBackboneView","options","_","defaults","previous_step_name","next_step_name","buttons","wizard_obj","clicked_buttons","reload","api","name","title","$","i18n","instructions","super","initialize","this","setWizardObject","init","render","el","find","html","callback","length","append","val","initCardsBlock","_render","content","button","gridId","grid_div","allMultipleSelection","remove","grid","grid_columns","getGridColumns","$this","TTGrid","onSelectRow","e","onGridSelectRow","onSelectAll","n","ondblClickRow","onGridDblClickRow","multiselect","winMultiSelect","setGridSize","setGridGroupColumns","callBack","setGridHeight","setGridWidth","width","height","div","ul","id","icon","label","desc","src","container","img","right_container","description","selected_id","addButtonClick","ProgressBar","showOverlay","window","clickProcessing","clickProcessingHandle","setTimeout","closeOverlay","_onNavigationClick","element","target","hasClass","parents","addClass","hasOwnProperty","context_name","icon_name","button_name","getRibbonButton","Global","getRibbonIconRealPath","unbind","bind","onNavigationClick","isButtonClicked","appendButton","action_id","getMakePaymentData","getWizardObject","selected_remittance_agency_event_id","onResult","result","url","getResult","open","getFileAndPayWithPaymentServicesData","retval","TAlertManager","showAlert","PayrollRemittanceAgencyEventWizardStepHome","prae_grid_source_data","filter_data","Date","filter_columns","TTAPI","APIPayrollRemittanceAgencyEvent","getPayrollRemittanceAgencyEvent","TTUUID","isUUID","setTitle","wizard_name","setInstructions","grid_id","grid_table","setGrid","setData","colorGrid","setGridAutoHeight","setSelection","attr","addButton","Icons","view_detail","message","setCurrentStepName","data","getData","len","i","item","in_time_period","ui_id","css","minimize","remittance_agency_event","jqGrid","IndexViewController","openEditView","LocalCacheData","current_open_primary_controller","payroll_remittance_agency_id","index","sortable","payroll_remittance_agency_event_block","enableButtons"],"mappings":"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","file":"payroll-remittance_wizard-PayrollRemittanceAgencyEventWizardStepHome.bundle.js?v=c6a4c4250a17dce4c69f","sourcesContent":["import { TTBackboneView } from '@/views/TTBackboneView';\n\nexport class WizardStep extends TTBackboneView {\n\tconstructor( options = {} ) {\n\t\t_.defaults( options, {\n\t\t\tprevious_step_name: null,\n\t\t\tnext_step_name: null,\n\t\t\tbuttons: null,\n\t\t\twizard_obj: null, //rename to wizard_obj\n\n\t\t\tclicked_buttons: {},\n\t\t\treload: false,\n\n\t\t\tapi: null,\n\n\t\t\t//override in children\n\t\t\tname: 'undefined',\n\t\t\ttitle: $.i18n._( 'Undefined Step' ),\n\t\t\tinstructions: $.i18n._( 'Undefined step data' )\n\t\t} );\n\n\t\tsuper( options );\n\t}\n\n\tinitialize( wizard_obj ) {\n\t\tsuper.initialize( wizard_obj );\n\n\t\tthis.buttons = {};\n\t\tthis.reload = false;\n\t\tthis.setWizardObject( wizard_obj );\n\t\tvar $this = this;\n\t\tthis.init();\n\t}\n\n\t//Children must always call render()\n\tinit() {\n\t\tthis.render();\n\t}\n\n\tinitCardsBlock() {\n\t\t$( this.wizard_obj.el ).find( '#cards' ).html( '' );\n\t}\n\n\tsetTitle( title ) {\n\t\t$( this.wizard_obj.el ).find( '.title-1' ).html( title );\n\t}\n\n\tsetInstructions( instructions, callback ) {\n\n\t\tif ( $( this.el ).find( '.instructions' ).length == 0 ) {\n\t\t\t$( this.el ).find( '.progress-bar' ).append( '<p class=\"instructions\"></p>' );\n\t\t}\n\n\t\t$( this.el ).find( '.progress-bar .instructions' ).html( instructions );\n\n\t\tif ( typeof callback == 'function' ) {\n\t\t\tcallback();\n\t\t}\n\t}\n\n\tsetWizardObject( val ) {\n\t\tthis.wizard_obj = val;\n\t\tthis.el = this.wizard_obj.el;\n\t}\n\n\tgetWizardObject() {\n\t\treturn this.wizard_obj;\n\t}\n\n\tsetNextStepName( val ) {\n\t\tthis.next_step_name = val;\n\t}\n\n\tgetNextStepName() {\n\t\treturn false;\n\t}\n\n\tsetPreviousStepName( val ) {\n\t\tthis.previous_step_name = val;\n\t}\n\n\tgetPreviousStepName() {\n\t\treturn false;\n\t}\n\n\trender() {\n\t\tthis.initCardsBlock();\n\t\treturn this._render();\n\t}\n\n\t_render() {\n\t\treturn;\n\t\t//always overrirde\n\t}\n\n\tappend( content ) {\n\t\t$( this.wizard_obj.el ).find( '.content' ).append( content );\n\t}\n\n\tappendButton( button ) {\n\t\t$( this.wizard_obj.el ).find( '#cards' ).append( button );\n\t}\n\n\tsetGrid( gridId, grid_div, allMultipleSelection ) {\n\n\t\tif ( !allMultipleSelection ) {\n\t\t\tallMultipleSelection = false;\n\t\t}\n\n\t\t$( '#' + gridId ).remove(); //Remove the grid to prevent JS Exception: Uncaught TypeError: Failed to execute 'replaceChild' on 'Node': parameter 2 is not of type 'Node'.\n\n\t\tthis.append( grid_div );\n\n\t\tvar grid = $( '#' + gridId );\n\n\t\tvar grid_columns = this.getGridColumns( gridId );\n\n\t\tvar $this = this;\n\n\t\tgrid = new TTGrid( gridId, {\n\t\t\tonSelectRow: function( e ) {\n\t\t\t\t$this.onGridSelectRow( e );\n\t\t\t},\n\t\t\tonSelectAll: function( e ) {\n\t\t\t\tfor ( var n in e ) {\n\t\t\t\t\t$this.onGridSelectRow( e[n] );\n\t\t\t\t}\n\t\t\t},\n\t\t\tondblClickRow: function() {\n\t\t\t\t$this.onGridDblClickRow();\n\t\t\t},\n\t\t\tmultiselect: false,\n\t\t\twinMultiSelect: false\n\t\t}, grid_columns );\n\n\t\tthis.setGridSize( grid );\n\t\tthis.setGridGroupColumns( gridId );\n\n\t\treturn grid; //allowing chaining off this method.\n\t}\n\n\tgetGridColumns( gridId, callBack ) {\n\t\t//override if step object needs a grid.\n\t}\n\n\tsetGridAutoHeight( grid, length ) {\n\t\tif ( length > 0 && length < 10 ) {\n\t\t\tgrid.grid.setGridHeight( length * 23 );\n\t\t} else if ( length > 10 ) {\n\t\t\tgrid.grid.setGridHeight( 400 );\n\t\t}\n\t}\n\n\tsetGridSize( grid ) {\n\t\tgrid.grid.setGridWidth( $( this.wizard_obj.el ).find( '.content .grid-div' ).width() - 11 );\n\t\tgrid.grid.setGridHeight( $( this.wizard_obj.el ).find( '.content' ).height() - 150 ); //During merge, this wasn't in MASTER branch.\n\t}\n\n\tgetRibbonButtonBox() {\n\t\tvar div = $( '<div class=\"menu ribbon-button-bar\"></div>' );\n\t\tvar ul = $( '<ul></ul>' );\n\n\t\tdiv.append( ul );\n\n\t\treturn div;\n\t}\n\n\t/**\n\t * to get old-style icons, don't provide desc\n\t * to get card-style icons, provide desc\n\t * to get card-style icons without a description, send a blank string ('') as desc\n\t *\n\t * @param id\n\t * @param icon\n\t * @param label\n\t * @param desc\n\t * @returns {*|jQuery|HTMLElement}\n\t */\n\tgetRibbonButton( id, icon, label, desc ) {\n\t\t//prelaod imgages to reduce the appearance of phantom flashing\n\t\t$( '<img></img>' )[0].src = icon;\n\n\t\tif ( typeof desc == 'undefined' ) {\n\t\t\tvar button = $( '<li><div class=\"ribbon-sub-menu-icon\" id=\"' + id + '\"><img src=\"' + icon + '\" >' + label + '</div></li>' );\n\t\t\treturn button;\n\t\t}\n\n\t\tvar container = $( '<div class=\"wizard_icon_card\" id=\"' + id + '\"></div>' );\n\n\t\tvar img = $( '<img src=\"' + icon + '\"></img>' );\n\n\t\tvar right_container = $( '<div class=\"right_container\"></div>' );\n\n\t\tvar title = $( '<h3 class=\"button_title\"></h3>' );\n\t\ttitle.html( label ? label : '' );\n\n\t\tvar description = $( '<div class=\"description\"></div>' );\n\t\tdescription.html( desc ? desc : '' );\n\n\t\tcontainer.append( img );\n\t\tright_container.append( title );\n\t\tright_container.append( description );\n\t\tcontainer.append( right_container );\n\n\t\treturn container;\n\t}\n\n\t//\n\t//stubs that should be overrideen\n\t//\n\n\tonGridSelectRow( selected_id ) {\n\t\t//\n\t}\n\n\tonGridDblClickRow( selected_id ) {\n\t\t//\n\t}\n\n\tonNavigationClick( e, icon ) {\n\t\tif ( e ) {\n\t\t\tthis.addButtonClick( e, icon );\n\t\t}\n\n\t\t//Prevent double clicking on tax wizard buttons.\n\t\tProgressBar.showOverlay();\n\n\t\t//this flag is turned off in ProgressBarManager::closeOverlay, or 2s whichever happens first\n\t\tif ( window.clickProcessing == true ) {\n\t\t\treturn;\n\t\t} else {\n\t\t\twindow.clickProcessing = true;\n\t\t\twindow.clickProcessingHandle = window.setTimeout( function() {\n\t\t\t\tif ( window.clickProcessing == true ) {\n\t\t\t\t\twindow.clickProcessing = false;\n\t\t\t\t\tProgressBar.closeOverlay();\n\t\t\t\t}\n\t\t\t}, 1000 );\n\t\t}\n\n\t\tthis._onNavigationClick( icon );\n\t}\n\n\t//Overridden in each Wizard step.\n\t_onNavigationClick( icon ) {\n\t}\n\n\t//Overridden in each Wizard step that needs to determine if required buttons are clicked or not.\n\tisRequiredButtonsClicked() {\n\t\treturn true;\n\t}\n\n\taddButtonClick( e, icon ) {\n\t\t// $(e.target).addClass('clicked_wizard_icon');\n\t\t// $(e.target).find('img').addClass('disable-image');\n\t\tvar element = $( e.target );\n\t\tif ( !element.hasClass( 'wizard_icon_card' ) ) {\n\t\t\telement = $( e.target ).parents( '.wizard_icon_card' );\n\t\t}\n\t\telement.addClass( 'clicked_wizard_icon' );\n\t\telement.addClass( 'disable-image' );\n\n\t\tthis.clicked_buttons[icon] = true;\n\t}\n\n\tisButtonClicked( icon ) {\n\t\tif ( this.clicked_buttons.hasOwnProperty( icon ) && typeof this.clicked_buttons[icon] != 'undefined' ) {\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t}\n\n\taddButton( context_name, icon_name, title, description, button_name ) {\n\t\tif ( typeof button_name == 'undefined' ) {\n\t\t\tbutton_name = context_name;\n\t\t}\n\n\t\tvar button = this.getRibbonButton( context_name, Global.getRibbonIconRealPath( icon_name ), title, description );\n\n\t\tvar $this = this;\n\t\tbutton.unbind( 'click' ).bind( 'click', function( e ) {\n\t\t\t$this.onNavigationClick( e, button_name );\n\t\t} );\n\t\t//ribbon_button_box.find('ul').append(button);\n\n\t\tif ( this.isButtonClicked( button_name ) ) {\n\t\t\tbutton.addClass( 'clicked_wizard_icon' );\n\t\t\tbutton.addClass( 'disable-image' );\n\t\t}\n\n\t\tthis.buttons[icon_name] = button;\n\t\tthis.appendButton( button );\n\n\t\treturn button;\n\t}\n\n\tsetGridGroupColumns( gridId ) {\n\n\t}\n\n\turlClick( action_id ) {\n\t\tthis.api.getMakePaymentData( this.getWizardObject().selected_remittance_agency_event_id, action_id, {\n\t\t\tonResult: function( result ) {\n\t\t\t\tvar url = result.getResult();\n\t\t\t\twindow.open( url );\n\t\t\t}\n\t\t} );\n\t}\n\n\tpaymentServicesClick( action_id ) {\n\t\tthis.api.getFileAndPayWithPaymentServicesData( this.getWizardObject().selected_remittance_agency_event_id, action_id, {\n\t\t\tonResult: function( result ) {\n\t\t\t\tvar retval = result.getResult();\n\n\t\t\t\tif ( retval['user_message'] && retval['user_message'] != '' ) {\n\t\t\t\t\tTAlertManager.showAlert( retval['user_message'] );\n\t\t\t\t} else {\n\t\t\t\t\tif ( retval == false ) {\n\t\t\t\t\t\tTAlertManager.showAlert( $.i18n._( 'ERROR! Something went wrong, please contact customer service immediately!' ) );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t} );\n\t}\n\n}","import { WizardStep } from '@/global/widgets/wizard/WizardStep';\n\nexport class PayrollRemittanceAgencyEventWizardStepHome extends WizardStep {\n\tconstructor( options = {} ) {\n\t\t_.defaults( options, {\n\t\t\tname: 'home',\n\n\t\t\tprae_grid_source_data: null,\n\t\t\tgrid: null,\n\n\t\t\tel: $( '.wizard.process_transactions_wizard' )\n\t\t} );\n\n\t\tsuper( options );\n\t}\n\n\tinit() {\n\t\tvar filter_data = {\n\t\t\tfilter_data: {\n\t\t\t\t'status_id': [10, 15], //10=Enabled (Self Service) 15=Enabled (Full Service)\n\t\t\t\t'payroll_remittance_agency_status_id': 10, //Enabled\n\t\t\t\t'start_date': ( ( new Date() / 1000 ) + ( 86400 * 14 ) ) //Move start date into the future by 14 days so per Pay Period frequencies will still appear well in advance.\n\t\t\t},\n\t\t\tfilter_columns: {\n\t\t\t\t'id': true,\n\t\t\t\t'payroll_remittance_agency_id': true,\n\t\t\t\t'legal_entity_legal_name': true,\n\t\t\t\t'payroll_remittance_agency_name': true,\n\t\t\t\t'type': true,\n\t\t\t\t'type_id': true,\n\t\t\t\t'start_date': true,\n\t\t\t\t'end_date': true,\n\t\t\t\t'due_date': true,\n\t\t\t\t'in_time_period': true\n\t\t\t},\n\t\t\t'filter_sort': {\n\t\t\t\t'status_id': 'desc',\n\t\t\t\t'due_date': 'asc',\n\t\t\t\t'legal_entity_id': 'asc',\n\t\t\t\t'payroll_remittance_agency_id': 'asc',\n\t\t\t\t'type_id': 'asc'\n\t\t\t}\n\t\t};\n\n\t\tvar $this = this;\n\n\t\tvar api_payroll_remittance_agency_event = TTAPI.APIPayrollRemittanceAgencyEvent;\n\n\t\tapi_payroll_remittance_agency_event.getPayrollRemittanceAgencyEvent( filter_data, {\n\t\t\tonResult: function( result ) {\n\t\t\t\t$this.prae_grid_source_data = result.getResult();\n\t\t\t\t$this.render();\n\t\t\t}\n\t\t} );\n\t}\n\n\tgetNextStepName() {\n\t\t//Must have a selected row in home step grid to enable the next button.\n\t\tif ( TTUUID.isUUID( this.getWizardObject().selected_remittance_agency_event_id ) ) {\n\t\t\treturn 'review';\n\t\t} else {\n\t\t\treturn false;\n\t\t}\n\t}\n\n\t_render() {\n\t\tthis.setTitle( this.getWizardObject().wizard_name );\n\t\tif ( this.prae_grid_source_data.length > 0 ) {\n\t\t\tvar $this = this;\n\t\t\tthis.setInstructions( $.i18n._( 'Select one of the event(s) below to process' ) + ': ', function() {\n\t\t\t\tvar grid_id = 'payroll_remittance_agency_events';\n\t\t\t\tvar grid_div = $( '<div class=\\'grid-div wizard-grid-div\\'></div>' );\n\t\t\t\tvar grid_table = $( '<table id=\\'' + grid_id + '\\'></table>' );\n\t\t\t\tgrid_div.append( grid_table );\n\n\t\t\t\tif ( !$this.grid ) {\n\t\t\t\t\t$this.grid = $this.setGrid( grid_id, grid_div );\n\t\t\t\t\t$this.grid.setData( $this.prae_grid_source_data );\n\t\t\t\t}\n\t\t\t\t$this.colorGrid();\n\n\t\t\t\t$this.setGridAutoHeight( $this.grid, $this.prae_grid_source_data.length );\n\n\t\t\t\tif ( TTUUID.isUUID( $this.getWizardObject().selected_remittance_agency_event_id ) ) {\n\t\t\t\t\t$this.grid.grid.setSelection( $this.getWizardObject().selected_remittance_agency_event_id );\n\t\t\t\t} else {\n\t\t\t\t\t//select the first row on load.\n\t\t\t\t\t$this.grid.grid.setSelection( $this.grid.grid.find( 'tbody:first-child tr:nth-child(2)' ).attr( 'id' ) );\n\t\t\t\t\t$this.getWizardObject().selected_remittance_agency_event_id = $this.grid.grid.find( 'tbody:first-child tr:nth-child(2)' ).attr( 'id' );\n\t\t\t\t}\n\n\t\t\t\t$this.addButton( 'PayrollRemittanceAgency',\n\t\t\t\t\tIcons.view_detail,\n\t\t\t\t\t$.i18n._( 'Edit Remittance Agency' ),\n\t\t\t\t\t$.i18n._( 'In the event of incorrect dates, edit the selected remittance agency and its events to make corrections.' )\n\t\t\t\t);\n\t\t\t} );\n\n\t\t} else {\n\t\t\tvar message = $( '<div></div>' );\n\t\t\tmessage.html( $.i18n._( 'There are no outstanding tax events at this time.' ) );\n\t\t\tthis.append( message );\n\t\t}\n\n\t\t//If the wizard is closed, it reopens to the home step and must be told what the current step is.\n\t\tthis.getWizardObject().setCurrentStepName( 'home' );\n\t}\n\n\tcolorGrid() {\n\t\tvar data = this.grid.getData();\n\t\t//Error: TypeError: data is undefined in /interface/html5/framework/jquery.min.js?v=7.4.6-20141027-074127 line 2 > eval line 70\n\t\tif ( !data ) {\n\t\t\treturn;\n\t\t}\n\n\t\tvar len = data.length;\n\n\t\tfor ( var i = 0; i < len; i++ ) {\n\t\t\tvar item = data[i];\n\n\t\t\tif ( item.in_time_period == true ) {\n\t\t\t\t$( '#' + this.grid.ui_id ).find( 'tr[id=\\'' + item.id + '\\']' ).css( 'color', '#ccc' );\n\t\t\t}\n\n\t\t}\n\t}\n\n\t_onNavigationClick( icon ) {\n\t\tswitch ( icon ) {\n\t\t\tcase 'PayrollRemittanceAgency':\n\t\t\t\tthis.getWizardObject().minimize();\n\n\t\t\t\tvar grid_data = this.grid.getData();\n\t\t\t\tvar grid_indecies = this.grid.grid.jqGrid( 'getGridParam', '_index' );\n\t\t\t\tvar remittance_agency_event = grid_data[grid_indecies [this.getWizardObject().selected_remittance_agency_event_id]];\n\n\t\t\t\tIndexViewController.openEditView( LocalCacheData.current_open_primary_controller, 'PayrollRemittanceAgency', remittance_agency_event.payroll_remittance_agency_id );\n\n\t\t\t\tbreak;\n\t\t}\n\t}\n\n\tgetGridColumns( gridId, callBack ) {\n\t\tvar column_info_array = [\n\t\t\t{\n\t\t\t\tname: 'legal_entity_legal_name',\n\t\t\t\tindex: 'legal_entity_legal_name',\n\t\t\t\tlabel: 'Legal Entity',\n\t\t\t\twidth: 90,\n\t\t\t\tsortable: true,\n\t\t\t\ttitle: false\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: 'payroll_remittance_agency_name',\n\t\t\t\tindex: 'payroll_remittance_agency_name',\n\t\t\t\tlabel: 'Agency',\n\t\t\t\twidth: 200,\n\t\t\t\tsortable: true,\n\t\t\t\ttitle: false\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: 'type',\n\t\t\t\tindex: 'type',\n\t\t\t\tlabel: 'Event',\n\t\t\t\twidth: 100,\n\t\t\t\tsortable: true,\n\t\t\t\ttitle: false\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: 'start_date',\n\t\t\t\tindex: 'start_date',\n\t\t\t\tlabel: 'Start Date',\n\t\t\t\twidth: 60,\n\t\t\t\tsortable: true,\n\t\t\t\ttitle: false\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: 'end_date',\n\t\t\t\tindex: 'end_date',\n\t\t\t\tlabel: 'End Date',\n\t\t\t\twidth: 60,\n\t\t\t\tsortable: true,\n\t\t\t\ttitle: false\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: 'due_date',\n\t\t\t\tindex: 'due_date',\n\t\t\t\tlabel: 'Due Date',\n\t\t\t\twidth: 60,\n\t\t\t\tsortable: true,\n\t\t\t\ttitle: false\n\t\t\t}\n\t\t];\n\n\t\treturn column_info_array;\n\t}\n\n\tonGridSelectRow( selected_id ) {\n\t\tif ( this.getWizardObject().selected_remittance_agency_event_id != selected_id ) {\n\t\t\tthis.getWizardObject().selected_remittance_agency_event_id = selected_id;\n\n\t\t\tthis.getWizardObject().reload();\n\t\t\tthis.getWizardObject().payroll_remittance_agency_event_block = null;\n\n\t\t}\n\t\tthis.getWizardObject().enableButtons();\n\t}\n}"],"sourceRoot":""}