{"version":3,"sources":["webpack://timetrex/./interface/html5/views/reports/payroll_export/PayrollExportReportViewController.js"],"names":["PayrollExportReportViewController","ReportBaseViewController","options","_","defaults","export_type_array","export_policy_array","export_setup_ui_dic","export_setup_data","export_grid","select_grid_last_row","save_export_setup_data","super","this","script_name","viewId","context_menu_name","$","i18n","navigation_label","view_file","api","TTAPI","APIPayrollExportReport","include_form_setup","callBack","initDropDownOptions","option_name","result","groups","form","label","id","exclude","include","ContextMenuIconName","export_export","group","icon","Icons","sort_order","save_setup","context_btn","menu_name","Global","isSet","find","attr","hasClass","grid","jqGrid","message_override","view","ProgressBar","showOverlay","onViewClick","view_html","view_html_new_window","export_excel","onViewExcelClick","cancel","onCancelClick","save_existed_report","onSaveExistedReportClick","save_new_report","onSaveNewReportClick","onSaveSetup","triggerAnalyticsContextMenuClick","$this","tab3_column1","edit_view_tab","edit_view_tabs","push","form_item_input","loadWidgetByName","FormItemType","COMBO_BOX","TComboBox","field","set_empty","setSourceData","addEditFieldToColumn","bind","e","target","onExportChange","getValue","type","removeCurrentExportUI","getOptions","noCache","onResult","getResult","buildAdditionalInputBox","buildGrid","result_data","hasOwnProperty","columnOptions","column_info_array","column_options_string","column_info","name","index","width","sortable","title","hour_code_label","buildRecordArray","adp_hour_column_options","i","length","fullValue","formatter","editable","edittype","editoptions","value","adp_resource_hour_column_options","accero_hour_column_options","cms_pbj_hour_column_options","TTGrid","container_selector","multiselect","winMultiSelect","editurl","onSelectRow","setGridColumnsWidth","onResizeGrid","setExportGridData","new_grid","replaceWith","grid_data","len","grid_source","doNext","export_columns","default_columns","hour_code","hour_column","row","column_id","export_column_value","row_data","column_id_key","setData","closeOverlay","res_data","columns","setExportGridSize","is","tab3","edit_view","first_row","setGridWidth","css","setGridHeight","height","ui","key","tabs","editFieldResize","current_edit_record","last_index","getEditViewTabIndex","need_refresh_display_columns","edit_view_ui_dic","setup_field","setValue","getProductEdition","auto_refresh","parent","buildContextMenu","setEditMenu","html","getUpgradeMessage","initSubCustomColumnView","initSubSavedReportView","buildReportUIBaseOnSetupFields","checkFormSetupSaved","export_type","code","h_box","text_box","TEXT_INPUT","TTextInput","append","setWidgetVisible","trigger","edit_view_form_item_dic","code1","form_item_input1","text_box1","code2","form_item_input2","text_box2","code3","form_item_input3","text_box3","code4","form_item_input4","text_box4","code7","form_item_input7","APIJobDetailReport","AWESOME_BOX","AComboBox","allow_multiple_selection","layout_name","CHECKBOX","TCheckbox","containerWithTextTip","buildWidgetContainerWithTextTip","buildEditViewUI","text","remove","source","getData","item","field_list","ret_arr","other","for_display","getFormSetupFieldValues","state_columns","client_number","client_number_adv","job_columns","include_hourly_rate","employer_number","company_name","company_created_date","proj","job","payroll","csv_export_columns","getExportColumns","convertExportSetupValues","for_view","getFormData","data","api_data_key","form_data_key","substr","indexOf","search","res_Data","show_empty_message","doNotValidate","selRowId","getGridParam","saveRow","getField","isObject","form_setup_changed","onFormItemChange"],"mappings":"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","file":"reports-payroll_export-PayrollExportReportViewController.bundle.js?v=49138b8de8a35dac7de3","sourcesContent":["export class PayrollExportReportViewController extends ReportBaseViewController {\n\tconstructor( options = {} ) {\n\t\t_.defaults( options, {\n\n\t\t\texport_type_array: null,\n\n\t\t\texport_policy_array: null,\n\n\t\t\texport_setup_ui_dic: null,\n\n\t\t\texport_setup_data: null,\n\n\t\t\texport_grid: null,\n\n\t\t\tselect_grid_last_row: null,\n\n\t\t\tsave_export_setup_data: {}\n\t\t} );\n\n\t\tsuper( options );\n\t}\n\n\tinitReport( options ) {\n\t\tthis.script_name = 'PayrollExportReport';\n\t\tthis.viewId = 'PayrollExportReport';\n\t\tthis.context_menu_name = $.i18n._( 'Payroll Export' );\n\t\tthis.navigation_label = $.i18n._( 'Saved Report' ) + ':';\n\t\tthis.view_file = 'PayrollExportReportView.html';\n\t\tthis.api = TTAPI.APIPayrollExportReport;\n\t\tthis.include_form_setup = true;\n\t\tthis.export_setup_data = {};\n\t}\n\n\tinitOptions( callBack ) {\n\t\tvar $this = this;\n\t\tvar options = [\n\t\t\t{ option_name: 'page_orientation' },\n\t\t\t{ option_name: 'font_size' },\n\t\t\t{ option_name: 'chart_display_mode' },\n\t\t\t{ option_name: 'chart_type' },\n\t\t\t{ option_name: 'templates' },\n\t\t\t{ option_name: 'setup_fields' },\n\t\t\t{ option_name: 'export_type' },\n\t\t\t{ option_name: 'auto_refresh' }\n\t\t];\n\n\t\tthis.initDropDownOptions( options, function( result ) {\n\n\t\t\tcallBack( result ); // First to initialize drop down options, and then to initialize edit view UI.\n\n\t\t} );\n\t}\n\n\tgetCustomContextMenuModel() {\n\t\tvar context_menu_model = {\n\t\t\tgroups: {\n\t\t\t\tform: {\n\t\t\t\t\tlabel: $.i18n._( 'Export' ), // Export is deliberate (rather than Form) due to export setup tab\n\t\t\t\t\tid: this.viewId + 'Form'\n\t\t\t\t}\n\t\t\t},\n\t\t\texclude: [],\n\t\t\tinclude: [\n\t\t\t\t{\n\t\t\t\t\tlabel: $.i18n._( 'Export' ),\n\t\t\t\t\tid: ContextMenuIconName.export_export,\n\t\t\t\t\tgroup: 'editor',\n\t\t\t\t\ticon: Icons.export_export,\n\t\t\t\t\tsort_order: 1790 // To show icon before excel_export icon at 1800\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tlabel: $.i18n._( 'Save Setup' ),\n\t\t\t\t\tid: ContextMenuIconName.save_setup,\n\t\t\t\t\tgroup: 'form',\n\t\t\t\t\ticon: Icons.save_setup\n\t\t\t\t}\n\t\t\t]\n\t\t};\n\n\t\treturn context_menu_model;\n\t}\n\n\tonTabIndexChange() {\n\n\t\t// Don't do anything in this sub class\n\t}\n\n\tsetEditMenuViewIcon() {\n\t\t// Don't do anything in this sub class\n\t}\n\n\t/* jshint ignore:start */\n\tonContextMenuClick( context_btn, menu_name ) {\n\t\tvar id;\n\t\tif ( Global.isSet( menu_name ) ) {\n\t\t\tid = menu_name;\n\t\t} else {\n\t\t\tcontext_btn = $( context_btn );\n\n\t\t\tid = $( context_btn.find( '.ribbon-sub-menu-icon' ) ).attr( 'id' );\n\n\t\t\tif ( context_btn.hasClass( 'disable-image' ) ) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\n\t\tif ( this.select_grid_last_row ) {\n\t\t\tthis.export_grid.grid.jqGrid( 'saveRow', this.select_grid_last_row );\n\t\t\tthis.select_grid_last_row = null;\n\t\t}\n\n\t\tvar message_override = $.i18n._( 'Setup data for this report has not been configured yet. Please click on the Export Setup tab to do so now.' );\n\n\t\tswitch ( id ) {\n\t\t\tcase ContextMenuIconName.view:\n\t\t\t\tProgressBar.showOverlay();\n\t\t\t\tthis.onViewClick( null, false, message_override );\n\t\t\t\tbreak;\n\t\t\tcase ContextMenuIconName.view_html:\n\t\t\t\tProgressBar.showOverlay();\n\t\t\t\tthis.onViewClick( 'html', false, message_override );\n\t\t\t\tbreak;\n\t\t\tcase ContextMenuIconName.view_html_new_window:\n\t\t\t\tthis.onViewClick( 'html', false, message_override );\n\t\t\t\tbreak;\n\t\t\tcase ContextMenuIconName.export_excel:\n\t\t\t\tthis.onViewExcelClick( message_override );\n\t\t\t\tbreak;\n\t\t\tcase ContextMenuIconName.export_export:\n\t\t\t\tProgressBar.showOverlay();\n\t\t\t\tthis.onViewClick( 'payroll_export', false, message_override );\n\t\t\t\tbreak;\n\t\t\tcase ContextMenuIconName.cancel:\n\t\t\t\tthis.onCancelClick();\n\t\t\t\tbreak;\n\t\t\tcase ContextMenuIconName.save_existed_report: //All report view\n\t\t\t\tthis.onSaveExistedReportClick();\n\t\t\t\tbreak;\n\t\t\tcase ContextMenuIconName.save_new_report: //All report view\n\t\t\t\tthis.onSaveNewReportClick();\n\t\t\t\tbreak;\n\t\t\tcase ContextMenuIconName.save_setup: //All report view\n\t\t\t\tthis.onSaveSetup( $.i18n._( 'Export setup' ) );\n\t\t\t\tbreak;\n\t\t}\n\t\tGlobal.triggerAnalyticsContextMenuClick( context_btn, menu_name );\n\t}\n\n\t/* jshint ignore:end */\n\tbuildFormSetupUI() {\n\n\t\tvar $this = this;\n\n\t\tvar tab3 = this.edit_view_tab.find( '#tab_form_setup' );\n\n\t\tvar tab3_column1 = tab3.find( '.first-column' );\n\n\t\tthis.edit_view_tabs[3] = [];\n\n\t\tthis.edit_view_tabs[3].push( tab3_column1 );\n\n\t\t//Export Format\n\n\t\tvar form_item_input = Global.loadWidgetByName( FormItemType.COMBO_BOX );\n\t\tform_item_input.TComboBox( { field: 'export_type', set_empty: false } );\n\t\tform_item_input.setSourceData( $this.export_type_array );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Export Format' ), form_item_input, tab3_column1, '' );\n\n\t\tform_item_input.bind( 'formItemChange', function( e, target ) {\n\t\t\t$this.onExportChange( target.getValue() );\n\t\t} );\n\t}\n\n\tonExportChange( type ) {\n\n\t\tvar $this = this;\n\n\t\tthis.removeCurrentExportUI();\n\n\t\tProgressBar.showOverlay(); //End when set grid data complete\n\n\t\tthis.api.getOptions( 'export_policy', {\n\t\t\tnoCache: true, onResult: function( result ) {\n\t\t\t\t$this.export_policy_array = result.getResult();\n\n\t\t\t\tswitch ( type ) {\n\t\t\t\t\tcase 'adp':\n\t\t\t\t\tcase 'adp_advanced':\n\t\t\t\t\t\t$this.api.getOptions( 'adp_hour_column_options', {\n\t\t\t\t\t\t\tonResult: function( result ) {\n\t\t\t\t\t\t\t\t$this.buildAdditionalInputBox( type );\n\t\t\t\t\t\t\t\t$this.buildGrid( type, result.getResult() );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} );\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'adp_resource':\n\t\t\t\t\t\t$this.api.getOptions( 'adp_resource_hour_column_options', {\n\t\t\t\t\t\t\tonResult: function( result ) {\n\t\t\t\t\t\t\t\t$this.buildAdditionalInputBox( type );\n\t\t\t\t\t\t\t\t$this.buildGrid( type, result.getResult() );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} );\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'accero':\n\t\t\t\t\t\t$this.api.getOptions( 'accero_hour_column_options', {\n\t\t\t\t\t\t\tonResult: function( result ) {\n\t\t\t\t\t\t\t\t$this.buildAdditionalInputBox( type );\n\t\t\t\t\t\t\t\t$this.buildGrid( type, result.getResult() );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} );\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'va_munis':\n\t\t\t\t\t\t$this.api.getOptions( 'export_columns', true, {\n\t\t\t\t\t\t\tonResult: function( result ) {\n\t\t\t\t\t\t\t\tvar result_data = result.getResult();\n\n\t\t\t\t\t\t\t\tif ( !result_data.hasOwnProperty( '0' ) ) {\n\t\t\t\t\t\t\t\t\tresult_data[0] = '-- Custom --';\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t$this.buildAdditionalInputBox( type );\n\t\t\t\t\t\t\t\t$this.buildGrid( type, result_data );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} );\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'ceridian_insync':\n\t\t\t\t\tcase 'paychex_preview_advanced_job':\n\t\t\t\t\tcase 'paychex_preview':\n\t\t\t\t\tcase 'quickbooks':\n\t\t\t\t\tcase 'quickbooks_advanced':\n\t\t\t\t\tcase 'csv':\n\t\t\t\t\tcase 'csv_advanced':\n\t\t\t\t\tcase 'sage_50':\n\t\t\t\t\tcase 'meditech':\n\t\t\t\t\t\t$this.buildAdditionalInputBox( type );\n\t\t\t\t\t\t$this.buildGrid( type );\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'cms_pbj':\n\t\t\t\t\t\t$this.api.getOptions( 'cms_pbj_hour_column_options', {\n\t\t\t\t\t\t\tonResult: function( result ) {\n\t\t\t\t\t\t\t\t$this.buildAdditionalInputBox( type );\n\t\t\t\t\t\t\t\t$this.buildGrid( type, result.getResult() );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} );\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tdefault:\n\t\t\t\t\t\t$this.buildGrid( type );\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\n\t\t\t}\n\t\t} );\n\t}\n\n\t/* jshint ignore:start */\n\tbuildGrid( type, columnOptions ) {\n\t\tif ( typeof type == 'undefined' || type == 0 ) { //on first load and when user selects \"choose one\" we want to drop the grid\n\t\t\tif ( this.export_grid ) {\n\t\t\t\tvar new_grid = $( '<table id=\\'export_grid\\'>' );\n\t\t\t\tthis.export_grid.grid.jqGrid( 'GridUnload' );\n\t\t\t\tthis.export_grid.grid.replaceWith( new_grid );\n\t\t\t\tthis.export_grid = null;\n\t\t\t}\n\t\t\treturn;\n\t\t}\n\n\t\tvar $this = this;\n\t\tvar column_info_array = [];\n\t\tvar column_options_string = '';\n\n\t\tvar column_info = {\n\t\t\tname: 'column_id',\n\t\t\tindex: 'column_id',\n\t\t\tlabel: $.i18n._( 'Hours' ),\n\t\t\twidth: 100,\n\t\t\tsortable: false,\n\t\t\ttitle: false\n\t\t};\n\t\tcolumn_info_array.push( column_info );\n\n\t\tvar hour_code_label = '';\n\n\t\tswitch ( type ) {\n\t\t\tcase 'adp':\n\t\t\tcase 'adp_advanced':\n\n\t\t\t\tcolumnOptions = Global.buildRecordArray( columnOptions.adp_hour_column_options );\n\t\t\t\tfor ( var i = 0; i < columnOptions.length; i++ ) {\n\t\t\t\t\tif ( i !== columnOptions.length - 1 ) {\n\t\t\t\t\t\tcolumn_options_string += columnOptions[i].fullValue + ':' + columnOptions[i].label + ';';\n\t\t\t\t\t} else {\n\t\t\t\t\t\tcolumn_options_string += columnOptions[i].fullValue + ':' + columnOptions[i].label;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tcolumn_info = {\n\t\t\t\t\tname: 'hour_column',\n\t\t\t\t\tindex: 'hour_column',\n\t\t\t\t\tlabel: $.i18n._( 'ADP Hours' ),\n\t\t\t\t\twidth: 100,\n\t\t\t\t\tsortable: false,\n\t\t\t\t\tformatter: 'select',\n\t\t\t\t\teditable: true,\n\t\t\t\t\ttitle: false,\n\t\t\t\t\tedittype: 'select',\n\t\t\t\t\teditoptions: { value: column_options_string }\n\t\t\t\t};\n\t\t\t\tcolumn_info_array.push( column_info );\n\n\t\t\t\thour_code_label = $.i18n._( 'ADP Hours Code' );\n\t\t\t\tbreak;\n\t\t\tcase 'adp_resource':\n\t\t\t\tcolumnOptions = Global.buildRecordArray( columnOptions.adp_resource_hour_column_options );\n\t\t\t\tfor ( var i = 0; i < columnOptions.length; i++ ) {\n\t\t\t\t\tif ( i !== columnOptions.length - 1 ) {\n\t\t\t\t\t\tcolumn_options_string += columnOptions[i].fullValue + ':' + columnOptions[i].label + ';';\n\t\t\t\t\t} else {\n\t\t\t\t\t\tcolumn_options_string += columnOptions[i].fullValue + ':' + columnOptions[i].label;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tcolumn_info = {\n\t\t\t\t\tname: 'hour_column',\n\t\t\t\t\tindex: 'hour_column',\n\t\t\t\t\tlabel: $.i18n._( 'ADP Hours' ),\n\t\t\t\t\twidth: 100,\n\t\t\t\t\tsortable: false,\n\t\t\t\t\tformatter: 'select',\n\t\t\t\t\teditable: true,\n\t\t\t\t\ttitle: false,\n\t\t\t\t\tedittype: 'select',\n\t\t\t\t\teditoptions: { value: column_options_string }\n\t\t\t\t};\n\t\t\t\tcolumn_info_array.push( column_info );\n\n\t\t\t\thour_code_label = $.i18n._( 'ADP Hours Code' );\n\t\t\t\tbreak;\n\t\t\tcase 'accero':\n\t\t\t\tcolumnOptions = Global.buildRecordArray( columnOptions.accero_hour_column_options );\n\t\t\t\tfor ( var i = 0; i < columnOptions.length; i++ ) {\n\t\t\t\t\tif ( i !== columnOptions.length - 1 ) {\n\t\t\t\t\t\tcolumn_options_string += columnOptions[i].fullValue + ':' + columnOptions[i].label + ';';\n\t\t\t\t\t} else {\n\t\t\t\t\t\tcolumn_options_string += columnOptions[i].fullValue + ':' + columnOptions[i].label;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tcolumn_info = {\n\t\t\t\t\tname: 'hour_column',\n\t\t\t\t\tindex: 'hour_column',\n\t\t\t\t\tlabel: $.i18n._( 'Hour Type' ),\n\t\t\t\t\twidth: 100,\n\t\t\t\t\tsortable: false,\n\t\t\t\t\tformatter: 'select',\n\t\t\t\t\teditable: true,\n\t\t\t\t\ttitle: false,\n\t\t\t\t\tedittype: 'select',\n\t\t\t\t\teditoptions: { value: column_options_string }\n\t\t\t\t};\n\t\t\t\tcolumn_info_array.push( column_info );\n\n\t\t\t\thour_code_label = $.i18n._( 'HED Override #' ); //Hours Code\n\t\t\t\tbreak;\n\t\t\tcase 'paychex_preview_advanced_job':\n\t\t\tcase 'paychex_preview':\n\t\t\t\thour_code_label = $.i18n._( 'Paychex Hours Code' );\n\t\t\t\tbreak;\n\t\t\tcase 'paychex_online':\n\t\t\t\thour_code_label = $.i18n._( 'Earning Code' );\n\t\t\t\tbreak;\n\t\t\tcase 'ceridian_insync':\n\t\t\t\thour_code_label = $.i18n._( 'Ceridian Hours Code' );\n\t\t\t\tbreak;\n\t\t\tcase 'millenium':\n\t\t\t\thour_code_label = $.i18n._( 'Millenium Hours Code' );\n\t\t\t\tbreak;\n\t\t\tcase 'quickbooks_advanced':\n\t\t\tcase 'quickbooks':\n\t\t\t\thour_code_label = $.i18n._( 'Quickbooks Payroll Item Name' );\n\t\t\t\tbreak;\n\t\t\tcase 'surepayroll':\n\t\t\t\thour_code_label = $.i18n._( 'Payroll Code' );\n\t\t\t\tbreak;\n\t\t\tcase 'chris21':\n\t\t\t\thour_code_label = $.i18n._( 'Chris21 Hours Code' );\n\t\t\t\tbreak;\n\t\t\tcase 'va_munis':\n\t\t\t\tcolumnOptions = Global.buildRecordArray( columnOptions );\n\t\t\t\tfor ( var i = 0; i < columnOptions.length; i++ ) {\n\t\t\t\t\tif ( i !== columnOptions.length - 1 ) {\n\t\t\t\t\t\tcolumn_options_string += columnOptions[i].fullValue + ':' + columnOptions[i].label + ';';\n\t\t\t\t\t} else {\n\t\t\t\t\t\tcolumn_options_string += columnOptions[i].fullValue + ':' + columnOptions[i].label;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tcolumn_info = {\n\t\t\t\t\tname: 'hour_column',\n\t\t\t\t\tindex: 'hour_column',\n\t\t\t\t\tlabel: $.i18n._( 'Columns' ),\n\t\t\t\t\twidth: 100,\n\t\t\t\t\tsortable: false,\n\t\t\t\t\tformatter: 'select',\n\t\t\t\t\teditable: true,\n\t\t\t\t\ttitle: false,\n\t\t\t\t\tedittype: 'select',\n\t\t\t\t\teditoptions: { value: column_options_string }\n\t\t\t\t};\n\t\t\t\tcolumn_info_array.push( column_info );\n\n\t\t\t\thour_code_label = $.i18n._( 'Hours Code' );\n\t\t\t\tbreak;\n\t\t\tcase 'compupay':\n\t\t\t\thour_code_label = $.i18n._( 'DET Code' );\n\t\t\t\tbreak;\n\t\t\tcase 'sage_50':\n\t\t\t\thour_code_label = $.i18n._( 'Item Number' );\n\t\t\t\tbreak;\n\t\t\tcase 'cms_pbj':\n\t\t\t\tcolumnOptions = Global.buildRecordArray( columnOptions.cms_pbj_hour_column_options );\n\t\t\t\tfor ( var i = 0; i < columnOptions.length; i++ ) {\n\t\t\t\t\tif ( i !== columnOptions.length - 1 ) {\n\t\t\t\t\t\tcolumn_options_string += columnOptions[i].fullValue + ':' + columnOptions[i].label + ';';\n\t\t\t\t\t} else {\n\t\t\t\t\t\tcolumn_options_string += columnOptions[i].fullValue + ':' + columnOptions[i].label;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tcolumn_info = {\n\t\t\t\t\tname: 'hour_column',\n\t\t\t\t\tindex: 'hour_column',\n\t\t\t\t\tlabel: $.i18n._( 'Export' ),\n\t\t\t\t\twidth: 100,\n\t\t\t\t\tsortable: false,\n\t\t\t\t\tformatter: 'select',\n\t\t\t\t\teditable: true,\n\t\t\t\t\ttitle: false,\n\t\t\t\t\tedittype: 'select',\n\t\t\t\t\teditoptions: { value: column_options_string }\n\t\t\t\t};\n\t\t\t\tcolumn_info_array.push( column_info );\n\n\t\t\t\thour_code_label = false;\n\t\t\t\tbreak;\n\t\t\tcase 'meditech':\n\t\t\t\thour_code_label = $.i18n._( 'Earning Number' );\n\t\t\t\tbreak;\n\t\t\tcase 'csv':\n\t\t\tcase 'csv_advanced':\n\t\t\t\thour_code_label = $.i18n._( 'Hours Code' );\n\t\t\t\tbreak;\n\t\t}\n\n\t\tif ( hour_code_label !== false ) {\n\t\t\tcolumn_info = {\n\t\t\t\tname: 'hour_code',\n\t\t\t\tindex: 'hour_code',\n\t\t\t\tlabel: hour_code_label,\n\t\t\t\twidth: 100,\n\t\t\t\tsortable: false,\n\t\t\t\ttitle: false,\n\t\t\t\teditable: true,\n\t\t\t\tedittype: 'text'\n\t\t\t};\n\t\t\tcolumn_info_array.push( column_info );\n\t\t}\n\n\t\tif ( this.export_grid ) {\n\t\t\tthis.export_grid.grid.jqGrid( 'GridUnload' );\n\t\t\tthis.export_grid = null;\n\n\t\t}\n\n\t\tthis.export_grid = new TTGrid( 'export_grid', {\n\t\t\tcontainer_selector: '.inside-editor-div .grid-div',\n\t\t\tmultiselect: false,\n\t\t\twinMultiSelect: false,\n\t\t\tsortable: false,\n\t\t\tediturl: 'clientArray',\n\t\t\tonSelectRow: function( id ) {\n\t\t\t\tif ( id ) {\n\t\t\t\t\tif ( $this.select_grid_last_row ) {\n\t\t\t\t\t\t$this.export_grid.grid.jqGrid( 'saveRow', $this.select_grid_last_row );\n\t\t\t\t\t}\n\n\t\t\t\t\t$this.export_grid.grid.jqGrid( 'editRow', id, true );\n\t\t\t\t\t$this.select_grid_last_row = id;\n\n\t\t\t\t\t$this.export_grid.setGridColumnsWidth(); //When inline editing, it might change the width of each row, so resize the columns immediately after activating this.\n\t\t\t\t}\n\t\t\t},\n\t\t\tonResizeGrid: false\n\n\t\t}, column_info_array );\n\n\t\t$this.setExportGridData( type ); //Set Grid size at final\n\t}\n\n\t/* jshint ignore:end */\n\tsetExportGridData( type ) {\n\t\tvar $this = this;\n\n\t\tvar grid_data = Global.buildRecordArray( this.export_policy_array );\n\t\tvar export_columns = null;\n\t\tvar len = grid_data.length;\n\t\tvar grid_source = [];\n\n\t\tthis.api.getOptions( 'default_hour_codes', {\n\t\t\tnoCache: true,\n\t\t\tonResult: function( result ) {\n\n\t\t\t\tvar res_data = result.getResult();\n\t\t\t\tvar default_columns = [];\n\t\t\t\tif ( res_data[type] && res_data[type].columns ) {\n\t\t\t\t\tdefault_columns = res_data[type].columns;\n\t\t\t\t}\n\n\t\t\t\tif ( $this.save_export_setup_data && $this.save_export_setup_data[type] && $this.save_export_setup_data[type].columns ) {\n\t\t\t\t\texport_columns = $this.save_export_setup_data[type].columns;\n\t\t\t\t\tdoNext( export_columns, default_columns );\n\t\t\t\t} else if ( $this.export_setup_data && $this.export_setup_data[type] && $this.export_setup_data[type].columns ) {\n\t\t\t\t\texport_columns = $this.export_setup_data[type].columns;\n\t\t\t\t\tdoNext( export_columns, default_columns );\n\t\t\t\t} else if ( res_data[type] && res_data[type].columns ) {\n\t\t\t\t\tdoNext( default_columns );\n\t\t\t\t}\n\n\t\t\t\t$this.setExportGridSize();\n\t\t\t}\n\t\t} );\n\n\t\tfunction doNext( export_columns, default_columns ) {\n\t\t\tvar hour_code;\n\t\t\tvar hour_column;\n\t\t\tfor ( var i = 0; i < len; i++ ) {\n\t\t\t\tvar row = grid_data[i];\n\t\t\t\tvar column_id = row.label;\n\t\t\t\tvar export_column_value = export_columns[row.value];\n\t\t\t\t// Error: Uncaught TypeError: Cannot read property 'hour_column' of undefined in /interface/html5/#!m=Exception&sm=PayrollExportReport&sid=1726 line 523\n\t\t\t\tif ( Global.isSet( export_column_value ) == false ) {\n\t\t\t\t\tif ( default_columns && row.value && default_columns[row.value] ) {\n\t\t\t\t\t\texport_column_value = default_columns[row.value];\n\t\t\t\t\t} else {\n\t\t\t\t\t\texport_column_value = {};\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\thour_column = export_column_value.hour_column;\n\t\t\t\thour_code = export_column_value.hour_code;\n\n\t\t\t\tswitch ( type ) {\n\t\t\t\t\tcase 'adp':\n\t\t\t\t\tcase 'adp_advanced':\n\t\t\t\t\tcase 'adp_resource':\n\t\t\t\t\tcase 'accero':\n\t\t\t\t\tcase 'va_munis':\n\t\t\t\t\tcase 'sage_50':\n\t\t\t\t\tcase 'cms_pbj':\n\t\t\t\t\t\tif ( !hour_column ) {\n\t\t\t\t\t\t\thour_column = '0';\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tvar row_data = {\n\t\t\t\t\t\t\tid: i + 200,\n\t\t\t\t\t\t\tcolumn_id: column_id,\n\t\t\t\t\t\t\thour_column: hour_column,\n\t\t\t\t\t\t\thour_code: hour_code,\n\t\t\t\t\t\t\tcolumn_id_key: row.value\n\t\t\t\t\t\t};\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tdefault:\n\t\t\t\t\t\trow_data = {\n\t\t\t\t\t\t\tid: i + 200,\n\t\t\t\t\t\t\tcolumn_id: column_id,\n\t\t\t\t\t\t\thour_code: hour_code,\n\t\t\t\t\t\t\tcolumn_id_key: row.value\n\t\t\t\t\t\t};\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\n\t\t\t\tgrid_source.push( row_data );\n\t\t\t}\n\n\t\t\t$this.export_grid.setData( grid_source );\n\t\t\tProgressBar.closeOverlay();\n\n\t\t}\n\t}\n\n\t/* jshint ignore:start */\n\tsetExportGridSize() {\n\t\tif ( !this.export_grid || !this.export_grid.grid.is( ':visible' ) ) {\n\t\t\treturn;\n\t\t}\n\n\t\tvar tab3 = this.edit_view.find( '#form_setup_content_div' );\n\t\tvar first_row = this.edit_view.find( '.first-row' );\n\t\tthis.export_grid.grid.setGridWidth( this.edit_view.find( '.inside-editor-div ' ).width() + 14 );\n\t\t$( '#gbox_export_grid' ).css( 'overflow', 'hidden' );\n\t\tthis.export_grid.grid.setGridHeight( tab3.height() - first_row.height() );\n\t}\n\n\t/* jshint ignore:end */\n\tonTabShow( e, ui ) {\n\t\tvar key = $( e.target ).tabs( 'option', 'active' );\n\n\t\t$( '.edit-view-form-item-label' ).css( 'width', 'auto' );\n\t\tthis.editFieldResize( key );\n\n\t\tif ( !this.current_edit_record ) {\n\t\t\treturn;\n\t\t}\n\n\t\tvar last_index = this.getEditViewTabIndex();\n\n\t\tif ( ( last_index === 1 || this.need_refresh_display_columns ) && key === 0 ) {\n\t\t\tthis.buildReportUIBaseOnSetupFields();\n\t\t\tthis.buildContextMenu( true );\n\t\t\tthis.setEditMenu();\n\t\t} else if ( key === 1 ) {\n\t\t\tthis.edit_view_ui_dic.setup_field.setValue( this.current_edit_record.setup_field );\n\t\t\tif ( Global.getProductEdition() == 10 ) {\n\t\t\t\tthis.edit_view_ui_dic.auto_refresh.parent().parent().css( 'display', 'none' );\n\t\t\t}\n\t\t\tthis.buildContextMenu( true );\n\t\t\tthis.setEditMenu();\n\t\t} else if ( key === 2 ) {\n\t\t\tif ( Global.getProductEdition() >= 15 ) {\n\t\t\t\tthis.edit_view_tab.find( '#tab_chart' ).find( '.first-column' ).css( 'display', 'block' );\n\t\t\t\tthis.edit_view.find( '.permission-defined-div' ).css( 'display', 'none' );\n\t\t\t} else {\n\t\t\t\tthis.edit_view_tab.find( '#tab_chart' ).find( '.first-column' ).css( 'display', 'none' );\n\t\t\t\tthis.edit_view.find( '.permission-defined-div' ).css( 'display', 'block' );\n\t\t\t\tthis.edit_view.find( '.permission-message' ).html( Global.getUpgradeMessage() );\n\t\t\t}\n\t\t} else if ( key === 3 ) {\n\t\t\tthis.setExportGridSize();\n\t\t\tthis.buildContextMenu( true );\n\t\t\tthis.setEditMenu();\n\t\t} else if ( key === 4 ) {\n\t\t\tif ( Global.getProductEdition() >= 15 ) {\n\t\t\t\tthis.edit_view_tab.find( '#tab4' ).find( '.first-column-sub-view' ).css( 'display', 'block' );\n\t\t\t\tthis.edit_view.find( '.permission-defined-div' ).css( 'display', 'none' );\n\t\t\t\tthis.initSubCustomColumnView();\n\t\t\t} else {\n\t\t\t\tthis.edit_view_tab.find( '#tab4' ).find( '.first-column-sub-view' ).css( 'display', 'none' );\n\t\t\t\tthis.edit_view.find( '.permission-defined-div' ).css( 'display', 'block' );\n\t\t\t\tthis.edit_view.find( '.permission-message' ).html( Global.getUpgradeMessage() );\n\n\t\t\t}\n\t\t} else if ( key === 5 ) {\n\t\t\tthis.initSubSavedReportView();\n\t\t} else {\n\t\t\tthis.buildContextMenu( true );\n\t\t\tthis.setEditMenu();\n\t\t}\n\n\t\tthis.checkFormSetupSaved( last_index, $.i18n._( 'Export Setup' ) );\n\t}\n\n\tbuildAdditionalInputBox( type ) {\n\t\tif ( this.save_export_setup_data[type] ) {\n\t\t\tthis.export_setup_data = this.save_export_setup_data[type];\n\n\t\t\tif ( !this.export_setup_data.columns && this.export_setup_data[type] ) {\n\t\t\t\tthis.export_setup_data = this.export_setup_data[type];\n\t\t\t\tthis.export_setup_data.export_type = type;\n\t\t\t}\n\n\t\t} else {\n\t\t\tthis.export_setup_data = {};\n\t\t}\n\n\t\tvar $this = this;\n\n\t\tthis.export_setup_ui_dic = {};\n\n\t\tvar tab3 = this.edit_view_tab.find( '#tab_form_setup' );\n\n\t\tvar tab3_column1 = tab3.find( '.first-column' );\n\n\t\tthis.edit_view_tabs[3] = [];\n\n\t\tthis.edit_view_tabs[3].push( tab3_column1 );\n\n\t\tswitch ( type ) {\n\t\t\tcase 'adp':\n\t\t\t\t//Company code\n\t\t\t\tvar code = 'company_code';\n\t\t\t\tvar form_item_input = Global.loadWidgetByName( FormItemType.COMBO_BOX );\n\t\t\t\tform_item_input.TComboBox( { field: code } );\n\n\t\t\t\tvar h_box = $( '<div class=\\'h-box\\'></div>' );\n\n\t\t\t\tvar text_box = Global.loadWidgetByName( FormItemType.TEXT_INPUT );\n\t\t\t\ttext_box.css( 'margin-left', '10px' );\n\t\t\t\ttext_box.TTextInput( { field: code + '_text' } );\n\n\t\t\t\th_box.append( form_item_input );\n\t\t\t\th_box.append( text_box );\n\n\t\t\t\tthis.addEditFieldToColumn( $.i18n._( 'Company Code' ), [form_item_input, text_box], tab3_column1, '', h_box, true );\n\t\t\t\tthis.setWidgetVisible( [form_item_input, text_box] );\n\t\t\t\tform_item_input.bind( 'formItemChange', function( e, target ) {\n\t\t\t\t\tif ( target.getValue() === 0 ) {\n\t\t\t\t\t\ttext_box.css( 'display', 'inline' );\n\t\t\t\t\t\ttext_box.setValue( $this.export_setup_data[code] );\n\t\t\t\t\t} else {\n\t\t\t\t\t\ttext_box.css( 'display', 'none' );\n\t\t\t\t\t}\n\n\t\t\t\t} );\n\n\t\t\t\t$this.api.getOptions( 'adp_company_code_options', {\n\t\t\t\t\tonResult: function( result ) {\n\n\t\t\t\t\t\tvar result_data = result.getResult();\n\n\t\t\t\t\t\tform_item_input.setSourceData( Global.buildRecordArray( result_data ) );\n\n\t\t\t\t\t\tform_item_input.setValue( $this.export_setup_data[code] );\n\t\t\t\t\t\tform_item_input.trigger( 'formItemChange', [form_item_input, true] );\n\n\t\t\t\t\t}\n\t\t\t\t} );\n\n\t\t\t\t$this.export_setup_ui_dic[code] = $this.edit_view_form_item_dic[code];\n\t\t\t\tdelete $this.edit_view_form_item_dic[code];\n\n\t\t\t\t//Batch ID\n\t\t\t\tvar code1 = 'batch_id';\n\t\t\t\tvar form_item_input1 = Global.loadWidgetByName( FormItemType.COMBO_BOX );\n\t\t\t\tform_item_input1.TComboBox( { field: code1 } );\n\n\t\t\t\th_box = $( '<div class=\\'h-box\\'></div>' );\n\n\t\t\t\tvar text_box1 = Global.loadWidgetByName( FormItemType.TEXT_INPUT );\n\t\t\t\ttext_box1.css( 'margin-left', '10px' );\n\t\t\t\ttext_box1.TTextInput( { field: code1 + '_text' } );\n\n\t\t\t\th_box.append( form_item_input1 );\n\t\t\t\th_box.append( text_box1 );\n\n\t\t\t\tthis.addEditFieldToColumn( $.i18n._( 'Batch ID' ), [form_item_input1, text_box1], tab3_column1, '', h_box, true );\n\t\t\t\tthis.setWidgetVisible( [form_item_input1, text_box1] );\n\t\t\t\tform_item_input1.bind( 'formItemChange', function( e, target ) {\n\t\t\t\t\tif ( target.getValue() === 0 ) {\n\t\t\t\t\t\ttext_box1.css( 'display', 'inline' );\n\t\t\t\t\t\ttext_box1.setValue( $this.export_setup_data[code1] );\n\t\t\t\t\t} else {\n\t\t\t\t\t\ttext_box1.css( 'display', 'none' );\n\t\t\t\t\t}\n\t\t\t\t} );\n\n\t\t\t\t$this.api.getOptions( 'adp_batch_options', {\n\t\t\t\t\tonResult: function( result ) {\n\t\t\t\t\t\tvar result_data = result.getResult();\n\t\t\t\t\t\tform_item_input1.setSourceData( Global.buildRecordArray( result_data ) );\n\t\t\t\t\t\tform_item_input1.setValue( $this.export_setup_data[code1] );\n\t\t\t\t\t\tform_item_input1.trigger( 'formItemChange', [form_item_input1, true] );\n\t\t\t\t\t}\n\t\t\t\t} );\n\n\t\t\t\t$this.export_setup_ui_dic[code1] = $this.edit_view_form_item_dic[code1];\n\t\t\t\tdelete $this.edit_view_form_item_dic[code1];\n\n\t\t\t\t// Temp Department\n\n\t\t\t\tvar code2 = 'temp_dept';\n\t\t\t\tvar form_item_input2 = Global.loadWidgetByName( FormItemType.COMBO_BOX );\n\t\t\t\tform_item_input2.TComboBox( { field: code2 } );\n\n\t\t\t\th_box = $( '<div class=\\'h-box\\'></div>' );\n\n\t\t\t\tvar text_box2 = Global.loadWidgetByName( FormItemType.TEXT_INPUT );\n\t\t\t\ttext_box2.css( 'margin-left', '10px' );\n\t\t\t\ttext_box2.TTextInput( { field: code2 + '_text' } );\n\n\t\t\t\th_box.append( form_item_input2 );\n\t\t\t\th_box.append( text_box2 );\n\t\t\t\tthis.addEditFieldToColumn( $.i18n._( 'Temp Department' ), [form_item_input2, text_box2], tab3_column1, '', h_box, true );\n\t\t\t\tthis.setWidgetVisible( [form_item_input2, text_box2] );\n\t\t\t\tform_item_input2.bind( 'formItemChange', function( e, target ) {\n\t\t\t\t\tif ( target.getValue() === 0 ) {\n\t\t\t\t\t\ttext_box2.css( 'display', 'inline' );\n\t\t\t\t\t\ttext_box2.setValue( $this.export_setup_data[code2] );\n\t\t\t\t\t} else {\n\t\t\t\t\t\ttext_box2.css( 'display', 'none' );\n\t\t\t\t\t}\n\n\t\t\t\t} );\n\n\t\t\t\t$this.api.getOptions( 'adp_temp_dept_options', {\n\t\t\t\t\tonResult: function( result ) {\n\t\t\t\t\t\tvar result_data = result.getResult();\n\t\t\t\t\t\tform_item_input2.setSourceData( Global.buildRecordArray( result_data ) );\n\t\t\t\t\t\tform_item_input2.setValue( $this.export_setup_data[code2] );\n\t\t\t\t\t\tform_item_input2.trigger( 'formItemChange', [form_item_input2, true] );\n\t\t\t\t\t}\n\t\t\t\t} );\n\n\t\t\t\t$this.export_setup_ui_dic[code2] = $this.edit_view_form_item_dic[code2];\n\t\t\t\tdelete $this.edit_view_form_item_dic[code2];\n\n\t\t\t\tbreak;\n\t\t\tcase 'adp_advanced':\n\t\t\tcase 'adp_resource': //ADP Resource/Pay Expert\n\t\t\t\t//Company code\n\t\t\t\tvar code = 'company_code';\n\t\t\t\tvar form_item_input = Global.loadWidgetByName( FormItemType.COMBO_BOX );\n\t\t\t\tform_item_input.TComboBox( { field: code } );\n\n\t\t\t\tvar h_box = $( '<div class=\\'h-box\\'></div>' );\n\n\t\t\t\tvar text_box = Global.loadWidgetByName( FormItemType.TEXT_INPUT );\n\t\t\t\ttext_box.css( 'margin-left', '10px' );\n\t\t\t\ttext_box.TTextInput( { field: code + '_text' } );\n\n\t\t\t\th_box.append( form_item_input );\n\t\t\t\th_box.append( text_box );\n\n\t\t\t\tthis.addEditFieldToColumn( $.i18n._( 'Company Code' ), [form_item_input, text_box], tab3_column1, '', h_box, true );\n\t\t\t\tthis.setWidgetVisible( [form_item_input, text_box] );\n\t\t\t\tform_item_input.bind( 'formItemChange', function( e, target ) {\n\t\t\t\t\tif ( target.getValue() === 0 ) {\n\t\t\t\t\t\ttext_box.css( 'display', 'inline' );\n\t\t\t\t\t\ttext_box.setValue( $this.export_setup_data[code] );\n\t\t\t\t\t} else {\n\t\t\t\t\t\ttext_box.css( 'display', 'none' );\n\t\t\t\t\t}\n\n\t\t\t\t} );\n\n\t\t\t\t$this.api.getOptions( 'adp_company_code_options', {\n\t\t\t\t\tonResult: function( result ) {\n\n\t\t\t\t\t\tvar result_data = result.getResult();\n\n\t\t\t\t\t\tform_item_input.setSourceData( Global.buildRecordArray( result_data ) );\n\n\t\t\t\t\t\tform_item_input.setValue( $this.export_setup_data[code] );\n\t\t\t\t\t\tform_item_input.trigger( 'formItemChange', [form_item_input, true] );\n\n\t\t\t\t\t}\n\t\t\t\t} );\n\n\t\t\t\t$this.export_setup_ui_dic[code] = $this.edit_view_form_item_dic[code];\n\t\t\t\tdelete $this.edit_view_form_item_dic[code];\n\n\t\t\t\t//Batch ID\n\t\t\t\tvar code1 = 'batch_id';\n\t\t\t\tvar form_item_input1 = Global.loadWidgetByName( FormItemType.COMBO_BOX );\n\t\t\t\tform_item_input1.TComboBox( { field: code1 } );\n\n\t\t\t\th_box = $( '<div class=\\'h-box\\'></div>' );\n\n\t\t\t\tvar text_box1 = Global.loadWidgetByName( FormItemType.TEXT_INPUT );\n\t\t\t\ttext_box1.css( 'margin-left', '10px' );\n\t\t\t\ttext_box1.TTextInput( { field: code1 + '_text' } );\n\n\t\t\t\th_box.append( form_item_input1 );\n\t\t\t\th_box.append( text_box1 );\n\n\t\t\t\tthis.addEditFieldToColumn( $.i18n._( 'Batch ID' ), [form_item_input1, text_box1], tab3_column1, '', h_box, true );\n\t\t\t\tthis.setWidgetVisible( [form_item_input1, text_box1] );\n\t\t\t\tform_item_input1.bind( 'formItemChange', function( e, target ) {\n\t\t\t\t\tif ( target.getValue() === 0 ) {\n\t\t\t\t\t\ttext_box1.css( 'display', 'inline' );\n\t\t\t\t\t\ttext_box1.setValue( $this.export_setup_data[code1] );\n\t\t\t\t\t} else {\n\t\t\t\t\t\ttext_box1.css( 'display', 'none' );\n\t\t\t\t\t}\n\t\t\t\t} );\n\n\t\t\t\t$this.api.getOptions( 'adp_batch_options', {\n\t\t\t\t\tonResult: function( result ) {\n\t\t\t\t\t\tvar result_data = result.getResult();\n\t\t\t\t\t\tform_item_input1.setSourceData( Global.buildRecordArray( result_data ) );\n\t\t\t\t\t\tform_item_input1.setValue( $this.export_setup_data[code1] );\n\t\t\t\t\t\tform_item_input1.trigger( 'formItemChange', [form_item_input1, true] );\n\t\t\t\t\t}\n\t\t\t\t} );\n\n\t\t\t\t$this.export_setup_ui_dic[code1] = $this.edit_view_form_item_dic[code1];\n\t\t\t\tdelete $this.edit_view_form_item_dic[code1];\n\n\t\t\t\t// Temp Department\n\n\t\t\t\tvar code2 = 'temp_dept';\n\t\t\t\tvar form_item_input2 = Global.loadWidgetByName( FormItemType.COMBO_BOX );\n\t\t\t\tform_item_input2.TComboBox( { field: code2 } );\n\n\t\t\t\th_box = $( '<div class=\\'h-box\\'></div>' );\n\n\t\t\t\tvar text_box2 = Global.loadWidgetByName( FormItemType.TEXT_INPUT );\n\t\t\t\ttext_box2.css( 'margin-left', '10px' );\n\t\t\t\ttext_box2.TTextInput( { field: code2 + '_text' } );\n\n\t\t\t\th_box.append( form_item_input2 );\n\t\t\t\th_box.append( text_box2 );\n\t\t\t\tthis.addEditFieldToColumn( $.i18n._( 'Temp Department' ), [form_item_input2, text_box2], tab3_column1, '', h_box, true );\n\t\t\t\tthis.setWidgetVisible( [form_item_input2, text_box2] );\n\t\t\t\tform_item_input2.bind( 'formItemChange', function( e, target ) {\n\t\t\t\t\tif ( target.getValue() === 0 ) {\n\t\t\t\t\t\ttext_box2.css( 'display', 'inline' );\n\t\t\t\t\t\ttext_box2.setValue( $this.export_setup_data[code2] );\n\t\t\t\t\t} else {\n\t\t\t\t\t\ttext_box2.css( 'display', 'none' );\n\t\t\t\t\t}\n\n\t\t\t\t} );\n\n\t\t\t\t$this.api.getOptions( 'adp_temp_dept_options', {\n\t\t\t\t\tonResult: function( result ) {\n\t\t\t\t\t\tvar result_data = result.getResult();\n\t\t\t\t\t\tform_item_input2.setSourceData( Global.buildRecordArray( result_data ) );\n\t\t\t\t\t\tform_item_input2.setValue( $this.export_setup_data[code2] );\n\t\t\t\t\t\tform_item_input2.trigger( 'formItemChange', [form_item_input2, true] );\n\t\t\t\t\t}\n\t\t\t\t} );\n\n\t\t\t\t$this.export_setup_ui_dic[code2] = $this.edit_view_form_item_dic[code2];\n\t\t\t\tdelete $this.edit_view_form_item_dic[code2];\n\n\t\t\t\t// Job Cost #\n\t\t\t\tvar code3 = 'job_cost';\n\t\t\t\tvar form_item_input3 = Global.loadWidgetByName( FormItemType.COMBO_BOX );\n\t\t\t\tform_item_input3.TComboBox( { field: code3 } );\n\n\t\t\t\th_box = $( '<div class=\\'h-box\\'></div>' );\n\n\t\t\t\tvar text_box3 = Global.loadWidgetByName( FormItemType.TEXT_INPUT );\n\t\t\t\ttext_box3.css( 'margin-left', '10px' );\n\t\t\t\ttext_box3.TTextInput( { field: code3 + '_text' } );\n\n\t\t\t\th_box.append( form_item_input3 );\n\t\t\t\th_box.append( text_box3 );\n\t\t\t\tthis.addEditFieldToColumn( $.i18n._( 'Job Cost #' ), [form_item_input3, text_box3], tab3_column1, '', h_box, true );\n\t\t\t\tthis.setWidgetVisible( [form_item_input3, text_box3] );\n\t\t\t\tform_item_input3.bind( 'formItemChange', function( e, target ) {\n\t\t\t\t\tif ( target.getValue() === 0 ) {\n\t\t\t\t\t\ttext_box3.css( 'display', 'inline' );\n\t\t\t\t\t\ttext_box3.setValue( $this.export_setup_data[code3] );\n\t\t\t\t\t} else {\n\t\t\t\t\t\ttext_box3.css( 'display', 'none' );\n\t\t\t\t\t}\n\n\t\t\t\t} );\n\n\t\t\t\t$this.api.getOptions( 'adp_job_cost_options', {\n\t\t\t\t\tonResult: function( result ) {\n\t\t\t\t\t\tvar result_data = result.getResult();\n\t\t\t\t\t\tform_item_input3.setSourceData( Global.buildRecordArray( result_data ) );\n\t\t\t\t\t\tform_item_input3.setValue( $this.export_setup_data[code3] );\n\t\t\t\t\t\tform_item_input3.trigger( 'formItemChange', [form_item_input3, true] );\n\t\t\t\t\t}\n\t\t\t\t} );\n\t\t\t\t$this.export_setup_ui_dic[code3] = $this.edit_view_form_item_dic[code3];\n\t\t\t\tdelete $this.edit_view_form_item_dic[code3];\n\n\t\t\t\t// Work Class\n\t\t\t\tvar code4 = 'work_class';\n\t\t\t\tvar form_item_input4 = Global.loadWidgetByName( FormItemType.COMBO_BOX );\n\t\t\t\tform_item_input4.TComboBox( { field: code4 } );\n\n\t\t\t\th_box = $( '<div class=\\'h-box\\'></div>' );\n\n\t\t\t\tvar text_box4 = Global.loadWidgetByName( FormItemType.TEXT_INPUT );\n\t\t\t\ttext_box4.css( 'margin-left', '10px' );\n\t\t\t\ttext_box4.TTextInput( { field: code4 + '_text' } );\n\n\t\t\t\th_box.append( form_item_input4 );\n\t\t\t\th_box.append( text_box4 );\n\t\t\t\tthis.addEditFieldToColumn( $.i18n._( 'Work Class' ), [form_item_input4, text_box4], tab3_column1, '', h_box, true );\n\t\t\t\tthis.setWidgetVisible( [form_item_input4, text_box4] );\n\t\t\t\tform_item_input4.bind( 'formItemChange', function( e, target ) {\n\t\t\t\t\tif ( target.getValue() === 0 ) {\n\t\t\t\t\t\ttext_box4.css( 'display', 'inline' );\n\t\t\t\t\t\ttext_box4.setValue( $this.export_setup_data[code4] );\n\t\t\t\t\t} else {\n\t\t\t\t\t\ttext_box4.css( 'display', 'none' );\n\t\t\t\t\t}\n\n\t\t\t\t} );\n\n\t\t\t\t$this.api.getOptions( 'adp_work_class_options', {\n\t\t\t\t\tonResult: function( result ) {\n\t\t\t\t\t\tvar result_data = result.getResult();\n\t\t\t\t\t\tform_item_input4.setSourceData( Global.buildRecordArray( result_data ) );\n\t\t\t\t\t\tform_item_input4.setValue( $this.export_setup_data[code4] );\n\t\t\t\t\t\tform_item_input4.trigger( 'formItemChange', [form_item_input4, true] );\n\t\t\t\t\t}\n\t\t\t\t} );\n\t\t\t\t$this.export_setup_ui_dic[code4] = $this.edit_view_form_item_dic[code4];\n\t\t\t\tdelete $this.edit_view_form_item_dic[code4];\n\n\t\t\t\t//State\n\t\t\t\tvar code7 = 'state_columns';\n\t\t\t\tvar form_item_input7 = Global.loadWidgetByName( FormItemType.COMBO_BOX );\n\t\t\t\tform_item_input7.TComboBox( {\n\t\t\t\t\tfield: code7,\n\t\t\t\t\tset_empty: true\n\t\t\t\t} );\n\n\t\t\t\tthis.addEditFieldToColumn( $.i18n._( 'State' ), form_item_input7, tab3_column1, '', null, true );\n\t\t\t\tthis.setWidgetVisible( [form_item_input7] );\n\t\t\t\tTTAPI.APIJobDetailReport.getOptions( 'static_columns', {\n\t\t\t\t\tonResult: function( result ) {\n\t\t\t\t\t\tvar result_data = result.getResult();\n\t\t\t\t\t\tform_item_input7.setSourceData( Global.buildRecordArray( result_data ) );\n\t\t\t\t\t\tform_item_input7.setValue( $this.export_setup_data[code7] );\n\t\t\t\t\t}\n\t\t\t\t} );\n\n\t\t\t\t$this.export_setup_ui_dic[code7] = $this.edit_view_form_item_dic[code7];\n\t\t\t\tdelete $this.edit_view_form_item_dic[code7];\n\n\t\t\t\tbreak;\n\t\t\tcase 'accero':\n\t\t\t\t// Temp Department\n\t\t\t\tvar code2 = 'temp_dept';\n\t\t\t\tvar form_item_input2 = Global.loadWidgetByName( FormItemType.COMBO_BOX );\n\t\t\t\tform_item_input2.TComboBox( { field: code2 } );\n\n\t\t\t\th_box = $( '<div class=\\'h-box\\'></div>' );\n\n\t\t\t\tvar text_box2 = Global.loadWidgetByName( FormItemType.TEXT_INPUT );\n\t\t\t\ttext_box2.css( 'margin-left', '10px' );\n\t\t\t\ttext_box2.TTextInput( { field: code2 + '_text' } );\n\n\t\t\t\th_box.append( form_item_input2 );\n\t\t\t\th_box.append( text_box2 );\n\t\t\t\tthis.addEditFieldToColumn( $.i18n._( 'Department Override Code' ), [form_item_input2, text_box2], tab3_column1, '', h_box, true );\n\t\t\t\tthis.setWidgetVisible( [form_item_input2, text_box2] );\n\t\t\t\tform_item_input2.bind( 'formItemChange', function( e, target ) {\n\t\t\t\t\tif ( target.getValue() === 0 ) {\n\t\t\t\t\t\ttext_box2.css( 'display', 'inline' );\n\t\t\t\t\t\ttext_box2.setValue( $this.export_setup_data[code2] );\n\t\t\t\t\t} else {\n\t\t\t\t\t\ttext_box2.css( 'display', 'none' );\n\t\t\t\t\t}\n\n\t\t\t\t} );\n\n\t\t\t\t$this.api.getOptions( 'accero_temp_dept_options', {\n\t\t\t\t\tonResult: function( result ) {\n\t\t\t\t\t\tvar result_data = result.getResult();\n\t\t\t\t\t\tform_item_input2.setSourceData( Global.buildRecordArray( result_data ) );\n\t\t\t\t\t\tform_item_input2.setValue( $this.export_setup_data[code2] );\n\t\t\t\t\t\tform_item_input2.trigger( 'formItemChange', [form_item_input2, true] );\n\t\t\t\t\t}\n\t\t\t\t} );\n\n\t\t\t\t$this.export_setup_ui_dic[code2] = $this.edit_view_form_item_dic[code2];\n\t\t\t\tdelete $this.edit_view_form_item_dic[code2];\n\n\t\t\t\tbreak;\n\t\t\tcase 'va_munis':\n\t\t\t\t//Department\n\t\t\t\tcode = 'department';\n\t\t\t\tform_item_input = Global.loadWidgetByName( FormItemType.COMBO_BOX );\n\t\t\t\tform_item_input.TComboBox( { field: code } );\n\n\t\t\t\th_box = $( '<div class=\\'h-box\\'></div>' );\n\n\t\t\t\ttext_box = Global.loadWidgetByName( FormItemType.TEXT_INPUT );\n\t\t\t\ttext_box.css( 'margin-left', '10px' );\n\t\t\t\ttext_box.TTextInput( { field: code + '_text' } );\n\n\t\t\t\th_box.append( form_item_input );\n\t\t\t\th_box.append( text_box );\n\n\t\t\t\tthis.addEditFieldToColumn( $.i18n._( 'Department' ), [form_item_input, text_box], tab3_column1, '', h_box, true );\n\t\t\t\tthis.setWidgetVisible( [form_item_input, text_box] );\n\t\t\t\tform_item_input.bind( 'formItemChange', function( e, target ) {\n\t\t\t\t\tif ( target.getValue() === 0 ) {\n\t\t\t\t\t\ttext_box.css( 'display', 'inline' );\n\t\t\t\t\t\ttext_box.setValue( $this.export_setup_data[code] );\n\t\t\t\t\t} else {\n\t\t\t\t\t\ttext_box.css( 'display', 'none' );\n\t\t\t\t\t}\n\t\t\t\t} );\n\n\t\t\t\t$this.api.getOptions( 'export_columns', {\n\t\t\t\t\tonResult: function( result ) {\n\t\t\t\t\t\tvar result_data = result.getResult();\n\n\t\t\t\t\t\tif ( !result_data.hasOwnProperty( '0' ) ) {\n\t\t\t\t\t\t\tresult_data[0] = '-- Custom --';\n\t\t\t\t\t\t}\n\t\t\t\t\t\tform_item_input.setSourceData( Global.buildRecordArray( result_data ) );\n\n\t\t\t\t\t\tform_item_input.setValue( $this.export_setup_data[code] );\n\t\t\t\t\t\tform_item_input.trigger( 'formItemChange', [form_item_input, true] );\n\n\t\t\t\t\t}\n\t\t\t\t} );\n\n\t\t\t\t$this.export_setup_ui_dic[code] = $this.edit_view_form_item_dic[code];\n\t\t\t\tdelete $this.edit_view_form_item_dic[code];\n\n\t\t\t\t//Employee Number\n\t\t\t\tcode1 = 'employee_number';\n\t\t\t\tform_item_input1 = Global.loadWidgetByName( FormItemType.COMBO_BOX );\n\t\t\t\tform_item_input1.TComboBox( { field: code1 } );\n\n\t\t\t\th_box = $( '<div class=\\'h-box\\'></div>' );\n\n\t\t\t\ttext_box1 = Global.loadWidgetByName( FormItemType.TEXT_INPUT );\n\t\t\t\ttext_box1.css( 'margin-left', '10px' );\n\t\t\t\ttext_box1.TTextInput( { field: code1 + '_text' } );\n\n\t\t\t\th_box.append( form_item_input1 );\n\t\t\t\th_box.append( text_box1 );\n\n\t\t\t\tthis.addEditFieldToColumn( $.i18n._( 'Employee Number' ), [form_item_input1, text_box1], tab3_column1, '', h_box, true );\n\t\t\t\tthis.setWidgetVisible( [form_item_input1, text_box1] );\n\t\t\t\tform_item_input1.bind( 'formItemChange', function( e, target ) {\n\t\t\t\t\tif ( target.getValue() === 0 ) {\n\t\t\t\t\t\ttext_box1.css( 'display', 'inline' );\n\t\t\t\t\t\ttext_box1.setValue( $this.export_setup_data[code1] );\n\t\t\t\t\t} else {\n\t\t\t\t\t\ttext_box1.css( 'display', 'none' );\n\t\t\t\t\t}\n\t\t\t\t} );\n\n\t\t\t\t$this.api.getOptions( 'export_columns', {\n\t\t\t\t\tonResult: function( result ) {\n\t\t\t\t\t\tvar result_data = result.getResult();\n\t\t\t\t\t\tif ( !result_data.hasOwnProperty( '0' ) ) {\n\t\t\t\t\t\t\tresult_data[0] = '-- Custom --';\n\t\t\t\t\t\t}\n\t\t\t\t\t\tform_item_input1.setSourceData( Global.buildRecordArray( result_data ) );\n\t\t\t\t\t\tform_item_input1.setValue( $this.export_setup_data[code1] );\n\t\t\t\t\t\tform_item_input1.trigger( 'formItemChange', [form_item_input1, true] );\n\t\t\t\t\t}\n\t\t\t\t} );\n\n\t\t\t\t$this.export_setup_ui_dic[code1] = $this.edit_view_form_item_dic[code1];\n\t\t\t\tdelete $this.edit_view_form_item_dic[code1];\n\n\t\t\t\t// Long GL Account\n\n\t\t\t\tcode2 = 'gl_account';\n\t\t\t\tform_item_input2 = Global.loadWidgetByName( FormItemType.COMBO_BOX );\n\t\t\t\tform_item_input2.TComboBox( { field: code2 } );\n\n\t\t\t\th_box = $( '<div class=\\'h-box\\'></div>' );\n\n\t\t\t\ttext_box2 = Global.loadWidgetByName( FormItemType.TEXT_INPUT );\n\t\t\t\ttext_box2.css( 'margin-left', '10px' );\n\t\t\t\ttext_box2.TTextInput( { field: code2 + '_text' } );\n\n\t\t\t\th_box.append( form_item_input2 );\n\t\t\t\th_box.append( text_box2 );\n\t\t\t\tthis.addEditFieldToColumn( $.i18n._( 'Long GL Account' ), [form_item_input2, text_box2], tab3_column1, '', h_box, true );\n\t\t\t\tthis.setWidgetVisible( [form_item_input2, text_box2] );\n\t\t\t\tform_item_input2.bind( 'formItemChange', function( e, target ) {\n\t\t\t\t\tif ( target.getValue() === 0 ) {\n\t\t\t\t\t\ttext_box2.css( 'display', 'inline' );\n\t\t\t\t\t\ttext_box2.setValue( $this.export_setup_data[code2] );\n\t\t\t\t\t} else {\n\t\t\t\t\t\ttext_box2.css( 'display', 'none' );\n\t\t\t\t\t}\n\n\t\t\t\t} );\n\n\t\t\t\t$this.api.getOptions( 'export_columns', {\n\t\t\t\t\tonResult: function( result ) {\n\t\t\t\t\t\tvar result_data = result.getResult();\n\n\t\t\t\t\t\tif ( !result_data.hasOwnProperty( '0' ) ) {\n\t\t\t\t\t\t\tresult_data[0] = '-- Custom --';\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tform_item_input2.setSourceData( Global.buildRecordArray( result_data ) );\n\t\t\t\t\t\tform_item_input2.setValue( $this.export_setup_data[code2] );\n\t\t\t\t\t\tform_item_input2.trigger( 'formItemChange', [form_item_input2, true] );\n\t\t\t\t\t}\n\t\t\t\t} );\n\n\t\t\t\t$this.export_setup_ui_dic[code2] = $this.edit_view_form_item_dic[code2];\n\t\t\t\tdelete $this.edit_view_form_item_dic[code2];\n\n\t\t\t\tbreak;\n\t\t\tcase 'ceridian_insync':\n\t\t\t\t// Employer Number\n\t\t\t\tcode = 'employer_number';\n\t\t\t\tform_item_input = Global.loadWidgetByName( FormItemType.TEXT_INPUT );\n\t\t\t\tform_item_input.TTextInput( { field: code } );\n\t\t\t\tthis.addEditFieldToColumn( $.i18n._( 'Employer Number' ), form_item_input, tab3_column1, '', null, true );\n\t\t\t\tthis.setWidgetVisible( [form_item_input] );\n\t\t\t\tform_item_input.setValue( $this.export_setup_data[code] );\n\n\t\t\t\t$this.export_setup_ui_dic[code] = $this.edit_view_form_item_dic[code];\n\t\t\t\tdelete $this.edit_view_form_item_dic[code];\n\n\t\t\t\tbreak;\n\t\t\tcase 'paychex_preview':\n\t\t\t\t// Client Number\n\t\t\t\tcode = 'client_number';\n\t\t\t\tform_item_input = Global.loadWidgetByName( FormItemType.TEXT_INPUT );\n\t\t\t\tform_item_input.TTextInput( { field: code } );\n\t\t\t\tthis.addEditFieldToColumn( $.i18n._( 'Client Number' ), form_item_input, tab3_column1, '', null, true );\n\t\t\t\tthis.setWidgetVisible( [form_item_input] );\n\t\t\t\tform_item_input.setValue( $this.export_setup_data[code] );\n\n\t\t\t\t$this.export_setup_ui_dic[code] = $this.edit_view_form_item_dic[code];\n\t\t\t\tdelete $this.edit_view_form_item_dic[code];\n\n\t\t\t\tbreak;\n\t\t\tcase 'paychex_preview_advanced_job':\n\t\t\t\t// Client Number\n\t\t\t\tcode = 'client_number_adv';\n\t\t\t\tform_item_input = Global.loadWidgetByName( FormItemType.TEXT_INPUT );\n\t\t\t\tform_item_input.TTextInput( { field: code } );\n\t\t\t\tthis.addEditFieldToColumn( $.i18n._( 'Client Number' ), form_item_input, tab3_column1, '', null, true );\n\t\t\t\tthis.setWidgetVisible( [form_item_input] );\n\t\t\t\tform_item_input.setValue( $this.export_setup_data['client_number'] );\n\n\t\t\t\t$this.export_setup_ui_dic[code] = $this.edit_view_form_item_dic[code];\n\t\t\t\tdelete $this.edit_view_form_item_dic[code];\n\n\t\t\t\t//Job\n\t\t\t\tcode1 = 'job_columns';\n\t\t\t\tform_item_input1 = Global.loadWidgetByName( FormItemType.AWESOME_BOX );\n\t\t\t\tform_item_input1.AComboBox( {\n\t\t\t\t\tfield: code1,\n\t\t\t\t\tallow_multiple_selection: true,\n\t\t\t\t\tlayout_name: 'global_option_column',\n\t\t\t\t\tkey: 'value',\n\t\t\t\t\tset_empty: true\n\t\t\t\t} );\n\n\t\t\t\tthis.addEditFieldToColumn( $.i18n._( 'Job' ), form_item_input1, tab3_column1, '', null, true );\n\t\t\t\tthis.setWidgetVisible( [form_item_input1] );\n\t\t\t\tTTAPI.APIJobDetailReport.getOptions( 'static_columns', {\n\t\t\t\t\tonResult: function( result ) {\n\t\t\t\t\t\tvar result_data = result.getResult();\n\t\t\t\t\t\tform_item_input1.setSourceData( Global.buildRecordArray( result_data ) );\n\t\t\t\t\t\tform_item_input1.setValue( $this.export_setup_data[code1] );\n\t\t\t\t\t}\n\t\t\t\t} );\n\n\t\t\t\t$this.export_setup_ui_dic[code1] = $this.edit_view_form_item_dic[code1];\n\t\t\t\tdelete $this.edit_view_form_item_dic[code1];\n\n\t\t\t\t//State\n\t\t\t\tcode2 = 'state_columns';\n\t\t\t\tform_item_input2 = Global.loadWidgetByName( FormItemType.COMBO_BOX );\n\t\t\t\tform_item_input2.TComboBox( {\n\t\t\t\t\tfield: code2,\n\t\t\t\t\tset_empty: true\n\t\t\t\t} );\n\n\t\t\t\tthis.addEditFieldToColumn( $.i18n._( 'State' ), form_item_input2, tab3_column1, '', null, true );\n\t\t\t\tthis.setWidgetVisible( [form_item_input2] );\n\t\t\t\tTTAPI.APIJobDetailReport.getOptions( 'static_columns', {\n\t\t\t\t\tonResult: function( result ) {\n\t\t\t\t\t\tvar result_data = result.getResult();\n\t\t\t\t\t\tform_item_input2.setSourceData( Global.buildRecordArray( result_data ) );\n\t\t\t\t\t\tform_item_input2.setValue( $this.export_setup_data[code2] );\n\t\t\t\t\t}\n\t\t\t\t} );\n\n\t\t\t\t$this.export_setup_ui_dic[code2] = $this.edit_view_form_item_dic[code2];\n\t\t\t\tdelete $this.edit_view_form_item_dic[code2];\n\n\t\t\t\t// Include Override Rates\n\t\t\t\tcode = 'include_hourly_rate';\n\t\t\t\tform_item_input = Global.loadWidgetByName( FormItemType.CHECKBOX );\n\t\t\t\tform_item_input.TCheckbox( { field: code } );\n\t\t\t\tthis.addEditFieldToColumn( $.i18n._( 'Include Override Rates' ), form_item_input, tab3_column1, '', null, true );\n\t\t\t\tthis.setWidgetVisible( [form_item_input] );\n\t\t\t\tform_item_input.setValue( $this.export_setup_data[code] );\n\n\t\t\t\t$this.export_setup_ui_dic[code] = $this.edit_view_form_item_dic[code];\n\t\t\t\tdelete $this.edit_view_form_item_dic[code];\n\n\t\t\t\tbreak;\n\t\t\tcase 'quickbooks':\n\t\t\tcase 'quickbooks_advanced':\n\t\t\t\t// Company Name\n\t\t\t\tcode = 'company_name';\n\t\t\t\tform_item_input = Global.loadWidgetByName( FormItemType.TEXT_INPUT );\n\t\t\t\tform_item_input.TTextInput( { field: code } );\n\n\t\t\t\tvar containerWithTextTip = this.buildWidgetContainerWithTextTip( form_item_input, '(Exactly as shown in Quickbooks)' );\n\n\t\t\t\tthis.addEditFieldToColumn( $.i18n._( 'Company Name' ), form_item_input, tab3_column1, '', containerWithTextTip, true );\n\t\t\t\tthis.setWidgetVisible( [form_item_input] );\n\t\t\t\tform_item_input.setValue( $this.export_setup_data[code] );\n\n\t\t\t\t$this.export_setup_ui_dic[code] = $this.edit_view_form_item_dic[code];\n\t\t\t\tdelete $this.edit_view_form_item_dic[code];\n\n\t\t\t\t// Company Created Time\n\t\t\t\tcode = 'company_created_date';\n\t\t\t\tform_item_input = Global.loadWidgetByName( FormItemType.TEXT_INPUT );\n\t\t\t\tform_item_input.TTextInput( { field: code } );\n\n\t\t\t\tcontainerWithTextTip = this.buildWidgetContainerWithTextTip( form_item_input, '(Exactly as shown in exported timer list)' );\n\n\t\t\t\tthis.addEditFieldToColumn( $.i18n._( 'Company Created Time' ), form_item_input, tab3_column1, '', containerWithTextTip, true );\n\t\t\t\tthis.setWidgetVisible( [form_item_input] );\n\t\t\t\tform_item_input.setValue( $this.export_setup_data[code] );\n\n\t\t\t\t$this.export_setup_ui_dic[code] = $this.edit_view_form_item_dic[code];\n\t\t\t\tdelete $this.edit_view_form_item_dic[code];\n\n\t\t\t\t//Map PROJ Field To\n\t\t\t\tcode1 = 'proj';\n\t\t\t\tform_item_input1 = Global.loadWidgetByName( FormItemType.COMBO_BOX );\n\t\t\t\tform_item_input1.TComboBox( {\n\t\t\t\t\tfield: code1\n\t\t\t\t} );\n\n\t\t\t\tthis.addEditFieldToColumn( $.i18n._( 'Map PROJ Field To' ), form_item_input1, tab3_column1, '', null, true );\n\t\t\t\tthis.setWidgetVisible( [form_item_input1] );\n\t\t\t\tthis.api.getOptions( 'quickbooks_proj_options', {\n\t\t\t\t\tonResult: function( result ) {\n\t\t\t\t\t\tvar result_data = result.getResult();\n\t\t\t\t\t\tform_item_input1.setSourceData( Global.buildRecordArray( result_data ) );\n\t\t\t\t\t\tform_item_input1.setValue( $this.export_setup_data[code1] );\n\t\t\t\t\t}\n\t\t\t\t} );\n\n\t\t\t\t$this.export_setup_ui_dic[code1] = $this.edit_view_form_item_dic[code1];\n\t\t\t\tdelete $this.edit_view_form_item_dic[code1];\n\n\t\t\t\t//Map ITEM Field To\n\t\t\t\tcode2 = 'item';\n\t\t\t\tform_item_input2 = Global.loadWidgetByName( FormItemType.COMBO_BOX );\n\t\t\t\tform_item_input2.TComboBox( {\n\t\t\t\t\tfield: code2\n\t\t\t\t} );\n\n\t\t\t\tthis.addEditFieldToColumn( $.i18n._( 'Map ITEM Field To' ), form_item_input2, tab3_column1, '', null, true );\n\t\t\t\tthis.setWidgetVisible( [form_item_input2] );\n\t\t\t\tthis.api.getOptions( 'quickbooks_proj_options', {\n\t\t\t\t\tonResult: function( result ) {\n\t\t\t\t\t\tvar result_data = result.getResult();\n\t\t\t\t\t\tform_item_input2.setSourceData( Global.buildRecordArray( result_data ) );\n\t\t\t\t\t\tform_item_input2.setValue( $this.export_setup_data[code2] );\n\t\t\t\t\t}\n\t\t\t\t} );\n\n\t\t\t\t$this.export_setup_ui_dic[code2] = $this.edit_view_form_item_dic[code2];\n\t\t\t\tdelete $this.edit_view_form_item_dic[code2];\n\n\t\t\t\t//Map ITEM Field To\n\t\t\t\tvar code3 = 'job';\n\t\t\t\tvar form_item_input3 = Global.loadWidgetByName( FormItemType.COMBO_BOX );\n\t\t\t\tform_item_input3.TComboBox( {\n\t\t\t\t\tfield: code3\n\t\t\t\t} );\n\n\t\t\t\tthis.addEditFieldToColumn( $.i18n._( 'Map JOB Field To' ), form_item_input3, tab3_column1, '', null, true );\n\t\t\t\tthis.setWidgetVisible( [form_item_input3] );\n\t\t\t\tthis.api.getOptions( 'quickbooks_proj_options', {\n\t\t\t\t\tonResult: function( result ) {\n\t\t\t\t\t\tvar result_data = result.getResult();\n\t\t\t\t\t\tform_item_input3.setSourceData( Global.buildRecordArray( result_data ) );\n\t\t\t\t\t\tform_item_input3.setValue( $this.export_setup_data[code3] );\n\t\t\t\t\t}\n\t\t\t\t} );\n\n\t\t\t\t$this.export_setup_ui_dic[code3] = $this.edit_view_form_item_dic[code3];\n\t\t\t\tdelete $this.edit_view_form_item_dic[code3];\n\n\t\t\t\tbreak;\n\t\t\tcase 'sage_50':\n\t\t\t\t//Company code\n\t\t\t\tvar code = 'customer_name';\n\t\t\t\tvar form_item_input = Global.loadWidgetByName( FormItemType.COMBO_BOX );\n\t\t\t\tform_item_input.TComboBox( { field: code } );\n\n\t\t\t\tvar h_box = $( '<div class=\\'h-box\\'></div>' );\n\n\t\t\t\tvar text_box = Global.loadWidgetByName( FormItemType.TEXT_INPUT );\n\t\t\t\ttext_box.css( 'margin-left', '10px' );\n\t\t\t\ttext_box.TTextInput( { field: code + '_text' } );\n\n\t\t\t\th_box.append( form_item_input );\n\t\t\t\th_box.append( text_box );\n\n\t\t\t\tthis.addEditFieldToColumn( $.i18n._( 'Customer Name' ), [form_item_input, text_box], tab3_column1, '', h_box, true );\n\t\t\t\tthis.setWidgetVisible( [form_item_input, text_box] );\n\t\t\t\tform_item_input.bind( 'formItemChange', function( e, target ) {\n\t\t\t\t\tif ( target.getValue() === 0 ) {\n\t\t\t\t\t\ttext_box.css( 'display', 'inline' );\n\t\t\t\t\t\ttext_box.setValue( $this.export_setup_data[code] );\n\t\t\t\t\t} else {\n\t\t\t\t\t\ttext_box.css( 'display', 'none' );\n\t\t\t\t\t}\n\n\t\t\t\t} );\n\n\t\t\t\t$this.api.getOptions( 'sage_50_customer_name_options', {\n\t\t\t\t\tonResult: function( result ) {\n\n\t\t\t\t\t\tvar result_data = result.getResult();\n\n\t\t\t\t\t\tform_item_input.setSourceData( Global.buildRecordArray( result_data ) );\n\n\t\t\t\t\t\tform_item_input.setValue( $this.export_setup_data[code] );\n\t\t\t\t\t\tform_item_input.trigger( 'formItemChange', [form_item_input, true] );\n\n\t\t\t\t\t}\n\t\t\t\t} );\n\n\t\t\t\t$this.export_setup_ui_dic[code] = $this.edit_view_form_item_dic[code];\n\t\t\t\tdelete $this.edit_view_form_item_dic[code];\n\n\t\t\t\tbreak;\n\t\t\tcase 'cms_pbj':\n\t\t\t\t//Facility ID\n\t\t\t\tvar code = 'facility_code';\n\t\t\t\tvar form_item_input = Global.loadWidgetByName( FormItemType.COMBO_BOX );\n\t\t\t\tform_item_input.TComboBox( { field: code } );\n\n\t\t\t\tvar h_box = $( '<div class=\\'h-box\\'></div>' );\n\t\t\t\tvar text_box = Global.loadWidgetByName( FormItemType.TEXT_INPUT );\n\t\t\t\ttext_box.css( 'margin-left', '10px' );\n\t\t\t\ttext_box.TTextInput( { field: code + '_text' } );\n\t\t\t\th_box.append( form_item_input );\n\t\t\t\th_box.append( text_box );\n\n\t\t\t\tthis.addEditFieldToColumn( $.i18n._( 'Facility ID' ), [form_item_input, text_box], tab3_column1, '', h_box, true );\n\t\t\t\tthis.setWidgetVisible( [form_item_input, text_box] );\n\t\t\t\tform_item_input.bind( 'formItemChange', function( e, target ) {\n\t\t\t\t\tif ( target.getValue() === 0 ) {\n\t\t\t\t\t\ttext_box.css( 'display', 'inline' );\n\t\t\t\t\t\ttext_box.setValue( $this.export_setup_data[code] );\n\t\t\t\t\t} else {\n\t\t\t\t\t\ttext_box.css( 'display', 'none' );\n\t\t\t\t\t}\n\t\t\t\t} );\n\n\t\t\t\t$this.api.getOptions( 'cms_pbj_facility_code_options', {\n\t\t\t\t\tonResult: function( result ) {\n\n\t\t\t\t\t\tvar result_data = result.getResult();\n\n\t\t\t\t\t\tform_item_input.setSourceData( Global.buildRecordArray( result_data ) );\n\n\t\t\t\t\t\tform_item_input.setValue( $this.export_setup_data[code] );\n\t\t\t\t\t\tform_item_input.trigger( 'formItemChange', [form_item_input, true] );\n\n\t\t\t\t\t}\n\t\t\t\t} );\n\n\t\t\t\t$this.export_setup_ui_dic[code] = $this.edit_view_form_item_dic[code];\n\t\t\t\tdelete $this.edit_view_form_item_dic[code];\n\n\t\t\t\t//State\n\t\t\t\tvar code1 = 'state_code';\n\t\t\t\tvar form_item_input1 = Global.loadWidgetByName( FormItemType.COMBO_BOX );\n\t\t\t\tform_item_input1.TComboBox( { field: code1 } );\n\n\t\t\t\th_box = $( '<div class=\\'h-box\\'></div>' );\n\t\t\t\tvar text_box1 = Global.loadWidgetByName( FormItemType.TEXT_INPUT );\n\t\t\t\ttext_box1.css( 'margin-left', '10px' );\n\t\t\t\ttext_box1.TTextInput( { field: code1 + '_text' } );\n\t\t\t\th_box.append( form_item_input1 );\n\t\t\t\th_box.append( text_box1 );\n\n\t\t\t\tthis.addEditFieldToColumn( $.i18n._( 'State' ), [form_item_input1, text_box1], tab3_column1, '', h_box, true );\n\t\t\t\tthis.setWidgetVisible( [form_item_input1, text_box1] );\n\t\t\t\tform_item_input1.bind( 'formItemChange', function( e, target ) {\n\t\t\t\t\tif ( target.getValue() === 0 ) {\n\t\t\t\t\t\ttext_box1.css( 'display', 'inline' );\n\t\t\t\t\t\ttext_box1.setValue( $this.export_setup_data[code1] );\n\t\t\t\t\t} else {\n\t\t\t\t\t\ttext_box1.css( 'display', 'none' );\n\t\t\t\t\t}\n\t\t\t\t} );\n\n\t\t\t\t$this.api.getOptions( 'cms_obj_state_code_options', {\n\t\t\t\t\tonResult: function( result ) {\n\t\t\t\t\t\tvar result_data = result.getResult();\n\t\t\t\t\t\tform_item_input1.setSourceData( Global.buildRecordArray( result_data ) );\n\t\t\t\t\t\tform_item_input1.setValue( $this.export_setup_data[code1] );\n\t\t\t\t\t\tform_item_input1.trigger( 'formItemChange', [form_item_input1, true] );\n\t\t\t\t\t}\n\t\t\t\t} );\n\n\t\t\t\t$this.export_setup_ui_dic[code1] = $this.edit_view_form_item_dic[code1];\n\t\t\t\tdelete $this.edit_view_form_item_dic[code1];\n\n\t\t\t\t// Pay Type Code\n\t\t\t\tvar code2 = 'pay_type_code';\n\t\t\t\tvar form_item_input2 = Global.loadWidgetByName( FormItemType.COMBO_BOX );\n\t\t\t\tform_item_input2.TComboBox( { field: code2 } );\n\n\t\t\t\th_box = $( '<div class=\\'h-box\\'></div>' );\n\t\t\t\tvar text_box2 = Global.loadWidgetByName( FormItemType.TEXT_INPUT );\n\t\t\t\ttext_box2.css( 'margin-left', '10px' );\n\t\t\t\ttext_box2.TTextInput( { field: code2 + '_text' } );\n\n\t\t\t\th_box.append( form_item_input2 );\n\t\t\t\th_box.append( text_box2 );\n\t\t\t\tthis.addEditFieldToColumn( $.i18n._( 'Pay Type Code' ), [form_item_input2, text_box2], tab3_column1, '', h_box, true );\n\t\t\t\tthis.setWidgetVisible( [form_item_input2, text_box2] );\n\t\t\t\tform_item_input2.bind( 'formItemChange', function( e, target ) {\n\t\t\t\t\tif ( target.getValue() === 0 ) {\n\t\t\t\t\t\ttext_box2.css( 'display', 'inline' );\n\t\t\t\t\t\ttext_box2.setValue( $this.export_setup_data[code2] );\n\t\t\t\t\t} else {\n\t\t\t\t\t\ttext_box2.css( 'display', 'none' );\n\t\t\t\t\t}\n\t\t\t\t} );\n\n\t\t\t\t$this.api.getOptions( 'cms_pbj_pay_type_code_options', {\n\t\t\t\t\tonResult: function( result ) {\n\t\t\t\t\t\tvar result_data = result.getResult();\n\t\t\t\t\t\tform_item_input2.setSourceData( Global.buildRecordArray( result_data ) );\n\t\t\t\t\t\tform_item_input2.setValue( $this.export_setup_data[code2] );\n\t\t\t\t\t\tform_item_input2.trigger( 'formItemChange', [form_item_input2, true] );\n\t\t\t\t\t}\n\t\t\t\t} );\n\n\t\t\t\t$this.export_setup_ui_dic[code2] = $this.edit_view_form_item_dic[code2];\n\t\t\t\tdelete $this.edit_view_form_item_dic[code2];\n\n\t\t\t\t// Job Title Code\n\t\t\t\tvar code3 = 'job_title_code';\n\t\t\t\tvar form_item_input3 = Global.loadWidgetByName( FormItemType.COMBO_BOX );\n\t\t\t\tform_item_input3.TComboBox( { field: code3 } );\n\n\t\t\t\th_box = $( '<div class=\\'h-box\\'></div>' );\n\t\t\t\tvar text_box3 = Global.loadWidgetByName( FormItemType.TEXT_INPUT );\n\t\t\t\ttext_box3.css( 'margin-left', '10px' );\n\t\t\t\ttext_box3.TTextInput( { field: code3 + '_text' } );\n\n\t\t\t\th_box.append( form_item_input3 );\n\t\t\t\th_box.append( text_box3 );\n\t\t\t\tthis.addEditFieldToColumn( $.i18n._( 'Job Title Code' ), [form_item_input3, text_box3], tab3_column1, '', h_box, true );\n\t\t\t\tthis.setWidgetVisible( [form_item_input3, text_box3] );\n\t\t\t\tform_item_input3.bind( 'formItemChange', function( e, target ) {\n\t\t\t\t\tif ( target.getValue() === 0 ) {\n\t\t\t\t\t\ttext_box3.css( 'display', 'inline' );\n\t\t\t\t\t\ttext_box3.setValue( $this.export_setup_data[code3] );\n\t\t\t\t\t} else {\n\t\t\t\t\t\ttext_box3.css( 'display', 'none' );\n\t\t\t\t\t}\n\t\t\t\t} );\n\n\t\t\t\t$this.api.getOptions( 'cms_pbj_job_title_code_options', {\n\t\t\t\t\tonResult: function( result ) {\n\t\t\t\t\t\tvar result_data = result.getResult();\n\t\t\t\t\t\tform_item_input3.setSourceData( Global.buildRecordArray( result_data ) );\n\t\t\t\t\t\tform_item_input3.setValue( $this.export_setup_data[code3] );\n\t\t\t\t\t\tform_item_input3.trigger( 'formItemChange', [form_item_input3, true] );\n\t\t\t\t\t}\n\t\t\t\t} );\n\t\t\t\t$this.export_setup_ui_dic[code3] = $this.edit_view_form_item_dic[code3];\n\t\t\t\tdelete $this.edit_view_form_item_dic[code3];\n\n\t\t\t\tbreak;\n\t\t\tcase 'meditech': //Meditech\n\t\t\t\t//Payroll dictionary value\n\t\t\t\tcode4 = 'payroll';\n\t\t\t\tform_item_input = Global.loadWidgetByName( FormItemType.TEXT_INPUT );\n\t\t\t\tform_item_input.TTextInput( { field: code4 } );\n\t\t\t\tthis.addEditFieldToColumn( $.i18n._( 'Payroll' ), form_item_input, tab3_column1, '', null, true );\n\t\t\t\tthis.setWidgetVisible( [form_item_input] );\n\t\t\t\tform_item_input.setValue( $this.export_setup_data[code4] );\n\n\t\t\t\t$this.export_setup_ui_dic[code4] = $this.edit_view_form_item_dic[code4];\n\t\t\t\tdelete $this.edit_view_form_item_dic[code4];\n\n\t\t\t\t//Employee Number\n\t\t\t\tvar code = 'employee_number';\n\t\t\t\tvar form_item_input = Global.loadWidgetByName( FormItemType.COMBO_BOX );\n\t\t\t\tform_item_input.TComboBox( { field: code } );\n\n\t\t\t\tvar h_box = $( '<div class=\\'h-box\\'></div>' );\n\n\t\t\t\tvar text_box = Global.loadWidgetByName( FormItemType.TEXT_INPUT );\n\t\t\t\ttext_box.css( 'margin-left', '10px' );\n\t\t\t\ttext_box.TTextInput( { field: code + '_text' } );\n\n\t\t\t\th_box.append( form_item_input );\n\t\t\t\th_box.append( text_box );\n\n\t\t\t\tthis.addEditFieldToColumn( $.i18n._( 'Employee Number' ), [form_item_input, text_box], tab3_column1, '', h_box, true );\n\t\t\t\tthis.setWidgetVisible( [form_item_input, text_box] );\n\t\t\t\tform_item_input.bind( 'formItemChange', function( e, target ) {\n\t\t\t\t\tif ( target.getValue() === 0 ) {\n\t\t\t\t\t\ttext_box.css( 'display', 'inline' );\n\t\t\t\t\t\ttext_box.setValue( $this.export_setup_data[code] );\n\t\t\t\t\t} else {\n\t\t\t\t\t\ttext_box.css( 'display', 'none' );\n\t\t\t\t\t}\n\n\t\t\t\t} );\n\n\t\t\t\t$this.api.getOptions( 'export_columns', 'meditech', {\n\t\t\t\t\tonResult: function( result ) {\n\n\t\t\t\t\t\tvar result_data = result.getResult();\n\n\t\t\t\t\t\tform_item_input.setSourceData( Global.buildRecordArray( result_data ) );\n\n\t\t\t\t\t\tform_item_input.setValue( $this.export_setup_data[code] );\n\t\t\t\t\t\tform_item_input.trigger( 'formItemChange', [form_item_input, true] );\n\n\t\t\t\t\t}\n\t\t\t\t} );\n\n\t\t\t\t$this.export_setup_ui_dic[code] = $this.edit_view_form_item_dic[code];\n\t\t\t\tdelete $this.edit_view_form_item_dic[code];\n\n\t\t\t\t//Department\n\t\t\t\tvar code2 = 'department';\n\t\t\t\tvar form_item_input2 = Global.loadWidgetByName( FormItemType.COMBO_BOX );\n\t\t\t\tform_item_input2.TComboBox( { field: code2 } );\n\n\t\t\t\th_box = $( '<div class=\\'h-box\\'></div>' );\n\n\t\t\t\tvar text_box2 = Global.loadWidgetByName( FormItemType.TEXT_INPUT );\n\t\t\t\ttext_box2.css( 'margin-left', '10px' );\n\t\t\t\ttext_box2.TTextInput( { field: code2 + '_text' } );\n\n\t\t\t\th_box.append( form_item_input2 );\n\t\t\t\th_box.append( text_box2 );\n\t\t\t\tthis.addEditFieldToColumn( $.i18n._( 'Department' ), [form_item_input2, text_box2], tab3_column1, '', h_box, true );\n\t\t\t\tthis.setWidgetVisible( [form_item_input2, text_box2] );\n\t\t\t\tform_item_input2.bind( 'formItemChange', function( e, target ) {\n\t\t\t\t\tif ( target.getValue() === 0 ) {\n\t\t\t\t\t\ttext_box2.css( 'display', 'inline' );\n\t\t\t\t\t\ttext_box2.setValue( $this.export_setup_data[code2] );\n\t\t\t\t\t} else {\n\t\t\t\t\t\ttext_box2.css( 'display', 'none' );\n\t\t\t\t\t}\n\n\t\t\t\t} );\n\n\t\t\t\t$this.api.getOptions( 'meditech_department_options', {\n\t\t\t\t\tonResult: function( result ) {\n\t\t\t\t\t\tvar result_data = result.getResult();\n\t\t\t\t\t\tform_item_input2.setSourceData( Global.buildRecordArray( result_data ) );\n\t\t\t\t\t\tform_item_input2.setValue( $this.export_setup_data[code2] );\n\t\t\t\t\t\tform_item_input2.trigger( 'formItemChange', [form_item_input2, true] );\n\t\t\t\t\t}\n\t\t\t\t} );\n\n\t\t\t\t$this.export_setup_ui_dic[code2] = $this.edit_view_form_item_dic[code2];\n\t\t\t\tdelete $this.edit_view_form_item_dic[code2];\n\n\t\t\t\t// Job Code\n\t\t\t\tvar code3 = 'job_code';\n\t\t\t\tvar form_item_input3 = Global.loadWidgetByName( FormItemType.COMBO_BOX );\n\t\t\t\tform_item_input3.TComboBox( { field: code3 } );\n\n\t\t\t\th_box = $( '<div class=\\'h-box\\'></div>' );\n\n\t\t\t\tvar text_box3 = Global.loadWidgetByName( FormItemType.TEXT_INPUT );\n\t\t\t\ttext_box3.css( 'margin-left', '10px' );\n\t\t\t\ttext_box3.TTextInput( { field: code3 + '_text' } );\n\n\t\t\t\th_box.append( form_item_input3 );\n\t\t\t\th_box.append( text_box3 );\n\t\t\t\tthis.addEditFieldToColumn( $.i18n._( 'Job Code' ), [form_item_input3, text_box3], tab3_column1, '', h_box, true );\n\t\t\t\tthis.setWidgetVisible( [form_item_input3, text_box3] );\n\t\t\t\tform_item_input3.bind( 'formItemChange', function( e, target ) {\n\t\t\t\t\tif ( target.getValue() === 0 ) {\n\t\t\t\t\t\ttext_box3.css( 'display', 'inline' );\n\t\t\t\t\t\ttext_box3.setValue( $this.export_setup_data[code3] );\n\t\t\t\t\t} else {\n\t\t\t\t\t\ttext_box3.css( 'display', 'none' );\n\t\t\t\t\t}\n\n\t\t\t\t} );\n\n\t\t\t\t$this.api.getOptions( 'meditech_job_code_options', {\n\t\t\t\t\tonResult: function( result ) {\n\t\t\t\t\t\tvar result_data = result.getResult();\n\t\t\t\t\t\tform_item_input3.setSourceData( Global.buildRecordArray( result_data ) );\n\t\t\t\t\t\tform_item_input3.setValue( $this.export_setup_data[code3] );\n\t\t\t\t\t\tform_item_input3.trigger( 'formItemChange', [form_item_input3, true] );\n\t\t\t\t\t}\n\t\t\t\t} );\n\t\t\t\t$this.export_setup_ui_dic[code3] = $this.edit_view_form_item_dic[code3];\n\t\t\t\tdelete $this.edit_view_form_item_dic[code3];\n\n\t\t\t\tbreak;\n\t\t\tcase 'csv_advanced':\n\t\t\t\t//Export Columns\n\t\t\t\tcode = 'csv_export_columns';\n\t\t\t\tform_item_input = Global.loadWidgetByName( FormItemType.AWESOME_BOX );\n\t\t\t\tform_item_input.AComboBox( {\n\t\t\t\t\tfield: code,\n\t\t\t\t\tallow_multiple_selection: true,\n\t\t\t\t\tlayout_name: 'global_option_column',\n\t\t\t\t\tkey: 'value',\n\t\t\t\t\tset_empty: true\n\t\t\t\t} );\n\n\t\t\t\tthis.addEditFieldToColumn( $.i18n._( 'Export Columns' ), form_item_input, tab3_column1, '', null, true );\n\t\t\t\tthis.setWidgetVisible( [form_item_input] );\n\t\t\t\tthis.api.getOptions( 'export_columns', 'csv_advanced', {\n\t\t\t\t\tonResult: function( result ) {\n\t\t\t\t\t\tvar result_data = result.getResult();\n\t\t\t\t\t\tform_item_input.setSourceData( Global.buildRecordArray( result_data ) );\n\t\t\t\t\t\tform_item_input.setValue( $this.export_setup_data[code] );\n\t\t\t\t\t}\n\t\t\t\t} );\n\n\t\t\t\t$this.export_setup_ui_dic[code] = $this.edit_view_form_item_dic[code];\n\t\t\t\tdelete $this.edit_view_form_item_dic[code];\n\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\n\t\tthis.editFieldResize( 3 );\n\t}\n\n\tbuildEditViewUI() {\n\t\tsuper.buildEditViewUI();\n\n\t\tvar tab_3_label = this.edit_view.find( 'a[ref=tab_form_setup]' );\n\t\ttab_3_label.text( $.i18n._( 'Export Setup' ) );\n\t}\n\n\tremoveCurrentExportUI() {\n\n\t\tfor ( var key in this.export_setup_ui_dic ) {\n\t\t\tvar html_item = this.export_setup_ui_dic[key];\n\t\t\thtml_item.remove();\n\t\t}\n\n\t\t//Error: Unable to get property 'find' of undefined or null reference in /interface/html5/ line 1033\n\t\tif ( !this.edit_view_tab ) {\n\t\t\treturn;\n\t\t}\n\n\t\tvar tab3 = this.edit_view_tab.find( '#tab_form_setup' );\n\t\tvar tab3_column1 = tab3.find( '.first-column' );\n\t\tvar clear_both_div = tab3_column1.find( '.clear-both-div' );\n\n\t\tclear_both_div.remove();\n\t}\n\n\tgetExportColumns( type ) {\n\t\tvar columns = {};\n\n\t\tif ( this.export_grid ) { //#2490 - can't return export columns if there's no export grid.\n\t\t\tvar source = this.export_grid.getData();\n\t\t\tvar len = source.length;\n\t\t\tfor ( var i = 0; i < len; i++ ) {\n\t\t\t\tvar item = source[i];\n\t\t\t\tcolumns[item.column_id_key] = {};\n\t\t\t\tcolumns[item.column_id_key].hour_code = item.hour_code;\n\n\t\t\t\tif ( type === 'adp' || type === 'adp_advanced' || type === 'adp_resource' || type === 'accero' || type === 'va_munis' || type === 'cms_pbj' ) {\n\t\t\t\t\tcolumns[item.column_id_key].hour_column = item.hour_column;\n\t\t\t\t}\n\n\t\t\t}\n\t\t}\n\n\t\treturn columns;\n\t}\n\n\t/**\n\t * Gets array of properly configured values for the export setup form.\n\t *\n\t * @param field_list Array\n\t * @returns {{}|*}\n\t */\n\tgetFormSetupFieldValues( field_list ) {\n\t\tvar ret_arr = {};\n\n\t\tfor ( var i = 0; i < field_list.length; i++ ) {\n\t\t\tif ( this.edit_view_ui_dic[field_list[i]] && !this.edit_view_ui_dic[field_list[i]].getValue() ) {\n\t\t\t\tret_arr[field_list[i]] = this.edit_view_ui_dic[field_list[i] + '_text'].getValue();\n\t\t\t\tret_arr[field_list[i] + '_value'] = this.edit_view_ui_dic[field_list[i] + '_text'].getValue();\n\t\t\t} else {\n\t\t\t\tif ( !this.edit_view_ui_dic[field_list[i]] ) {\n\t\t\t\t\tret_arr[field_list[i]] = '';\n\t\t\t\t} else {\n\t\t\t\t\tret_arr[field_list[i]] = this.edit_view_ui_dic[field_list[i]].getValue();\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn ret_arr;\n\t}\n\n\tgetFormData( other, for_display ) {\n\t\tif ( !other || !other.export_type ) {\n\t\t\treturn false;\n\t\t}\n\n\t\tswitch ( other.export_type ) {\n\t\t\tcase 'adp':\n\t\t\t\tother[other.export_type] = this.getFormSetupFieldValues( ['company_code', 'batch_id', 'temp_dept'] );\n\t\t\t\tbreak;\n\t\t\tcase 'adp_advanced':\n\t\t\tcase 'adp_resource':\n\t\t\t\tother[other.export_type] = this.getFormSetupFieldValues( ['company_code', 'batch_id', 'temp_dept', 'job_cost', 'work_class'] );\n\t\t\t\tother[other.export_type].state_columns = this.edit_view_ui_dic.state_columns.getValue();\n\t\t\t\tbreak;\n\t\t\tcase 'accero':\n\t\t\t\tother[other.export_type] = this.getFormSetupFieldValues( ['temp_dept'] );\n\t\t\t\tbreak;\n\t\t\tcase 'paychex_preview':\n\t\t\t\tother[other.export_type].client_number = this.edit_view_ui_dic.client_number.getValue();\n\t\t\t\tbreak;\n\t\t\tcase 'paychex_preview_advanced_job':\n\t\t\t\tother[other.export_type].client_number = this.edit_view_ui_dic.client_number_adv.getValue();\n\t\t\t\tother[other.export_type].job_columns = this.edit_view_ui_dic.job_columns.getValue();\n\t\t\t\tother[other.export_type].state_columns = this.edit_view_ui_dic.state_columns.getValue();\n\t\t\t\tother[other.export_type].include_hourly_rate = this.edit_view_ui_dic.include_hourly_rate.getValue();\n\t\t\t\tbreak;\n\t\t\tcase 'ceridian_insync':\n\t\t\t\tother[other.export_type].employer_number = this.edit_view_ui_dic.employer_number.getValue();\n\t\t\t\tbreak;\n\t\t\tcase 'quickbooks':\n\t\t\tcase 'quickbooks_advanced':\n\t\t\t\tother[other.export_type].company_name = this.edit_view_ui_dic.company_name.getValue();\n\t\t\t\tother[other.export_type].company_created_date = this.edit_view_ui_dic.company_created_date.getValue();\n\t\t\t\tother[other.export_type].proj = this.edit_view_ui_dic.proj.getValue();\n\t\t\t\tother[other.export_type].item = this.edit_view_ui_dic.item.getValue();\n\t\t\t\tother[other.export_type].job = this.edit_view_ui_dic.job.getValue();\n\t\t\t\tbreak;\n\t\t\tcase 'sage_50':\n\t\t\t\tother[other.export_type] = this.getFormSetupFieldValues( ['customer_name'] );\n\t\t\t\tbreak;\n\t\t\tcase 'va_munis':\n\t\t\t\tother[other.export_type] = this.getFormSetupFieldValues( ['department', 'employee_number', 'gl_account', 'customer_name', 'facility_code', 'state_code', 'pay_type_code', 'job_title_code', ''] );\n\t\t\t\tbreak;\n\t\t\tcase 'meditech':\n\t\t\t\tother[other.export_type] = this.getFormSetupFieldValues( ['employee_number', 'department', 'job_code'] );\n\t\t\t\tother[other.export_type].payroll = this.edit_view_ui_dic.payroll.getValue();\n\t\t\t\tbreak;\n\t\t\tcase 'csv_advanced':\n\t\t\t\tother[other.export_type].export_columns = this.edit_view_ui_dic.csv_export_columns.getValue();\n\t\t\t\tbreak;\n\t\t\tcase 'cms_pbj':\n\t\t\t\tother[other.export_type] = this.getFormSetupFieldValues( ['facility_code', 'state_code', 'pay_type_code', 'job_title_code'] );\n\t\t\t\tbreak;\n\t\t}\n\n\t\tif ( !this.save_export_setup_data ) {\n\t\t\tthis.save_export_setup_data = {};\n\t\t}\n\t\tthis.save_export_setup_data[other.export_type] = other[other.export_type];\n\t\tthis.save_export_setup_data[other.export_type]['columns'] = this.getExportColumns( other.export_type ); //This is needed for the api to build reports properly.\n\t\tthis.save_export_setup_data['export_type'] = other.export_type;\n\n\t\tif ( for_display ) {\n\t\t\tfor ( var key in this.save_export_setup_data ) {\n\t\t\t\tif ( key !== false && typeof ( this.save_export_setup_data[key] ) !== 'string' ) {\n\t\t\t\t\tthis.save_export_setup_data[key] = this.convertExportSetupValues( this.save_export_setup_data[key] );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn other;\n\t}\n\n\t/* jshint ignore:start */\n\tgetFormSetupData( for_view ) {\n\t\tvar other = {};\n\t\tother.export_type = this.edit_view_ui_dic.export_type.getValue();\n\n\t\tother[other.export_type] = {};\n\t\tother[other.export_type].columns = this.getExportColumns( other.export_type );\n\n\t\tother = this.getFormData( other, true );\n\n\t\tif ( !for_view && other.export_type ) {\n\t\t\tvar export_type = other.export_type;\n\t\t\tother = other[export_type];\n\t\t\tother.export_type = export_type;\n\t\t\tother[export_type] = {};\n\t\t\tother[export_type].columns = this.getExportColumns( other.export_type );\n\t\t}\n\n\t\treturn other;\n\t}\n\n\t/* jshint ignore:end */\n\n\t/**\n\t * Backwards compatible function for custom data to be moved from the way the api stores it to the way the form needs it.\n\t *\n\t * the old custom field data was stored in obj[key]\n\t * new custom field data is stored in obj[key+'_value']\n\t *\n\t * ie. obj[company_code] is now obj[company_code_value]\n\t *\n\t * @param data\n\t * @returns {*}\n\t */\n\tconvertExportSetupValues( data ) {\n\t\tfor ( var api_data_key in data ) {\n\t\t\tvar form_data_key = api_data_key.substr( 0, api_data_key.indexOf( '_value' ) );\n\t\t\tif ( api_data_key.search( '_value' ) > 0 ) {\n\t\t\t\tdata[form_data_key] = data[api_data_key];\n\t\t\t}\n\t\t}\n\t\t//conversion for lower export grid data from old format\n\t\tif ( data.export_columns && !data.columns && data.export_type != 0 && data.export_columns[data.export_type] ) {\n\t\t\tdata.columns = {};\n\t\t\tdata.columns = data.export_columns[data.export_type].columns;\n\t\t}\n\n\t\treturn data;\n\t}\n\n\t/**\n\t * Get the form setup data from the api\n\t * @param res_Data\n\t */\n\tsetFormSetupData( res_Data ) {\n\t\t//this if is for backwards compatibility\n\n\t\tif ( this.edit_view_ui_dic.export_type && this.edit_view_ui_dic.export_type.getValue() ) {\n\t\t\tres_Data.export_type = this.edit_view_ui_dic.export_type.getValue();\n\t\t}\n\n\t\tif ( !res_Data.export_columns ) {\n\t\t\tfor ( var key in res_Data ) {\n\t\t\t\tif ( key !== false && typeof ( res_Data[key] ) !== 'string' ) {\n\t\t\t\t\tres_Data[key] = this.convertExportSetupValues( res_Data[key] );\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis.save_export_setup_data = res_Data;\n\t\t} else {\n\t\t\tres_Data = this.convertExportSetupValues( res_Data );\n\t\t\tthis.save_export_setup_data[res_Data.export_type] = res_Data;\n\t\t\tthis.save_export_setup_data['export_type'] = res_Data.export_type;\n\t\t}\n\n\t\tif ( !res_Data ) {\n\t\t\tthis.show_empty_message = true;\n\t\t}\n\n\t\tif ( res_Data ) {\n\n\t\t\tif ( res_Data.export_type ) {\n\t\t\t\tthis.edit_view_ui_dic.export_type.setValue( res_Data.export_type );\n\t\t\t\tthis.current_edit_record.export_type = res_Data.export_type;\n\t\t\t}\n\t\t}\n\n\t\t//for backwards compatibility with old csv_advanced format\n\t\tif ( this.save_export_setup_data['csv_advanced'] ) {\n\t\t\tif ( this.save_export_setup_data['csv_advanced'].csv_export_columns ) {\n\t\t\t\tthis.save_export_setup_data['csv_advanced'].export_columns = this.save_export_setup_data['csv_advanced'].csv_export_columns;\n\t\t\t} else {\n\t\t\t\tthis.save_export_setup_data['csv_advanced'].csv_export_columns = this.save_export_setup_data['csv_advanced'].export_columns;\n\t\t\t}\n\t\t}\n\n\t\tthis.onExportChange( res_Data.export_type );\n\t}\n\n\t/**\n\t * Overridden to allow stateful export formats. This ensures your changes are put into memory..\n\t *\n\t * @param target\n\t * @param doNotDoValidate\n\t */\n\tonFormItemChange( target, doNotValidate ) {\n\t\t//If the edit grid has left any rows in edit mode, we need to finalize them now before the data is swept into memory.\n\t\tvar selRowId = $( '#export_grid' ).getGridParam( 'selrow' );\n\t\t$( '#export_grid' ).saveRow( selRowId );\n\n\t\tif ( target && target.getField && target.getField() == 'export_type' ) { // cannot read property getField of undefined\n\t\t\tvar other = {};\n\t\t\tother.export_type = this.current_edit_record.export_type;\n\t\t\tother[other.export_type] = {};\n\t\t\tother[other.export_type].export_columns = { columns: this.getExportColumns( other.export_type ) };\n\n\t\t\tif ( !this.export_setup_data.export_columns || Global.isObject( this.export_setup_data.export_columns ) == false ) {\n\t\t\t\tthis.export_setup_data.export_columns = {};\n\t\t\t\tthis.export_setup_data.export_columns[other.export_type] = {};\n\t\t\t}\n\n\t\t\tthis.export_setup_data.export_columns[other.export_type] = { columns: this.getExportColumns( other.export_type ) };\n\t\t\t// this.save_export_setup_data[other.export_type] = this.getFormSetupData( other );\n\t\t\tthis.form_setup_changed = true;\n\t\t\treturn; //make room for the custom event above\n\t\t}\n\t\tsuper.onFormItemChange( target, doNotValidate );\n\t}\n\n}\n"],"sourceRoot":""}