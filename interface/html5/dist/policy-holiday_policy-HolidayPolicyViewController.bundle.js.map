{"version":3,"sources":["webpack://timetrex/./interface/html5/views/policy/holiday_policy/HolidayPolicyViewController.js"],"names":["HolidayPolicyViewController","BaseViewController","options","_","defaults","el","type_array","default_schedule_status_array","shift_on_holiday_type_array","worked_scheduled_days_array","date_api","sub_holiday_view_controller","super","this","edit_view_tpl","permission_id","viewId","script_name","table_name_key","context_menu_name","$","i18n","navigation_label","api","TTAPI","APIHolidayPolicy","APITTDate","render","buildContextMenu","initData","setSelectRibbonMenuIfNecessary","$this","initDropDownOption","res","getResult","extend","buildEditViewUI","tab_model","setTabModel","navigation","AComboBox","api_class","id","allow_multiple_selection","layout_name","navigation_mode","show_search_inputs","setNavigation","form_item_input","widgetContainer","label","tab_holiday_policy_column1","edit_view_tab","find","edit_view_tabs","push","Global","loadWidgetByName","FormItemType","TEXT_INPUT","TTextInput","field","width","addEditFieldToColumn","parent","TEXT_AREA","TTextArea","COMBO_BOX","TComboBox","set_empty","setSourceData","AWESOME_BOX","APIRecurringHoliday","tab_eligibility_column1","form_item_minimum_worked_days_input","form_item_minimum_worked_period_days_input","form_item_worked_scheduled_days_combobox","label_1","label_2","label_3","append","APIContributingShiftPolicy","tab_holiday_time_column1","form_item_average_time_frequency_combobox","average_time_frequency_type_array","form_item_average_time_worked_days_checkbox","CHECKBOX","TCheckbox","form_item_average_days_input","average_days_widgets","mode","need_parser_sec","APIRoundIntervalPolicy","APIAbsencePolicy","target","doNotValidate","setIsChanged","setMassEditingFieldsWhenFormChange","key","getField","c_value","getValue","current_edit_record","onTypeChange","onWorkedDaysChange","validate","setEditViewDataDone","average_time_worked_days","hide","show","detachElement","edit_view_form_item_dic","text","attachElement","editFieldResize","buildSearchFields","search_fields","SearchField","in_column","multiple","basic_search","adv_search","form_item_type","APIUser","setDefaultMenu","parent_value","parent_edit_record","loadScript","firstColumn","trackView","HolidayViewController","loadSubView","beforeLoadView","afterLoadView","TTPromise","resolve","subViewController","parent_key","parent_view_controller","removeEditView"],"mappings":"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","file":"policy-holiday_policy-HolidayPolicyViewController.bundle.js?v=852bbd57661b9ffe7b64","sourcesContent":["export class HolidayPolicyViewController extends BaseViewController {\n\tconstructor( options = {} ) {\n\t\t_.defaults( options, {\n\t\t\tel: '#holiday_policy_view_container',\n\n\t\t\ttype_array: null,\n\t\t\tdefault_schedule_status_array: null,\n\t\t\tshift_on_holiday_type_array: null,\n\t\t\tworked_scheduled_days_array: null,\n\t\t\tdate_api: null,\n\t\t\tsub_holiday_view_controller: null\n\t\t} );\n\n\t\tsuper( options );\n\t}\n\n\tinit( options ) {\n\t\t//this._super('initialize', options );\n\t\tthis.edit_view_tpl = 'HolidayPolicyEditView.html';\n\t\tthis.permission_id = 'holiday_policy';\n\t\tthis.viewId = 'HolidayPolicy';\n\t\tthis.script_name = 'HolidayPolicyView';\n\t\tthis.table_name_key = 'holiday_policy';\n\t\tthis.context_menu_name = $.i18n._( 'Holiday Policy' );\n\t\tthis.navigation_label = $.i18n._( 'Holiday Policy' ) + ':';\n\t\tthis.api = TTAPI.APIHolidayPolicy;\n\t\tthis.date_api = TTAPI.APITTDate;\n\t\tthis.render();\n\t\tthis.buildContextMenu();\n\n\t\tthis.initData();\n\t\tthis.setSelectRibbonMenuIfNecessary( 'HolidayPolicy' );\n\t}\n\n\t/* jshint ignore:start */\n\tinitOptions() {\n\t\tvar $this = this;\n\t\tthis.initDropDownOption( 'type' );\n\t\tthis.initDropDownOption( 'average_time_frequency_type' );\n\t\tthis.initDropDownOption( 'default_schedule_status' );\n\t\tthis.initDropDownOption( 'shift_on_holiday_type' );\n\t\tthis.initDropDownOption( 'scheduled_day', 'worked_scheduled_days', null, function( res ) {\n\t\t\tres = res.getResult();\n\t\t\t$this.worked_scheduled_days_array = $.extend( {}, res ); //\t Convert Array to Object\n\t\t} );\n\t}\n\n\t/* jshint ignore:end */\n\tbuildEditViewUI() {\n\n\t\tsuper.buildEditViewUI();\n\n\t\tvar $this = this;\n\n\t\tvar tab_model = {\n\t\t\t'tab_holiday_policy': { 'label': $.i18n._( 'Holiday Policy' ) },\n\t\t\t'tab_eligibility': { 'label': $.i18n._( 'Eligibility' ) },\n\t\t\t'tab_holiday_time': { 'label': $.i18n._( 'Holiday Time' ) },\n\t\t\t'tab_holidays': {\n\t\t\t\t'label': $.i18n._( 'Holidays' ),\n\t\t\t\t'init_callback': 'initSubHolidayView',\n\t\t\t\t'display_on_mass_edit': false\n\t\t\t},\n\t\t\t'tab_audit': true,\n\t\t};\n\t\tthis.setTabModel( tab_model );\n\n\t\tthis.navigation.AComboBox( {\n\t\t\tapi_class: TTAPI.APIHolidayPolicy,\n\t\t\tid: this.script_name + '_navigation',\n\t\t\tallow_multiple_selection: false,\n\t\t\tlayout_name: 'global_holiday',\n\t\t\tnavigation_mode: true,\n\t\t\tshow_search_inputs: true\n\t\t} );\n\n\t\tthis.setNavigation();\n\n\t\tvar tab_holiday_policy = this.edit_view_tab.find( '#tab_holiday_policy' );\n\n\t\t//Tab 0 start\n\n\t\tvar tab_holiday_policy_column1 = tab_holiday_policy.find( '.first-column' );\n\n\t\tthis.edit_view_tabs[0] = [];\n\n\t\tthis.edit_view_tabs[0].push( tab_holiday_policy_column1 );\n\n\t\tvar form_item_input;\n\t\tvar widgetContainer;\n\t\tvar label;\n\n\t\t//Name\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.TEXT_INPUT );\n\n\t\tform_item_input.TTextInput( { field: 'name', width: '100%' } );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Name' ), form_item_input, tab_holiday_policy_column1, '' );\n\n\t\tform_item_input.parent().width( '45%' );\n\n\t\t// Description\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.TEXT_AREA );\n\t\tform_item_input.TTextArea( { field: 'description', width: '100%' } );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Description' ), form_item_input, tab_holiday_policy_column1, '', null, null, true );\n\n\t\tform_item_input.parent().width( '45%' );\n\n\t\t// Type\n\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.COMBO_BOX );\n\n\t\tform_item_input.TComboBox( { field: 'type_id', set_empty: false } );\n\t\tform_item_input.setSourceData( $this.type_array );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Type' ), form_item_input, tab_holiday_policy_column1 );\n\n\t\t// Default Schedules Status\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.COMBO_BOX );\n\n\t\tform_item_input.TComboBox( { field: 'default_schedule_status_id' } );\n\t\tform_item_input.setSourceData( $this.default_schedule_status_array );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Default Schedules Status' ), form_item_input, tab_holiday_policy_column1 );\n\n\t\t// Recurring Holidays\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.AWESOME_BOX );\n\t\tform_item_input.AComboBox( {\n\t\t\tapi_class: TTAPI.APIRecurringHoliday,\n\t\t\tallow_multiple_selection: true,\n\t\t\tlayout_name: 'global_recurring_holiday',\n\t\t\tshow_search_inputs: true,\n\t\t\tset_empty: true,\n\t\t\tfield: 'recurring_holiday_id'\n\t\t} );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Recurring Holidays' ), form_item_input, tab_holiday_policy_column1, '' );\n\n\t\t// tab 1 start\n\t\tvar tab_eligibility = this.edit_view_tab.find( '#tab_eligibility' );\n\n\t\tvar tab_eligibility_column1 = tab_eligibility.find( '.first-column' );\n\n\t\tthis.edit_view_tabs[1] = [];\n\n\t\tthis.edit_view_tabs[1].push( tab_eligibility_column1 );\n\n\t\t// Minimum Employed Days\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.TEXT_INPUT );\n\n\t\tform_item_input.TTextInput( { field: 'minimum_employed_days', width: 50 } );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Minimum Employed Days' ), form_item_input, tab_eligibility_column1, '' );\n\n\t\t// Employee Must Work at Least\n\t\tvar form_item_minimum_worked_days_input = Global.loadWidgetByName( FormItemType.TEXT_INPUT );\n\t\tform_item_minimum_worked_days_input.TTextInput( { field: 'minimum_worked_days', width: 30 } );\n\n\t\tvar form_item_minimum_worked_period_days_input = Global.loadWidgetByName( FormItemType.TEXT_INPUT );\n\t\tform_item_minimum_worked_period_days_input.TTextInput( { field: 'minimum_worked_period_days', width: 30 } );\n\n\t\tvar form_item_worked_scheduled_days_combobox = Global.loadWidgetByName( FormItemType.COMBO_BOX );\n\t\tform_item_worked_scheduled_days_combobox.TComboBox( { field: 'worked_scheduled_days' } );\n\t\tform_item_worked_scheduled_days_combobox.setSourceData( $this.worked_scheduled_days_array );\n\n\t\twidgetContainer = $( '<div class=\\'widget-h-box\\'></div>' );\n\n\t\tvar label_1 = $( '<span class=\\'widget-right-label\\'> ' + $.i18n._( 'of the' ) + ' </span>' );\n\t\tvar label_2 = $( '<span class=\\'widget-right-label\\'> ' + $.i18n._( 'prior to the holiday' ) + ' </span>' );\n\t\tvar label_3 = $( '<span class=\\'widget-right-label\\'> ' + ' ' + ' </span>' );\n\n\t\twidgetContainer.append( form_item_minimum_worked_days_input );\n\t\twidgetContainer.append( label_1 );\n\t\twidgetContainer.append( form_item_minimum_worked_period_days_input );\n\t\twidgetContainer.append( label_3 );\n\t\twidgetContainer.append( form_item_worked_scheduled_days_combobox );\n\t\twidgetContainer.append( label_2 );\n\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Employee Must Work at Least' ), [form_item_minimum_worked_days_input, form_item_minimum_worked_period_days_input, form_item_worked_scheduled_days_combobox], tab_eligibility_column1, '', widgetContainer, true );\n\n\t\t// Default Schedules Status\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.COMBO_BOX );\n\t\tform_item_input.TComboBox( { field: 'shift_on_holiday_type_id' } );\n\t\tform_item_input.setSourceData( $this.shift_on_holiday_type_array );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'On the Holiday, the Employee' ), form_item_input, tab_eligibility_column1, '', null, true );\n\n\t\t// Employee Must Work at Least\n\t\tform_item_minimum_worked_days_input = Global.loadWidgetByName( FormItemType.TEXT_INPUT );\n\t\tform_item_minimum_worked_days_input.TTextInput( { field: 'minimum_worked_after_days', width: 30 } );\n\n\t\tform_item_minimum_worked_period_days_input = Global.loadWidgetByName( FormItemType.TEXT_INPUT );\n\t\tform_item_minimum_worked_period_days_input.TTextInput( {\n\t\t\tfield: 'minimum_worked_after_period_days',\n\t\t\twidth: 30\n\t\t} );\n\n\t\tform_item_worked_scheduled_days_combobox = Global.loadWidgetByName( FormItemType.COMBO_BOX );\n\t\tform_item_worked_scheduled_days_combobox.TComboBox( { field: 'worked_after_scheduled_days' } );\n\t\tform_item_worked_scheduled_days_combobox.setSourceData( $this.worked_scheduled_days_array );\n\n\t\twidgetContainer = $( '<div class=\\'widget-h-box\\'></div>' );\n\n\t\tlabel_1 = $( '<span class=\\'widget-right-label\\'> ' + $.i18n._( 'of the' ) + ' </span>' );\n\t\tlabel_2 = $( '<span class=\\'widget-right-label\\'> ' + $.i18n._( 'following the holiday' ) + ' </span>' );\n\t\tlabel_3 = $( '<span class=\\'widget-right-label\\'> ' + ' ' + ' </span>' );\n\n\t\twidgetContainer.append( form_item_minimum_worked_days_input );\n\t\twidgetContainer.append( label_1 );\n\t\twidgetContainer.append( form_item_minimum_worked_period_days_input );\n\t\twidgetContainer.append( label_3 );\n\t\twidgetContainer.append( form_item_worked_scheduled_days_combobox );\n\t\twidgetContainer.append( label_2 );\n\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Employee Must Work at Least' ), [form_item_minimum_worked_days_input, form_item_minimum_worked_period_days_input, form_item_worked_scheduled_days_combobox], tab_eligibility_column1, '', widgetContainer, true );\n\n\t\t// Eligible Contributing Shift\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.AWESOME_BOX );\n\t\tform_item_input.AComboBox( {\n\t\t\tapi_class: TTAPI.APIContributingShiftPolicy,\n\t\t\tallow_multiple_selection: false,\n\t\t\tlayout_name: 'global_contributing_shift_policy',\n\t\t\tshow_search_inputs: true,\n\t\t\tset_empty: true,\n\t\t\tfield: 'eligible_contributing_shift_policy_id'\n\t\t} );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Contributing Shift Policy' ), form_item_input, tab_eligibility_column1, '', null, true );\n\n\t\t// tab 2 start\n\t\tvar tab_holiday_time = this.edit_view_tab.find( '#tab_holiday_time' );\n\n\t\tvar tab_holiday_time_column1 = tab_holiday_time.find( '.first-column' );\n\n\t\tthis.edit_view_tabs[2] = [];\n\n\t\tthis.edit_view_tabs[2].push( tab_holiday_time_column1 );\n\n\t\t// Total Time over\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.TEXT_INPUT );\n\t\tform_item_input.TTextInput( { field: 'average_time_days', width: 30 } );\n\n\t\tvar form_item_average_time_frequency_combobox = Global.loadWidgetByName( FormItemType.COMBO_BOX );\n\t\tform_item_average_time_frequency_combobox.TComboBox( { field: 'average_time_frequency_type_id' } );\n\t\tform_item_average_time_frequency_combobox.setSourceData( $this.average_time_frequency_type_array );\n\n\t\twidgetContainer = $( '<div class=\\'widget-h-box\\'></div>' );\n\n\t\twidgetContainer.append( form_item_input );\n\t\twidgetContainer.append( form_item_average_time_frequency_combobox );\n\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Total Time Over' ), [form_item_input, form_item_average_time_frequency_combobox], tab_holiday_time_column1, '', widgetContainer, true );\n\n\t\t// Average Time over\n\t\tvar form_item_average_time_worked_days_checkbox = Global.loadWidgetByName( FormItemType.CHECKBOX );\n\t\tform_item_average_time_worked_days_checkbox.TCheckbox( { field: 'average_time_worked_days' } );\n\n\t\tvar form_item_average_days_input = Global.loadWidgetByName( FormItemType.TEXT_INPUT );\n\t\tform_item_average_days_input.TTextInput( { field: 'average_days', width: 30 } );\n\n\t\twidgetContainer = $( '<div class=\\'widget-h-box \\'></div>' );\n\n\t\tlabel_1 = $( '<span class=\\'widget-right-label\\'> ' + $.i18n._( 'Worked Days Only' ) + ': ' + ' </span>' );\n\t\tlabel_2 = $( '<span class=\\'widget-right-label\\'> ' + $.i18n._( 'or' ) + ' </span>' );\n\t\tlabel_3 = $( '<span class=\\'widget-right-label\\'> ' + $.i18n._( 'days' ) + ' </span>' );\n\n\t\twidgetContainer.append( label_1 );\n\t\twidgetContainer.append( form_item_average_time_worked_days_checkbox );\n\t\twidgetContainer.append( label_2 );\n\t\twidgetContainer.append( form_item_average_days_input );\n\t\twidgetContainer.append( label_3 );\n\n\t\tthis.average_days_widgets = [label_2, form_item_average_days_input, label_3];\n\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Average Time Over' ), [form_item_average_time_worked_days_checkbox, form_item_average_days_input], tab_holiday_time_column1, '', widgetContainer, true );\n\n\t\t// Contributing Shift\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.AWESOME_BOX );\n\t\tform_item_input.AComboBox( {\n\t\t\tapi_class: TTAPI.APIContributingShiftPolicy,\n\t\t\tallow_multiple_selection: false,\n\t\t\tlayout_name: 'global_contributing_shift_policy',\n\t\t\tshow_search_inputs: true,\n\t\t\tset_empty: true,\n\t\t\tfield: 'contributing_shift_policy_id'\n\t\t} );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Contributing Shift Policy' ), form_item_input, tab_holiday_time_column1, '', null, true );\n\n\t\t// Holiday Time\n\t\t// Minimum Time\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.TEXT_INPUT );\n\t\tform_item_input.TTextInput( { field: 'minimum_time', mode: 'time_unit', need_parser_sec: true } );\n\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Holiday Time' ), form_item_input, tab_holiday_time_column1, '', null, true );\n\n\t\t// Maximum Time\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.TEXT_INPUT );\n\t\tform_item_input.TTextInput( { field: 'maximum_time', mode: 'time_unit', need_parser_sec: true } );\n\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Maximum Time' ), form_item_input, tab_holiday_time_column1, '', null, true );\n\n\t\t// Always Apply Over Time/Premium Policies\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.CHECKBOX );\n\t\tform_item_input.TCheckbox( { field: 'force_over_time_policy' } );\n\n\t\twidgetContainer = $( '<div class=\\'widget-h-box\\'></div>' );\n\t\tlabel = $( '<span class=\\'widget-right-label \\'> (' + $.i18n._( 'Even if they are not eligible for holiday pay' ) + ')</span>' );\n\n\t\twidgetContainer.append( form_item_input );\n\t\twidgetContainer.append( label );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Always Apply Over Time/Premium Policies' ), form_item_input, tab_holiday_time_column1, '', widgetContainer, true );\n\n\t\t// Rounding Policy\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.AWESOME_BOX );\n\t\tform_item_input.AComboBox( {\n\t\t\tapi_class: TTAPI.APIRoundIntervalPolicy,\n\t\t\tallow_multiple_selection: false,\n\t\t\tlayout_name: 'global_round_interval',\n\t\t\tshow_search_inputs: true,\n\t\t\tset_empty: true,\n\t\t\tfield: 'round_interval_policy_id'\n\t\t} );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Rounding Policy' ), form_item_input, tab_holiday_time_column1, '', null, true );\n\n\t\t// Absence Policy\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.AWESOME_BOX );\n\t\tform_item_input.AComboBox( {\n\t\t\tapi_class: TTAPI.APIAbsencePolicy,\n\t\t\tallow_multiple_selection: false,\n\t\t\tlayout_name: 'global_absences',\n\t\t\tshow_search_inputs: true,\n\t\t\tset_empty: true,\n\t\t\tfield: 'absence_policy_id'\n\t\t} );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Absence Policy' ), form_item_input, tab_holiday_time_column1, '' );\n\t}\n\n\tonFormItemChange( target, doNotValidate ) {\n\t\tthis.setIsChanged( target );\n\t\tthis.setMassEditingFieldsWhenFormChange( target );\n\n\t\tvar key = target.getField();\n\t\tvar c_value = target.getValue();\n\t\tthis.current_edit_record[key] = c_value;\n\t\tswitch ( key ) {\n\t\t\tcase 'type_id':\n\t\t\t\tthis.onTypeChange();\n\t\t\t\tbreak;\n\t\t\tcase 'average_time_worked_days':\n\t\t\t\tthis.onWorkedDaysChange();\n\t\t\t\tbreak;\n\t\t}\n\n\t\tif ( !doNotValidate ) {\n\t\t\tthis.validate();\n\t\t}\n\t}\n\n\tsetEditViewDataDone() {\n\t\tsuper.setEditViewDataDone();\n\t\tthis.onTypeChange();\n\t\tthis.onWorkedDaysChange();\n\t}\n\n\tonWorkedDaysChange() {\n\t\tif ( this.current_edit_record.average_time_worked_days === true ) {\n\t\t\tthis.average_days_widgets[0].hide();\n\t\t\tthis.average_days_widgets[1].hide();\n\t\t\tthis.average_days_widgets[2].hide();\n\t\t} else {\n\t\t\tthis.average_days_widgets[0].show();\n\t\t\tthis.average_days_widgets[1].show();\n\t\t\tthis.average_days_widgets[2].show();\n\t\t}\n\t}\n\n\tonTypeChange() {\n\t\tif ( this.current_edit_record['type_id'] == 10 ) {\n\t\t\tthis.detachElement( 'minimum_worked_days' );\n\t\t\tthis.detachElement( 'shift_on_holiday_type_id' );\n\t\t\tthis.detachElement( 'minimum_worked_after_days' );\n\n\t\t\tthis.detachElement( 'average_time_days' );\n\t\t\tthis.detachElement( 'average_time_worked_days' );\n\t\t\tthis.edit_view_form_item_dic['minimum_time'].find( '.edit-view-form-item-label' ).text( $.i18n._( 'Holiday Time' ) + ': ' );\n\n\t\t\tthis.detachElement( 'maximum_time' );\n\t\t\tthis.detachElement( 'force_over_time_policy' );\n\t\t\tthis.detachElement( 'round_interval_policy_id' );\n\t\t\tthis.detachElement( 'eligible_contributing_shift_policy_id' );\n\t\t\tthis.detachElement( 'contributing_shift_policy_id' );\n\n\t\t} else if ( this.current_edit_record['type_id'] == 20 ) {\n\t\t\tthis.attachElement( 'minimum_worked_days' );\n\t\t\tthis.attachElement( 'shift_on_holiday_type_id' );\n\t\t\tthis.attachElement( 'minimum_worked_after_days' );\n\n\t\t\tthis.detachElement( 'average_time_days' );\n\t\t\tthis.detachElement( 'average_time_worked_days' );\n\t\t\tthis.edit_view_form_item_dic['minimum_time'].find( '.edit-view-form-item-label' ).text( $.i18n._( 'Holiday Time' ) + ': ' );\n\n\t\t\tthis.detachElement( 'maximum_time' );\n\t\t\tthis.detachElement( 'force_over_time_policy' );\n\t\t\tthis.detachElement( 'round_interval_policy_id' );\n\t\t\tthis.attachElement( 'eligible_contributing_shift_policy_id' );\n\t\t\tthis.detachElement( 'contributing_shift_policy_id' );\n\n\t\t} else if ( this.current_edit_record['type_id'] == 30 ) {\n\t\t\tthis.attachElement( 'minimum_worked_days' );\n\t\t\tthis.attachElement( 'shift_on_holiday_type_id' );\n\t\t\tthis.attachElement( 'minimum_worked_after_days' );\n\n\t\t\tthis.attachElement( 'average_time_days' );\n\t\t\tthis.attachElement( 'average_time_worked_days' );\n\t\t\tthis.edit_view_form_item_dic['minimum_time'].find( '.edit-view-form-item-label' ).text( $.i18n._( 'Minimum Time' ) + ': ' );\n\n\t\t\tthis.attachElement( 'maximum_time' );\n\t\t\tthis.attachElement( 'force_over_time_policy' );\n\t\t\tthis.attachElement( 'round_interval_policy_id' );\n\t\t\tthis.attachElement( 'eligible_contributing_shift_policy_id' );\n\t\t\tthis.attachElement( 'contributing_shift_policy_id' );\n\t\t}\n\n\t\tthis.editFieldResize();\n\t}\n\n\tbuildSearchFields() {\n\n\t\tsuper.buildSearchFields();\n\t\tthis.search_fields = [\n\n\t\t\tnew SearchField( {\n\t\t\t\tlabel: $.i18n._( 'Name' ),\n\t\t\t\tin_column: 1,\n\t\t\t\tfield: 'name',\n\t\t\t\tmultiple: true,\n\t\t\t\tbasic_search: true,\n\t\t\t\tadv_search: false,\n\t\t\t\tform_item_type: FormItemType.TEXT_INPUT\n\t\t\t} ),\n\n\t\t\tnew SearchField( {\n\t\t\t\tlabel: $.i18n._( 'Type' ),\n\t\t\t\tin_column: 1,\n\t\t\t\tfield: 'type_id',\n\t\t\t\tmultiple: true,\n\t\t\t\tbasic_search: true,\n\t\t\t\tadv_search: false,\n\t\t\t\tlayout_name: 'global_option_column',\n\t\t\t\tform_item_type: FormItemType.AWESOME_BOX\n\t\t\t} ),\n\n\t\t\tnew SearchField( {\n\t\t\t\tlabel: $.i18n._( 'Created By' ),\n\t\t\t\tin_column: 2,\n\t\t\t\tfield: 'created_by',\n\t\t\t\tlayout_name: 'global_user',\n\t\t\t\tapi_class: TTAPI.APIUser,\n\t\t\t\tmultiple: true,\n\t\t\t\tbasic_search: true,\n\t\t\t\tadv_search: false,\n\t\t\t\tform_item_type: FormItemType.AWESOME_BOX\n\t\t\t} ),\n\n\t\t\tnew SearchField( {\n\t\t\t\tlabel: $.i18n._( 'Updated By' ),\n\t\t\t\tin_column: 2,\n\t\t\t\tfield: 'updated_by',\n\t\t\t\tlayout_name: 'global_user',\n\t\t\t\tapi_class: TTAPI.APIUser,\n\t\t\t\tmultiple: true,\n\t\t\t\tbasic_search: true,\n\t\t\t\tadv_search: false,\n\t\t\t\tform_item_type: FormItemType.AWESOME_BOX\n\t\t\t} )\n\t\t];\n\t}\n\n\tinitSubHolidayView() {\n\t\tvar $this = this;\n\n\t\tif ( !this.current_edit_record.id ) {\n\t\t\tTTPromise.resolve( 'BaseViewController', 'onTabShow' ); //Since search() isn't called in this case, and we just display the \"Please Save This Record ...\" message, resolve the promise.\n\t\t\treturn;\n\t\t}\n\n\t\tif ( this.sub_holiday_view_controller ) {\n\t\t\tthis.sub_holiday_view_controller.buildContextMenu( true );\n\t\t\tthis.sub_holiday_view_controller.setDefaultMenu();\n\t\t\t$this.sub_holiday_view_controller.parent_value = $this.current_edit_record.id;\n\t\t\t$this.sub_holiday_view_controller.parent_edit_record = $this.current_edit_record;\n\t\t\t$this.sub_holiday_view_controller.initData();\n\t\t\treturn;\n\t\t}\n\n\t\tGlobal.loadScript( 'views/policy/holiday/HolidayViewController.js', function() {\n\n\t\t\tvar tab_holiday_policy = $this.edit_view_tab.find( '#tab_holidays' );\n\t\t\tvar firstColumn = tab_holiday_policy.find( '.first-column-sub-view' );\n\n\t\t\tGlobal.trackView( 'Sub' + 'Holiday' + 'View' );\n\t\t\tHolidayViewController.loadSubView( firstColumn, beforeLoadView, afterLoadView );\n\n\t\t} );\n\n\t\tfunction beforeLoadView() {\n\n\t\t}\n\n\t\tfunction afterLoadView( subViewController ) {\n\t\t\t$this.sub_holiday_view_controller = subViewController;\n\t\t\t$this.sub_holiday_view_controller.parent_key = 'holiday_policy_id';\n\t\t\t$this.sub_holiday_view_controller.parent_value = $this.current_edit_record.id;\n\t\t\t$this.sub_holiday_view_controller.parent_edit_record = $this.current_edit_record;\n\t\t\t$this.sub_holiday_view_controller.parent_view_controller = $this;\n\t\t\t$this.sub_holiday_view_controller.initData();\n\t\t}\n\t}\n\n\tremoveEditView() {\n\t\tsuper.removeEditView();\n\t\tthis.sub_holiday_view_controller = null;\n\t}\n}\n"],"sourceRoot":""}