{"version":3,"sources":["webpack://timetrex/./interface/html5/views/wizard/find_available/FindAvailableWizardController.js"],"names":["FindAvailableWizardController","BaseWizardController","options","_","defaults","el","super","this","title","$","i18n","steps","current_step","render","type","default_data","initCurrentStep","$this","content_div","empty","stepsWidgetDic","label","getLabel","text","append","Global","loadViewSource","result","template","remove","LocalCacheData","current_open_wizard_controller","extra_filter_for_next_open_view","find_available_view_controller","getGridSelectIdArray","length","onCloseClick","call_back","TAlertManager","showAlert"],"mappings":"2MAAO,MAAMA,UAAsCC,qBAClD,YAAaC,EAAU,IACtBC,EAAEC,SAAUF,EAAS,CACpBG,GAAI,eAGLC,MAAOJ,GAGR,KAAMA,GAGLK,KAAKC,MAAQC,EAAEC,KAAKP,EAAG,4BACvBI,KAAKI,MAAQ,EACbJ,KAAKK,aAAe,EAEpBL,KAAKM,SAGN,SACCP,MAAMO,SAENb,EAA8Bc,KAAOP,KAAKQ,aAE1CR,KAAKS,kBAGN,qBAEC,IAAIC,EAAQV,KAKZ,OAJAA,KAAKW,YAAYC,QAEjBZ,KAAKa,eAAeb,KAAKK,cAAgB,GAEhCL,KAAKK,cACb,KAAK,EACJ,IAAIS,EAAQd,KAAKe,WACjBD,EAAME,KAAMd,EAAEC,KAAKP,EAAG,2GACtBI,KAAKW,YAAYM,OAAQH,GAEzBI,OAAOC,eAAgB,YAAa,qBAEpCD,OAAOC,eAAgB,gBAAiB,kCAAkC,WAEzED,OAAOC,eAAgB,gBAAiB,0BAA0B,SAAUC,GAC3E,IAEIC,EAAWzB,EAAEyB,SAAUD,GAC3BV,EAAMC,YAAYM,OAAQI,EAHf,YAahB,wBAGA,eAECnB,EAAGF,KAAKF,IAAKwB,SACbC,eAAeC,+BAAiC,KAChDD,eAAeE,gCAAkC,KAGlD,cAEsE,GAAhEC,+BAA+BC,uBAAuBC,QAK3D5B,KAAK6B,eAEA7B,KAAK8B,WACT9B,KAAK8B,UAAWJ,+BAA+BC,uBAAuB,KAPtEI,cAAcC,UAAW9B,EAAEC,KAAKP,EAAG,yBAatCH,EAA8Bc,KAAO","file":"wizard-find_available-FindAvailableWizardController.bundle.js?v=2cf7517e8ddde16b4f9e","sourcesContent":["export class FindAvailableWizardController extends BaseWizardController {\n\tconstructor( options = {} ) {\n\t\t_.defaults( options, {\n\t\t\tel: '.wizard-bg'\n\t\t} );\n\n\t\tsuper( options );\n\t}\n\n\tinit( options ) {\n\t\t//this._super('initialize', options );\n\n\t\tthis.title = $.i18n._( 'Find available Employees' );\n\t\tthis.steps = 1;\n\t\tthis.current_step = 1;\n\n\t\tthis.render();\n\t}\n\n\trender() {\n\t\tsuper.render();\n\n\t\tFindAvailableWizardController.type = this.default_data;\n\n\t\tthis.initCurrentStep();\n\t}\n\n\tbuildCurrentStepUI() {\n\n\t\tvar $this = this;\n\t\tthis.content_div.empty();\n\n\t\tthis.stepsWidgetDic[this.current_step] = {};\n\n\t\tswitch ( this.current_step ) {\n\t\t\tcase 1:\n\t\t\t\tvar label = this.getLabel();\n\t\t\t\tlabel.text( $.i18n._( 'Pick one employee then click the green checkmark icon to assign the selected shift(s) to that employee' ) );\n\t\t\t\tthis.content_div.append( label );\n\n\t\t\t\tGlobal.loadViewSource( 'LoginUser', 'LoginUserView.css' );\n\n\t\t\t\tGlobal.loadViewSource( 'FindAvailable', 'FindAvailableViewController.js', function() {\n\n\t\t\t\t\tGlobal.loadViewSource( 'FindAvailable', 'FindAvailableView.html', function( result ) {\n\t\t\t\t\t\tvar args = {};\n\n\t\t\t\t\t\tvar template = _.template( result );\n\t\t\t\t\t\t$this.content_div.append( template( args ) );\n\n\t\t\t\t\t} );\n\t\t\t\t} );\n\n\t\t\t\tbreak;\n\n\t\t}\n\t}\n\n\tbuildCurrentStepData() {\n\t}\n\n\tonCloseClick() {\n\n\t\t$( this.el ).remove();\n\t\tLocalCacheData.current_open_wizard_controller = null;\n\t\tLocalCacheData.extra_filter_for_next_open_view = null;\n\t}\n\n\tonDoneClick() {\n\n\t\tif ( find_available_view_controller.getGridSelectIdArray().length != 1 ) {\n\t\t\tTAlertManager.showAlert( $.i18n._( 'Choose one Employee' ) );\n\t\t\treturn;\n\t\t}\n\n\t\tthis.onCloseClick();\n\n\t\tif ( this.call_back ) {\n\t\t\tthis.call_back( find_available_view_controller.getGridSelectIdArray()[0] );\n\t\t}\n\t}\n\n}\n\nFindAvailableWizardController.type = '';"],"sourceRoot":""}