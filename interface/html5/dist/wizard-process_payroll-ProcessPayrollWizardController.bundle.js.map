{"version":3,"sources":["webpack://timetrex/./interface/html5/views/wizard/process_payroll/ProcessPayrollWizardController.js"],"names":["ProcessPayrollWizardController","BaseWizardController","options","_","defaults","el","all_columns","pay_stub_transaction_columns","api_pay_period","api_pay_stub","api_pay_stub_transaction","alert_message","$","i18n","transaction_source_data","super","this","title","steps","current_step","script_name","wizard_id","TTAPI","APIPayPeriod","APIPayStub","APIPayStubTransaction","render","initUserGenericData","Global","setWidgetEnabled","done_btn","close_btn","back_btn","next_btn","stepsWidgetDic","pay_period_id","getValue","length","$this","content_div","empty","label","getLabel","text","a_combobox","getAComboBox","div","append","unbind","bind","setButtonsStatus","getField","grid_id","grid_div","setGrid","ribbon_button_box","getRibbonButtonBox","request_button","getRibbonButton","ContextMenuIconName","request","getRibbonIconRealPath","Icons","onNavigationClick","children","eq","ribbon_btn","exceptions","timesheet_reports","ribbon_btn2","authorization_timesheet","lock","unlock","hasClass","TAlertManager","showAlert","pay_stub_amendment","generate_pay_stub","re_cal_pay_stub","pay_stub","pay_stubs","ribbon_btn3","pay_stub_summary","pay_stub_account","css","TTPromise","add","wait","setGridHeight","Math","floor","height","ribbon_btn1","direct_deposit","pay_stub_transaction_summary","payroll_export_report","close_pay_period","close","saveCurrentStep","TTUUID","zero_id","initCurrentStep","cleanStepsData","LocalCacheData","current_open_wizard_controller","saveAllStepsToUserGenericData","call_back","remove","TFeedback","source","gridId","callBack","doNext","result_data","getOptions","async","getResult","buildColumnArray","column_info_array","x","column_data","value","column_info","resizable","name","index","width","sortable","push","len","i","table","find","new_tr","new_th","ths","default_th","clone","attr","prepend","iconName","ids","data_array","filter","current_step_ui","filter_data","pay_period_ids","grid","jqGrid","addViewTab","window","location","href","onCloseClick","IndexViewController","goToView","default_filter_for_next_open_view","template","openReport","current_open_primary_controller","lock_pay_period","data","id","status_id","ProgressBar","showOverlay","setPayPeriod","onResult","result","isValid","buildCurrentStepData","showErrorAlert","pay_stub_amendments","pay_stub_generate","setIsIdempotent","generatePayStubs","user_generic_status_batch_id","getAttributeInAPIDetails","isUUID","not_exist_id","UserGenericStatusWindowController","open","pay_stub_transfer","pay_stub_close","pay_stub_transfer_grid","openWizardController","e","stepsDataDic","addClass","removeClass","pay_stub_transaction_grid","pay_stub_transaction","trigger","setGridAutoHeight","showNoResultCover","parents","show","getPayPeriodTransactionSummary","removeNoResultCover","setData","source_data","args","filter_columns","start_date","end_date","transaction_date","pending_requests","getPayPeriod","pending_request","setGridSelection","exceptions_high","exceptions_medium","exceptions_low","exceptions_critical","verified_timesheets","pending_timesheets","total_timesheets","timesheet","status","ps_amendments","pay_stubs_open","prop","resolve","current_step_data","setValue","content","default_data"],"mappings":"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","file":"wizard-process_payroll-ProcessPayrollWizardController.bundle.js?v=23f1e3c1da3d460f0afb","sourcesContent":["export class ProcessPayrollWizardController extends BaseWizardController {\n\tconstructor( options = {} ) {\n\t\t_.defaults( options, {\n\t\t\tel: '.wizard-bg',\n\n\t\t\tall_columns: null,\n\t\t\tpay_stub_transaction_columns: null,\n\n\t\t\tapi_pay_period: null,\n\t\t\tapi_pay_stub: null,\n\n\t\t\tapi_pay_stub_transaction: null,\n\n\t\t\talert_message: $.i18n._( 'Please select one or more pay periods in the list above to enable icons.' ),\n\n\t\t\ttransaction_source_data: null\n\t\t} );\n\n\t\tsuper( options );\n\t}\n\n\tinit( options ) {\n\t\t//this._super('initialize', options );\n\n\t\tthis.title = $.i18n._( 'Payroll Processing Wizard' );\n\t\tthis.steps = 9;\n\t\tthis.current_step = 1;\n\t\tthis.script_name = 'wizard_process_payroll';\n\t\tthis.wizard_id = 'ProcessPayrollWizard';\n\t\tthis.api_pay_period = TTAPI.APIPayPeriod;\n\t\tthis.api_pay_stub = TTAPI.APIPayStub;\n\t\tthis.api_pay_stub_transaction = TTAPI.APIPayStubTransaction;\n\n\t\tthis.render();\n\t}\n\n\trender() {\n\t\tsuper.render();\n\n\t\tthis.initUserGenericData();\n\t}\n\n\tsetButtonsStatus() {\n\n\t\tGlobal.setWidgetEnabled( this.done_btn, false );\n\t\tGlobal.setWidgetEnabled( this.close_btn, true );\n\n\t\tif ( this.current_step === 1 ) {\n\t\t\tGlobal.setWidgetEnabled( this.back_btn, false );\n\t\t} else {\n\t\t\tGlobal.setWidgetEnabled( this.back_btn, true );\n\t\t}\n\n\t\tif ( this.current_step !== this.steps ) {\n\t\t\tGlobal.setWidgetEnabled( this.done_btn, false );\n\t\t\tGlobal.setWidgetEnabled( this.next_btn, true );\n\t\t\t//Error: TypeError: this.stepsWidgetDic[1] is undefined in interface/html5/framework/jquery.min.js?v=9.0.0-20150918-155419 line 2 > eval line 45\n\t\t\tif ( this.stepsWidgetDic[1] && ( !this.stepsWidgetDic[1].pay_period_id.getValue() || this.stepsWidgetDic[1].pay_period_id.getValue().length < 1 ) ) {\n\t\t\t\tGlobal.setWidgetEnabled( this.next_btn, false );\n\t\t\t}\n\t\t} else {\n\t\t\tGlobal.setWidgetEnabled( this.done_btn, true );\n\t\t\tGlobal.setWidgetEnabled( this.next_btn, false );\n\t\t}\n\t}\n\n\t//Create each page UI\n\tbuildCurrentStepUI() {\n\n\t\tvar $this = this;\n\t\tthis.content_div.empty();\n\t\tswitch ( this.current_step ) {\n\t\t\tcase 1:\n\n\t\t\t\tvar label = this.getLabel();\n\t\t\t\tlabel.text( $.i18n._( 'Select one or more pay periods to process payroll for' ) + ':' );\n\t\t\t\tvar a_combobox = this.getAComboBox( TTAPI.APIPayPeriod, true, 'global_Pay_period', 'pay_period_id' );\n\t\t\t\tvar div = $( '<div class=\\'wizard-acombobox-div\\'></div>' );\n\t\t\t\tdiv.append( a_combobox );\n\n\t\t\t\ta_combobox.unbind( 'formItemChange' ).bind( 'formItemChange', function() {\n\t\t\t\t\t$this.setButtonsStatus();\n\t\t\t\t} );\n\n\t\t\t\tthis.stepsWidgetDic[this.current_step] = {};\n\t\t\t\tthis.stepsWidgetDic[this.current_step][a_combobox.getField()] = a_combobox;\n\n\t\t\t\tthis.content_div.append( label );\n\t\t\t\tthis.content_div.append( div );\n\t\t\t\tbreak;\n\t\t\tcase 2:\n\t\t\t\tlabel = this.getLabel();\n\t\t\t\tlabel.text( $.i18n._( 'Confirm all requests are authorized' ) + ':' );\n\n\t\t\t\tthis.content_div.append( label );\n\t\t\t\tthis.stepsWidgetDic[this.current_step] = {};\n\n\t\t\t\tvar grid_id = 'pending_request';\n\t\t\t\tvar grid_div = $( '<div class=\\'grid-div wizard-grid-div\\'> <table id=\\'' + grid_id + '\\'></table></div>' );\n\t\t\t\tthis.setGrid( grid_id, grid_div, true );\n\n\t\t\t\tvar ribbon_button_box = this.getRibbonButtonBox();\n\t\t\t\tvar request_button = this.getRibbonButton( ContextMenuIconName.request, Global.getRibbonIconRealPath( Icons.request ), $.i18n._( 'Requests' ) );\n\n\t\t\t\trequest_button.unbind( 'click' ).bind( 'click', function() {\n\n\t\t\t\t\t$this.onNavigationClick( ContextMenuIconName.request );\n\t\t\t\t} );\n\n\t\t\t\tribbon_button_box.children().eq( 0 ).append( request_button );\n\t\t\t\tthis.content_div.append( ribbon_button_box );\n\n\t\t\t\tbreak;\n\t\t\tcase 3:\n\t\t\t\tlabel = this.getLabel();\n\t\t\t\tlabel.text( $.i18n._( 'Confirm that no critical exceptions exist' ) + ':' );\n\n\t\t\t\tthis.content_div.append( label );\n\t\t\t\tthis.stepsWidgetDic[this.current_step] = {};\n\n\t\t\t\tgrid_id = 'exceptions';\n\t\t\t\tgrid_div = $( '<div class=\\'grid-div wizard-grid-div\\'> <table id=\\'' + grid_id + '\\'></table></div>' );\n\t\t\t\tthis.setGrid( grid_id, grid_div, true );\n\n\t\t\t\tribbon_button_box = this.getRibbonButtonBox();\n\t\t\t\tvar ribbon_btn = this.getRibbonButton( ContextMenuIconName.exceptions, Global.getRibbonIconRealPath( Icons.exceptions ), $.i18n._( 'Exceptions' ) );\n\n\t\t\t\tribbon_btn.unbind( 'click' ).bind( 'click', function() {\n\t\t\t\t\t$this.onNavigationClick( ContextMenuIconName.exceptions );\n\t\t\t\t} );\n\n\t\t\t\tribbon_button_box.children().eq( 0 ).append( ribbon_btn );\n\t\t\t\tthis.content_div.append( ribbon_button_box );\n\t\t\t\tbreak;\n\t\t\tcase 4:\n\t\t\t\tlabel = this.getLabel();\n\t\t\t\tlabel.text( $.i18n._( 'Confirm timesheets are verified' ) + ':' );\n\n\t\t\t\tthis.content_div.append( label );\n\t\t\t\tthis.stepsWidgetDic[this.current_step] = {};\n\n\t\t\t\tgrid_id = 'timesheet';\n\t\t\t\tgrid_div = $( '<div class=\\'grid-div wizard-grid-div\\'> <table id=\\'' + grid_id + '\\'></table></div>' );\n\t\t\t\tthis.setGrid( grid_id, grid_div, true );\n\n\t\t\t\tribbon_button_box = this.getRibbonButtonBox();\n\t\t\t\tribbon_btn = this.getRibbonButton( ContextMenuIconName.timesheet_reports, Global.getRibbonIconRealPath( Icons.timesheet_reports ), $.i18n._( 'TimeSheet<br>Summary' ) );\n\t\t\t\tvar ribbon_btn2 = this.getRibbonButton( ContextMenuIconName.authorization_timesheet, Global.getRibbonIconRealPath( Icons.authorization_timesheet ), $.i18n._( 'TimeSheet<br>Authorizations' ) );\n\n\t\t\t\tribbon_btn.unbind( 'click' ).bind( 'click', function() {\n\t\t\t\t\t$this.onNavigationClick( ContextMenuIconName.timesheet_reports );\n\t\t\t\t} );\n\n\t\t\t\tribbon_btn2.unbind( 'click' ).bind( 'click', function() {\n\t\t\t\t\t$this.onNavigationClick( ContextMenuIconName.authorization_timesheet );\n\t\t\t\t} );\n\n\t\t\t\tribbon_button_box.children().eq( 0 ).append( ribbon_btn );\n\t\t\t\tribbon_button_box.children().eq( 0 ).append( ribbon_btn2 );\n\t\t\t\tthis.content_div.append( ribbon_button_box );\n\t\t\t\tbreak;\n\t\t\tcase 5:\n\t\t\t\tlabel = this.getLabel();\n\t\t\t\tlabel.text( $.i18n._( 'Lock pay periods to prevent changes' ) + ':' );\n\n\t\t\t\tthis.content_div.append( label );\n\t\t\t\tthis.stepsWidgetDic[this.current_step] = {};\n\n\t\t\t\tgrid_id = 'lock_pay_period';\n\t\t\t\tgrid_div = $( '<div class=\\'grid-div wizard-grid-div\\'> <table id=\\'' + grid_id + '\\'></table></div>' );\n\t\t\t\tthis.setGrid( grid_id, grid_div, true );\n\n\t\t\t\tribbon_button_box = this.getRibbonButtonBox();\n\t\t\t\tribbon_btn = this.getRibbonButton( ContextMenuIconName.lock, Global.getRibbonIconRealPath( Icons.lock ), $.i18n._( 'Lock' ) );\n\t\t\t\tribbon_btn2 = this.getRibbonButton( ContextMenuIconName.unlock, Global.getRibbonIconRealPath( Icons.unlock ), $.i18n._( 'UnLock' ) );\n\n\t\t\t\tribbon_btn.unbind( 'click' ).bind( 'click', function() {\n\t\t\t\t\tif ( $( this ).hasClass( 'disable-image' ) ) {\n\t\t\t\t\t\tTAlertManager.showAlert( $this.alert_message );\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\t$this.onNavigationClick( ContextMenuIconName.lock );\n\t\t\t\t} );\n\n\t\t\t\tribbon_btn2.unbind( 'click' ).bind( 'click', function() {\n\t\t\t\t\tif ( $( this ).hasClass( 'disable-image' ) ) {\n\t\t\t\t\t\tTAlertManager.showAlert( $this.alert_message );\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\t$this.onNavigationClick( ContextMenuIconName.unlock );\n\t\t\t\t} );\n\n\t\t\t\tthis.stepsWidgetDic[this.current_step].lock = ribbon_btn;\n\t\t\t\tthis.stepsWidgetDic[this.current_step].unlock = ribbon_btn2;\n\n\t\t\t\tribbon_button_box.children().eq( 0 ).append( ribbon_btn );\n\t\t\t\tribbon_button_box.children().eq( 0 ).append( ribbon_btn2 );\n\t\t\t\tthis.content_div.append( ribbon_button_box );\n\t\t\t\tbreak;\n\t\t\tcase 6:\n\t\t\t\tlabel = this.getLabel();\n\t\t\t\tlabel.text( $.i18n._( 'Create any necessary pay stub amendments' ) + ':' );\n\n\t\t\t\tthis.content_div.append( label );\n\t\t\t\tthis.stepsWidgetDic[this.current_step] = {};\n\n\t\t\t\tgrid_id = 'pay_stub_amendments';\n\t\t\t\tgrid_div = $( '<div class=\\'grid-div wizard-grid-div\\'> <table id=\\'' + grid_id + '\\'></table></div>' );\n\t\t\t\tthis.setGrid( grid_id, grid_div, true );\n\n\t\t\t\tribbon_button_box = this.getRibbonButtonBox();\n\t\t\t\tribbon_btn = this.getRibbonButton( ContextMenuIconName.pay_stub_amendment, Global.getRibbonIconRealPath( Icons.pay_stub_amendment ), $.i18n._( 'Pay Stub<br>Amendments' ) );\n\n\t\t\t\tribbon_btn.unbind( 'click' ).bind( 'click', function() {\n\t\t\t\t\t$this.onNavigationClick( ContextMenuIconName.pay_stub_amendment );\n\t\t\t\t} );\n\n\t\t\t\tribbon_button_box.children().eq( 0 ).append( ribbon_btn );\n\t\t\t\tthis.content_div.append( ribbon_button_box );\n\t\t\t\tbreak;\n\t\t\tcase 7:\n\t\t\t\tlabel = this.getLabel();\n\t\t\t\tlabel.text( $.i18n._( 'Generate pay stubs' ) + ':' );\n\n\t\t\t\tthis.content_div.append( label );\n\t\t\t\tthis.stepsWidgetDic[this.current_step] = {};\n\n\t\t\t\tgrid_id = 'pay_stub_generate';\n\t\t\t\tgrid_div = $( '<div class=\\'grid-div wizard-grid-div\\'> <table id=\\'' + grid_id + '\\'></table></div>' );\n\t\t\t\tthis.setGrid( grid_id, grid_div, true );\n\n\t\t\t\tribbon_button_box = this.getRibbonButtonBox();\n\t\t\t\tribbon_btn = this.getRibbonButton( ContextMenuIconName.generate_pay_stub, Global.getRibbonIconRealPath( Icons.re_cal_pay_stub ), $.i18n._( 'Generate<br>Pay Stubs' ) );\n\t\t\t\tribbon_btn2 = this.getRibbonButton( ContextMenuIconName.pay_stub, Global.getRibbonIconRealPath( Icons.pay_stubs ), $.i18n._( 'Pay<br>Stubs' ) );\n\t\t\t\tvar ribbon_btn3 = this.getRibbonButton( ContextMenuIconName.pay_stub_summary, Global.getRibbonIconRealPath( Icons.pay_stub_account ), $.i18n._( 'Pay Stub<br>Summary' ) );\n\n\t\t\t\tribbon_btn.unbind( 'click' ).bind( 'click', function() {\n\t\t\t\t\tif ( $( this ).hasClass( 'disable-image' ) ) {\n\t\t\t\t\t\tTAlertManager.showAlert( $this.alert_message );\n\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\t$this.onNavigationClick( ContextMenuIconName.generate_pay_stub );\n\t\t\t\t} );\n\n\t\t\t\tribbon_btn2.unbind( 'click' ).bind( 'click', function() {\n\t\t\t\t\t$this.onNavigationClick( ContextMenuIconName.pay_stub );\n\t\t\t\t} );\n\n\t\t\t\tribbon_btn3.unbind( 'click' ).bind( 'click', function() {\n\t\t\t\t\t$this.onNavigationClick( ContextMenuIconName.pay_stub_summary );\n\t\t\t\t} );\n\n\t\t\t\tthis.stepsWidgetDic[this.current_step].generate_pay_stub = ribbon_btn;\n\n\t\t\t\tribbon_button_box.children().eq( 0 ).append( ribbon_btn );\n\t\t\t\tribbon_button_box.children().eq( 0 ).append( ribbon_btn2 );\n\t\t\t\tribbon_button_box.children().eq( 0 ).append( ribbon_btn3 );\n\n\t\t\t\tthis.content_div.append( ribbon_button_box );\n\t\t\t\tbreak;\n\t\t\tcase 8:\n\t\t\t\tlabel = this.getLabel();\n\t\t\t\tlabel.text( $.i18n._( 'Process transactions' ) + ':' );\n\n\t\t\t\tthis.content_div.append( label );\n\t\t\t\tthis.stepsWidgetDic[this.current_step] = {};\n\n\t\t\t\t$( '.wizard .content' ).css( 'opacity', 0 );\n\t\t\t\tTTPromise.add( 'wizard', 'step8' );\n\t\t\t\tTTPromise.wait( 'wizard', 'step8', function() {\n\t\t\t\t\t$( '.wizard .content' ).css( 'opacity', 1 );\n\t\t\t\t} );\n\n\t\t\t\tgrid_id = 'pay_stub_transfer';\n\t\t\t\tgrid_div = $( '<div class=\\'grid-div wizard-grid-div\\'> <table id=\\'' + grid_id + '\\'></table></div> <hr>' );\n\t\t\t\tthis.setGrid( grid_id, grid_div, true );\n\n\t\t\t\tgrid_id = 'pay_stub_transaction';\n\t\t\t\tgrid_div = $( '<div class=\\'grid-div wizard-grid-div\\'> <table id=\\'' + grid_id + '\\'></table></div>' );\n\t\t\t\tthis.setGrid( grid_id, grid_div, false ).setGridHeight( Math.floor( ( this.content_div.height() - 150 ) / 2 ) );\n\n\t\t\t\tribbon_button_box = this.getRibbonButtonBox();\n\t\t\t\tvar ribbon_btn1 = this.getRibbonButton( ContextMenuIconName.direct_deposit, Global.getRibbonIconRealPath( 'direct_deposit-35x35.png' ), $.i18n._( 'Process<br>Transactions' ) );\n\t\t\t\tribbon_btn2 = this.getRibbonButton( ContextMenuIconName.pay_stub_transaction_summary, Global.getRibbonIconRealPath( Icons.payroll_export_report ), $.i18n._( 'Pay Stub<br>Transaction Summary' ) );\n\t\t\t\tribbon_btn3 = this.getRibbonButton( ContextMenuIconName.payroll_export_report, Global.getRibbonIconRealPath( Icons.payroll_export_report ), $.i18n._( 'Payroll Export' ) );\n\n\t\t\t\tribbon_btn1.unbind( 'click' ).bind( 'click', function() {\n\t\t\t\t\t$this.onNavigationClick( ContextMenuIconName.direct_deposit );\n\t\t\t\t} );\n\n\t\t\t\tribbon_btn2.unbind( 'click' ).bind( 'click', function() {\n\t\t\t\t\t$this.onNavigationClick( ContextMenuIconName.pay_stub_transaction_summary );\n\t\t\t\t} );\n\t\t\t\tribbon_btn3.unbind( 'click' ).bind( 'click', function() {\n\t\t\t\t\t$this.onNavigationClick( ContextMenuIconName.payroll_export_report );\n\t\t\t\t} );\n\n\t\t\t\t//this is the display order for buttons on step 8\n\t\t\t\tribbon_button_box.children().eq( 0 ).append( ribbon_btn1 );\n\t\t\t\tribbon_button_box.children().eq( 0 ).append( ribbon_btn2 );\n\t\t\t\tribbon_button_box.children().eq( 0 ).append( ribbon_btn3 );\n\n\t\t\t\tthis.content_div.append( ribbon_button_box );\n\t\t\t\tbreak;\n\t\t\tcase 9:\n\t\t\t\tlabel = this.getLabel();\n\t\t\t\tlabel.text( $.i18n._( 'Close pay period' ) + ':' );\n\n\t\t\t\tthis.content_div.append( label );\n\t\t\t\tthis.stepsWidgetDic[this.current_step] = {};\n\n\t\t\t\tgrid_id = 'pay_stub_close';\n\t\t\t\tgrid_div = $( '<div class=\\'grid-div wizard-grid-div\\'> <table id=\\'' + grid_id + '\\'></table></div>' );\n\t\t\t\tthis.setGrid( grid_id, grid_div, true );\n\n\t\t\t\tribbon_button_box = this.getRibbonButtonBox();\n\t\t\t\tribbon_btn = this.getRibbonButton( ContextMenuIconName.close_pay_period, Global.getRibbonIconRealPath( Icons.close_pay_period ), $.i18n._( 'Close' ) );\n\n\t\t\t\tribbon_btn.unbind( 'click' ).bind( 'click', function() {\n\t\t\t\t\tif ( $( this ).hasClass( 'disable-image' ) ) {\n\t\t\t\t\t\tTAlertManager.showAlert( $this.alert_message );\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\t$this.onNavigationClick( ContextMenuIconName.close_pay_period );\n\t\t\t\t} );\n\n\t\t\t\tthis.stepsWidgetDic[this.current_step].close = ribbon_btn;\n\n\t\t\t\tribbon_button_box.children().eq( 0 ).append( ribbon_btn );\n\n\t\t\t\tthis.content_div.append( ribbon_button_box );\n\t\t\t\tbreak;\n\n\t\t}\n\t}\n\n\tonNextClick() {\n\t\tthis.saveCurrentStep();\n\n\t\tif ( this.current_step === 1 ) {\n\t\t\tvar current_step_ui = this.stepsWidgetDic[this.current_step];\n\t\t\tvar pay_period_id = current_step_ui.pay_period_id.getValue();\n\t\t\tif ( !pay_period_id || pay_period_id.length == 0 || ( pay_period_id == TTUUID.zero_id ) || ( pay_period_id.length == 1 && pay_period_id[0] == TTUUID.zero_id ) ) {\n\t\t\t\tTAlertManager.showAlert( $.i18n._( 'Please choose a Pay Period' ) );\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\n\t\tthis.current_step = this.current_step + 1;\n\t\tthis.initCurrentStep();\n\t}\n\n\tonDoneClick() {\n\t\tthis.cleanStepsData();\n\t\tLocalCacheData.current_open_wizard_controller = null;\n\t\tthis.saveAllStepsToUserGenericData( function() {\n\n\t\t} );\n\n\t\tif ( this.call_back ) {\n\t\t\tthis.call_back();\n\t\t}\n\n\t\t$( this.el ).remove();\n\n\t\t$().TFeedback( {\n\t\t\tsource: this.wizard_id\n\t\t} );\n\t}\n\n\tgetGridColumns( gridId, callBack ) {\n\n\t\tvar $this = this;\n\n\t\tif ( gridId == 'pay_stub_transaction' ) {\n\t\t\tvar result = this.api_pay_stub_transaction.getOptions( 'columns', { 'payroll_wizard': true }, { async: false } );\n\n\t\t\tvar column_info_array = [];\n\t\t\tvar result_data = result.getResult();\n\t\t\t$this.pay_stub_transaction_columns = Global.buildColumnArray( result_data );\n\n\t\t\tfor ( var x in $this.pay_stub_transaction_columns ) {\n\n\t\t\t\tvar column_data = $this.pay_stub_transaction_columns[x];\n\n\t\t\t\tif ( column_data.value == 'remittance_source_account' ||\n\t\t\t\t\tcolumn_data.value == 'remittance_source_account_type' ||\n\t\t\t\t\tcolumn_data.value == 'currency' ||\n\t\t\t\t\tcolumn_data.value == 'total_transactions' ||\n\t\t\t\t\tcolumn_data.value == 'total_amount' ) {\n\t\t\t\t\tvar column_info = {\n\t\t\t\t\t\tresizable: false,\n\t\t\t\t\t\tname: column_data.value,\n\t\t\t\t\t\tindex: column_data.value,\n\t\t\t\t\t\tlabel: column_data.label,\n\t\t\t\t\t\twidth: 100,\n\t\t\t\t\t\tsortable: false,\n\t\t\t\t\t\ttitle: false\n\t\t\t\t\t};\n\t\t\t\t\tcolumn_info_array.push( column_info );\n\t\t\t\t}\n\t\t\t}\n\t\t\tcallBack( column_info_array );\n\t\t\treturn;\n\t\t}\n\n\t\tif ( this.all_columns ) {\n\t\t\tdoNext();\n\t\t} else {\n\t\t\tvar result = this.api_pay_period.getOptions( 'columns', { async: false } );\n\t\t\tvar result_data = result.getResult();\n\t\t\t$this.all_columns = Global.buildColumnArray( result_data );\n\t\t\tdoNext();\n\t\t}\n\n\t\tfunction doNext() {\n\n\t\t\tvar len = $this.all_columns.length;\n\t\t\tvar column_info_array = [];\n\n\t\t\tswitch ( gridId ) {\n\t\t\t\tcase 'pending_request':\n\n\t\t\t\t\tfor ( var i = 0; i < len; i++ ) {\n\t\t\t\t\t\tvar column_data = $this.all_columns[i];\n\n\t\t\t\t\t\tif ( column_data.value == 'start_date' ||\n\t\t\t\t\t\t\tcolumn_data.value == 'end_date' ||\n\t\t\t\t\t\t\tcolumn_data.value == 'transaction_date' ||\n\t\t\t\t\t\t\tcolumn_data.value == 'pending_requests' ) {\n\t\t\t\t\t\t\tvar column_info = {\n\t\t\t\t\t\t\t\tresizable: false,\n\t\t\t\t\t\t\t\tname: column_data.value,\n\t\t\t\t\t\t\t\tindex: column_data.value,\n\t\t\t\t\t\t\t\tlabel: column_data.label,\n\t\t\t\t\t\t\t\twidth: 100,\n\t\t\t\t\t\t\t\tsortable: false,\n\t\t\t\t\t\t\t\ttitle: false\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\tcolumn_info_array.push( column_info );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'exceptions':\n\n\t\t\t\t\tfor ( var i = 0; i < len; i++ ) {\n\t\t\t\t\t\tcolumn_data = $this.all_columns[i];\n\n\t\t\t\t\t\tif ( column_data.value == 'start_date' ||\n\t\t\t\t\t\t\tcolumn_data.value == 'end_date' ||\n\t\t\t\t\t\t\tcolumn_data.value == 'transaction_date' ||\n\t\t\t\t\t\t\tcolumn_data.value == 'exceptions_high' ||\n\t\t\t\t\t\t\tcolumn_data.value == 'exceptions_medium' ||\n\t\t\t\t\t\t\tcolumn_data.value == 'exceptions_low' ||\n\t\t\t\t\t\t\tcolumn_data.value == 'exceptions_critical'\n\t\t\t\t\t\t) {\n\n\t\t\t\t\t\t\tif ( column_data.value == 'exceptions_high' ||\n\t\t\t\t\t\t\t\tcolumn_data.value == 'exceptions_medium' ||\n\t\t\t\t\t\t\t\tcolumn_data.value == 'exceptions_low' ||\n\t\t\t\t\t\t\t\tcolumn_data.value == 'exceptions_critical' ) {\n\n\t\t\t\t\t\t\t\tcolumn_info = {\n\t\t\t\t\t\t\t\t\tresizable: false,\n\t\t\t\t\t\t\t\t\tname: column_data.value,\n\t\t\t\t\t\t\t\t\tindex: column_data.value,\n\t\t\t\t\t\t\t\t\tlabel: column_data.label,\n\t\t\t\t\t\t\t\t\twidth: 50,\n\t\t\t\t\t\t\t\t\tsortable: false,\n\t\t\t\t\t\t\t\t\ttitle: false\n\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\tcolumn_info_array.push( column_info );\n\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tcolumn_info = {\n\t\t\t\t\t\t\t\t\tresizable: false,\n\t\t\t\t\t\t\t\t\tname: column_data.value,\n\t\t\t\t\t\t\t\t\tindex: column_data.value,\n\t\t\t\t\t\t\t\t\tlabel: column_data.label,\n\t\t\t\t\t\t\t\t\twidth: 100,\n\t\t\t\t\t\t\t\t\tsortable: false,\n\t\t\t\t\t\t\t\t\ttitle: false\n\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\tcolumn_info_array.push( column_info );\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'timesheet':\n\n\t\t\t\t\tfor ( var i = 0; i < len; i++ ) {\n\t\t\t\t\t\tcolumn_data = $this.all_columns[i];\n\n\t\t\t\t\t\tif ( column_data.value == 'start_date' ||\n\t\t\t\t\t\t\tcolumn_data.value == 'end_date' ||\n\t\t\t\t\t\t\tcolumn_data.value == 'transaction_date' ||\n\t\t\t\t\t\t\tcolumn_data.value == 'verified_timesheets' ||\n\t\t\t\t\t\t\tcolumn_data.value == 'pending_timesheets' ||\n\t\t\t\t\t\t\tcolumn_data.value == 'total_timesheets'\n\t\t\t\t\t\t) {\n\n\t\t\t\t\t\t\tif ( column_data.value == 'verified_timesheets' ||\n\t\t\t\t\t\t\t\tcolumn_data.value == 'pending_timesheets' ||\n\t\t\t\t\t\t\t\tcolumn_data.value == 'total_timesheets' ) {\n\n\t\t\t\t\t\t\t\tcolumn_info = {\n\t\t\t\t\t\t\t\t\tresizable: false,\n\t\t\t\t\t\t\t\t\tname: column_data.value,\n\t\t\t\t\t\t\t\t\tindex: column_data.value,\n\t\t\t\t\t\t\t\t\tlabel: column_data.label,\n\t\t\t\t\t\t\t\t\twidth: 50,\n\t\t\t\t\t\t\t\t\tsortable: false,\n\t\t\t\t\t\t\t\t\ttitle: false\n\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\tcolumn_info_array.push( column_info );\n\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tcolumn_info = {\n\t\t\t\t\t\t\t\t\tresizable: false,\n\t\t\t\t\t\t\t\t\tname: column_data.value,\n\t\t\t\t\t\t\t\t\tindex: column_data.value,\n\t\t\t\t\t\t\t\t\tlabel: column_data.label,\n\t\t\t\t\t\t\t\t\twidth: 100,\n\t\t\t\t\t\t\t\t\tsortable: false,\n\t\t\t\t\t\t\t\t\ttitle: false\n\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\tcolumn_info_array.push( column_info );\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'lock_pay_period':\n\t\t\t\t\tfor ( var i = 0; i < len; i++ ) {\n\t\t\t\t\t\tcolumn_data = $this.all_columns[i];\n\n\t\t\t\t\t\tif ( column_data.value == 'start_date' ||\n\t\t\t\t\t\t\tcolumn_data.value == 'end_date' ||\n\t\t\t\t\t\t\tcolumn_data.value == 'transaction_date' ||\n\t\t\t\t\t\t\tcolumn_data.value == 'status'\n\t\t\t\t\t\t) {\n\n\t\t\t\t\t\t\tcolumn_info = {\n\t\t\t\t\t\t\t\tresizable: false,\n\t\t\t\t\t\t\t\tname: column_data.value,\n\t\t\t\t\t\t\t\tindex: column_data.value,\n\t\t\t\t\t\t\t\tlabel: column_data.label,\n\t\t\t\t\t\t\t\twidth: 100,\n\t\t\t\t\t\t\t\tsortable: false,\n\t\t\t\t\t\t\t\ttitle: false\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\tcolumn_info_array.push( column_info );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'pay_stub_amendments':\n\t\t\t\t\tfor ( var i = 0; i < len; i++ ) {\n\t\t\t\t\t\tcolumn_data = $this.all_columns[i];\n\n\t\t\t\t\t\tif ( column_data.value == 'start_date' ||\n\t\t\t\t\t\t\tcolumn_data.value == 'end_date' ||\n\t\t\t\t\t\t\tcolumn_data.value == 'transaction_date' ||\n\t\t\t\t\t\t\tcolumn_data.value == 'ps_amendments'\n\t\t\t\t\t\t) {\n\n\t\t\t\t\t\t\tcolumn_info = {\n\t\t\t\t\t\t\t\tresizable: false,\n\t\t\t\t\t\t\t\tname: column_data.value,\n\t\t\t\t\t\t\t\tindex: column_data.value,\n\t\t\t\t\t\t\t\tlabel: column_data.label,\n\t\t\t\t\t\t\t\twidth: 100,\n\t\t\t\t\t\t\t\tsortable: false,\n\t\t\t\t\t\t\t\ttitle: false\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\tcolumn_info_array.push( column_info );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'pay_stub_generate':\n\t\t\t\tcase 'pay_stub_transfer':\n\t\t\t\t\tfor ( var i = 0; i < len; i++ ) {\n\t\t\t\t\t\tcolumn_data = $this.all_columns[i];\n\n\t\t\t\t\t\tif ( column_data.value == 'start_date' ||\n\t\t\t\t\t\t\tcolumn_data.value == 'end_date' ||\n\t\t\t\t\t\t\tcolumn_data.value == 'transaction_date' ||\n\t\t\t\t\t\t\tcolumn_data.value == 'pay_stubs_open'\n\t\t\t\t\t\t) {\n\n\t\t\t\t\t\t\tcolumn_info = {\n\t\t\t\t\t\t\t\tresizable: false,\n\t\t\t\t\t\t\t\tname: column_data.value,\n\t\t\t\t\t\t\t\tindex: column_data.value,\n\t\t\t\t\t\t\t\tlabel: column_data.label,\n\t\t\t\t\t\t\t\twidth: 100,\n\t\t\t\t\t\t\t\tsortable: false,\n\t\t\t\t\t\t\t\ttitle: false\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\tcolumn_info_array.push( column_info );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'pay_stub_close':\n\t\t\t\t\tfor ( var i = 0; i < len; i++ ) {\n\t\t\t\t\t\tcolumn_data = $this.all_columns[i];\n\n\t\t\t\t\t\tif ( column_data.value == 'status' ||\n\t\t\t\t\t\t\tcolumn_data.value == 'start_date' ||\n\t\t\t\t\t\t\tcolumn_data.value == 'end_date' ||\n\t\t\t\t\t\t\tcolumn_data.value == 'transaction_date' ||\n\t\t\t\t\t\t\tcolumn_data.value == 'pay_stubs_open'\n\t\t\t\t\t\t) {\n\n\t\t\t\t\t\t\tcolumn_info = {\n\t\t\t\t\t\t\t\tresizable: false,\n\t\t\t\t\t\t\t\tname: column_data.value,\n\t\t\t\t\t\t\t\tindex: column_data.value,\n\t\t\t\t\t\t\t\tlabel: column_data.label,\n\t\t\t\t\t\t\t\twidth: 100,\n\t\t\t\t\t\t\t\tsortable: false,\n\t\t\t\t\t\t\t\ttitle: false\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\tcolumn_info_array.push( column_info );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t\tcallBack( column_info_array );\n\t\t}\n\t}\n\n\tsetGridGroupColumns( gridId ) {\n\t\t//Short circuit this function if we aren't creating any spanning cells for exceptions/timesheets.\n\t\t//  As having \"group-column-tr\" without anything in it causes jqGrid to trigger JS exception: Uncaught TypeError: Cannot read property 'style' of undefined\n\t\t//  when running: $( '#contentContainer' ).trigger( 'resize' ) from the console.\n\t\tif ( gridId !== 'exceptions' && gridId !== 'timesheet' ) {\n\t\t\treturn;\n\t\t}\n\n\t\tvar table = $( $( this.el ).find( 'table[aria-labelledby=gbox_' + gridId + ']' )[0] );\n\n\t\tvar new_tr = $( '<tr class=\"group-column-tr\" >' + '</tr>' );\n\n\t\tvar new_th = $( '<th class=\"group-column-th\"  >' +\n\t\t\t'<span class=\"group-column-label\"></span>' +\n\t\t\t'</th>' );\n\n\t\tswitch ( gridId ) {\n\t\t\tcase 'exceptions':\n\t\t\t\tvar ths = table.children( 0 ).children( 0 ).children();\n\n\t\t\t\tvar default_th = new_th.clone();\n\t\t\t\tdefault_th.attr( 'colspan', '1' );\n\t\t\t\tdefault_th.width( ths.eq( 0 ).width() );\n\t\t\t\tnew_tr.append( default_th );\n\n\t\t\t\tdefault_th = new_th.clone();\n\t\t\t\tdefault_th.attr( 'colspan', '3' );\n\t\t\t\tdefault_th.width( ths.eq( 1 ).width() * 3 );\n\t\t\t\tnew_tr.append( default_th );\n\n\t\t\t\tdefault_th = new_th.clone();\n\t\t\t\tdefault_th.attr( 'colspan', '4' );\n\t\t\t\tdefault_th.width( ths.eq( 4 ).width() * 4 );\n\n\t\t\t\tdefault_th.children( 0 ).text( $.i18n._( 'Exceptions' ) );\n\n\t\t\t\tbreak;\n\t\t\tcase 'timesheet':\n\t\t\t\tths = table.children( 0 ).children( 0 ).children();\n\n\t\t\t\tdefault_th = new_th.clone();\n\t\t\t\tdefault_th.attr( 'colspan', '1' );\n\t\t\t\tdefault_th.width( ths.eq( 0 ).width() );\n\t\t\t\tnew_tr.append( default_th );\n\n\t\t\t\tdefault_th = new_th.clone();\n\t\t\t\tdefault_th.attr( 'colspan', '3' );\n\t\t\t\tdefault_th.width( ths.eq( 1 ).width() * 3 );\n\t\t\t\tnew_tr.append( default_th );\n\n\t\t\t\tdefault_th = new_th.clone();\n\n\t\t\t\tdefault_th.attr( 'colspan', '3' );\n\t\t\t\tdefault_th.width( ths.eq( 4 ).width() * 3 );\n\n\t\t\t\tdefault_th.children( 0 ).text( $.i18n._( 'Timesheets' ) );\n\t\t\t\tbreak;\n\t\t}\n\n\t\tnew_tr.append( default_th );\n\t\ttable.find( 'thead' ).prepend( new_tr );\n\t}\n\n\tonNavigationClick( iconName ) {\n\t\tvar $this = this;\n\t\tvar current_step_ui = this.stepsWidgetDic[this.current_step];\n\t\tvar grid;\n\t\tvar ids;\n\t\tvar data_array;\n\t\tvar filter;\n\t\tswitch ( iconName ) {\n\t\t\tcase ContextMenuIconName.exceptions:\n\t\t\t\tfilter = { filter_data: {} };\n\t\t\t\tgrid = current_step_ui.exceptions;\n\t\t\t\tids = grid.grid.jqGrid( 'getGridParam', 'selarrrow' );\n\n\t\t\t\tvar pay_period_ids = { value: ids };\n\t\t\t\tfilter.filter_data.pay_period_id = pay_period_ids;\n\n\t\t\t\tGlobal.addViewTab( this.wizard_id, $.i18n._( 'Process Payroll' ), window.location.href );\n\t\t\t\tthis.onCloseClick();\n\t\t\t\tIndexViewController.goToView( 'Exception', filter );\n\n\t\t\t\tbreak;\n\t\t\tcase ContextMenuIconName.request:\n\t\t\t\tGlobal.addViewTab( this.wizard_id, $.i18n._( 'Process Payroll' ), window.location.href );\n\n\t\t\t\tIndexViewController.goToView( 'Request' );\n\n\t\t\t\tthis.onCloseClick();\n\t\t\t\tbreak;\n\t\t\tcase ContextMenuIconName.timesheet_reports:\n\t\t\t\tGlobal.addViewTab( this.wizard_id, $.i18n._( 'Process Payroll' ), window.location.href );\n\t\t\t\tthis.onCloseClick();\n\n\t\t\t\tLocalCacheData.default_filter_for_next_open_view = { template: 'by_pay_period_by_employee+verified_time_sheet' };\n\n\t\t\t\tIndexViewController.openReport( LocalCacheData.current_open_primary_controller, 'TimesheetSummaryReport' );\n\n\t\t\t\tbreak;\n\t\t\tcase ContextMenuIconName.lock:\n\t\t\t\tgrid = current_step_ui.lock_pay_period;\n\t\t\t\tids = grid.grid.jqGrid( 'getGridParam', 'selarrrow' );\n\t\t\t\tdata_array = [];\n\t\t\t\tfor ( var i = 0; i < ids.length; i++ ) {\n\t\t\t\t\tvar data = {};\n\t\t\t\t\tdata.id = ids[i];\n\t\t\t\t\tdata.status_id = 12;\n\t\t\t\t\tdata_array.push( data );\n\t\t\t\t}\n\t\t\t\tProgressBar.showOverlay();\n\t\t\t\tthis.api_pay_period.setPayPeriod( data_array, {\n\t\t\t\t\tonResult: function( result ) {\n\t\t\t\t\t\tif ( result.isValid() ) {\n\t\t\t\t\t\t\t$this.buildCurrentStepData();\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tTAlertManager.showErrorAlert( result );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} );\n\t\t\t\tbreak;\n\t\t\tcase ContextMenuIconName.unlock:\n\t\t\t\tgrid = current_step_ui.lock_pay_period;\n\t\t\t\tids = grid.grid.jqGrid( 'getGridParam', 'selarrrow' );\n\t\t\t\tdata_array = [];\n\t\t\t\tfor ( var i = 0; i < ids.length; i++ ) {\n\t\t\t\t\tdata = {};\n\t\t\t\t\tdata.id = ids[i];\n\t\t\t\t\tdata.status_id = 10;\n\t\t\t\t\tdata_array.push( data );\n\t\t\t\t}\n\t\t\t\tProgressBar.showOverlay();\n\t\t\t\tthis.api_pay_period.setPayPeriod( data_array, {\n\t\t\t\t\tonResult: function( result ) {\n\t\t\t\t\t\tif ( result.isValid() ) {\n\t\t\t\t\t\t\t$this.buildCurrentStepData();\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tTAlertManager.showErrorAlert( result );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} );\n\t\t\t\tbreak;\n\t\t\tcase ContextMenuIconName.pay_stub_amendment:\n\n\t\t\t\tGlobal.addViewTab( this.wizard_id, $.i18n._( 'Process Payroll' ), window.location.href );\n\t\t\t\tthis.onCloseClick();\n\n\t\t\t\tgrid = current_step_ui.pay_stub_amendments;\n\t\t\t\tids = grid.grid.jqGrid( 'getGridParam', 'selarrrow' );\n\t\t\t\tfilter = { filter_data: { pay_period_id: { value: ids } } };\n\t\t\t\tIndexViewController.goToView( 'PayStubAmendment', filter );\n\t\t\t\tbreak;\n\t\t\tcase ContextMenuIconName.generate_pay_stub:\n\n\t\t\t\tgrid = current_step_ui.pay_stub_generate;\n\t\t\t\tids = grid.grid.jqGrid( 'getGridParam', 'selarrrow' );\n\t\t\t\tProgressBar.showOverlay();\n\n\t\t\t\tTTAPI.APIPayStub.setIsIdempotent( true ); //Force to idempotent API call to avoid duplicate network requests from causing errors displayed to the user.\n\t\t\t\tTTAPI.APIPayStub.generatePayStubs( ids, {\n\t\t\t\t\tonResult: function( result ) {\n\t\t\t\t\t\tif ( result.isValid() ) {\n\t\t\t\t\t\t\tvar user_generic_status_batch_id = result.getAttributeInAPIDetails( 'user_generic_status_batch_id' );\n\n\t\t\t\t\t\t\tif ( user_generic_status_batch_id && TTUUID.isUUID( user_generic_status_batch_id ) && user_generic_status_batch_id != TTUUID.zero_id && user_generic_status_batch_id != TTUUID.not_exist_id ) {\n\t\t\t\t\t\t\t\tUserGenericStatusWindowController.open( user_generic_status_batch_id, [], function() {\n\t\t\t\t\t\t\t\t\t$this.buildCurrentStepData();\n\t\t\t\t\t\t\t\t} );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tTAlertManager.showErrorAlert( result );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} );\n\n\t\t\t\tbreak;\n\t\t\tcase ContextMenuIconName.pay_stub:\n\n\t\t\t\tGlobal.addViewTab( this.wizard_id, $.i18n._( 'Process Payroll' ), window.location.href );\n\t\t\t\tthis.onCloseClick();\n\n\t\t\t\tif ( this.current_step === 7 ) {\n\t\t\t\t\tgrid = current_step_ui.pay_stub_generate;\n\t\t\t\t} else {\n\t\t\t\t\tgrid = current_step_ui.pay_stub_transfer;\n\t\t\t\t}\n\t\t\t\tids = grid.grid.jqGrid( 'getGridParam', 'selarrrow' );\n\t\t\t\tfilter = { filter_data: { pay_period_id: { value: ids } } };\n\t\t\t\tIndexViewController.goToView( 'PayStub', filter );\n\t\t\t\tbreak;\n\t\t\tcase ContextMenuIconName.pay_stub_summary:\n\t\t\t\tGlobal.addViewTab( this.wizard_id, $.i18n._( 'Process Payroll' ), window.location.href );\n\t\t\t\tthis.onCloseClick();\n\t\t\t\tIndexViewController.openReport( LocalCacheData.current_open_primary_controller, 'PayStubSummaryReport' );\n\n\t\t\t\tbreak;\n\t\t\tcase ContextMenuIconName.pay_stub_transaction_summary:\n\t\t\t\tGlobal.addViewTab( this.wizard_id, $.i18n._( 'Process Payroll' ), window.location.href );\n\t\t\t\tthis.onCloseClick();\n\t\t\t\tIndexViewController.openReport( LocalCacheData.current_open_primary_controller, 'PayStubTransactionSummaryReport' );\n\n\t\t\t\tbreak;\n\t\t\tcase ContextMenuIconName.payroll_export_report:\n\t\t\t\tGlobal.addViewTab( this.wizard_id, $.i18n._( 'Process Payroll' ), window.location.href );\n\t\t\t\tthis.onCloseClick();\n\t\t\t\tIndexViewController.openReport( LocalCacheData.current_open_primary_controller, 'PayrollExportReport' );\n\n\t\t\t\tbreak;\n\t\t\tcase ContextMenuIconName.close_pay_period:\n\t\t\t\tgrid = current_step_ui.pay_stub_close;\n\t\t\t\tids = grid.grid.jqGrid( 'getGridParam', 'selarrrow' );\n\t\t\t\tdata_array = [];\n\t\t\t\tfor ( var i = 0; i < ids.length; i++ ) {\n\t\t\t\t\tdata = {};\n\t\t\t\t\tdata.id = ids[i];\n\t\t\t\t\tdata.status_id = 20;\n\t\t\t\t\tdata_array.push( data );\n\t\t\t\t}\n\t\t\t\tProgressBar.showOverlay();\n\t\t\t\tthis.api_pay_period.setPayPeriod( data_array, {\n\t\t\t\t\tonResult: function( result ) {\n\t\t\t\t\t\tif ( result.isValid() ) {\n\t\t\t\t\t\t\t$this.buildCurrentStepData();\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tTAlertManager.showErrorAlert( result );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} );\n\t\t\t\tbreak;\n\t\t\tcase ContextMenuIconName.authorization_timesheet:\n\t\t\t\tGlobal.addViewTab( this.wizard_id, $.i18n._( 'Process Payroll' ), window.location.href );\n\t\t\t\tIndexViewController.goToView( 'TimeSheetAuthorization' );\n\t\t\t\tthis.onCloseClick();\n\t\t\t\tbreak;\n\n\t\t\t//Process Payments Button Click\n\t\t\tcase ContextMenuIconName.direct_deposit:\n\t\t\t\tGlobal.addViewTab( this.wizard_id, $.i18n._( 'Process Payroll' ), window.location.href );\n\n\t\t\t\tvar pay_stub_transfer_grid = current_step_ui.pay_stub_transfer;\n\t\t\t\tvar data = {\n\t\t\t\t\ttransaction_source_data: $this.transaction_source_data,\n\t\t\t\t\tfilter_data: {\n\t\t\t\t\t\tpay_period_id: pay_stub_transfer_grid.grid.jqGrid( 'getGridParam', 'selarrrow' )\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t\tIndexViewController.openWizardController( 'ProcessTransactionsWizardController', data );\n\t\t\t\tthis.onCloseClick();\n\t\t\t\tbreak;\n\t\t}\n\t}\n\n\tonGridSelectRow( e ) {\n\t\tvar current_step_data = this.stepsDataDic[this.current_step];\n\t\tvar current_step_ui = this.stepsWidgetDic[this.current_step];\n\t\tvar grid;\n\t\tvar ids;\n\n\t\tif ( this.current_step === 5 ) {\n\t\t\tgrid = current_step_ui.lock_pay_period;\n\t\t\tids = grid.grid.jqGrid( 'getGridParam', 'selarrrow' );\n\n\t\t\tif ( ids.length < 1 ) {\n\t\t\t\tcurrent_step_ui.lock.addClass( 'disable-image' );\n\t\t\t\tcurrent_step_ui.unlock.addClass( 'disable-image' );\n\t\t\t} else {\n\t\t\t\tcurrent_step_ui.lock.removeClass( 'disable-image' );\n\t\t\t\tcurrent_step_ui.unlock.removeClass( 'disable-image' );\n\t\t\t}\n\n\t\t} else if ( this.current_step === 7 ) {\n\t\t\tgrid = current_step_ui.pay_stub_generate;\n\t\t\tids = grid.grid.jqGrid( 'getGridParam', 'selarrrow' );\n\t\t\tif ( ids.length < 1 ) {\n\t\t\t\tcurrent_step_ui.generate_pay_stub.addClass( 'disable-image' );\n\t\t\t} else {\n\t\t\t\tcurrent_step_ui.generate_pay_stub.removeClass( 'disable-image' );\n\t\t\t}\n\t\t} else if ( this.current_step === 8 ) {\n\t\t\tvar pay_stub_transfer_grid = current_step_ui.pay_stub_transfer;\n\t\t\tvar pay_stub_transaction_grid = current_step_ui.pay_stub_transaction;\n\n\t\t\tvar pay_period_ids = pay_stub_transfer_grid.grid.jqGrid( 'getGridParam', 'selarrrow' );\n\t\t\tif ( pay_period_ids.length < 1 ) {\n\t\t\t\tthis.content_div.find( '#directDepositIcon' ).addClass( 'disable-image' );\n\n\t\t\t\tvar grid = current_step_ui.pay_stub_transaction;\n\t\t\t\tgrid.grid.trigger( 'reloadGrid' );\n\t\t\t\tthis.setGridAutoHeight( grid, this.transaction_source_data.length );\n\t\t\t\tthis.showNoResultCover( grid.grid.parents( '.grid-div' ) );\n\t\t\t\tpay_stub_transaction_grid.grid.show();\n\n\t\t\t} else {\n\t\t\t\tthis.content_div.find( '#directDepositIcon' ).removeClass( 'disable-image' );\n\t\t\t\tvar $this = this;\n\t\t\t\tvar grid = current_step_ui.pay_stub_transaction;\n\n\t\t\t\t// A similar call to this api function is in the Process Transactions Popup\n\t\t\t\tthis.api_pay_stub_transaction.getPayPeriodTransactionSummary( { pay_period_id: pay_period_ids }, {\n\t\t\t\t\tonResult: function( result ) {\n\t\t\t\t\t\t$this.transaction_source_data = result.getResult();\n\t\t\t\t\t\tif ( $this.transaction_source_data.length > 0 ) {\n\t\t\t\t\t\t\t$this.removeNoResultCover( grid.grid.parents( '.grid-div' ) );\n\n\t\t\t\t\t\t\tgrid.setData( $this.transaction_source_data );\n\t\t\t\t\t\t\t$this.setGridAutoHeight( grid, $this.transaction_source_data.length );\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t$this.showNoResultCover( grid );\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tpay_stub_transaction_grid.grid.show();\n\t\t\t\t\t}\n\t\t\t\t} );\n\t\t\t}\n\n\t\t} else if ( this.current_step === 9 ) {\n\t\t\tgrid = current_step_ui.pay_stub_close;\n\t\t\tids = grid.grid.jqGrid( 'getGridParam', 'selarrrow' );\n\t\t\tif ( ids.length < 1 ) {\n\t\t\t\tcurrent_step_ui.close.addClass( 'disable-image' );\n\t\t\t} else {\n\t\t\t\tcurrent_step_ui.close.removeClass( 'disable-image' );\n\t\t\t}\n\n\t\t}\n\t}\n\n\tsetGridAutoHeight( grid, length ) {\n\t\tif ( length > 0 && length < 10 ) {\n\t\t\tgrid.grid.setGridHeight( length * 23 );\n\t\t} else if ( length > 10 ) {\n\t\t\tgrid.grid.setGridHeight( 230 );\n\t\t}\n\t}\n\n\tbuildCurrentStepData() {\n\n\t\tif ( !this.stepsDataDic[1] ) {\n\t\t\treturn;\n\t\t}\n\n\t\tvar pay_period_id = this.stepsDataDic[1].pay_period_id;\n\n\t\tif ( !pay_period_id || pay_period_id.length == 0 ) {\n\t\t\tpay_period_id = [0];\n\t\t}\n\t\tvar args = {};\n\t\tvar grid;\n\t\tvar $this = this;\n\t\tvar source_data;\n\n\t\tvar current_step_ui = this.stepsWidgetDic[this.current_step];\n\n\t\tswitch ( this.current_step ) {\n\t\t\tcase 2:\n\t\t\t\targs.filter_columns = {};\n\t\t\t\targs.filter_columns.id = true;\n\t\t\t\targs.filter_columns.start_date = true;\n\t\t\t\targs.filter_columns.end_date = true;\n\t\t\t\targs.filter_columns.transaction_date = true;\n\t\t\t\targs.filter_columns.pending_requests = true;\n\t\t\t\targs.filter_data = {};\n\t\t\t\targs.filter_data.id = pay_period_id;\n\n\t\t\t\tthis.api_pay_period.getPayPeriod( args, true, {\n\t\t\t\t\tonResult: function( result ) {\n\t\t\t\t\t\tsource_data = result.getResult();\n\t\t\t\t\t\tgrid = current_step_ui.pending_request;\n\t\t\t\t\t\tgrid.setData( source_data );\n\n\t\t\t\t\t\t$this.setGridSelection( grid, source_data );\n\n\t\t\t\t\t\t$this.setGridAutoHeight( grid, source_data.length );\n\n\t\t\t\t\t}\n\t\t\t\t} );\n\t\t\t\tbreak;\n\t\t\tcase 3:\n\t\t\t\targs.filter_columns = {};\n\t\t\t\targs.filter_columns.id = true;\n\t\t\t\targs.filter_columns.start_date = true;\n\t\t\t\targs.filter_columns.end_date = true;\n\t\t\t\targs.filter_columns.transaction_date = true;\n\t\t\t\targs.filter_columns.exceptions_high = true;\n\t\t\t\targs.filter_columns.exceptions_medium = true;\n\t\t\t\targs.filter_columns.exceptions_low = true;\n\t\t\t\targs.filter_columns.exceptions_critical = true;\n\t\t\t\targs.filter_data = {};\n\t\t\t\targs.filter_data.id = pay_period_id;\n\n\t\t\t\tthis.api_pay_period.getPayPeriod( args, true, {\n\t\t\t\t\tonResult: function( result ) {\n\t\t\t\t\t\tsource_data = result.getResult();\n\t\t\t\t\t\tgrid = current_step_ui.exceptions;\n\t\t\t\t\t\tgrid.setData( source_data );\n\n\t\t\t\t\t\t$this.setGridSelection( grid, source_data );\n\t\t\t\t\t\t$this.setGridAutoHeight( grid, source_data.length );\n\n\t\t\t\t\t}\n\t\t\t\t} );\n\t\t\t\tbreak;\n\t\t\tcase 4:\n\t\t\t\targs.filter_columns = {};\n\t\t\t\targs.filter_columns.id = true;\n\t\t\t\targs.filter_columns.start_date = true;\n\t\t\t\targs.filter_columns.end_date = true;\n\t\t\t\targs.filter_columns.transaction_date = true;\n\t\t\t\targs.filter_columns.verified_timesheets = true;\n\t\t\t\targs.filter_columns.pending_timesheets = true;\n\t\t\t\targs.filter_columns.total_timesheets = true;\n\t\t\t\targs.filter_data = {};\n\t\t\t\targs.filter_data.id = pay_period_id;\n\n\t\t\t\tthis.api_pay_period.getPayPeriod( args, true, {\n\t\t\t\t\tonResult: function( result ) {\n\t\t\t\t\t\tsource_data = result.getResult();\n\t\t\t\t\t\tgrid = current_step_ui.timesheet;\n\t\t\t\t\t\tgrid.setData( source_data );\n\n\t\t\t\t\t\t$this.setGridSelection( grid, source_data );\n\n\t\t\t\t\t\t$this.setGridAutoHeight( grid, source_data.length );\n\n\t\t\t\t\t}\n\t\t\t\t} );\n\t\t\t\tbreak;\n\t\t\tcase 5:\n\t\t\t\targs.filter_columns = {};\n\t\t\t\targs.filter_columns.id = true;\n\t\t\t\targs.filter_columns.start_date = true;\n\t\t\t\targs.filter_columns.end_date = true;\n\t\t\t\targs.filter_columns.transaction_date = true;\n\t\t\t\targs.filter_columns.status = true;\n\t\t\t\targs.filter_data = {};\n\t\t\t\targs.filter_data.id = pay_period_id;\n\n\t\t\t\tthis.api_pay_period.getPayPeriod( args, true, {\n\t\t\t\t\tonResult: function( result ) {\n\t\t\t\t\t\tsource_data = result.getResult();\n\t\t\t\t\t\tgrid = current_step_ui.lock_pay_period;\n\t\t\t\t\t\tgrid.setData( source_data );\n\t\t\t\t\t\t$this.setGridSelection( grid, source_data );\n\n\t\t\t\t\t\t$this.setGridAutoHeight( grid, source_data.length );\n\n\t\t\t\t\t}\n\t\t\t\t} );\n\t\t\t\tbreak;\n\t\t\tcase 6:\n\t\t\t\targs.filter_columns = {};\n\t\t\t\targs.filter_columns.id = true;\n\t\t\t\targs.filter_columns.start_date = true;\n\t\t\t\targs.filter_columns.end_date = true;\n\t\t\t\targs.filter_columns.transaction_date = true;\n\t\t\t\targs.filter_columns.ps_amendments = true;\n\t\t\t\targs.filter_data = {};\n\t\t\t\targs.filter_data.id = pay_period_id;\n\n\t\t\t\tthis.api_pay_period.getPayPeriod( args, true, {\n\t\t\t\t\tonResult: function( result ) {\n\t\t\t\t\t\tsource_data = result.getResult();\n\t\t\t\t\t\tgrid = current_step_ui.pay_stub_amendments;\n\t\t\t\t\t\tgrid.setData( source_data );\n\n\t\t\t\t\t\t$this.setGridSelection( grid, source_data );\n\t\t\t\t\t\t$this.setGridAutoHeight( grid, source_data.length );\n\n\t\t\t\t\t}\n\t\t\t\t} );\n\t\t\t\tbreak;\n\t\t\tcase 7:\n\t\t\t\targs.filter_columns = {};\n\t\t\t\targs.filter_columns.id = true;\n\t\t\t\targs.filter_columns.start_date = true;\n\t\t\t\targs.filter_columns.end_date = true;\n\t\t\t\targs.filter_columns.transaction_date = true;\n\t\t\t\targs.filter_columns.pay_stubs_open = true;\n\t\t\t\targs.filter_data = {};\n\t\t\t\targs.filter_data.id = pay_period_id;\n\n\t\t\t\tthis.api_pay_period.getPayPeriod( args, true, {\n\t\t\t\t\tonResult: function( result ) {\n\t\t\t\t\t\tsource_data = result.getResult();\n\t\t\t\t\t\tgrid = current_step_ui.pay_stub_generate;\n\t\t\t\t\t\tgrid.setData( source_data );\n\n\t\t\t\t\t\t$this.setGridSelection( grid, source_data );\n\t\t\t\t\t\t$this.setGridAutoHeight( grid, source_data.length );\n\t\t\t\t\t}\n\t\t\t\t} );\n\t\t\t\tbreak;\n\t\t\tcase 8:\n\t\t\t\targs.filter_columns = {};\n\t\t\t\targs.filter_columns.id = true;\n\t\t\t\targs.filter_columns.start_date = true;\n\t\t\t\targs.filter_columns.end_date = true;\n\t\t\t\targs.filter_columns.transaction_date = true;\n\t\t\t\targs.filter_columns.pay_stubs_open = true;\n\t\t\t\targs.filter_data = {};\n\t\t\t\targs.filter_data.id = pay_period_id;\n\n\t\t\t\t//this if statement is only used for step 8 to prevent populating the transactions grid\n\t\t\t\tif ( TTUUID.isUUID( pay_period_id ) && pay_period_id != TTUUID.zero_id ) {\n\t\t\t\t\tthis.api_pay_period.getPayPeriod( args, true, {\n\t\t\t\t\t\tonResult: function( result ) {\n\t\t\t\t\t\t\tsource_data = result.getResult();\n\t\t\t\t\t\t\tgrid = current_step_ui.pay_stub_transfer;\n\t\t\t\t\t\t\tgrid.setData( source_data );\n\n\t\t\t\t\t\t\t$this.setGridSelection( grid, source_data );\n\t\t\t\t\t\t\t$this.setGridAutoHeight( grid, source_data.length );\n\n\t\t\t\t\t\t\tvar pay_period_ids = [];\n\t\t\t\t\t\t\tfor ( var i in source_data ) {\n\t\t\t\t\t\t\t\tpay_period_ids.push( source_data[i].id );\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t$this.api_pay_stub_transaction.getPayPeriodTransactionSummary( { pay_period_id: pay_period_ids }, {\n\t\t\t\t\t\t\t\tonResult: function( result ) {\n\t\t\t\t\t\t\t\t\t$this.transaction_source_data = result.getResult();\n\t\t\t\t\t\t\t\t\tgrid = current_step_ui.pay_stub_transaction;\n\t\t\t\t\t\t\t\t\tif ( typeof $this.transaction_source_data == 'object' && $this.transaction_source_data.length > 0 ) {\n\t\t\t\t\t\t\t\t\t\tgrid.setData( $this.transaction_source_data );\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\tgrid.setData( [] );\n\t\t\t\t\t\t\t\t\t\t$this.showNoResultCover( grid.grid.parents( '.grid-div' ) );\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t$this.setGridAutoHeight( grid, $this.transaction_source_data.length );\n\t\t\t\t\t\t\t\t\tgrid.grid.find( '.cbox' ).prop( 'checked', true );\n\n\t\t\t\t\t\t\t\t\tTTPromise.resolve( 'wizard', 'step8' );\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} );\n\n\t\t\t\t\t\t}\n\t\t\t\t\t} );\n\t\t\t\t}\n\n\t\t\t\tbreak;\n\t\t\tcase 9:\n\t\t\t\targs.filter_columns = {};\n\t\t\t\targs.filter_columns.id = true;\n\t\t\t\targs.filter_columns.status = true;\n\t\t\t\targs.filter_columns.start_date = true;\n\t\t\t\targs.filter_columns.end_date = true;\n\t\t\t\targs.filter_columns.transaction_date = true;\n\t\t\t\targs.filter_columns.pay_stubs_open = true;\n\t\t\t\targs.filter_data = {};\n\t\t\t\targs.filter_data.id = pay_period_id;\n\n\t\t\t\tthis.api_pay_period.getPayPeriod( args, true, {\n\t\t\t\t\tonResult: function( result ) {\n\t\t\t\t\t\tsource_data = result.getResult();\n\t\t\t\t\t\tgrid = current_step_ui.pay_stub_close;\n\t\t\t\t\t\tgrid.setData( source_data );\n\n\t\t\t\t\t\t$this.setGridSelection( grid, source_data );\n\t\t\t\t\t\t$this.setGridAutoHeight( grid, source_data.length );\n\n\t\t\t\t\t}\n\t\t\t\t} );\n\t\t\t\tbreak;\n\n\t\t}\n\t}\n\n\tsetCurrentStepValues() {\n\n\t\tif ( !this.stepsDataDic[this.current_step] ) {\n\t\t\treturn;\n\t\t} else {\n\t\t\tvar current_step_data = this.stepsDataDic[this.current_step];\n\t\t\tvar current_step_ui = this.stepsWidgetDic[this.current_step];\n\t\t}\n\n\t\tswitch ( this.current_step ) {\n\t\t\tcase 1:\n\t\t\t\tif ( current_step_data.pay_period_id ) {\n\t\t\t\t\tcurrent_step_ui.pay_period_id.setValue( current_step_data.pay_period_id );\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase 2:\n\t\t\t\tbreak;\n\t\t\tcase 3:\n\t\t\t\tbreak;\n\t\t}\n\t}\n\n\tsetGridSelection( grid, source_data ) {\n\t\tif ( source_data ) {\n\t\t\tfor ( var i = 0; i < source_data.length; i++ ) {\n\t\t\t\tvar content = source_data[i];\n\t\t\t\tgrid.grid.jqGrid( 'setSelection', content['id'], false );\n\t\t\t}\n\t\t}\n\t}\n\n\tsaveCurrentStep() {\n\t\tthis.stepsDataDic[this.current_step] = {};\n\t\tvar current_step_data = this.stepsDataDic[this.current_step];\n\t\tvar current_step_ui = this.stepsWidgetDic[this.current_step];\n\t\t//Error: TypeError: current_step_ui is undefined in /interface/html5/framework/jquery.min.js?v=8.0.0-20150126-115958 line 2 > eval line 989\n\t\tif ( !current_step_ui ) {\n\t\t\treturn;\n\t\t}\n\t\tswitch ( this.current_step ) {\n\t\t\tcase 1:\n\t\t\t\tcurrent_step_data.pay_period_id = current_step_ui.pay_period_id.getValue();\n\t\t\t\tbreak;\n\t\t\tcase 2:\n\t\t\t\tbreak;\n\t\t}\n\t}\n\n\tsetDefaultDataToSteps() {\n\n\t\tif ( !this.default_data ) {\n\t\t\treturn null;\n\t\t}\n\n//\t\t  this.stepsDataDic[2] = {};\n//\t\t  this.stepsDataDic[3] = {};\n//\n//\t\t  if ( this.getDefaultData( 'user_id' ) ) {\n//\t\t\t  this.stepsDataDic[3].user_id = this.getDefaultData( 'user_id' );\n//\t\t  }\n//\n//\t\t  if ( this.getDefaultData( 'pay_period_id' ) ) {\n//\t\t\t  this.stepsDataDic[2].pay_period_id = this.getDefaultData( 'pay_period_id' );\n//\t\t  }\n\t}\n\n}"],"sourceRoot":""}