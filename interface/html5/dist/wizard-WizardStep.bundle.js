(self.webpackChunktimetrex=self.webpackChunktimetrex||[]).push([["wizard-WizardStep"],{8880:(i,e,t)=>{"use strict";t.r(e),t.d(e,{"WizardStep":()=>s});var n=t(6739);class s extends n.TTBackboneView{constructor(i={}){_.defaults(i,{previous_step_name:null,next_step_name:null,buttons:null,wizard_obj:null,clicked_buttons:{},reload:!1,api:null,name:"undefined",title:$.i18n._("Undefined Step"),instructions:$.i18n._("Undefined step data")}),super(i)}initialize(i){super.initialize(i),this.buttons={},this.reload=!1,this.setWizardObject(i);this.init()}init(){this.render()}initCardsBlock(){$(this.wizard_obj.el).find("#cards").html("")}setTitle(i){$(this.wizard_obj.el).find(".title-1").html(i)}setInstructions(i,e){0==$(this.el).find(".instructions").length&&$(this.el).find(".progress-bar").append('<p class="instructions"></p>'),$(this.el).find(".progress-bar .instructions").html(i),"function"==typeof e&&e()}setWizardObject(i){this.wizard_obj=i,this.el=this.wizard_obj.el}getWizardObject(){return this.wizard_obj}setNextStepName(i){this.next_step_name=i}getNextStepName(){return!1}setPreviousStepName(i){this.previous_step_name=i}getPreviousStepName(){return!1}render(){return this.initCardsBlock(),this._render()}_render(){}append(i){$(this.wizard_obj.el).find(".content").append(i)}appendButton(i){$(this.wizard_obj.el).find("#cards").append(i)}setGrid(i,e,t){t||(t=!1),$("#"+i).remove(),this.append(e);var n=$("#"+i),s=this.getGridColumns(i),r=this;return n=new TTGrid(i,{onSelectRow:function(i){r.onGridSelectRow(i)},onSelectAll:function(i){for(var e in i)r.onGridSelectRow(i[e])},ondblClickRow:function(){r.onGridDblClickRow()},multiselect:!1,winMultiSelect:!1},s),this.setGridSize(n),this.setGridGroupColumns(i),n}getGridColumns(i,e){}setGridAutoHeight(i,e){e>0&&e<10?i.grid.setGridHeight(23*e):e>10&&i.grid.setGridHeight(400)}setGridSize(i){i.grid.setGridWidth($(this.wizard_obj.el).find(".content .grid-div").width()-11),i.grid.setGridHeight($(this.wizard_obj.el).find(".content").height()-150)}getRibbonButtonBox(){var i=$('<div class="menu ribbon-button-bar"></div>'),e=$("<ul></ul>");return i.append(e),i}getRibbonButton(i,e,t,n){if($("<img></img>")[0].src=e,void 0===n)return $('<li><div class="ribbon-sub-menu-icon" id="'+i+'"><img src="'+e+'" >'+t+"</div></li>");var s=$('<div class="wizard_icon_card" id="'+i+'"></div>'),r=$('<img src="'+e+'"></img>'),d=$('<div class="right_container"></div>'),a=$('<h3 class="button_title"></h3>');a.html(t||"");var o=$('<div class="description"></div>');return o.html(n||""),s.append(r),d.append(a),d.append(o),s.append(d),s}onGridSelectRow(i){}onGridDblClickRow(i){}onNavigationClick(i,e){i&&this.addButtonClick(i,e),ProgressBar.showOverlay(),1!=window.clickProcessing&&(window.clickProcessing=!0,window.clickProcessingHandle=window.setTimeout((function(){1==window.clickProcessing&&(window.clickProcessing=!1,ProgressBar.closeOverlay())}),1e3),this._onNavigationClick(e))}_onNavigationClick(i){}isRequiredButtonsClicked(){return!0}addButtonClick(i,e){var t=$(i.target);t.hasClass("wizard_icon_card")||(t=$(i.target).parents(".wizard_icon_card")),t.addClass("clicked_wizard_icon"),t.addClass("disable-image"),this.clicked_buttons[e]=!0}isButtonClicked(i){return!(!this.clicked_buttons.hasOwnProperty(i)||void 0===this.clicked_buttons[i])}addButton(i,e,t,n,s){void 0===s&&(s=i);var r=this.getRibbonButton(i,Global.getRibbonIconRealPath(e),t,n),d=this;return r.unbind("click").bind("click",(function(i){d.onNavigationClick(i,s)})),this.isButtonClicked(s)&&(r.addClass("clicked_wizard_icon"),r.addClass("disable-image")),this.buttons[e]=r,this.appendButton(r),r}setGridGroupColumns(i){}urlClick(i){this.api.getMakePaymentData(this.getWizardObject().selected_remittance_agency_event_id,i,{onResult:function(i){var e=i.getResult();window.open(e)}})}paymentServicesClick(i){this.api.getFileAndPayWithPaymentServicesData(this.getWizardObject().selected_remittance_agency_event_id,i,{onResult:function(i){var e=i.getResult();e.user_message&&""!=e.user_message?TAlertManager.showAlert(e.user_message):0==e&&TAlertManager.showAlert($.i18n._("ERROR! Something went wrong, please contact customer service immediately!"))}})}}}}]);
//# sourceMappingURL=wizard-WizardStep.bundle.js.map?v=a9fc7f865360adc7d8fd