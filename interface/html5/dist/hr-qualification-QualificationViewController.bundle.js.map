{"version":3,"sources":["webpack://timetrex/./interface/html5/views/hr/qualification/QualificationViewController.js"],"names":["QualificationViewController","BaseViewController","options","_","defaults","el","type_array","visibility_type_array","source_type_array","qualification_group_array","qualification_group_api","document_object_type_id","super","this","edit_view_tpl","permission_id","viewId","script_name","table_name_key","context_menu_name","$","i18n","navigation_label","api","TTAPI","APIQualification","APIQualificationGroup","render","buildContextMenu","initData","setSelectRibbonMenuIfNecessary","$this","initDropDownOption","getQualificationGroup","onResult","res","getResult","Global","buildTreeRecord","sub_view_mode","basic_search_field_ui_dic","setSourceData","buildEditViewUI","tab_model","setTabModel","navigation","AComboBox","api_class","id","allow_multiple_selection","layout_name","navigation_mode","show_search_inputs","setNavigation","tab_qualification_column1","edit_view_tab","find","edit_view_tabs","push","form_item_input","loadWidgetByName","FormItemType","TEXT_INPUT","TTextInput","field","width","addEditFieldToColumn","parent","COMBO_BOX","TComboBox","AWESOME_BOX","tree_mode","set_empty","TEXT_AREA","TTextArea","TAG_INPUT","TTagInput","object_type_id","buildSearchFields","search_fields","SearchField","label","in_column","multiple","basic_search","adv_search","form_item_type","APIUser"],"mappings":"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","file":"hr-qualification-QualificationViewController.bundle.js?v=9b051df861bf8c826b64","sourcesContent":["export class QualificationViewController extends BaseViewController {\n\tconstructor( options = {} ) {\n\t\t_.defaults( options, {\n\t\t\tel: '#qualification_view_container',\n\n\n\n\t\t\ttype_array: null,\n\t\t\tvisibility_type_array: null,\n\t\t\tsource_type_array: null,\n\t\t\tqualification_group_array: null,\n\n\t\t\tqualification_group_api: null,\n\n\t\t\tdocument_object_type_id: null\n\t\t} );\n\n\t\tsuper( options );\n\t}\n\n\tinit( options ) {\n\t\t//this._super('initialize', options );\n\t\tthis.edit_view_tpl = 'QualificationEditView.html';\n\t\tthis.permission_id = 'qualification';\n\t\tthis.viewId = 'Qualification';\n\t\tthis.script_name = 'QualificationView';\n\t\tthis.table_name_key = 'qualification';\n\t\tthis.context_menu_name = $.i18n._( 'Qualification' );\n\t\tthis.navigation_label = $.i18n._( 'Qualification' ) + ':';\n\t\tthis.api = TTAPI.APIQualification;\n\t\tthis.qualification_group_api = TTAPI.APIQualificationGroup;\n\t\tthis.document_object_type_id = 120;\n\t\tthis.render();\n\t\tthis.buildContextMenu();\n\n\t\tthis.initData();\n\t\tthis.setSelectRibbonMenuIfNecessary( 'Qualification' );\n\t}\n\n\tinitOptions() {\n\t\tvar $this = this;\n\n\t\tthis.initDropDownOption( 'type' );\n\t\tthis.initDropDownOption( 'visibility_type' );\n\t\tthis.initDropDownOption( 'source_type' );\n\n\t\tthis.qualification_group_api.getQualificationGroup( '', false, false, {\n\t\t\tonResult: function( res ) {\n\t\t\t\tres = res.getResult();\n\n\t\t\t\tres = Global.buildTreeRecord( res );\n\t\t\t\t$this.qualification_group_array = res;\n\t\t\t\tif ( !$this.sub_view_mode && $this.basic_search_field_ui_dic['group_id'] ) {\n\t\t\t\t\t$this.basic_search_field_ui_dic['group_id'].setSourceData( res );\n\t\t\t\t}\n\n\t\t\t}\n\t\t} );\n\t}\n\n\tbuildEditViewUI() {\n\n\t\tsuper.buildEditViewUI();\n\n\t\tvar $this = this;\n\n\t\tvar tab_model = {\n\t\t\t'tab_qualification': { 'label': $.i18n._( 'Qualification' ) },\n\t\t\t'tab_attachment': true,\n\t\t\t'tab_audit': true,\n\t\t};\n\t\tthis.setTabModel( tab_model );\n\n\t\tthis.navigation.AComboBox( {\n\t\t\tapi_class: TTAPI.APIQualification,\n\t\t\tid: this.script_name + '_navigation',\n\t\t\tallow_multiple_selection: false,\n\t\t\tlayout_name: 'global_qualification',\n\t\t\tnavigation_mode: true,\n\t\t\tshow_search_inputs: true\n\t\t} );\n\n\t\tthis.setNavigation();\n\n\t\t//Tab 0 start\n\n\t\tvar tab_qualification = this.edit_view_tab.find( '#tab_qualification' );\n\n\t\tvar tab_qualification_column1 = tab_qualification.find( '.first-column' );\n\n\t\tthis.edit_view_tabs[0] = [];\n\n\t\tthis.edit_view_tabs[0].push( tab_qualification_column1 );\n\n\t\t//Name\n\t\tvar form_item_input = Global.loadWidgetByName( FormItemType.TEXT_INPUT );\n\n\t\tform_item_input.TTextInput( { field: 'name', width: '100%' } );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Name' ), form_item_input, tab_qualification_column1, '' );\n\n\t\tform_item_input.parent().width( '45%' );\n\n\t\t//Type\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.COMBO_BOX );\n\t\tform_item_input.TComboBox( { field: 'type_id' } );\n\t\tform_item_input.setSourceData( $this.type_array );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Type' ), form_item_input, tab_qualification_column1 );\n\n\t\t//Group\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.AWESOME_BOX );\n\n\t\tform_item_input.AComboBox( {\n\t\t\ttree_mode: true,\n\t\t\tallow_multiple_selection: false,\n\t\t\tlayout_name: 'global_tree_column',\n\t\t\tset_empty: true,\n\t\t\tfield: 'group_id'\n\t\t} );\n\t\tform_item_input.setSourceData( $this.qualification_group_array );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Qualification Group' ), form_item_input, tab_qualification_column1 );\n\n\t\t//Visibility Type\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.COMBO_BOX );\n\t\tform_item_input.TComboBox( { field: 'visibility_type_id' } );\n\t\tform_item_input.setSourceData( $this.visibility_type_array );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Visibility' ), form_item_input, tab_qualification_column1 );\n\n\t\t// Description\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.TEXT_AREA );\n\t\tform_item_input.TTextArea( { field: 'description', width: '100%' } );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Description' ), form_item_input, tab_qualification_column1, '', null, null, true );\n\n\t\tform_item_input.parent().width( '45%' );\n\n\t\t//Tags\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.TAG_INPUT );\n\n\t\tform_item_input.TTagInput( { field: 'tag', object_type_id: 250 } );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Tags' ), form_item_input, tab_qualification_column1, '', null, null, true );\n\t}\n\n\tbuildSearchFields() {\n\n\t\tsuper.buildSearchFields();\n\t\tthis.search_fields = [\n\n\t\t\tnew SearchField( {\n\t\t\t\tlabel: $.i18n._( 'Name' ),\n\t\t\t\tin_column: 1,\n\t\t\t\tfield: 'name',\n\t\t\t\tmultiple: true,\n\t\t\t\tbasic_search: true,\n\t\t\t\tadv_search: false,\n\t\t\t\tform_item_type: FormItemType.TEXT_INPUT\n\t\t\t} ),\n\n\t\t\tnew SearchField( {\n\t\t\t\tlabel: $.i18n._( 'Type' ),\n\t\t\t\tin_column: 1,\n\t\t\t\tfield: 'type_id',\n\t\t\t\tmultiple: true,\n\t\t\t\tbasic_search: true,\n\t\t\t\tadv_search: false,\n\t\t\t\tlayout_name: 'global_option_column',\n\t\t\t\tform_item_type: FormItemType.AWESOME_BOX\n\t\t\t} ),\n\n\t\t\tnew SearchField( {\n\t\t\t\tlabel: $.i18n._( 'Group' ),\n\t\t\t\tin_column: 1,\n\t\t\t\tmultiple: true,\n\t\t\t\tfield: 'group_id',\n\t\t\t\tlayout_name: 'global_tree_column',\n\t\t\t\ttree_mode: true,\n\t\t\t\tbasic_search: true,\n\t\t\t\tadv_search: false,\n\t\t\t\tform_item_type: FormItemType.AWESOME_BOX\n\t\t\t} ),\n\n\t\t\tnew SearchField( {\n\t\t\t\tlabel: $.i18n._( 'Source' ),\n\t\t\t\tin_column: 2,\n\t\t\t\tfield: 'source_type_id',\n\t\t\t\tmultiple: true,\n\t\t\t\tbasic_search: true,\n\t\t\t\tadv_search: false,\n\t\t\t\tlayout_name: 'global_option_column',\n\t\t\t\tform_item_type: FormItemType.AWESOME_BOX\n\t\t\t} ),\n\n\t\t\tnew SearchField( {\n\t\t\t\tlabel: $.i18n._( 'Visibility' ),\n\t\t\t\tin_column: 2,\n\t\t\t\tfield: 'visibility_type_id',\n\t\t\t\tmultiple: true,\n\t\t\t\tbasic_search: true,\n\t\t\t\tadv_search: false,\n\t\t\t\tlayout_name: 'global_option_column',\n\t\t\t\tform_item_type: FormItemType.AWESOME_BOX\n\t\t\t} ),\n\n\t\t\tnew SearchField( {\n\t\t\t\tlabel: $.i18n._( 'Created By' ),\n\t\t\t\tin_column: 2,\n\t\t\t\tfield: 'created_by',\n\t\t\t\tlayout_name: 'global_user',\n\t\t\t\tapi_class: TTAPI.APIUser,\n\t\t\t\tmultiple: true,\n\t\t\t\tbasic_search: true,\n\t\t\t\tadv_search: false,\n\t\t\t\tform_item_type: FormItemType.AWESOME_BOX\n\t\t\t} ),\n\n\t\t\tnew SearchField( {\n\t\t\t\tlabel: $.i18n._( 'Updated By' ),\n\t\t\t\tin_column: 2,\n\t\t\t\tfield: 'updated_by',\n\t\t\t\tlayout_name: 'global_user',\n\t\t\t\tapi_class: TTAPI.APIUser,\n\t\t\t\tmultiple: true,\n\t\t\t\tbasic_search: true,\n\t\t\t\tadv_search: false,\n\t\t\t\tform_item_type: FormItemType.AWESOME_BOX\n\t\t\t} )\n\t\t];\n\t}\n}\n"],"sourceRoot":""}