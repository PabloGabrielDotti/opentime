{"version":3,"sources":["webpack://timetrex/./interface/html5/views/attendance/timesheet/UserDateTotalViewController.js"],"names":["UserDateTotalViewController","BaseViewController","options","_","defaults","el","super","this","edit_view_tpl","permission_id","script_name","viewId","table_name_key","context_menu_name","$","i18n","navigation_label","api","TTAPI","APIUserDateTotal","currency_api","APICurrency","PermissionManager","validate","find","text","hide","initPermission","render","sub_view_mode","buildContextMenu","initData","setSelectRibbonMenuIfNecessary","message_offset","outerHeight","grid","setGridHeight","parents","height","data","getGridParam","len","length","i","item","is_override","id","addClass","initDropDownOption","exclude","ContextMenuIconName","copy","export_excel","include","target","doNotValidate","setIsChanged","setMassEditingFieldsWhenFormChange","key","getField","c_value","getValue","current_edit_record","onTypeChange","src_object_id","onSrcObjectChange","total_time","edit_view_ui_dic","start_time_stamp","setValue","end_time_stamp","edit_view_form_item_dic","trigger","calculateAmount","override","total_time_amount","parseFloat","hourly_rate","toFixed","$this","setCurrentEditViewState","openEditView","key_name","parent_edit_record","user_id","date_stamp","onResult","result","onAddResult","result_data","getResult","company","LocalCacheData","current_company","name","parent_key","parent_value","initEditView","doNotSetFocus","context_menu_array","Global","isSet","selectContextMenu","setTotalDisplaySpan","grid_selected_length","getGridSelectIdArray","context_btn","attr","removeClass","add","setDefaultMenuAddIcon","edit","setDefaultMenuEditIcon","view","setDefaultMenuViewIcon","mass_edit","setDefaultMenuMassEditIcon","setDefaultMenuCopyIcon","delete_icon","setDefaultMenuDeleteIcon","delete_and_next","setDefaultMenuDeleteAndNextIcon","save","setDefaultMenuSaveIcon","save_and_next","setDefaultMenuSaveAndNextIcon","save_and_continue","setDefaultMenuSaveAndContinueIcon","save_and_new","setDefaultMenuSaveAndAddIcon","save_and_copy","setDefaultMenuSaveAndCopyIcon","copy_as_new","setDefaultMenuCopyAsNewIcon","cancel","setDefaultMenuCancelIcon","setContextMenuGroupVisibility","jobUIValidate","show_job_ui","jobItemUIValidate","show_job_item_ui","branchUIValidate","show_branch_ui","departmentUIValidate","show_department_ui","goodQuantityUIValidate","show_good_quantity_ui","badQuantityUIValidate","show_bad_quantity_ui","noteUIValidate","show_note_ui","p_id","filter","filter_data","getCurrency","res","isArray","symbol","iso_code","setCurrency","hasOwnProperty","widget","current_widget","APIUser","getUser","isValid","user_data","first_name","last_name","setEnabled","collectUIDataToCurrentEditRecord","setEditViewDataDone","reset","detachElement","attachElement","pay_code_id","editFieldResize","full_value","set_default_menu","page_action","page_number","callBack","refresh_id","search","array","object_type_array","value","push","buildEditViewUI","form_item_input","widgetContainer","tab_model","setTabModel","navigation","AComboBox","api_class","allow_multiple_selection","layout_name","show_search_inputs","navigation_mode","setNavigation","tab_user_date_total","edit_view_tab","tab_user_date_total_column1","tab_user_date_total_column2","loadWidgetByName","FormItemType","TEXT","TText","field","addEditFieldToColumn","DATE_PICKER","TDatePicker","TEXT_INPUT","TTextInput","mode","need_parser_sec","COMBO_BOX","TComboBox","setSourceData","getProperObjectType","AWESOME_BOX","APIRegularTimePolicy","set_empty","APIAbsencePolicy","APIOverTimePolicy","APIPremiumPolicy","APIMealPolicy","APIBreakPolicy","APIPayCode","APIBranch","APIDepartment","getProductEdition","APIJob","setRealValueCallBack","val","job_coder","manual_id","disable_keyup_event","append","APIJobItem","job_item_coder","width","currency","code","good","good_label","bad","bad_label","TEXT_AREA","TTextArea","parent","CHECKBOX","TCheckbox","remove","cleanWhenUnloadView","loadView","container","loadViewSource","args","template","html","contentContainer","loadSubView","beforeViewLoadedFun","afterViewLoadedFun","TTPromise","wait","sub_user_date_total_view_controller"],"mappings":"qMAAO,MAAMA,UAAoCC,mBAChD,YAAaC,EAAU,IACtBC,EAAEC,SAAUF,EAAS,CACpBG,GAAI,oCAKLC,MAAOJ,GAGR,KAAMA,GAELK,KAAKC,cAAgB,6BACrBD,KAAKE,cAAgB,kBACrBF,KAAKG,YAAc,oBACnBH,KAAKI,OAAS,gBACdJ,KAAKK,eAAiB,kBACtBL,KAAKM,kBAAoBC,EAAEC,KAAKZ,EAAG,oBACnCI,KAAKS,iBAAmBF,EAAEC,KAAKZ,EAAG,oBAAuB,IACzDI,KAAKU,IAAMC,MAAMC,iBACjBZ,KAAKa,aAAeF,MAAMG,YAErBC,kBAAkBC,SAAUhB,KAAKE,cAAe,QAAWa,kBAAkBC,SAAUhB,KAAKE,cAAe,QAC/GK,EAAGP,KAAKF,IAAKmB,KAAM,oBAAqBC,KAAMX,EAAEC,KAAKZ,EAAG,4MAExDW,EAAGP,KAAKF,IAAKmB,KAAM,oBAAqBE,OAGzCnB,KAAKoB,iBACLpB,KAAKqB,SAEArB,KAAKsB,cACTtB,KAAKuB,kBAAkB,GAEvBvB,KAAKuB,mBAIAvB,KAAKsB,eACVtB,KAAKwB,WAGNxB,KAAKyB,iCAGN,cAMC,IAAIC,EAA2E,EAAxDnB,EAAGP,KAAKF,IAAKmB,KAAM,oBAAqBU,cAAsB,GACrF3B,KAAK4B,KAAKA,KAAKC,cAAetB,EAAGP,KAAKF,IAAKgC,QAAS,+BAAgCC,SAAWL,GAGhG,wBAEC,IAAIM,EAAOhC,KAAK4B,KAAKK,aAAc,QAGnC,GAAMD,EAMN,IAFA,IAAIE,EAAMF,EAAKG,OAELC,EAAI,EAAGA,EAAIF,EAAKE,IAAM,CAC/B,IAAIC,EAAOL,EAAKI,IAEU,IAArBC,EAAKC,aACT/B,EAAG,UAAa8B,EAAKE,GAAK,MAAQC,SAAU,6BAK/C,cAGCxC,KAAKyC,mBAAoB,eAG1B,4BAMC,MALyB,CACxBC,QAAS,CAACC,oBAAoBC,KAAMD,oBAAoBE,cACxDC,QAAS,CAAC,YAMZ,iBAAkBC,EAAQC,GAEzBhD,KAAKiD,aAAcF,GACnB/C,KAAKkD,mCAAoCH,GACzC,IAAII,EAAMJ,EAAOK,WACbC,EAAUN,EAAOO,WAGrB,OAFAtD,KAAKuD,oBAAoBJ,GAAOE,EAEvBF,GACR,IAAK,iBACJnD,KAAKwD,cAAc,GACnB,MACD,IAAK,oBACL,IAAK,oBACL,IAAK,qBACL,IAAK,oBACL,IAAK,kBACL,IAAK,iBACJxD,KAAKuD,oBAAoBE,cAAgBJ,SAClCrD,KAAKuD,oBAAoBJ,GAChCnD,KAAK0D,kBAAmBP,GACxB,MACD,IAAK,aACwC,GAAvCnD,KAAKuD,oBAAoBI,aAC7B3D,KAAK4D,iBAAiBC,iBAAiBC,SAAU,IACjD9D,KAAK4D,iBAAiBG,eAAeD,SAAU,IAC/C9D,KAAKuD,oBAAoBM,iBAAmB,GAC5C7D,KAAKuD,oBAAoBQ,eAAiB,GAG1C/D,KAAKgE,wBAAwBH,iBAAiB5C,KAAM,SAAUgD,QAAS,SAAU,IACjFjE,KAAKgE,wBAAwBD,eAAe9C,KAAM,SAAUgD,QAAS,SAAU,KAEhFjE,KAAKkE,kBACL,MACD,IAAK,cACJlE,KAAKkE,kBAIM,aAARf,IACJnD,KAAK4D,iBAAiBO,SAASL,UAAU,GACzC9D,KAAKuD,oBAAoBY,UAAW,EACpCnE,KAAKgE,wBAAwBG,SAASlD,KAAM,SAAUgD,QAAS,SAAU,MAGpEjB,GACLhD,KAAKgB,WAIP,kBACChB,KAAKuD,oBAAoBa,kBAAsBpE,KAAKuD,oBAAoBI,WAAa,KAASU,WAAYrE,KAAKuD,oBAAoBe,aACnItE,KAAK4D,iBAAiBQ,kBAAkBN,SAAU9D,KAAKuD,oBAAoBa,kBAAkBG,QAAS,IAGvG,aACC,IAAIC,EAAQxE,KACZA,KAAKyE,wBAAyB,OAC9BD,EAAME,eAGDF,EAAM9D,KACV8D,EAAM9D,IAAI,MAAQ8D,EAAM9D,IAAIiE,SAAW,eACtC3E,KAAK4E,mBAAmBC,QACxB7E,KAAK4E,mBAAmBE,WAAY,CACnCC,SAAU,SAAUC,GACnBR,EAAMS,YAAaD,MAMxB,YAAaA,GACZ,IAAIR,EAAQxE,KACRkF,EAAcF,EAAOG,YAEnBD,IACLA,EAAc,IAGfA,EAAYE,QAAUC,eAAeC,gBAAgBC,KAEhDf,EAAMlD,eAAiBkD,EAAMgB,aACjCN,EAAYV,EAAMgB,YAAchB,EAAMiB,cAGjCP,EAAYJ,aACjBI,EAAYJ,WAAa9E,KAAK4E,mBAAmBE,YAGlDN,EAAMjB,oBAAsB2B,EAC5BV,EAAMkB,eAIP,eAAgBC,GAGf,GAAM3F,KAAK4F,mBAAX,CAIMC,OAAOC,MAAOH,IAAoBA,GACvC3F,KAAK+F,oBAGN/F,KAAKgG,sBAQL,IANA,IAAI9D,EAAMlC,KAAK4F,mBAAmBzD,OAI9B8D,EAFyBjG,KAAKkG,uBAEgB/D,OAExCC,EAAI,EAAGA,EAAIF,EAAKE,IAAM,CAC/B,IAAI+D,EAAc5F,EAAGP,KAAK4F,mBAAmBxD,IACzCG,EAAKhC,EAAG4F,EAAYlF,KAAM,0BAA4BmF,KAAM,MAIhE,OAHAD,EAAYE,YAAa,mBACzBF,EAAYE,YAAa,iBAEhB9D,GACR,KAAKI,oBAAoB2D,IACxBtG,KAAKuG,sBAAuBJ,EAAaF,GACzC,MACD,KAAKtD,oBAAoB6D,KACxBxG,KAAKyG,uBAAwBN,EAAaF,GAC1C,MACD,KAAKtD,oBAAoB+D,KACxB1G,KAAK2G,uBAAwBR,EAAaF,GAC1C,MACD,KAAKtD,oBAAoBiE,UACxB5G,KAAK6G,2BAA4BV,EAAaF,GAC9C,MACD,KAAKtD,oBAAoBC,KACxB5C,KAAK8G,uBAAwBX,EAAaF,GAC1C,MACD,KAAKtD,oBAAoBoE,YACxB/G,KAAKgH,yBAA0Bb,EAAaF,GAC5C,MACD,KAAKtD,oBAAoBsE,gBACxBjH,KAAKkH,gCAAiCf,EAAaF,GACnD,MACD,KAAKtD,oBAAoBwE,KACxBnH,KAAKoH,uBAAwBjB,EAAaF,GAC1C,MACD,KAAKtD,oBAAoB0E,cACxBrH,KAAKsH,8BAA+BnB,EAAaF,GACjD,MACD,KAAKtD,oBAAoB4E,kBACxBvH,KAAKwH,kCAAmCrB,EAAaF,GACrD,MACD,KAAKtD,oBAAoB8E,aACxBzH,KAAK0H,6BAA8BvB,EAAaF,GAChD,MACD,KAAKtD,oBAAoBgF,cACxB3H,KAAK4H,8BAA+BzB,EAAaF,GACjD,MACD,KAAKtD,oBAAoBkF,YACxB7H,KAAK8H,4BAA6B3B,EAAaF,GAC/C,MACD,KAAKtD,oBAAoBoF,OACxB/H,KAAKgI,yBAA0B7B,EAAaF,IAM/CjG,KAAKiI,iCAKN,iBACClI,MAAMqB,iBAEDpB,KAAKkI,gBACTlI,KAAKmI,aAAc,EAEnBnI,KAAKmI,aAAc,EAGfnI,KAAKoI,oBACTpI,KAAKqI,kBAAmB,EAExBrI,KAAKqI,kBAAmB,EAGpBrI,KAAKsI,mBACTtI,KAAKuI,gBAAiB,EAEtBvI,KAAKuI,gBAAiB,EAGlBvI,KAAKwI,uBACTxI,KAAKyI,oBAAqB,EAE1BzI,KAAKyI,oBAAqB,EAGtBzI,KAAK0I,yBACT1I,KAAK2I,uBAAwB,EAE7B3I,KAAK2I,uBAAwB,EAGzB3I,KAAK4I,wBACT5I,KAAK6I,sBAAuB,EAE5B7I,KAAK6I,sBAAuB,EAGxB7I,KAAK8I,iBACT9I,KAAK+I,cAAe,EAEpB/I,KAAK+I,cAAe,EAItB,eAAgBC,GAMf,OAJMA,IACLA,EAAO,WAGHjI,kBAAkBC,SAAUgI,EAAM,aAMxC,iBAAkBA,GAMjB,OAJMA,IACLA,EAAO,WAGHjI,kBAAkBC,SAAUgI,EAAM,eAMxC,qBAAsBA,GAMrB,OAJMA,IACLA,EAAO,WAGHjI,kBAAkBC,SAAUgI,EAAM,mBAMxC,cAAeA,GAMd,OAJMA,IACLA,EAAO,YAGHjI,kBAAkBC,SAAU,MAAO,aACvCD,kBAAkBC,SAAUgI,EAAM,aAMpC,kBAAmBA,GAMlB,OAJMA,IACLA,EAAO,WAGHjI,kBAAkBC,SAAUgI,EAAM,iBAMxC,uBAAwBA,GAMvB,OAJMA,IACLA,EAAO,WAGHjI,kBAAkBC,SAAUgI,EAAM,iBAMxC,sBAAuBA,GAMtB,OAJMA,IACLA,EAAO,YAGHjI,kBAAkBC,SAAUgI,EAAM,mBACtCjI,kBAAkBC,SAAUgI,EAAM,sBAMpC,cAEC,GAAKnD,OAAOC,MAAO9F,KAAKuD,oBAAoBsB,SAAY,CACvD,IAAIoE,EAAS,GACbA,EAAOC,YAAc,CAAErE,QAAS7E,KAAKuD,oBAAoBsB,SACzD7E,KAAKa,aAAasI,YAAaF,GAAQ,GAAO,EAAO,CACpDlE,SAAU,SAAUqE,GACnBA,EAAMA,EAAIjE,YACLU,OAAOwD,QAASD,IACpB7I,EAAG,2BAA4BW,KAAMkI,EAAI,GAAGE,QAC5C/I,EAAG,uBAAwBW,KAAMkI,EAAI,GAAGG,YAExChJ,EAAG,2BAA4BW,KAAM,IACrCX,EAAG,uBAAwBW,KAAM,SAOtC,2BAGC,IAAM,IAAIiC,KAFVnD,KAAKwJ,cAEYxJ,KAAKuD,oBAErB,GAAMvD,KAAKuD,oBAAoBkG,eAAgBtG,GAA/C,CAGA,IAAIuG,EAAS1J,KAAK4D,iBAAiBT,GACnC,OAASA,GACR,IAAK,UACJ,IAAIwG,EAAiB3J,KAAK4D,iBAAkC,gBAC5DjD,MAAMiJ,QAAQC,QAAS,CAAEX,YAAa,CAAE3G,GAAIvC,KAAKuD,oBAAoBJ,KAAU,CAC9E4B,SAAU,SAAUC,GAEnB,GAAKA,EAAO8E,UACX,IAAIC,EAAY/E,EAAOG,YAAY,GAI/B4E,GAAaA,EAAUC,WAC3BL,EAAe7F,SAAUiG,EAAUC,WAAa,IAAMD,EAAUE,WAEhEN,EAAe7F,SAAU,OAK5B,MACD,IAAK,aACJ4F,EAAOQ,YAAY,GACnBR,EAAO5F,SAAU9D,KAAKuD,oBAAoBJ,IAC1C,MACD,QACMuG,GACJA,EAAO5F,SAAU9D,KAAKuD,oBAAoBJ,KAM9CnD,KAAKmK,mCACLnK,KAAKoK,sBAGN,sBAECrK,MAAMqK,sBACNpK,KAAKwD,eAGN,aAAc6G,GACbrK,KAAKsK,cAAe,qBACpBtK,KAAKsK,cAAe,qBACpBtK,KAAKsK,cAAe,sBACpBtK,KAAKsK,cAAe,qBACpBtK,KAAKsK,cAAe,kBACpBtK,KAAKsK,cAAe,mBACpB,IAAInH,EAAM,GACyC,IAA9CnD,KAAKuD,oBAAoC,eAC7CJ,EAAM,oBACmD,IAA9CnD,KAAKuD,oBAAoC,gBAAyD,IAA9CvD,KAAKuD,oBAAoC,eACxGJ,EAAM,oBACmD,IAA9CnD,KAAKuD,oBAAoC,eACpDJ,EAAM,qBACmD,IAA9CnD,KAAKuD,oBAAoC,eACpDJ,EAAM,oBACmD,KAA9CnD,KAAKuD,oBAAoC,gBAA0D,KAA9CvD,KAAKuD,oBAAoC,eACzGJ,EAAM,iBACmD,KAA9CnD,KAAKuD,oBAAoC,gBAA0D,KAA9CvD,KAAKuD,oBAAoC,iBACzGJ,EAAM,mBAEFA,GACJnD,KAAKuK,cAAepH,GACfkH,GACJrK,KAAK4D,iBAAiBT,GAAKW,SAAU,IACrC9D,KAAK4D,iBAA8B,YAAEE,SAAU,IAC/C9D,KAAKuD,oBAAoBE,eAAgB,EACzCzD,KAAKuD,oBAAoBiH,aAAc,EACvCxK,KAAK4D,iBAA8B,YAAEsG,YAAY,IACtClK,KAAKuD,oBAAoBE,gBACpCzD,KAAK4D,iBAAiBT,GAAKW,SAAU9D,KAAKuD,oBAAoBE,eAC9DzD,KAAK4D,iBAA8B,YAAEsG,YAAY,MAGlDlK,KAAK4D,iBAA8B,YAAEsG,YAAY,GACjDlK,KAAKuD,oBAAoBE,eAAgB,GAE1CzD,KAAKyK,kBAGN,kBAAmBtH,GAClB,IAAIuH,EAAa1K,KAAK4D,iBAAiBT,GAAKG,UAAU,GACjDoH,GAAcA,EAAWF,aAC7BxK,KAAK4D,iBAA8B,YAAEsG,YAAY,GACjDlK,KAAK4D,iBAA8B,YAAEE,SAAU4G,EAAWF,aAC1DxK,KAAKuD,oBAAoBiH,YAAcE,EAAWF,cAElDxK,KAAK4D,iBAA8B,YAAEsG,YAAY,GACjDlK,KAAK4D,iBAA8B,YAAEE,SAAU,IAC/C9D,KAAKuD,oBAAoBiH,aAAc,GAIzC,OAAQG,EAAkBC,EAAaC,EAAaC,GACnD9K,KAAK+K,WAAa,KAClBhL,MAAMiL,OAAQL,EAAkBC,EAAaC,EAAaC,GAG3D,sBAGC,IAFA,IAAIG,EAAQ,GAEF7I,EAAI,EAAGA,EAAIpC,KAAKkL,kBAAkB/I,OAAQC,IAAM,CACzD,IAAIC,EAAOrC,KAAKkL,kBAAkB9I,GAEf,IAAdC,EAAK8I,OACK,IAAd9I,EAAK8I,OACS,IAAd9I,EAAK8I,OACS,IAAd9I,EAAK8I,OACS,KAAd9I,EAAK8I,OACS,KAAd9I,EAAK8I,OACLF,EAAMG,KAAM/I,GAKd,OAAO4I,EAGR,kBAEClL,MAAMsL,kBAEN,IAmBIC,EACAC,EAlBAC,EAAY,CACf,sBAAuB,CAAE,QAASjL,EAAEC,KAAKZ,EAAG,qBAC5C,aAAa,GAEdI,KAAKyL,YAAaD,GAElBxL,KAAK0L,WAAWC,UAAW,CAC1BC,UAAWjL,MAAMC,iBACjB2B,GAAIvC,KAAKG,YAAc,cACvB0L,0BAA0B,EAC1BC,YAAa,cACbC,oBAAoB,EACpBC,iBAAiB,IAGlBhM,KAAKiM,gBAML,IAAIC,EAAsBlM,KAAKmM,cAAclL,KAAM,wBAE/CmL,EAA8BF,EAAoBjL,KAAM,iBACxDoL,EAA8BH,EAAoBjL,KAAM,kBAuJ5D,IAnJAqK,EAAkBzF,OAAOyG,iBAAkBC,aAAaC,OACxCC,MAAO,CAAEC,MAAO,oBAChC1M,KAAK2M,qBAAsBpM,EAAEC,KAAKZ,EAAG,YAAc0L,EAAiBc,EAA6B,KAGjGd,EAAkBzF,OAAOyG,iBAAkBC,aAAaK,cACxCC,YAAa,CAAEH,MAAO,eAEtC1M,KAAK2M,qBAAsBpM,EAAEC,KAAKZ,EAAG,QAAU0L,EAAiBc,IAGhEd,EAAkBzF,OAAOyG,iBAAkBC,aAAaO,aACxCC,WAAY,CAAEL,MAAO,aAAcM,KAAM,YAAaC,iBAAiB,IAEvFjN,KAAK2M,qBAAsBpM,EAAEC,KAAKZ,EAAG,QAAU0L,EAAiBc,EAA6B,GAAI,MAAM,IAGvGd,EAAkBzF,OAAOyG,iBAAkBC,aAAaW,YAExCC,UAAW,CAAET,MAAO,mBACpCpB,EAAgB8B,cAAepN,KAAKqN,uBACpCrN,KAAK2M,qBAAsBpM,EAAEC,KAAKZ,EAAG,QAAU0L,EAAiBc,IAGhEd,EAAkBzF,OAAOyG,iBAAkBC,aAAae,cACxC3B,UAAW,CAC1BC,UAAWjL,MAAM4M,qBACjB1B,0BAA0B,EAC1BC,YAAa,sBACbC,oBAAoB,EACpByB,WAAW,EACXd,MAAO,sBAER1M,KAAK2M,qBAAsBpM,EAAEC,KAAKZ,EAAG,UAAY0L,EAAiBc,EAA6B,KAAM,MAAM,GAC3GpM,KAAKsK,cAAe,sBAGpBgB,EAAkBzF,OAAOyG,iBAAkBC,aAAae,cACxC3B,UAAW,CAC1BC,UAAWjL,MAAM8M,iBACjB5B,0BAA0B,EAC1BC,YAAa,kBACbC,oBAAoB,EACpByB,WAAW,EACXd,MAAO,sBAER1M,KAAK2M,qBAAsBpM,EAAEC,KAAKZ,EAAG,UAAY0L,EAAiBc,EAA6B,KAAM,MAAM,GAC3GpM,KAAKsK,cAAe,sBAGpBgB,EAAkBzF,OAAOyG,iBAAkBC,aAAae,cACxC3B,UAAW,CAC1BC,UAAWjL,MAAM+M,kBACjB7B,0BAA0B,EAC1BC,YAAa,mBACbC,oBAAoB,EACpByB,WAAW,EACXd,MAAO,uBAER1M,KAAK2M,qBAAsBpM,EAAEC,KAAKZ,EAAG,UAAY0L,EAAiBc,EAA6B,KAAM,MAAM,GAC3GpM,KAAKsK,cAAe,uBAGpBgB,EAAkBzF,OAAOyG,iBAAkBC,aAAae,cACxC3B,UAAW,CAC1BC,UAAWjL,MAAMgN,iBACjB9B,0BAA0B,EAC1BC,YAAa,iBACbC,oBAAoB,EACpByB,WAAW,EACXd,MAAO,sBAER1M,KAAK2M,qBAAsBpM,EAAEC,KAAKZ,EAAG,UAAY0L,EAAiBc,EAA6B,KAAM,MAAM,GAC3GpM,KAAKsK,cAAe,sBAGpBgB,EAAkBzF,OAAOyG,iBAAkBC,aAAae,cACxC3B,UAAW,CAC1BC,UAAWjL,MAAMiN,cACjB/B,0BAA0B,EAC1BC,YAAa,cACbC,oBAAoB,EACpByB,WAAW,EACXd,MAAO,mBAER1M,KAAK2M,qBAAsBpM,EAAEC,KAAKZ,EAAG,UAAY0L,EAAiBc,EAA6B,KAAM,MAAM,GAC3GpM,KAAKsK,cAAe,mBAGpBgB,EAAkBzF,OAAOyG,iBAAkBC,aAAae,cACxC3B,UAAW,CAC1BC,UAAWjL,MAAMkN,eACjBhC,0BAA0B,EAC1BC,YAAa,eACbC,oBAAoB,EACpByB,WAAW,EACXd,MAAO,oBAER1M,KAAK2M,qBAAsBpM,EAAEC,KAAKZ,EAAG,UAAY0L,EAAiBc,EAA6B,KAAM,MAAM,GAC3GpM,KAAKsK,cAAe,oBAGpBgB,EAAkBzF,OAAOyG,iBAAkBC,aAAae,cACxC3B,UAAW,CAC1BC,UAAWjL,MAAMmN,WACjBjC,0BAA0B,EAC1BC,YAAa,kBACbC,oBAAoB,EACpByB,WAAW,EACXd,MAAO,gBAER1M,KAAK2M,qBAAsBpM,EAAEC,KAAKZ,EAAG,YAAc0L,EAAiBc,IAGpEd,EAAkBzF,OAAOyG,iBAAkBC,aAAae,cAExC3B,UAAW,CAC1BC,UAAWjL,MAAMoN,UACjBlC,0BAA0B,EAC1BC,YAAa,gBACbC,oBAAoB,EACpByB,WAAW,EACXd,MAAO,cAER1M,KAAK2M,qBAAsBpM,EAAEC,KAAKZ,EAAG,UAAY0L,EAAiBc,EAA6B,GAAI,MAAM,GAEnGpM,KAAKuI,gBACVvI,KAAKsK,cAAe,cAIrBgB,EAAkBzF,OAAOyG,iBAAkBC,aAAae,cAExC3B,UAAW,CAC1BC,UAAWjL,MAAMqN,cACjBnC,0BAA0B,EAC1BC,YAAa,oBACbC,oBAAoB,EACpByB,WAAW,EACXd,MAAO,kBAER1M,KAAK2M,qBAAsBpM,EAAEC,KAAKZ,EAAG,cAAgB0L,EAAiBc,EAA6B,GAAI,MAAM,GAEvGpM,KAAKyI,oBACVzI,KAAKsK,cAAe,iBAGdzE,OAAOoI,qBAAuB,GAAO,EAG3C3C,EAAkBzF,OAAOyG,iBAAkBC,aAAae,cAExC3B,UAAW,CAC1BC,UAAWjL,MAAMuN,OACjBrC,0BAA0B,EAC1BC,YAAa,aACbC,oBAAoB,EACpByB,WAAW,EACXW,qBAAsB,SAAYC,GAE5BA,GACJC,EAAUvK,SAAUsK,EAAIE,YAG1B5B,MAAO,WAGRnB,EAAkBhL,EAAG,oCAErB,IAAI8N,EAAYxI,OAAOyG,iBAAkBC,aAAaO,YACtDuB,EAAUtB,WAAY,CAAEL,MAAO,mBAAoB6B,qBAAqB,IACxEF,EAAU7L,SAAU,aAEpB+I,EAAgBiD,OAAQH,GACxB9C,EAAgBiD,OAAQlD,GACxBtL,KAAK2M,qBAAsBpM,EAAEC,KAAKZ,EAAG,OAAS,CAAC0L,EAAiB+C,GAAYjC,EAA6B,GAAIb,GAAiB,GAExHvL,KAAKmI,aACVnI,KAAKsK,cAAe,WAIrBgB,EAAkBzF,OAAOyG,iBAAkBC,aAAae,cAExC3B,UAAW,CAC1BC,UAAWjL,MAAM8N,WACjB5C,0BAA0B,EAC1BC,YAAa,kBACbC,oBAAoB,EACpByB,WAAW,EACXW,qBAAsB,SAAYC,GAE5BA,GACJM,EAAe5K,SAAUsK,EAAIE,YAG/B5B,MAAO,gBAGRnB,EAAkBhL,EAAG,oCAErB,IAAImO,EAAiB7I,OAAOyG,iBAAkBC,aAAaO,YAC3D4B,EAAe3B,WAAY,CAAEL,MAAO,wBAAyB6B,qBAAqB,IAClFG,EAAelM,SAAU,aAEzB+I,EAAgBiD,OAAQE,GACxBnD,EAAgBiD,OAAQlD,GACxBtL,KAAK2M,qBAAsBpM,EAAEC,KAAKZ,EAAG,QAAU,CAAC0L,EAAiBoD,GAAiBtC,EAA6B,GAAIb,GAAiB,GAE9HvL,KAAKqI,kBACVrI,KAAKsK,cAAe,gBAMtBgB,EAAkBzF,OAAOyG,iBAAkBC,aAAaK,cACxCC,YAAa,CAAEH,MAAO,mBAAoBM,KAAM,cAChEhN,KAAK2M,qBAAsBpM,EAAEC,KAAKZ,EAAG,mBAAqB0L,EAAiBe,EAA6B,GAAI,MAAM,GAAM,IAGxHf,EAAkBzF,OAAOyG,iBAAkBC,aAAaK,cACxCC,YAAa,CAAEH,MAAO,iBAAkBM,KAAM,cAC9DhN,KAAK2M,qBAAsBpM,EAAEC,KAAKZ,EAAG,iBAAmB0L,EAAiBe,EAA6B,GAAI,MAAM,GAAM,IAGtHf,EAAkBzF,OAAOyG,iBAAkBC,aAAae,cACxC3B,UAAW,CAC1BC,UAAWjL,MAAMG,YACjB+K,0BAA0B,EAC1BC,YAAa,kBACbC,oBAAoB,EACpBW,MAAO,cACPc,WAAW,IAEZxN,KAAK2M,qBAAsBpM,EAAEC,KAAKZ,EAAG,YAAc0L,EAAiBe,IAGpEf,EAAkBzF,OAAOyG,iBAAkBC,aAAaO,aACxCC,WAAY,CAAEL,MAAO,mBAAoBiC,MAAO,KAEhEpD,EAAkBhL,EAAG,oCACrB,IAAIqO,EAAWrO,EAAG,kEACdsO,EAAOtO,EAAG,+DA+Bd,GA9BAgL,EAAgBiD,OAAQI,GACxBrD,EAAgBiD,OAAQlD,GACxBC,EAAgBiD,OAAQK,GAExB7O,KAAK2M,qBAAsBpM,EAAEC,KAAKZ,EAAG,oBAAsB0L,EAAiBe,EAA6B,GAAId,GAAiB,IAG9HD,EAAkBzF,OAAOyG,iBAAkBC,aAAaO,aACxCC,WAAY,CAAEL,MAAO,cAAeiC,MAAO,KAE3DpD,EAAkBhL,EAAG,oCACrBqO,EAAWrO,EAAG,kEACdsO,EAAOtO,EAAG,+DACVgL,EAAgBiD,OAAQI,GACxBrD,EAAgBiD,OAAQlD,GACxBC,EAAgBiD,OAAQK,GAExB7O,KAAK2M,qBAAsBpM,EAAEC,KAAKZ,EAAG,eAAiB0L,EAAiBe,EAA6B,GAAId,GAAiB,IAGzHD,EAAkBzF,OAAOyG,iBAAkBC,aAAaC,OACxCC,MAAO,CAAEC,MAAO,sBAChCnB,EAAkBhL,EAAG,oCACrBqO,EAAWrO,EAAG,kEACdsO,EAAOtO,EAAG,+DACVgL,EAAgBiD,OAAQI,GACxBrD,EAAgBiD,OAAQlD,GACxBC,EAAgBiD,OAAQK,GACxB7O,KAAK2M,qBAAsBpM,EAAEC,KAAKZ,EAAG,gBAAkB0L,EAAiBe,EAA6B,GAAId,GAAiB,GAEnH1F,OAAOoI,qBAAuB,GAAO,CAG3C,IAAIa,EAAOjJ,OAAOyG,iBAAkBC,aAAaO,YACjDgC,EAAK/B,WAAY,CAAEL,MAAO,WAAYiC,MAAO,KAC7CG,EAAKtM,SAAU,kBAEf,IAAIuM,EAAaxO,EAAG,oCAAwCA,EAAEC,KAAKZ,EAAG,QAAW,aAE7EoP,EAAMnJ,OAAOyG,iBAAkBC,aAAaO,YAChDkC,EAAIjC,WAAY,CAAEL,MAAO,eAAgBiC,MAAO,KAChDK,EAAIxM,SAAU,kBAEd,IAAIyM,EAAY1O,EAAG,sCAA0CA,EAAEC,KAAKZ,EAAG,OAAU,cAEjF2L,EAAkBhL,EAAG,qCAELiO,OAAQO,GACxBxD,EAAgBiD,OAAQM,GACxBvD,EAAgBiD,OAAQS,GACxB1D,EAAgBiD,OAAQQ,GAExBhP,KAAK2M,qBAAsBpM,EAAEC,KAAKZ,EAAG,YAAc,CAACkP,EAAME,GAAM3C,EAA6B,GAAId,GAAiB,GAE5GvL,KAAK6I,sBAAyB7I,KAAK2I,uBAGlC3I,KAAK6I,uBACVoG,EAAU9N,OACV6N,EAAI7N,QAGCnB,KAAK2I,wBACVoG,EAAW5N,OACX2N,EAAK3N,SATNnB,KAAKsK,cAAe,aActBgB,EAAkBzF,OAAOyG,iBAAkBC,aAAa2C,YACxCC,UAAW,CAAEzC,MAAO,OAAQiC,MAAO,SACnD3O,KAAK2M,qBAAsBpM,EAAEC,KAAKZ,EAAG,QAAU0L,EAAiBe,EAA6B,GAAI,MAAM,GAAM,GAC7Gf,EAAgB8D,SAAST,MAAO,OAE1B3O,KAAK+I,cACV/I,KAAKsK,cAAe,SAIrBgB,EAAkBzF,OAAOyG,iBAAkBC,aAAa8C,WACxCC,UAAW,CAAE5C,MAAO,aACpC1M,KAAK2M,qBAAsBpM,EAAEC,KAAKZ,EAAG,YAAc0L,EAAiBe,EAA6B,GAAI,MAAM,GAAM,GAGlH,oBAAqBvB,GAEpBvK,EAAG,mCAAoCgP,SACvCxP,MAAMyP,oBAAqB1E,IAM7BrL,EAA4BgQ,SAAW,SAAUC,GAEhD7J,OAAO8J,eAAgB,gBAAiB,0BAA0B,SAAU3K,GAE3E,IAAI4K,EAAO,GACPC,EAAWjQ,EAAEiQ,SAAU7K,GAEtBa,OAAOC,MAAO4J,GAClBA,EAAUI,KAAMD,EAAUD,IAE1B/J,OAAOkK,mBAAmBD,KAAMD,EAAUD,QAO7CnQ,EAA4BuQ,YAAc,SAAUN,EAAWO,EAAqBC,GAEnFrK,OAAO8J,eAAgB,gBAAiB,6BAA6B,SAAU3K,GAE9E,IACI6K,EAAWjQ,EAAEiQ,SAAU7K,GAEtBa,OAAOC,MAAOmK,IAClBA,IAGIpK,OAAOC,MAAO4J,KAClBA,EAAUI,KAAMD,EARN,KAULhK,OAAOC,MAAOoK,IAElBC,UAAUC,KAAM,qBAAsB,cAAc,WACnDF,EAAoBG","file":"attendance-timesheet-UserDateTotalViewController.bundle.js?v=c54408014652067f8d51","sourcesContent":["export class UserDateTotalViewController extends BaseViewController {\n\tconstructor( options = {} ) {\n\t\t_.defaults( options, {\n\t\t\tel: '#user_date_total_view_container', //Must set el here and can only set string, so events can work\n\n\n\t\t} );\n\n\t\tsuper( options );\n\t}\n\n\tinit( options ) {\n\t\t//this._super('initialize', options );\n\t\tthis.edit_view_tpl = 'UserDateTotalEditView.html';\n\t\tthis.permission_id = 'user_date_total';\n\t\tthis.script_name = 'UserDateTotalView';\n\t\tthis.viewId = 'UserDateTotal';\n\t\tthis.table_name_key = 'user_date_total';\n\t\tthis.context_menu_name = $.i18n._( 'Accumulated Time' );\n\t\tthis.navigation_label = $.i18n._( 'Accumulated Time' ) + ':';\n\t\tthis.api = TTAPI.APIUserDateTotal;\n\t\tthis.currency_api = TTAPI.APICurrency;\n\n\t\tif ( PermissionManager.validate( this.permission_id, 'add' ) || PermissionManager.validate( this.permission_id, 'edit' ) ) {\n\t\t\t$( this.el ).find( '.warning-message' ).text( $.i18n._( 'WARNING: Manually modifying Accumulated Time records may prevent policies from being calculated properly and should only be done as a last resort when instructed to do so by a support representative.' ) );\n\t\t} else {\n\t\t\t$( this.el ).find( '.warning-message' ).hide();\n\t\t}\n\n\t\tthis.initPermission();\n\t\tthis.render();\n\n\t\tif ( this.sub_view_mode ) {\n\t\t\tthis.buildContextMenu( true );\n\t\t} else {\n\t\t\tthis.buildContextMenu();\n\t\t}\n\n\t\t//call init data in parent view\n\t\tif ( !this.sub_view_mode ) {\n\t\t\tthis.initData();\n\t\t}\n\n\t\tthis.setSelectRibbonMenuIfNecessary();\n\t}\n\n\tsetGridSize() {\n\t\t// if ( ( !this.grid || !this.grid.grid.is( ':visible' ) ) ) {\n\t\t// \treturn;\n\t\t// }\n\t\t//this.grid.grid.setGridWidth( $( this.el ).parent().width() - 2 );\n\n\t\tvar message_offset = ( $( this.el ).find( '.warning-message' ).outerHeight() * 2 ) + 27;\n\t\tthis.grid.grid.setGridHeight( $( this.el ).parents( '#tab_user_date_total_parent' ).height() - message_offset );\n\t}\n\n\tsetGridCellBackGround() {\n\n\t\tvar data = this.grid.getGridParam( 'data' );\n\n\t\t//Error: TypeError: data is undefined in /interface/html5/framework/jquery.min.js?v=7.4.6-20141027-074127 line 2 > eval line 70\n\t\tif ( !data ) {\n\t\t\treturn;\n\t\t}\n\n\t\tvar len = data.length;\n\n\t\tfor ( var i = 0; i < len; i++ ) {\n\t\t\tvar item = data[i];\n\n\t\t\tif ( item.is_override === true ) {\n\t\t\t\t$( 'tr[id=\\'' + item.id + '\\']' ).addClass( 'user-data-total-override' );\n\t\t\t}\n\t\t}\n\t}\n\n\tinitOptions() {\n\t\tvar $this = this;\n\n\t\tthis.initDropDownOption( 'object_type' );\n\t}\n\n\tgetCustomContextMenuModel() {\n\t\tvar context_menu_model = {\n\t\t\texclude: [ContextMenuIconName.copy, ContextMenuIconName.export_excel],\n\t\t\tinclude: ['default']\n\t\t};\n\n\t\treturn context_menu_model;\n\t}\n\n\tonFormItemChange( target, doNotValidate ) {\n\n\t\tthis.setIsChanged( target );\n\t\tthis.setMassEditingFieldsWhenFormChange( target );\n\t\tvar key = target.getField();\n\t\tvar c_value = target.getValue();\n\t\tthis.current_edit_record[key] = c_value;\n\n\t\tswitch ( key ) {\n\t\t\tcase 'object_type_id':\n\t\t\t\tthis.onTypeChange( true );\n\t\t\t\tbreak;\n\t\t\tcase 'regular_policy_id':\n\t\t\tcase 'absence_policy_id':\n\t\t\tcase 'overtime_policy_id':\n\t\t\tcase 'premium_policy_id':\n\t\t\tcase 'break_policy_id':\n\t\t\tcase 'meal_policy_id':\n\t\t\t\tthis.current_edit_record.src_object_id = c_value;\n\t\t\t\tdelete this.current_edit_record[key];\n\t\t\t\tthis.onSrcObjectChange( key );\n\t\t\t\tbreak;\n\t\t\tcase 'total_time':\n\t\t\t\tif ( this.current_edit_record.total_time == 0 ) {\n\t\t\t\t\tthis.edit_view_ui_dic.start_time_stamp.setValue( '' );\n\t\t\t\t\tthis.edit_view_ui_dic.end_time_stamp.setValue( '' );\n\t\t\t\t\tthis.current_edit_record.start_time_stamp = '';\n\t\t\t\t\tthis.current_edit_record.end_time_stamp = '';\n\n\t\t\t\t\t//Trigger onChange event for above fields, so in mass edit they are marked as changed.\n\t\t\t\t\tthis.edit_view_form_item_dic.start_time_stamp.find( 'input' ).trigger( 'change', '' );\n\t\t\t\t\tthis.edit_view_form_item_dic.end_time_stamp.find( 'input' ).trigger( 'change', '' );\n\t\t\t\t}\n\t\t\t\tthis.calculateAmount();\n\t\t\t\tbreak;\n\t\t\tcase 'hourly_rate':\n\t\t\t\tthis.calculateAmount();\n\t\t\t\tbreak;\n\t\t}\n\n\t\tif ( key !== 'override' ) {\n\t\t\tthis.edit_view_ui_dic.override.setValue( true );\n\t\t\tthis.current_edit_record.override = true;\n\t\t\tthis.edit_view_form_item_dic.override.find( 'input' ).trigger( 'change', '1' ); //Trigger onChange event for above fields, so in mass edit they are marked as changed.\n\t\t}\n\n\t\tif ( !doNotValidate ) {\n\t\t\tthis.validate();\n\t\t}\n\t}\n\n\tcalculateAmount() {\n\t\tthis.current_edit_record.total_time_amount = ( this.current_edit_record.total_time / 3600 ) * parseFloat( this.current_edit_record.hourly_rate );\n\t\tthis.edit_view_ui_dic.total_time_amount.setValue( this.current_edit_record.total_time_amount.toFixed( 4 ) );\n\t}\n\n\tonAddClick() {\n\t\tvar $this = this;\n\t\tthis.setCurrentEditViewState( 'new' );\n\t\t$this.openEditView();\n\n\t\t//Error: Uncaught TypeError: undefined is not a function in /interface/html5/views/BaseViewController.js?v=8.0.0-20141117-111140 line 897\n\t\tif ( $this.api ) {\n\t\t\t$this.api['get' + $this.api.key_name + 'DefaultData'](\n\t\t\t\tthis.parent_edit_record.user_id,\n\t\t\t\tthis.parent_edit_record.date_stamp, {\n\t\t\t\t\tonResult: function( result ) {\n\t\t\t\t\t\t$this.onAddResult( result );\n\t\t\t\t\t}\n\t\t\t\t} );\n\t\t}\n\t}\n\n\tonAddResult( result ) {\n\t\tvar $this = this;\n\t\tvar result_data = result.getResult();\n\n\t\tif ( !result_data ) {\n\t\t\tresult_data = [];\n\t\t}\n\n\t\tresult_data.company = LocalCacheData.current_company.name;\n\n\t\tif ( $this.sub_view_mode && $this.parent_key ) {\n\t\t\tresult_data[$this.parent_key] = $this.parent_value;\n\t\t}\n\n\t\tif ( !result_data.date_stamp ) {\n\t\t\tresult_data.date_stamp = this.parent_edit_record.date_stamp;\n\t\t}\n\n\t\t$this.current_edit_record = result_data;\n\t\t$this.initEditView();\n\t}\n\n\t/* jshint ignore:start */\n\tsetDefaultMenu( doNotSetFocus ) {\n\n\t\t//Error: Uncaught TypeError: Cannot read property 'length' of undefined in /interface/html5/#!m=Employee&a=edit&id=42411&tab=UserDateTotal line 282\n\t\tif ( !this.context_menu_array ) {\n\t\t\treturn;\n\t\t}\n\n\t\tif ( !Global.isSet( doNotSetFocus ) || !doNotSetFocus ) {\n\t\t\tthis.selectContextMenu();\n\t\t}\n\n\t\tthis.setTotalDisplaySpan();\n\n\t\tvar len = this.context_menu_array.length;\n\n\t\tvar grid_selected_id_array = this.getGridSelectIdArray();\n\n\t\tvar grid_selected_length = grid_selected_id_array.length;\n\n\t\tfor ( var i = 0; i < len; i++ ) {\n\t\t\tvar context_btn = $( this.context_menu_array[i] );\n\t\t\tvar id = $( context_btn.find( '.ribbon-sub-menu-icon' ) ).attr( 'id' );\n\t\t\tcontext_btn.removeClass( 'invisible-image' );\n\t\t\tcontext_btn.removeClass( 'disable-image' );\n\n\t\t\tswitch ( id ) {\n\t\t\t\tcase ContextMenuIconName.add:\n\t\t\t\t\tthis.setDefaultMenuAddIcon( context_btn, grid_selected_length );\n\t\t\t\t\tbreak;\n\t\t\t\tcase ContextMenuIconName.edit:\n\t\t\t\t\tthis.setDefaultMenuEditIcon( context_btn, grid_selected_length );\n\t\t\t\t\tbreak;\n\t\t\t\tcase ContextMenuIconName.view:\n\t\t\t\t\tthis.setDefaultMenuViewIcon( context_btn, grid_selected_length );\n\t\t\t\t\tbreak;\n\t\t\t\tcase ContextMenuIconName.mass_edit:\n\t\t\t\t\tthis.setDefaultMenuMassEditIcon( context_btn, grid_selected_length );\n\t\t\t\t\tbreak;\n\t\t\t\tcase ContextMenuIconName.copy:\n\t\t\t\t\tthis.setDefaultMenuCopyIcon( context_btn, grid_selected_length );\n\t\t\t\t\tbreak;\n\t\t\t\tcase ContextMenuIconName.delete_icon:\n\t\t\t\t\tthis.setDefaultMenuDeleteIcon( context_btn, grid_selected_length );\n\t\t\t\t\tbreak;\n\t\t\t\tcase ContextMenuIconName.delete_and_next:\n\t\t\t\t\tthis.setDefaultMenuDeleteAndNextIcon( context_btn, grid_selected_length );\n\t\t\t\t\tbreak;\n\t\t\t\tcase ContextMenuIconName.save:\n\t\t\t\t\tthis.setDefaultMenuSaveIcon( context_btn, grid_selected_length );\n\t\t\t\t\tbreak;\n\t\t\t\tcase ContextMenuIconName.save_and_next:\n\t\t\t\t\tthis.setDefaultMenuSaveAndNextIcon( context_btn, grid_selected_length );\n\t\t\t\t\tbreak;\n\t\t\t\tcase ContextMenuIconName.save_and_continue:\n\t\t\t\t\tthis.setDefaultMenuSaveAndContinueIcon( context_btn, grid_selected_length );\n\t\t\t\t\tbreak;\n\t\t\t\tcase ContextMenuIconName.save_and_new:\n\t\t\t\t\tthis.setDefaultMenuSaveAndAddIcon( context_btn, grid_selected_length );\n\t\t\t\t\tbreak;\n\t\t\t\tcase ContextMenuIconName.save_and_copy:\n\t\t\t\t\tthis.setDefaultMenuSaveAndCopyIcon( context_btn, grid_selected_length );\n\t\t\t\t\tbreak;\n\t\t\t\tcase ContextMenuIconName.copy_as_new:\n\t\t\t\t\tthis.setDefaultMenuCopyAsNewIcon( context_btn, grid_selected_length );\n\t\t\t\t\tbreak;\n\t\t\t\tcase ContextMenuIconName.cancel:\n\t\t\t\t\tthis.setDefaultMenuCancelIcon( context_btn, grid_selected_length );\n\t\t\t\t\tbreak;\n\t\t\t}\n\n\t\t}\n\n\t\tthis.setContextMenuGroupVisibility();\n\t}\n\n\t/* jshint ignore:end */\n\n\tinitPermission() {\n\t\tsuper.initPermission();\n\n\t\tif ( this.jobUIValidate() ) {\n\t\t\tthis.show_job_ui = true;\n\t\t} else {\n\t\t\tthis.show_job_ui = false;\n\t\t}\n\n\t\tif ( this.jobItemUIValidate() ) {\n\t\t\tthis.show_job_item_ui = true;\n\t\t} else {\n\t\t\tthis.show_job_item_ui = false;\n\t\t}\n\n\t\tif ( this.branchUIValidate() ) {\n\t\t\tthis.show_branch_ui = true;\n\t\t} else {\n\t\t\tthis.show_branch_ui = false;\n\t\t}\n\n\t\tif ( this.departmentUIValidate() ) {\n\t\t\tthis.show_department_ui = true;\n\t\t} else {\n\t\t\tthis.show_department_ui = false;\n\t\t}\n\n\t\tif ( this.goodQuantityUIValidate() ) {\n\t\t\tthis.show_good_quantity_ui = true;\n\t\t} else {\n\t\t\tthis.show_good_quantity_ui = false;\n\t\t}\n\n\t\tif ( this.badQuantityUIValidate() ) {\n\t\t\tthis.show_bad_quantity_ui = true;\n\t\t} else {\n\t\t\tthis.show_bad_quantity_ui = false;\n\t\t}\n\n\t\tif ( this.noteUIValidate() ) {\n\t\t\tthis.show_note_ui = true;\n\t\t} else {\n\t\t\tthis.show_note_ui = false;\n\t\t}\n\t}\n\n\tnoteUIValidate( p_id ) {\n\n\t\tif ( !p_id ) {\n\t\t\tp_id = 'punch';\n\t\t}\n\n\t\tif ( PermissionManager.validate( p_id, 'edit_note' ) ) {\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t}\n\n\tbranchUIValidate( p_id ) {\n\n\t\tif ( !p_id ) {\n\t\t\tp_id = 'punch';\n\t\t}\n\n\t\tif ( PermissionManager.validate( p_id, 'edit_branch' ) ) {\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t}\n\n\tdepartmentUIValidate( p_id ) {\n\n\t\tif ( !p_id ) {\n\t\t\tp_id = 'punch';\n\t\t}\n\n\t\tif ( PermissionManager.validate( p_id, 'edit_department' ) ) {\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t}\n\n\tjobUIValidate( p_id ) {\n\n\t\tif ( !p_id ) {\n\t\t\tp_id = 'punch';\n\t\t}\n\n\t\tif ( PermissionManager.validate( 'job', 'enabled' ) &&\n\t\t\tPermissionManager.validate( p_id, 'edit_job' ) ) {\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t}\n\n\tjobItemUIValidate( p_id ) {\n\n\t\tif ( !p_id ) {\n\t\t\tp_id = 'punch';\n\t\t}\n\n\t\tif ( PermissionManager.validate( p_id, 'edit_job_item' ) ) {\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t}\n\n\tgoodQuantityUIValidate( p_id ) {\n\n\t\tif ( !p_id ) {\n\t\t\tp_id = 'punch';\n\t\t}\n\n\t\tif ( PermissionManager.validate( p_id, 'edit_quantity' ) ) {\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t}\n\n\tbadQuantityUIValidate( p_id ) {\n\n\t\tif ( !p_id ) {\n\t\t\tp_id = 'punch';\n\t\t}\n\n\t\tif ( PermissionManager.validate( p_id, 'edit_quantity' ) &&\n\t\t\tPermissionManager.validate( p_id, 'edit_bad_quantity' ) ) {\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t}\n\n\tsetCurrency() {\n\t\tvar $this = this;\n\t\tif ( Global.isSet( this.current_edit_record.user_id ) ) {\n\t\t\tvar filter = {};\n\t\t\tfilter.filter_data = { user_id: this.current_edit_record.user_id };\n\t\t\tthis.currency_api.getCurrency( filter, false, false, {\n\t\t\t\tonResult: function( res ) {\n\t\t\t\t\tres = res.getResult();\n\t\t\t\t\tif ( Global.isArray( res ) ) {\n\t\t\t\t\t\t$( '.userDateTotal-currency' ).text( res[0].symbol );\n\t\t\t\t\t\t$( '.userDateTotal-code' ).text( res[0].iso_code );\n\t\t\t\t\t} else {\n\t\t\t\t\t\t$( '.userDateTotal-currency' ).text( '' );\n\t\t\t\t\t\t$( '.userDateTotal-code' ).text( '' );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} );\n\t\t}\n\t}\n\n\tsetCurrentEditRecordData() {\n\t\tthis.setCurrency();\n\t\t//Set current edit record data to all widgets\n\t\tfor ( var key in this.current_edit_record ) {\n\n\t\t\tif ( !this.current_edit_record.hasOwnProperty( key ) ) {\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tvar widget = this.edit_view_ui_dic[key];\n\t\t\tswitch ( key ) {\n\t\t\t\tcase 'user_id':\n\t\t\t\t\tvar current_widget = this.edit_view_ui_dic['first_last_name'];\n\t\t\t\t\tTTAPI.APIUser.getUser( { filter_data: { id: this.current_edit_record[key] } }, {\n\t\t\t\t\t\tonResult: function( result ) {\n\n\t\t\t\t\t\t\tif ( result.isValid() ) {\n\t\t\t\t\t\t\t\tvar user_data = result.getResult()[0];\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t//Error: Unable to get property 'first_name' of undefined or null reference in /interface/html5/ line 511\n\t\t\t\t\t\t\tif ( user_data && user_data.first_name ) {\n\t\t\t\t\t\t\t\tcurrent_widget.setValue( user_data.first_name + ' ' + user_data.last_name );\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tcurrent_widget.setValue( '' );\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\t\t\t\t\t} );\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'date_stamp':\n\t\t\t\t\twidget.setEnabled( false );\n\t\t\t\t\twidget.setValue( this.current_edit_record[key] );\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tif ( widget ) {\n\t\t\t\t\t\twidget.setValue( this.current_edit_record[key] );\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\tthis.collectUIDataToCurrentEditRecord();\n\t\tthis.setEditViewDataDone();\n\t}\n\n\tsetEditViewDataDone() {\n\t\tvar $this = this;\n\t\tsuper.setEditViewDataDone();\n\t\tthis.onTypeChange();\n\t}\n\n\tonTypeChange( reset ) {\n\t\tthis.detachElement( 'regular_policy_id' );\n\t\tthis.detachElement( 'absence_policy_id' );\n\t\tthis.detachElement( 'overtime_policy_id' );\n\t\tthis.detachElement( 'premium_policy_id' );\n\t\tthis.detachElement( 'meal_policy_id' );\n\t\tthis.detachElement( 'break_policy_id' );\n\t\tvar key = '';\n\t\tif ( this.current_edit_record['object_type_id'] == 20 ) {\n\t\t\tkey = 'regular_policy_id';\n\t\t} else if ( this.current_edit_record['object_type_id'] == 25 || this.current_edit_record['object_type_id'] == 50 ) {\n\t\t\tkey = 'absence_policy_id';\n\t\t} else if ( this.current_edit_record['object_type_id'] == 30 ) {\n\t\t\tkey = 'overtime_policy_id';\n\t\t} else if ( this.current_edit_record['object_type_id'] == 40 ) {\n\t\t\tkey = 'premium_policy_id';\n\t\t} else if ( this.current_edit_record['object_type_id'] == 100 || this.current_edit_record['object_type_id'] == 101 ) {\n\t\t\tkey = 'meal_policy_id';\n\t\t} else if ( this.current_edit_record['object_type_id'] == 110 || this.current_edit_record['object_type_id'] == 111 ) {\n\t\t\tkey = 'break_policy_id';\n\t\t}\n\t\tif ( key ) {\n\t\t\tthis.attachElement( key );\n\t\t\tif ( reset ) {\n\t\t\t\tthis.edit_view_ui_dic[key].setValue( '' );\n\t\t\t\tthis.edit_view_ui_dic['pay_code_id'].setValue( '' );\n\t\t\t\tthis.current_edit_record.src_object_id = false;\n\t\t\t\tthis.current_edit_record.pay_code_id = false;\n\t\t\t\tthis.edit_view_ui_dic['pay_code_id'].setEnabled( true );\n\t\t\t} else if ( this.current_edit_record.src_object_id ) {\n\t\t\t\tthis.edit_view_ui_dic[key].setValue( this.current_edit_record.src_object_id );\n\t\t\t\tthis.edit_view_ui_dic['pay_code_id'].setEnabled( false );\n\t\t\t}\n\t\t} else {\n\t\t\tthis.edit_view_ui_dic['pay_code_id'].setEnabled( true );\n\t\t\tthis.current_edit_record.src_object_id = false;\n\t\t}\n\t\tthis.editFieldResize();\n\t}\n\n\tonSrcObjectChange( key ) {\n\t\tvar full_value = this.edit_view_ui_dic[key].getValue( true );\n\t\tif ( full_value && full_value.pay_code_id ) {\n\t\t\tthis.edit_view_ui_dic['pay_code_id'].setEnabled( false );\n\t\t\tthis.edit_view_ui_dic['pay_code_id'].setValue( full_value.pay_code_id );\n\t\t\tthis.current_edit_record.pay_code_id = full_value.pay_code_id;\n\t\t} else {\n\t\t\tthis.edit_view_ui_dic['pay_code_id'].setEnabled( true );\n\t\t\tthis.edit_view_ui_dic['pay_code_id'].setValue( '' );\n\t\t\tthis.current_edit_record.pay_code_id = false;\n\t\t}\n\t}\n\n\tsearch( set_default_menu, page_action, page_number, callBack ) {\n\t\tthis.refresh_id = null;\n\t\tsuper.search( set_default_menu, page_action, page_number, callBack );\n\t}\n\n\tgetProperObjectType() {\n\t\tvar array = [];\n\n\t\tfor ( var i = 0; i < this.object_type_array.length; i++ ) {\n\t\t\tvar item = this.object_type_array[i];\n\n\t\t\tif ( item.value == 20 ||\n\t\t\t\titem.value == 25 ||\n\t\t\t\titem.value == 30 ||\n\t\t\t\titem.value == 40 ||\n\t\t\t\titem.value == 100 ||\n\t\t\t\titem.value == 110 ) {\n\t\t\t\tarray.push( item );\n\t\t\t}\n\n\t\t}\n\n\t\treturn array;\n\t}\n\n\tbuildEditViewUI() {\n\n\t\tsuper.buildEditViewUI();\n\n\t\tvar $this = this;\n\n\t\tvar tab_model = {\n\t\t\t'tab_user_date_total': { 'label': $.i18n._( 'Accumulated Time' ) },\n\t\t\t'tab_audit': true,\n\t\t};\n\t\tthis.setTabModel( tab_model );\n\n\t\tthis.navigation.AComboBox( {\n\t\t\tapi_class: TTAPI.APIUserDateTotal,\n\t\t\tid: this.script_name + '_navigation',\n\t\t\tallow_multiple_selection: false,\n\t\t\tlayout_name: 'global_wage',\n\t\t\tshow_search_inputs: true,\n\t\t\tnavigation_mode: true\n\t\t} );\n\n\t\tthis.setNavigation();\n\n\t\tvar form_item_input;\n\t\tvar widgetContainer;\n\n\t\t//Tab 0 start\n\t\tvar tab_user_date_total = this.edit_view_tab.find( '#tab_user_date_total' );\n\n\t\tvar tab_user_date_total_column1 = tab_user_date_total.find( '.first-column' );\n\t\tvar tab_user_date_total_column2 = tab_user_date_total.find( '.second-column' );\n\n\t\t//Employee\n\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.TEXT );\n\t\tform_item_input.TText( { field: 'first_last_name' } );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Employee' ), form_item_input, tab_user_date_total_column1, '' );\n\n\t\t//Date\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.DATE_PICKER );\n\t\tform_item_input.TDatePicker( { field: 'date_stamp' } );\n\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Date' ), form_item_input, tab_user_date_total_column1 );\n\n\t\t//Time\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.TEXT_INPUT );\n\t\tform_item_input.TTextInput( { field: 'total_time', mode: 'time_unit', need_parser_sec: true } );\n\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Time' ), form_item_input, tab_user_date_total_column1, '', null, true );\n\n\t\t//Type\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.COMBO_BOX );\n\n\t\tform_item_input.TComboBox( { field: 'object_type_id' } );\n\t\tform_item_input.setSourceData( this.getProperObjectType() );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Type' ), form_item_input, tab_user_date_total_column1 );\n\n\t\t//Regular Policy\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.AWESOME_BOX );\n\t\tform_item_input.AComboBox( {\n\t\t\tapi_class: TTAPI.APIRegularTimePolicy,\n\t\t\tallow_multiple_selection: false,\n\t\t\tlayout_name: 'global_regular_time',\n\t\t\tshow_search_inputs: true,\n\t\t\tset_empty: true,\n\t\t\tfield: 'regular_policy_id'\n\t\t} );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Policy' ), form_item_input, tab_user_date_total_column1, null, null, true );\n\t\tthis.detachElement( 'regular_policy_id' );\n\n\t\t//Absence Policy\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.AWESOME_BOX );\n\t\tform_item_input.AComboBox( {\n\t\t\tapi_class: TTAPI.APIAbsencePolicy,\n\t\t\tallow_multiple_selection: false,\n\t\t\tlayout_name: 'global_absences',\n\t\t\tshow_search_inputs: true,\n\t\t\tset_empty: true,\n\t\t\tfield: 'absence_policy_id'\n\t\t} );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Policy' ), form_item_input, tab_user_date_total_column1, null, null, true );\n\t\tthis.detachElement( 'absence_policy_id' );\n\n\t\t//Overtime Policy\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.AWESOME_BOX );\n\t\tform_item_input.AComboBox( {\n\t\t\tapi_class: TTAPI.APIOverTimePolicy,\n\t\t\tallow_multiple_selection: false,\n\t\t\tlayout_name: 'global_over_time',\n\t\t\tshow_search_inputs: true,\n\t\t\tset_empty: true,\n\t\t\tfield: 'overtime_policy_id'\n\t\t} );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Policy' ), form_item_input, tab_user_date_total_column1, null, null, true );\n\t\tthis.detachElement( 'overtime_policy_id' );\n\n\t\t//Premium Policy\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.AWESOME_BOX );\n\t\tform_item_input.AComboBox( {\n\t\t\tapi_class: TTAPI.APIPremiumPolicy,\n\t\t\tallow_multiple_selection: false,\n\t\t\tlayout_name: 'global_premium',\n\t\t\tshow_search_inputs: true,\n\t\t\tset_empty: true,\n\t\t\tfield: 'premium_policy_id'\n\t\t} );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Policy' ), form_item_input, tab_user_date_total_column1, null, null, true );\n\t\tthis.detachElement( 'premium_policy_id' );\n\n\t\t//Meal Policy\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.AWESOME_BOX );\n\t\tform_item_input.AComboBox( {\n\t\t\tapi_class: TTAPI.APIMealPolicy,\n\t\t\tallow_multiple_selection: false,\n\t\t\tlayout_name: 'global_meal',\n\t\t\tshow_search_inputs: true,\n\t\t\tset_empty: true,\n\t\t\tfield: 'meal_policy_id'\n\t\t} );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Policy' ), form_item_input, tab_user_date_total_column1, null, null, true );\n\t\tthis.detachElement( 'meal_policy_id' );\n\n\t\t//Break Policy\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.AWESOME_BOX );\n\t\tform_item_input.AComboBox( {\n\t\t\tapi_class: TTAPI.APIBreakPolicy,\n\t\t\tallow_multiple_selection: false,\n\t\t\tlayout_name: 'global_break',\n\t\t\tshow_search_inputs: true,\n\t\t\tset_empty: true,\n\t\t\tfield: 'break_policy_id'\n\t\t} );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Policy' ), form_item_input, tab_user_date_total_column1, null, null, true );\n\t\tthis.detachElement( 'break_policy_id' );\n\n\t\t//Pay Code\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.AWESOME_BOX );\n\t\tform_item_input.AComboBox( {\n\t\t\tapi_class: TTAPI.APIPayCode,\n\t\t\tallow_multiple_selection: false,\n\t\t\tlayout_name: 'global_pay_code',\n\t\t\tshow_search_inputs: true,\n\t\t\tset_empty: true,\n\t\t\tfield: 'pay_code_id'\n\t\t} );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Pay Code' ), form_item_input, tab_user_date_total_column1 );\n\n\t\t//Default Branch\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.AWESOME_BOX );\n\n\t\tform_item_input.AComboBox( {\n\t\t\tapi_class: TTAPI.APIBranch,\n\t\t\tallow_multiple_selection: false,\n\t\t\tlayout_name: 'global_branch',\n\t\t\tshow_search_inputs: true,\n\t\t\tset_empty: true,\n\t\t\tfield: 'branch_id'\n\t\t} );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Branch' ), form_item_input, tab_user_date_total_column1, '', null, true );\n\n\t\tif ( !this.show_branch_ui ) {\n\t\t\tthis.detachElement( 'branch_id' );\n\t\t}\n\n\t\t//Department\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.AWESOME_BOX );\n\n\t\tform_item_input.AComboBox( {\n\t\t\tapi_class: TTAPI.APIDepartment,\n\t\t\tallow_multiple_selection: false,\n\t\t\tlayout_name: 'global_department',\n\t\t\tshow_search_inputs: true,\n\t\t\tset_empty: true,\n\t\t\tfield: 'department_id'\n\t\t} );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Department' ), form_item_input, tab_user_date_total_column1, '', null, true );\n\n\t\tif ( !this.show_department_ui ) {\n\t\t\tthis.detachElement( 'department_id' );\n\t\t}\n\n\t\tif ( ( Global.getProductEdition() >= 20 ) ) {\n\n\t\t\t//Job\n\t\t\tform_item_input = Global.loadWidgetByName( FormItemType.AWESOME_BOX );\n\n\t\t\tform_item_input.AComboBox( {\n\t\t\t\tapi_class: TTAPI.APIJob,\n\t\t\t\tallow_multiple_selection: false,\n\t\t\t\tlayout_name: 'global_job',\n\t\t\t\tshow_search_inputs: true,\n\t\t\t\tset_empty: true,\n\t\t\t\tsetRealValueCallBack: ( function( val ) {\n\n\t\t\t\t\tif ( val ) {\n\t\t\t\t\t\tjob_coder.setValue( val.manual_id );\n\t\t\t\t\t}\n\t\t\t\t} ),\n\t\t\t\tfield: 'job_id'\n\t\t\t} );\n\n\t\t\twidgetContainer = $( '<div class=\\'widget-h-box\\'></div>' );\n\n\t\t\tvar job_coder = Global.loadWidgetByName( FormItemType.TEXT_INPUT );\n\t\t\tjob_coder.TTextInput( { field: 'job_quick_search', disable_keyup_event: true } );\n\t\t\tjob_coder.addClass( 'job-coder' );\n\n\t\t\twidgetContainer.append( job_coder );\n\t\t\twidgetContainer.append( form_item_input );\n\t\t\tthis.addEditFieldToColumn( $.i18n._( 'Job' ), [form_item_input, job_coder], tab_user_date_total_column1, '', widgetContainer, true );\n\n\t\t\tif ( !this.show_job_ui ) {\n\t\t\t\tthis.detachElement( 'job_id' );\n\t\t\t}\n\n\t\t\t//Job Item\n\t\t\tform_item_input = Global.loadWidgetByName( FormItemType.AWESOME_BOX );\n\n\t\t\tform_item_input.AComboBox( {\n\t\t\t\tapi_class: TTAPI.APIJobItem,\n\t\t\t\tallow_multiple_selection: false,\n\t\t\t\tlayout_name: 'global_job_item',\n\t\t\t\tshow_search_inputs: true,\n\t\t\t\tset_empty: true,\n\t\t\t\tsetRealValueCallBack: ( function( val ) {\n\n\t\t\t\t\tif ( val ) {\n\t\t\t\t\t\tjob_item_coder.setValue( val.manual_id );\n\t\t\t\t\t}\n\t\t\t\t} ),\n\t\t\t\tfield: 'job_item_id'\n\t\t\t} );\n\n\t\t\twidgetContainer = $( '<div class=\\'widget-h-box\\'></div>' );\n\n\t\t\tvar job_item_coder = Global.loadWidgetByName( FormItemType.TEXT_INPUT );\n\t\t\tjob_item_coder.TTextInput( { field: 'job_item_quick_search', disable_keyup_event: true } );\n\t\t\tjob_item_coder.addClass( 'job-coder' );\n\n\t\t\twidgetContainer.append( job_item_coder );\n\t\t\twidgetContainer.append( form_item_input );\n\t\t\tthis.addEditFieldToColumn( $.i18n._( 'Task' ), [form_item_input, job_item_coder], tab_user_date_total_column1, '', widgetContainer, true );\n\n\t\t\tif ( !this.show_job_item_ui ) {\n\t\t\t\tthis.detachElement( 'job_item_id' );\n\t\t\t}\n\n\t\t}\n\n\t\t//Start Date Time\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.DATE_PICKER );\n\t\tform_item_input.TDatePicker( { field: 'start_time_stamp', mode: 'date_time' } );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Start Date/Time' ), form_item_input, tab_user_date_total_column2, '', null, true, true );\n\n\t\t//End Date Time\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.DATE_PICKER );\n\t\tform_item_input.TDatePicker( { field: 'end_time_stamp', mode: 'date_time' } );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'End Date/Time' ), form_item_input, tab_user_date_total_column2, '', null, true, true );\n\n\t\t//Currency\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.AWESOME_BOX );\n\t\tform_item_input.AComboBox( {\n\t\t\tapi_class: TTAPI.APICurrency,\n\t\t\tallow_multiple_selection: false,\n\t\t\tlayout_name: 'global_currency',\n\t\t\tshow_search_inputs: true,\n\t\t\tfield: 'currency_id',\n\t\t\tset_empty: true\n\t\t} );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Currency' ), form_item_input, tab_user_date_total_column2 );\n\n\t\t//Base Hourly Rate\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.TEXT_INPUT );\n\t\tform_item_input.TTextInput( { field: 'base_hourly_rate', width: 90 } );\n\n\t\twidgetContainer = $( '<div class=\\'widget-h-box\\'></div>' );\n\t\tvar currency = $( '<span class=\\'userDateTotal-currency widget-left-label\\'></span>' );\n\t\tvar code = $( '<span class=\\'userDateTotal-code widget-right-label\\'></span>' );\n\t\twidgetContainer.append( currency );\n\t\twidgetContainer.append( form_item_input );\n\t\twidgetContainer.append( code );\n\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Base Hourly Rate' ), form_item_input, tab_user_date_total_column2, '', widgetContainer, true );\n\n\t\t//Hourly Rate\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.TEXT_INPUT );\n\t\tform_item_input.TTextInput( { field: 'hourly_rate', width: 90 } );\n\n\t\twidgetContainer = $( '<div class=\\'widget-h-box\\'></div>' );\n\t\tcurrency = $( '<span class=\\'userDateTotal-currency widget-left-label\\'></span>' );\n\t\tcode = $( '<span class=\\'userDateTotal-code widget-right-label\\'></span>' );\n\t\twidgetContainer.append( currency );\n\t\twidgetContainer.append( form_item_input );\n\t\twidgetContainer.append( code );\n\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Hourly Rate' ), form_item_input, tab_user_date_total_column2, '', widgetContainer, true );\n\n\t\t//Total Amount\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.TEXT );\n\t\tform_item_input.TText( { field: 'total_time_amount' } );\n\t\twidgetContainer = $( '<div class=\\'widget-h-box\\'></div>' );\n\t\tcurrency = $( '<span class=\\'userDateTotal-currency widget-left-label\\'></span>' );\n\t\tcode = $( '<span class=\\'userDateTotal-code widget-right-label\\'></span>' );\n\t\twidgetContainer.append( currency );\n\t\twidgetContainer.append( form_item_input );\n\t\twidgetContainer.append( code );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Total Amount' ), form_item_input, tab_user_date_total_column2, '', widgetContainer, true );\n\n\t\tif ( ( Global.getProductEdition() >= 20 ) ) {\n\n\t\t\t//Quanitity\n\t\t\tvar good = Global.loadWidgetByName( FormItemType.TEXT_INPUT );\n\t\t\tgood.TTextInput( { field: 'quantity', width: 50 } );\n\t\t\tgood.addClass( 'quantity-input' );\n\n\t\t\tvar good_label = $( '<span class=\\'widget-right-label\\'>' + $.i18n._( 'Good' ) + ': </span>' );\n\n\t\t\tvar bad = Global.loadWidgetByName( FormItemType.TEXT_INPUT );\n\t\t\tbad.TTextInput( { field: 'bad_quantity', width: 50 } );\n\t\t\tbad.addClass( 'quantity-input' );\n\n\t\t\tvar bad_label = $( '<span class=\\'widget-right-label\\'>/ ' + $.i18n._( 'Bad' ) + ': </span>' );\n\n\t\t\twidgetContainer = $( '<div class=\\'widget-h-box\\'></div>' );\n\n\t\t\twidgetContainer.append( good_label );\n\t\t\twidgetContainer.append( good );\n\t\t\twidgetContainer.append( bad_label );\n\t\t\twidgetContainer.append( bad );\n\n\t\t\tthis.addEditFieldToColumn( $.i18n._( 'Quantity' ), [good, bad], tab_user_date_total_column2, '', widgetContainer, true );\n\n\t\t\tif ( !this.show_bad_quantity_ui && !this.show_good_quantity_ui ) {\n\t\t\t\tthis.detachElement( 'quantity' );\n\t\t\t} else {\n\t\t\t\tif ( !this.show_bad_quantity_ui ) {\n\t\t\t\t\tbad_label.hide();\n\t\t\t\t\tbad.hide();\n\t\t\t\t}\n\n\t\t\t\tif ( !this.show_good_quantity_ui ) {\n\t\t\t\t\tgood_label.hide();\n\t\t\t\t\tgood.hide();\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t//Note\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.TEXT_AREA );\n\t\tform_item_input.TTextArea( { field: 'note', width: '100%' } );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Note' ), form_item_input, tab_user_date_total_column2, '', null, true, true );\n\t\tform_item_input.parent().width( '45%' );\n\n\t\tif ( !this.show_note_ui ) {\n\t\t\tthis.detachElement( 'note' );\n\t\t}\n\n\t\t//Override\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.CHECKBOX );\n\t\tform_item_input.TCheckbox( { field: 'override' } );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Override' ), form_item_input, tab_user_date_total_column2, '', null, true, true );\n\t}\n\n\tcleanWhenUnloadView( callBack ) {\n\n\t\t$( '#user_date_total_view_container' ).remove();\n\t\tsuper.cleanWhenUnloadView( callBack );\n\n\t}\n\n}\n\nUserDateTotalViewController.loadView = function( container ) {\n\n\tGlobal.loadViewSource( 'UserDateTotal', 'UserDateTotalView.html', function( result ) {\n\n\t\tvar args = {};\n\t\tvar template = _.template( result );\n\n\t\tif ( Global.isSet( container ) ) {\n\t\t\tcontainer.html( template( args ) );\n\t\t} else {\n\t\t\tGlobal.contentContainer().html( template( args ) );\n\t\t}\n\n\t} );\n\n};\n\nUserDateTotalViewController.loadSubView = function( container, beforeViewLoadedFun, afterViewLoadedFun ) {\n\n\tGlobal.loadViewSource( 'UserDateTotal', 'SubUserDateTotalView.html', function( result ) {\n\n\t\tvar args = {};\n\t\tvar template = _.template( result );\n\n\t\tif ( Global.isSet( beforeViewLoadedFun ) ) {\n\t\t\tbeforeViewLoadedFun();\n\t\t}\n\n\t\tif ( Global.isSet( container ) ) {\n\t\t\tcontainer.html( template( args ) );\n\n\t\t\tif ( Global.isSet( afterViewLoadedFun ) ) {\n\n\t\t\t\tTTPromise.wait( 'BaseViewController', 'initialize', function() {\n\t\t\t\t\tafterViewLoadedFun( sub_user_date_total_view_controller );\n\t\t\t\t} );\n\t\t\t}\n\n\t\t}\n\n\t} );\n\n};\n"],"sourceRoot":""}