(self.webpackChunktimetrex=self.webpackChunktimetrex||[]).push([["datepicker-TDatePicker"],{84:()=>{var e;(e=jQuery).fn.TDatePicker=function(t){var a,i,o,n,r,s,c=e.extend({},e.fn.TDatePicker.defaults,t),l=this,h="",d="date",u=null,f=!0,m=!1,_=!1;return this.getEnabled=function(){return f},this.setEnabled=function(e){f=e,!1===e||""===e?(o.addClass("t-date-picker-readonly"),n.css("display","none"),o.attr("readonly","readonly"),u&&u.hide()):(o.removeClass("t-date-picker-readonly"),n.css("display","inline"),o.removeAttr("readonly"),u&&u.show())},this.setCheckBox=function(e){u&&(u.children().eq(0)[0].checked=e)},this.isChecked=function(){return!(!u||!0!==u.children().eq(0)[0].checked)},this.setMassEditMode=function(t){t?((u=e(' <div class="mass-edit-checkbox-wrapper"><input type="checkbox" class="mass-edit-checkbox"></input><label for="checkbox-input-1" class="input-helper input-helper--checkbox"></label></div>')).insertBefore(e(this)),u.change((function(){l.trigger("formItemChange",[l])}))):u&&(u.remove(),u=null)},this.setErrorStyle=function(e,t,a){a?o.addClass("warning-tip"):o.addClass("error-tip"),h=e,t&&this.showErrorTip()},this.showErrorTip=function(e){Global.isSet(e)||(e=2),r||(r=(r=Global.loadWidgetByName(WidgetNamesDic.ERROR_TOOLTIP)).ErrorTipBox()),o.hasClass("warning-tip")?r.show(this,h,e,!0):r.show(this,h,e)},this.hideErrorTip=function(){Global.isSet(r)&&r.remove()},this.clearErrorStyle=function(){o&&(o.removeClass("error-tip"),o.removeClass("warning-tip"),this.hideErrorTip(),h="")},this.getField=function(){return a},this.getValidationField=function(){return i},this.getDefaultFormatValue=function(){var e=o?o.val():null;return e=Global.strToDate(e)&&Global.strToDate(e).format("YYYY-MM-DD")},this.setPlaceHolder=function(e){o.attr("placeholder",e)},this.getValue=function(){return s?[o.val()]:o.val()},this.setValue=function(e){o&&(e||(e=""),o.val(e),this.autoResize())},this.setDefaultWidgetValue=function(){e(this).attr("widget-value")&&this.setValue(e(this).attr("widget-value"))},this.autoResize=function(){var e,t,a;a=LocalCacheData.getLoginUserPreference()?LocalCacheData.getLoginUserPreference().date_format_display:"dd-mmm-yy",_||("date"===d?t=Global.calculateTextWidth(a):"date_time"===d&&(t=Global.calculateTextWidth(a+" "+LocalCacheData.getLoginUserPreference().time_format_display)),e=Global.calculateTextWidth(o.val(),{min_width:t,max_width:t+100,padding:28}),l.width(e+"px"))},this.each((function(){var t=e.meta?e.extend({},c,e(this).data()):c;a=t.field,t.validation_field&&(i=t.validation_field),s=t.multiple,Global.isSet(t.mode)&&(d=t.mode),n=e(this).find(".t-date-picker-icon"),o=e(this).find(".t-date-picker"),n.attr("src",Global.getRealImagePath("images/cal.png")),n.bind("mousedown",(function(e){e.stopPropagation()})),n.bind("mouseup",(function(){f&&(m?(o.datepicker("hide"),m=!1):(o.datepicker("show"),m=!0))}));var r="h:mm TT",p="dd-M-y";LocalCacheData.getLoginUserPreference()&&(p=LocalCacheData.getLoginUserPreference().date_format_1,r=LocalCacheData.getLoginUserPreference().time_format_1);var g=[e.i18n._("Sun"),e.i18n._("Mon"),e.i18n._("Tue"),e.i18n._("Wed"),e.i18n._("Thu"),e.i18n._("Fri"),e.i18n._("Sat")],w=[e.i18n._("Jan"),e.i18n._("Feb"),e.i18n._("Mar"),e.i18n._("Apr"),e.i18n._("May"),e.i18n._("Jun"),e.i18n._("Jul"),e.i18n._("Aug"),e.i18n._("Sep"),e.i18n._("Oct"),e.i18n._("Nov"),e.i18n._("Dec")],C=e.i18n._("Today"),T=e.i18n._("Close");e.datepicker._gotoToday=function(t){e(t).datepicker("setDate",new Date).datepicker("hide").change()},"date"===d?(o=o.datepicker({showOtherMonths:!0,selectOtherMonths:!0,showTime:!1,dateFormat:p,showHour:!1,showMinute:!1,changeMonth:!0,changeYear:!0,showButtonPanel:!0,duration:"",showAnim:"",yearRange:"-100:+10",showOn:"",dayNamesMin:g,currentText:C,monthNamesShort:w,closeText:T,beforeShow:function(){t.beforeShow&&t.beforeShow()},onClose:function(){m=!1,l.autoResize(),t.onClose&&t.onClose()}}),LocalCacheData.getLoginUserPreference()?l.setPlaceHolder(LocalCacheData.getLoginUserPreference().date_format_display):l.setPlaceHolder("dd-mmm-yy")):"date_time"===d&&(o=o.datetimepicker({showOtherMonths:!0,selectOtherMonths:!0,dateFormat:p,timeFormat:r,showTime:!0,showHour:!0,showMinute:!0,changeMonth:!0,changeYear:!0,showButtonPanel:!0,duration:"",showAnim:"",showOn:"",yearRange:"-100:+10",closeText:T,dayNamesMin:g,monthNamesShort:w,currentText:C,onClose:function(){m=!1,l.autoResize(),t.onClose&&t.onClose()}}),l.setPlaceHolder(LocalCacheData.loginUserPreference.date_format_display+" "+LocalCacheData.loginUserPreference.time_format_display)),o.change((function(){u&&l.setCheckBox(!0),l.trigger("formItemChange",[l]),l.autoResize()})),o.mouseover((function(){f&&h&&h.length>0&&l.showErrorTip(20)})),o.mouseout((function(){e(l).is(":focus")||l.hideErrorTip()})),o.focusin((function(e){f?h&&h.length>0&&l.showErrorTip(20):u||(LocalCacheData.current_open_sub_controller&&LocalCacheData.current_open_sub_controller.edit_view&&LocalCacheData.current_open_sub_controller.is_viewing||LocalCacheData.current_open_primary_controller&&LocalCacheData.current_open_primary_controller.edit_view&&LocalCacheData.current_open_primary_controller.is_viewing)&&(h=Global.view_mode_message,l.showErrorTip(10))})),o.focusout((function(){l.hideErrorTip()})),t.width>0?(l.width(t.width),_=!0):(l.autoResize(),_=!1),l.setDefaultWidgetValue()})),this},e.fn.TDatePicker.defaults={}}}]);
//# sourceMappingURL=datepicker-TDatePicker.bundle.js.map?v=860cb9e3a05f8a2f4634