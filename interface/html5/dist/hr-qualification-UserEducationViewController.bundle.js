(self.webpackChunktimetrex=self.webpackChunktimetrex||[]).push([["hr-qualification-UserEducationViewController"],{2305:(e,i,t)=>{"use strict";t.r(i),t.d(i,{"UserEducationViewController":()=>a});class a extends BaseViewController{constructor(e={}){_.defaults(e,{el:"#user_education_view_container",document_object_type_id:null,qualification_group_array:null,source_type_array:null,qualification_group_api:null,qualification_api:null,sub_view_grid_autosize:!0}),super(e)}init(e){this.edit_view_tpl="UserEducationEditView.html",this.permission_id="user_education",this.viewId="UserEducation",this.script_name="UserEducationVoew",this.table_name_key="user_education",this.context_menu_name=$.i18n._("Education"),this.navigation_label=$.i18n._("Education")+":",this.api=TTAPI.APIUserEducation,this.qualification_api=TTAPI.APIQualification,this.qualification_group_api=TTAPI.APIQualificationGroup,this.document_object_type_id=126,this.render(),this.sub_view_mode||(this.buildContextMenu(),this.initData(),this.setSelectRibbonMenuIfNecessary("UserEducation"))}initOptions(){var e=this;this.initDropDownOption("source_type"),this.qualification_group_api.getQualificationGroup("",!1,!1,{onResult:function(i){i=i.getResult(),i=Global.buildTreeRecord(i),e.qualification_group_array=i,!e.sub_view_mode&&e.basic_search_field_ui_dic.group_id&&(e.basic_search_field_ui_dic.group_id.setSourceData(i),e.adv_search_field_ui_dic.group_id.setSourceData(i))}});var i={},t={type_id:[20]};i.filter_data=t,this.qualification_api.getQualification(i,{onResult:function(i){i=i.getResult(),!e.sub_view_mode&&e.basic_search_field_ui_dic.qualification_id&&(e.basic_search_field_ui_dic.qualification_id.setSourceData(i),e.adv_search_field_ui_dic.qualification_id.setSourceData(i))}})}showNoResultCover(e){super.showNoResultCover(!!this.sub_view_mode)}onGridSelectRow(){this.sub_view_mode?(this.buildContextMenu(!0),this.cancelOtherSubViewSelectedStatus()):this.buildContextMenu(),this.setDefaultMenu()}onGridSelectAll(){this.sub_view_mode&&(this.buildContextMenu(!0),this.cancelOtherSubViewSelectedStatus()),this.setDefaultMenu()}cancelOtherSubViewSelectedStatus(){switch(!0){case void 0!==this.parent_view_controller.sub_user_skill_view_controller:this.parent_view_controller.sub_user_skill_view_controller.unSelectAll();case void 0!==this.parent_view_controller.sub_user_license_view_controller:this.parent_view_controller.sub_user_license_view_controller.unSelectAll();case void 0!==this.parent_view_controller.sub_user_membership_view_controller:this.parent_view_controller.sub_user_membership_view_controller.unSelectAll();case void 0!==this.parent_view_controller.sub_user_language_view_controller:this.parent_view_controller.sub_user_language_view_controller.unSelectAll()}}onAddClick(){this.sub_view_mode&&this.buildContextMenu(!0),super.onAddClick()}onMassEditClick(){var e=this;e.is_add=!1,e.is_viewing=!1,e.is_mass_editing=!0,LocalCacheData.current_doing_context_action="mass_edit",e.openEditView();var i={},t=this.getGridSelectIdArray();t.length;this.mass_edit_record_ids=[],$.each(t,(function(i,t){e.mass_edit_record_ids.push(t)})),i.filter_data={},i.filter_data.id=this.mass_edit_record_ids,this.api["getCommon"+this.api.key_name+"Data"](i,{onResult:function(i){var t=i.getResult();e.unique_columns={},e.linked_columns={},t||(t=[]),e.sub_view_mode&&e.parent_key&&(t[e.parent_key]=e.parent_value),e.current_edit_record=t,e.initEditView()}})}buildEditViewUI(){super.buildEditViewUI();var e={"tab_education":{"label":$.i18n._("Education")},"tab_attachment":!0,"tab_audit":!0};this.setTabModel(e),this.navigation.AComboBox({api_class:TTAPI.APIUserEducation,id:this.script_name+"_navigation",allow_multiple_selection:!1,layout_name:"global_user_education",navigation_mode:!0,show_search_inputs:!0}),this.setNavigation();var i=this.edit_view_tab.find("#tab_education").find(".first-column");this.edit_view_tabs[0]=[],this.edit_view_tabs[0].push(i);var t=Global.loadWidgetByName(FormItemType.AWESOME_BOX);t.AComboBox({api_class:TTAPI.APIUser,allow_multiple_selection:!1,layout_name:"global_user",field:"user_id",set_empty:!0,show_search_inputs:!0});var a={permission_section:"user_education"};t.setDefaultArgs(a),this.addEditFieldToColumn($.i18n._("Employee"),t,i,"");var l={},_={type_id:[20]};l.filter_data=_,(t=Global.loadWidgetByName(FormItemType.AWESOME_BOX)).AComboBox({api_class:TTAPI.APIQualification,allow_multiple_selection:!1,layout_name:"global_qualification",show_search_inputs:!0,set_empty:!0,field:"qualification_id"}),t.setDefaultArgs(l),this.addEditFieldToColumn($.i18n._("Course"),t,i),(t=Global.loadWidgetByName(FormItemType.TEXT_INPUT)).TTextInput({field:"institute",width:300}),this.addEditFieldToColumn($.i18n._("Institute"),t,i),(t=Global.loadWidgetByName(FormItemType.TEXT_INPUT)).TTextInput({field:"major",width:300}),this.addEditFieldToColumn($.i18n._("Major/Specialization"),t,i),(t=Global.loadWidgetByName(FormItemType.TEXT_INPUT)).TTextInput({field:"minor",width:300}),this.addEditFieldToColumn($.i18n._("Minor"),t,i),(t=Global.loadWidgetByName(FormItemType.TEXT_INPUT)).TTextInput({field:"grade_score",width:50}),this.addEditFieldToColumn($.i18n._("Grade/Score"),t,i),(t=Global.loadWidgetByName(FormItemType.DATE_PICKER)).TDatePicker({field:"graduate_date"}),this.addEditFieldToColumn($.i18n._("Graduation Date"),t,i,"",null),(t=Global.loadWidgetByName(FormItemType.DATE_PICKER)).TDatePicker({field:"start_date"}),this.addEditFieldToColumn($.i18n._("Start Date"),t,i,"",null),(t=Global.loadWidgetByName(FormItemType.DATE_PICKER)).TDatePicker({field:"end_date"}),this.addEditFieldToColumn($.i18n._("End Date"),t,i,"",null),(t=Global.loadWidgetByName(FormItemType.TAG_INPUT)).TTagInput({field:"tag",object_type_id:252}),this.addEditFieldToColumn($.i18n._("Tags"),t,i,"",null,null,!0)}buildSearchFields(){super.buildSearchFields();var e={permission_section:"user_education"};this.search_fields=[new SearchField({label:$.i18n._("Employee"),in_column:1,field:"user_id",default_args:e,layout_name:"global_user",api_class:TTAPI.APIUser,multiple:!0,basic_search:!0,adv_search:!0,form_item_type:FormItemType.AWESOME_BOX}),new SearchField({label:$.i18n._("Course"),in_column:1,field:"qualification_id",layout_name:"global_qualification",api_class:TTAPI.APIQualification,multiple:!0,basic_search:!0,adv_search:!0,form_item_type:FormItemType.AWESOME_BOX}),new SearchField({label:$.i18n._("Institute"),in_column:1,field:"institute",multiple:!0,basic_search:!0,adv_search:!0,form_item_type:FormItemType.TEXT_INPUT}),new SearchField({label:$.i18n._("Tags"),field:"tag",basic_search:!0,adv_search:!0,in_column:1,object_type_id:252,form_item_type:FormItemType.TAG_INPUT}),new SearchField({label:$.i18n._("Group"),in_column:2,multiple:!0,field:"group_id",layout_name:"global_tree_column",tree_mode:!0,basic_search:!0,adv_search:!0,form_item_type:FormItemType.AWESOME_BOX}),new SearchField({label:$.i18n._("Source"),in_column:2,multiple:!0,field:"source_type_id",basic_search:!0,adv_search:!0,layout_name:"global_option_column",form_item_type:FormItemType.AWESOME_BOX}),new SearchField({label:$.i18n._("Major/Specialization"),in_column:2,field:"major",multiple:!0,basic_search:!0,adv_search:!0,form_item_type:FormItemType.TEXT_INPUT}),new SearchField({label:$.i18n._("Minor"),in_column:2,field:"minor",multiple:!0,basic_search:!0,adv_search:!0,form_item_type:FormItemType.TEXT_INPUT}),new SearchField({label:$.i18n._("Created By"),in_column:2,field:"created_by",layout_name:"global_user",api_class:TTAPI.APIUser,multiple:!0,basic_search:!1,adv_search:!0,form_item_type:FormItemType.AWESOME_BOX}),new SearchField({label:$.i18n._("Updated By"),in_column:2,field:"updated_by",layout_name:"global_user",api_class:TTAPI.APIUser,multiple:!0,basic_search:!1,adv_search:!0,form_item_type:FormItemType.AWESOME_BOX}),new SearchField({label:$.i18n._("Graduation Date"),in_column:3,field:"graduate_date",tree_mode:!0,basic_search:!1,adv_search:!0,form_item_type:FormItemType.DATE_PICKER}),new SearchField({label:$.i18n._("Start Date"),in_column:3,field:"start_date",tree_mode:!0,basic_search:!1,adv_search:!0,form_item_type:FormItemType.DATE_PICKER}),new SearchField({label:$.i18n._("End Date"),in_column:3,field:"end_date",tree_mode:!0,basic_search:!1,adv_search:!0,form_item_type:FormItemType.DATE_PICKER})]}searchDone(){super.searchDone(),TTPromise.resolve("Employee_Qualifications_Tab","UserEducationViewController")}}a.loadSubView=function(e,i,t){Global.loadViewSource("UserEducation","SubUserEducationView.html",(function(a){var l=_.template(a);Global.isSet(i)&&i(),Global.isSet(e)&&(e.html(l({})),Global.isSet(t)&&t(sub_user_education_view_controller))}))}}}]);
//# sourceMappingURL=hr-qualification-UserEducationViewController.bundle.js.map?v=46a5e5ebec108b49b003