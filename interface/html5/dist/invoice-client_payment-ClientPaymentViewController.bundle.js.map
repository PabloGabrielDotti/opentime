{"version":3,"sources":["webpack://timetrex/./interface/html5/global/widgets/filebrowser/TImage.js","webpack://timetrex/./interface/html5/global/widgets/filebrowser/TImageAdvBrowser.js","webpack://timetrex/./interface/html5/views/invoice/client_payment/ClientPaymentViewController.js"],"names":["$","fn","TImage","options","Global","addCss","field","opts","extend","defaults","this","clearErrorStyle","getField","getValue","setValue","val","d","Date","attr","getTime","each","o","meta","data","document","on","e","$this_image_widget","target","parents","height","top","file_browser_overlay","css","append","parent","find","TAlertManager","showConfirmAlert","i18n","_","flag","type","message","time","trigger","off","remove","jQuery","TImageAdvBrowser","image","result_form_data","$this","accept_filter","default_width","default_height","callBack","setEnable","btn","children","eq","show","hide","setImage","getCookie","onImageLoad","image_height","naturalHeight","image_width","width","naturalWidth","setEnableDelete","removeAttr","text","show_browser","isSet","name","deleteImageHandler","bind","IndexViewController","openWizard","form_data","ClientPaymentViewController","BaseViewController","el","status_array","type_array","credit_card_type_array","sub_document_view_controller","bank_account_type_array","document_object_type_id","file_browser","super","edit_view_tpl","permission_id","viewId","script_name","table_name_key","context_menu_name","navigation_label","api","TTAPI","APIClientPayment","render","buildContextMenu","sub_view_mode","initData","setSelectRibbonMenuIfNecessary","initDropDownOption","adv_search_field_ui_dic","basic_search_field_ui_dic","setSourceData","buildRecordArray","0","1","context_menu_model","exclude","include","push","label","id","ContextMenuIconName","edit_client","group","icon","Icons","client","client_contact","transaction","invoice","key","setDefaultData","current_edit_record","hasOwnProperty","widget","edit_view_ui_dic","signature_exists","client_id","url","ServiceCaller","getURLByObjectType","detachElement","collectUIDataToCurrentEditRecord","setEditViewDataDone","doNotSetFocus","context_menu_array","selectContextMenu","setTotalDisplaySpan","len","length","grid_selected_length","getGridSelectIdArray","i","context_btn","removeClass","add","setDefaultMenuAddIcon","edit","setDefaultMenuEditIcon","view","setDefaultMenuViewIcon","mass_edit","setDefaultMenuMassEditIcon","copy","setDefaultMenuCopyIcon","delete_icon","setDefaultMenuDeleteIcon","delete_and_next","setDefaultMenuDeleteAndNextIcon","save","setDefaultMenuSaveIcon","save_and_next","setDefaultMenuSaveAndNextIcon","save_and_continue","setDefaultMenuSaveAndContinueIcon","save_and_new","setDefaultMenuSaveAndAddIcon","save_and_copy","setDefaultMenuSaveAndCopyIcon","copy_as_new","setDefaultMenuCopyAsNewIcon","login","setDefaultMenuLoginIcon","cancel","setDefaultMenuCancelIcon","import_icon","setDefaultMenuImportIcon","setDefaultMenuEditClientIcon","export_excel","setDefaultMenuExportIcon","setContextMenuGroupVisibility","pId","addClass","download","onDownloadClick","onNavigationClick","column_filter","display_columns","grid","getGridParam","iconName","grid_selected_id_array","filter","filter_data","client_ids","edit_view","index","value","grid_selected_row","getRecordFromGridById","openEditView","addViewTab","window","location","href","goToView","onExportClick","key_name","buildEditViewUI","tab_model","setTabModel","navigation","AComboBox","api_class","allow_multiple_selection","layout_name","navigation_mode","show_search_inputs","setNavigation","tab_payment_method_column1","edit_view_tab","edit_view_tabs","form_item_input","loadWidgetByName","FormItemType","AWESOME_BOX","APIClient","set_empty","addEditFieldToColumn","COMBO_BOX","TComboBox","CHECKBOX","TCheckbox","TEXT_INPUT","TTextInput","DATE_PICKER","TDatePicker","IMAGE_AVD_BROWSER","TEXT_AREA","TTextArea","buildSearchFields","search_fields","SearchField","in_column","multiple","basic_search","adv_search","form_item_type","APIUser","doNotValidate","setIsChanged","setMassEditingFieldsWhenFormChange","c_value","onTypeChange","onBankAccountTypeChange","validate","attachElement","editFieldResize","edit_view_form_item_dic","loadSubView","container","beforeViewLoadedFun","afterViewLoadedFun","loadViewSource","result","template","html","sub_client_payment_view_controller"],"mappings":"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","file":"invoice-client_payment-ClientPaymentViewController.bundle.js?v=a864a14570c83ba2a427","sourcesContent":["( function( $ ) {\n\n\t$.fn.TImage = function( options ) {\n\n\t\tGlobal.addCss( 'global/widgets/filebrowser/TImageBrowser.css' );\n\t\tvar opts = $.extend( {}, $.fn.TImage.defaults, options );\n\n\t\tvar $this = this;\n\t\tvar field;\n\n\t\tthis.clearErrorStyle = function() {\n\n\t\t};\n\n\t\tthis.getField = function() {\n\t\t\treturn field;\n\t\t};\n\n\t\tthis.getValue = function() {\n\t\t\treturn null;\n\t\t};\n\n\t\tthis.setValue = function( val ) {\n\t\t\tif ( !val ) {\n\t\t\t\tthis.attr( 'src', '' );\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar d = new Date();\n\t\t\tthis.attr( 'src', val + '&t=' + d.getTime() );\n\n\t\t};\n\n\t\tthis.each( function() {\n\n\t\t\tvar o = $.meta ? $.extend( {}, opts, $( this ).data() ) : opts;\n\n\t\t\tfield = o.field;\n\n\t\t} );\n\n\t\treturn this;\n\n\t};\n\n\t$.fn.TImage.defaults = {};\n\n\t$( document ).on( 'mouseover', '.file-browser img', function( e ) {\n\t\tvar $this_image_widget = $( e.target ).parents( '.file-browser' );\n\n\t\tif ( !$( '.file_browser_overlay' )[0] && $( e.target ).attr( 'enable-delete' ) == 1 ) {\n\t\t\tvar height = $( e.target ).height();\n\t\t\tvar top = ( height - 32 ) / 2;\n\t\t\tvar left = top;\n\n\t\t\tvar file_browser_overlay = $( '<div class=\"file_browser_overlay\"><img src=\"theme/default/images/delete-512.png\" style=\"position:absolute;width:32px;height:32px;top:' + top + 'px;left:' + left + 'px;\"></div>' );\n\t\t\tfile_browser_overlay.css( 'position', 'absolute' );\n\t\t\tfile_browser_overlay.css( 'top', '0px' );\n\t\t\tfile_browser_overlay.css( 'left', '0' );\n\t\t\tfile_browser_overlay.css( 'cursor', 'pointer' );\n\t\t\tfile_browser_overlay.css( 'height', height + 'px' );\n\t\t\tfile_browser_overlay.css( 'width', '100%' );\n\t\t\tfile_browser_overlay.css( 'background', 'rgba(255,255,255,0.85)' );\n\n\t\t\t$( e.target ).parents( '.file-browser' ).append( file_browser_overlay );\n\n\t\t\t$( document ).on( 'click', '.file_browser_overlay', function( e ) {\n\t\t\t\tvar img_src = $( e.target ).parent().find( 'img' ).attr( 'src' );\n\t\t\t\tTAlertManager.showConfirmAlert( $.i18n._( 'This will permanently delete the image. Are you sure?' ), '', function( flag ) {\n\t\t\t\t\tif ( flag ) {\n\t\t\t\t\t\tvar e = { type: 'deleteClick', message: 'Delete image clicked.', time: new Date() };\n\t\t\t\t\t\t$this_image_widget.trigger( e );\n\t\t\t\t\t}\n\t\t\t\t} );\n\t\t\t} );\n\n\t\t\t$( document ).on( 'mouseleave', '.file-browser', function() {\n\t\t\t\t$( document ).off( 'click', '.file_browser_overlay' );\n\t\t\t\tif ( $( '.file_browser_overlay' )[0] ) {\n\t\t\t\t\tvar file_browser_overlay = $( this ).find( '.file_browser_overlay' );\n\t\t\t\t\tfile_browser_overlay.off().remove();\n\t\t\t\t}\n\t\t\t} );\n\t\t}\n\t} );\n\n} )( jQuery );","( function( $ ) {\n\n\t$.fn.TImageAdvBrowser = function( options ) {\n\n\t\tGlobal.addCss( 'global/widgets/filebrowser/TImageBrowser.css' );\n\t\tvar opts = $.extend( {}, $.fn.TImageAdvBrowser.defaults, options );\n\n\t\tvar $this = this;\n\t\tvar field;\n\t\tvar name = 'filedata';\n\n\t\tvar accept_filter = '';\n\n\t\tvar default_width = 177;\n\t\tvar default_height = 42;\n\n\t\tvar callBack = null;\n\n\t\tvar enabled = true;\n\n\t\tvar image;\n\n\t\tvar result_form_data;\n\n\t\tthis.setEnable = function( val ) {\n\t\t\tenabled = val;\n\n\t\t\tvar btn = this.children().eq( 1 );\n\t\t\tif ( !val ) {\n\t\t\t\tbtn.hide();\n\t\t\t} else {\n\t\t\t\tbtn.show();\n\t\t\t}\n\n\t\t};\n\n\t\tthis.clearErrorStyle = function() {\n\n\t\t};\n\n\t\tthis.getField = function() {\n\t\t\treturn field;\n\t\t};\n\n\t\tthis.getValue = function() {\n\t\t\treturn result_form_data;\n\t\t};\n\n\t\tthis.setImage = function( val ) {\n\t\t\tif ( !val ) {\n\t\t\t\timage.attr( 'src', '' );\n\t\t\t\timage.hide();\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar d = new Date();\n\t\t\timage.hide();\n\t\t\timage.attr( 'src', val + '&t=' + d.getTime() + '&X-CSRF-Token=' + getCookie( 'CSRF-Token' ) );\n\t\t\timage.css( 'height', 'auto' );\n\t\t\timage.css( 'width', 'auto' );\n\n\t\t};\n\n\t\tthis.onImageLoad = function( image ) {\n\n\t\t\tvar image_height = $( image ).height() > 0 ? $( image ).height() : image.naturalHeight;\n\t\t\tvar image_width = $( image ).width() > 0 ? $( image ).width() : image.naturalWidth;\n\n\t\t\tif ( image_height > default_height ) {\n\t\t\t\t$( image ).css( 'height', default_height );\n\n\t\t\t}\n\n\t\t\tif ( image_width > default_width ) {\n\t\t\t\t$( image ).css( 'width', default_width );\n\t\t\t\t$( image ).css( 'height', 'auto' );\n\t\t\t}\n\n\t\t\t$this.trigger( 'setSize' );\n\n\t\t\tif ( image_height < 5 ) {\n\t\t\t\t$( image ).hide();\n\t\t\t} else {\n\t\t\t\t$( image ).show();\n\t\t\t}\n\n\t\t};\n\n\t\tthis.setValue = function( val ) {\n\n\t\t\tif ( !val ) {\n\t\t\t\tval = '';\n\t\t\t}\n\n\t\t};\n\n\t\tthis.setEnableDelete = function( val ) {\n\t\t\tvar image = $this.find( '.image' );\n\t\t\tif ( !val ) {\n\t\t\t\timage.removeAttr( 'enable-delete' );\n\t\t\t\treturn;\n\t\t\t} else {\n\t\t\t\timage.attr( 'enable-delete', 1 );\n\t\t\t}\n\t\t};\n\n\t\tthis.each( function() {\n\n\t\t\tvar o = $.meta ? $.extend( {}, opts, $( this ).data() ) : opts;\n\n\t\t\tfield = o.field;\n\n\t\t\tvar $$this = this;\n\n\t\t\t$( this ).find( '#upload_image' ).text( $.i18n._( 'Upload Image' ) );\n\n\t\t\tif ( o.callBack ) {\n\t\t\t\tcallBack = o.callBack;\n\t\t\t}\n\n\t\t\tif ( o.show_browser === false ) {\n\t\t\t\t$( this ).children().eq( 1 ).hide();\n\t\t\t}\n\n\t\t\tif ( o.default_width > 0 ) {\n\t\t\t\tdefault_width = o.default_width;\n\t\t\t}\n\n\t\t\tif ( o.default_height > 0 ) {\n\t\t\t\tdefault_height = o.default_height;\n\t\t\t}\n\n\t\t\tif ( Global.isSet( o.name ) ) {\n\t\t\t\tname = o.name;\n\t\t\t}\n\n\t\t\tif ( Global.isSet( accept_filter ) ) {\n\t\t\t\taccept_filter = o.accept_filter;\n\t\t\t}\n\n\t\t\tif ( Global.isSet( o.deleteImageHandler ) ) {\n\t\t\t\t$this.find( '.file-browser' ).on( 'deleteClick', function() {\n\t\t\t\t\to.deleteImageHandler();\n\t\t\t\t} );\n\n\t\t\t}\n\n\t\t\tvar browser = $( this ).children().eq( 1 );\n\t\t\tbrowser.bind( 'click', function() {\n\t\t\t\tIndexViewController.openWizard( 'UserPhotoWizard', null, function( form_data ) {\n\n\t\t\t\t\tif ( callBack ) {\n\t\t\t\t\t\tcallBack( form_data );\n\t\t\t\t\t}\n\n\t\t\t\t\tresult_form_data = form_data;\n\n\t\t\t\t} );\n\t\t\t} );\n\n\t\t\timage = $( this ).children().eq( 0 );\n\t\t\timage.on( 'load', function() {\n\t\t\t\t$this.onImageLoad( this );\n\t\t\t} );\n\n\t\t\timage.hide();\n\n\t\t} );\n\n\t\treturn this;\n\n\t};\n\n\t$.fn.TImageAdvBrowser.defaults = {};\n\n} )( jQuery );","import '@/global/widgets/filebrowser/TImage';\nimport '@/global/widgets/filebrowser/TImageAdvBrowser';\n\nexport class ClientPaymentViewController extends BaseViewController {\n\tconstructor( options = {} ) {\n\t\t_.defaults( options, {\n\t\t\tel: '#client_payment_view_container',\n\n\t\t\t// _required_files: ['TImageAdvBrowser', 'TImage'],\n\n\t\t\tstatus_array: null,\n\t\t\ttype_array: null,\n\t\t\tcredit_card_type_array: null,\n\t\t\tsub_document_view_controller: null,\n\t\t\tbank_account_type_array: null,\n\t\t\tdocument_object_type_id: null,\n\t\t\tfile_browser: null\n\t\t} );\n\n\t\tsuper( options );\n\t}\n\n\tinit( options ) {\n\t\tvar $this = this;\n\t\tthis.edit_view_tpl = 'ClientPaymentEditView.html';\n\t\tthis.permission_id = 'client_payment';\n\t\tthis.viewId = 'ClientPayment';\n\t\tthis.script_name = 'ClientPaymentView';\n\t\tthis.table_name_key = 'client_payment';\n\t\tthis.document_object_type_id = 90;\n\t\tthis.context_menu_name = $.i18n._( 'Payment Methods' );\n\t\tthis.navigation_label = $.i18n._( 'Payment Methods' ) + ':';\n\t\tthis.api = TTAPI.APIClientPayment;\n\n\t\tthis.render();\n\t\tthis.buildContextMenu();\n\n\t\tif ( !this.sub_view_mode ) {\n\t\t\tthis.initData();\n\t\t}\n\t\tthis.setSelectRibbonMenuIfNecessary( 'ClientPayment' );\n\t}\n\n\tinitOptions() {\n\t\tvar $this = this;\n\n\t\tthis.initDropDownOption( 'status' );\n\t\tthis.initDropDownOption( 'type' );\n\t\tthis.initDropDownOption( 'bank_account_type' );\n\t\tthis.initDropDownOption( 'credit_card_type', 'cc_type_id' );\n\n\t\tif ( Global.isSet( $this.adv_search_field_ui_dic['is_default'] ) ) {\n\t\t\tthis.basic_search_field_ui_dic['is_default'].setSourceData( Global.buildRecordArray( {\n\t\t\t\t0: 'False',\n\t\t\t\t1: 'True'\n\t\t\t} ) );\n\t\t}\n\t}\n\n\tgetCustomContextMenuModel() {\n\t\tvar context_menu_model = {\n\t\t\texclude: [],\n\t\t\tinclude: ['default']\n\t\t};\n\n\t\tif ( !this.sub_view_mode ) {\n\n\t\t\tcontext_menu_model.include.push(\n\t\t\t\t{\n\t\t\t\t\tlabel: $.i18n._( 'Edit Client' ),\n\t\t\t\t\tid: ContextMenuIconName.edit_client,\n\t\t\t\t\tgroup: 'navigation',\n\t\t\t\t\ticon: Icons.client\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tlabel: $.i18n._( 'Client Contacts' ),\n\t\t\t\t\tid: ContextMenuIconName.client_contact,\n\t\t\t\t\tgroup: 'navigation',\n\t\t\t\t\ticon: Icons.client_contact\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tlabel: $.i18n._( 'Transactions' ),\n\t\t\t\t\tid: ContextMenuIconName.transaction,\n\t\t\t\t\tgroup: 'navigation',\n\t\t\t\t\ticon: Icons.transaction\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tlabel: $.i18n._( 'Invoices' ),\n\t\t\t\t\tid: ContextMenuIconName.invoice,\n\t\t\t\t\tgroup: 'navigation',\n\t\t\t\t\ticon: Icons.invoice\n\t\t\t\t}\n\t\t\t);\n\t\t}\n\n\t\treturn context_menu_model;\n\t}\n\n\tsetCurrentEditRecordData() {\n\t\t// When mass editing, these fields may not be the common data, so their value will be undefined, so this will cause their change event cannot work properly.\n\t\tthis.setDefaultData( {\n\t\t\t'type_id': 30,\n\t\t\t'bank_account_type_id': 200\n\t\t} );\n\n\t\t//Set current edit record data to all widgets\n\t\tfor ( var key in this.current_edit_record ) {\n\n\t\t\tif ( !this.current_edit_record.hasOwnProperty( key ) ) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tvar widget = this.edit_view_ui_dic[key];\n\t\t\tif ( Global.isSet( widget ) ) {\n\t\t\t\twidget.setValue( this.current_edit_record[key] );\n\n\t\t\t}\n\t\t}\n\n\t\tif ( this.current_edit_record.signature_exists && this.current_edit_record.id && this.current_edit_record.client_id ) {\n\t\t\tvar url = ServiceCaller.getURLByObjectType( 'file_download' ) + '&object_type=client_payment_signature&object_id=' + this.current_edit_record.id + '&parent_id=' + this.current_edit_record.client_id;\n\t\t\tthis.file_browser.setImage( url );\n\t\t} else {\n\t\t\tthis.detachElement( 'signature' );\n\t\t}\n\n\t\tthis.collectUIDataToCurrentEditRecord();\n\t\tthis.setEditViewDataDone();\n\t}\n\n\t/* jshint ignore:start */\n\tsetDefaultMenu( doNotSetFocus ) {\n\n\t\t//Error: Uncaught TypeError: Cannot read property 'length' of undefined in /interface/html5/#!m=Employee&a=edit&id=42411&tab=Wage line 282\n\t\tif ( !this.context_menu_array ) {\n\t\t\treturn;\n\t\t}\n\n\t\tif ( !Global.isSet( doNotSetFocus ) || !doNotSetFocus ) {\n\t\t\tthis.selectContextMenu();\n\t\t}\n\n\t\tthis.setTotalDisplaySpan();\n\n\t\tvar len = this.context_menu_array.length;\n\n\t\tvar grid_selected_id_array = this.getGridSelectIdArray();\n\n\t\tvar grid_selected_length = grid_selected_id_array.length;\n\n\t\tfor ( var i = 0; i < len; i++ ) {\n\t\t\tvar context_btn = $( this.context_menu_array[i] );\n\t\t\tvar id = $( context_btn.find( '.ribbon-sub-menu-icon' ) ).attr( 'id' );\n\n\t\t\tcontext_btn.removeClass( 'invisible-image' );\n\t\t\tcontext_btn.removeClass( 'disable-image' );\n\n\t\t\tswitch ( id ) {\n\t\t\t\tcase ContextMenuIconName.add:\n\t\t\t\t\tthis.setDefaultMenuAddIcon( context_btn, grid_selected_length );\n\t\t\t\t\tbreak;\n\t\t\t\tcase ContextMenuIconName.edit:\n\t\t\t\t\tthis.setDefaultMenuEditIcon( context_btn, grid_selected_length );\n\t\t\t\t\tbreak;\n\t\t\t\tcase ContextMenuIconName.view:\n\t\t\t\t\tthis.setDefaultMenuViewIcon( context_btn, grid_selected_length );\n\t\t\t\t\tbreak;\n\t\t\t\tcase ContextMenuIconName.mass_edit:\n\t\t\t\t\tthis.setDefaultMenuMassEditIcon( context_btn, grid_selected_length );\n\t\t\t\t\tbreak;\n\t\t\t\tcase ContextMenuIconName.copy:\n\t\t\t\t\tthis.setDefaultMenuCopyIcon( context_btn, grid_selected_length );\n\t\t\t\t\tbreak;\n\t\t\t\tcase ContextMenuIconName.delete_icon:\n\t\t\t\t\tthis.setDefaultMenuDeleteIcon( context_btn, grid_selected_length );\n\t\t\t\t\tbreak;\n\t\t\t\tcase ContextMenuIconName.delete_and_next:\n\t\t\t\t\tthis.setDefaultMenuDeleteAndNextIcon( context_btn, grid_selected_length );\n\t\t\t\t\tbreak;\n\t\t\t\tcase ContextMenuIconName.save:\n\t\t\t\t\tthis.setDefaultMenuSaveIcon( context_btn, grid_selected_length );\n\t\t\t\t\tbreak;\n\t\t\t\tcase ContextMenuIconName.save_and_next:\n\t\t\t\t\tthis.setDefaultMenuSaveAndNextIcon( context_btn, grid_selected_length );\n\t\t\t\t\tbreak;\n\t\t\t\tcase ContextMenuIconName.save_and_continue:\n\t\t\t\t\tthis.setDefaultMenuSaveAndContinueIcon( context_btn, grid_selected_length );\n\t\t\t\t\tbreak;\n\t\t\t\tcase ContextMenuIconName.save_and_new:\n\t\t\t\t\tthis.setDefaultMenuSaveAndAddIcon( context_btn, grid_selected_length );\n\t\t\t\t\tbreak;\n\t\t\t\tcase ContextMenuIconName.save_and_copy:\n\t\t\t\t\tthis.setDefaultMenuSaveAndCopyIcon( context_btn, grid_selected_length );\n\t\t\t\t\tbreak;\n\t\t\t\tcase ContextMenuIconName.copy_as_new:\n\t\t\t\t\tthis.setDefaultMenuCopyAsNewIcon( context_btn, grid_selected_length );\n\t\t\t\t\tbreak;\n\t\t\t\tcase ContextMenuIconName.login:\n\t\t\t\t\tthis.setDefaultMenuLoginIcon( context_btn, grid_selected_length );\n\t\t\t\t\tbreak;\n\t\t\t\tcase ContextMenuIconName.cancel:\n\t\t\t\t\tthis.setDefaultMenuCancelIcon( context_btn, grid_selected_length );\n\t\t\t\t\tbreak;\n\t\t\t\tcase ContextMenuIconName.import_icon:\n\t\t\t\t\tthis.setDefaultMenuImportIcon( context_btn, grid_selected_length );\n\t\t\t\t\tbreak;\n\t\t\t\tcase ContextMenuIconName.edit_client:\n\t\t\t\t\tthis.setDefaultMenuEditClientIcon( context_btn, grid_selected_length );\n\t\t\t\t\tbreak;\n\t\t\t\tcase ContextMenuIconName.export_excel:\n\t\t\t\t\tthis.setDefaultMenuExportIcon( context_btn, grid_selected_length );\n\t\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t}\n\n\t\tthis.setContextMenuGroupVisibility();\n\t}\n\n\t/* jshint ignore:end */\n\tsetDefaultMenuEditClientIcon( context_btn, grid_selected_length, pId ) {\n\t\tif ( grid_selected_length === 1 ) {\n\t\t\tcontext_btn.removeClass( 'disable-image' );\n\t\t} else {\n\t\t\tcontext_btn.addClass( 'disable-image' );\n\t\t}\n\t}\n\n\tonCustomContextClick( id ) {\n\t\tswitch ( id ) {\n\t\t\tcase ContextMenuIconName.download:\n\t\t\t\tthis.onDownloadClick();\n\t\t\t\tbreak;\n\t\t\tcase ContextMenuIconName.edit_client:\n\t\t\tcase ContextMenuIconName.client_contact:\n\t\t\tcase ContextMenuIconName.invoice:\n\t\t\tcase ContextMenuIconName.transaction:\n\t\t\tcase ContextMenuIconName.export_excel:\n\t\t\t\tthis.onNavigationClick( id );\n\t\t\t\tbreak;\n\t\t}\n\t}\n\n\tgetFilterColumnsFromDisplayColumns() {\n\t\tvar column_filter = {};\n\t\tcolumn_filter.is_owner = true;\n\t\tcolumn_filter.id = true;\n\t\tcolumn_filter.is_child = true;\n\t\tcolumn_filter.in_use = true;\n\t\tcolumn_filter.first_name = true;\n\t\tcolumn_filter.last_name = true;\n\t\tcolumn_filter.client_id = true;\n\n\t\t// Error: Unable to get property 'getGridParam' of undefined or null reference\n\t\tvar display_columns = [];\n\t\tif ( this.grid ) {\n\t\t\tdisplay_columns = this.grid.getGridParam( 'colModel' );\n\t\t}\n\n\t\tif ( display_columns ) {\n\t\t\tvar len = display_columns.length;\n\n\t\t\tfor ( var i = 0; i < len; i++ ) {\n\t\t\t\tvar column_info = display_columns[i];\n\t\t\t\tcolumn_filter[column_info.name] = true;\n\t\t\t}\n\t\t}\n\n\t\treturn column_filter;\n\t}\n\n\tonNavigationClick( iconName ) {\n\n\t\tvar $this = this;\n\n\t\tvar grid_selected_id_array;\n\n\t\tvar filter = { filter_data: {} };\n\n\t\tvar client_ids = [];\n\n\t\tif ( $this.edit_view && $this.current_edit_record.id ) {\n\t\t\tclient_ids.push( $this.current_edit_record.client_id );\n\t\t} else {\n\t\t\tgrid_selected_id_array = this.getGridSelectIdArray();\n\t\t\t$.each( grid_selected_id_array, function( index, value ) {\n\t\t\t\tvar grid_selected_row = $this.getRecordFromGridById( value );\n\t\t\t\tclient_ids.push( grid_selected_row.client_id );\n\t\t\t} );\n\t\t}\n\n\t\tfilter.filter_data.client_id = client_ids;\n\n\t\tswitch ( iconName ) {\n\t\t\tcase ContextMenuIconName.edit_client:\n\t\t\t\tif ( client_ids.length > 0 ) {\n\t\t\t\t\tIndexViewController.openEditView( this, 'Client', client_ids[0] );\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase ContextMenuIconName.client_contact:\n\t\t\t\tGlobal.addViewTab( $this.viewId, $.i18n._( 'Payment Methods' ), window.location.href );\n\t\t\t\tIndexViewController.goToView( 'ClientContact', filter );\n\t\t\t\tbreak;\n\t\t\tcase ContextMenuIconName.invoice:\n\t\t\t\tGlobal.addViewTab( $this.viewId, $.i18n._( 'Payment Methods' ), window.location.href );\n\t\t\t\tIndexViewController.goToView( 'Invoice', filter );\n\t\t\t\tbreak;\n\t\t\tcase ContextMenuIconName.transaction:\n\t\t\t\tGlobal.addViewTab( $this.viewId, $.i18n._( 'Payment Methods' ), window.location.href );\n\t\t\t\tIndexViewController.goToView( 'InvoiceTransaction', filter );\n\t\t\t\tbreak;\n\t\t\tcase ContextMenuIconName.export_excel:\n\t\t\t\tthis.onExportClick( 'export' + this.api.key_name );\n\t\t\t\tbreak;\n\t\t}\n\t}\n\n\tbuildEditViewUI() {\n\n\t\tsuper.buildEditViewUI();\n\n\t\tvar $this = this;\n\n\t\tvar tab_model = {\n\t\t\t'tab_payment_method': { 'label': $.i18n._( 'Payment Method' ) },\n\t\t\t'tab_attachment': true,\n\t\t\t'tab_audit': true,\n\t\t};\n\t\tthis.setTabModel( tab_model );\n\n\t\tthis.navigation.AComboBox( {\n\t\t\tapi_class: TTAPI.APIClientPayment,\n\t\t\tid: this.script_name + '_navigation',\n\t\t\tallow_multiple_selection: false,\n\t\t\tlayout_name: 'global_client_payment',\n\t\t\tnavigation_mode: true,\n\t\t\tshow_search_inputs: true\n\t\t} );\n\n\t\tthis.setNavigation();\n\n\t\t//Tab 0 start\n\n\t\tvar tab_payment_method = this.edit_view_tab.find( '#tab_payment_method' );\n\n\t\tvar tab_payment_method_column1 = tab_payment_method.find( '.first-column' );\n\n\t\tthis.edit_view_tabs[0] = [];\n\n\t\tthis.edit_view_tabs[0].push( tab_payment_method_column1 );\n\n\t\t// Client\n\t\tvar form_item_input = Global.loadWidgetByName( FormItemType.AWESOME_BOX );\n\n\t\tform_item_input.AComboBox( {\n\t\t\tapi_class: TTAPI.APIClient,\n\t\t\tallow_multiple_selection: false,\n\t\t\tlayout_name: 'global_client',\n\t\t\tshow_search_inputs: true,\n\t\t\tset_empty: true,\n\t\t\tfield: 'client_id'\n\t\t} );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Client' ), form_item_input, tab_payment_method_column1, '' );\n\n\t\t// Status\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.COMBO_BOX );\n\t\tform_item_input.TComboBox( { field: 'status_id' } );\n\t\tform_item_input.setSourceData( $this.status_array );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Status' ), form_item_input, tab_payment_method_column1 );\n\n\t\t// Type\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.COMBO_BOX );\n\t\tform_item_input.TComboBox( { field: 'type_id' } );\n\t\tform_item_input.setSourceData( $this.type_array );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Type' ), form_item_input, tab_payment_method_column1 );\n\n\t\t// Default\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.CHECKBOX );\n\t\tform_item_input.TCheckbox( { field: 'is_default' } );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Default' ), form_item_input, tab_payment_method_column1 );\n\n\t\t// Bank Type\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.COMBO_BOX );\n\t\tform_item_input.TComboBox( { field: 'bank_account_type_id' } );\n\t\tform_item_input.setSourceData( $this.bank_account_type_array );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Bank Type' ), form_item_input, tab_payment_method_column1, '', null, true );\n\n\t\t// Institution Number\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.TEXT_INPUT );\n\t\tform_item_input.TTextInput( { field: 'bank_institution', width: 30 } );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Institution Number' ), form_item_input, tab_payment_method_column1, '', null, true );\n\n\t\t// Bank Transit\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.TEXT_INPUT );\n\t\tform_item_input.TTextInput( { field: 'bank_transit', width: 100 } );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Bank Transit' ), form_item_input, tab_payment_method_column1, '', null, true );\n\n\t\t// Bank type change\n\n\t\t// Account Number\n\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.TEXT_INPUT );\n\t\tform_item_input.TTextInput( { field: 'bank_account', width: 120 } );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Account Number' ), form_item_input, tab_payment_method_column1, '', null, true );\n\n\t\t// Credit Card Type\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.COMBO_BOX );\n\t\tform_item_input.TComboBox( { field: 'cc_type_id' } );\n\t\tform_item_input.setSourceData( $this.credit_card_type_array );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Credit Card Type' ), form_item_input, tab_payment_method_column1, '', null, true );\n\n\t\t// Credit Card Number\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.TEXT_INPUT );\n\t\tform_item_input.TTextInput( { field: 'cc_number', width: 120 } );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Credit Card Number' ), form_item_input, tab_payment_method_column1, '', null, true );\n\n\t\t// Expiry Date\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.DATE_PICKER );\n\n\t\tform_item_input.TDatePicker( { field: 'cc_expire' } );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Expiry Date' ), form_item_input, tab_payment_method_column1, '', null, true );\n\n\t\t// Credit Card Security Code (CSC)\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.TEXT_INPUT );\n\t\tform_item_input.TTextInput( { field: 'cc_check', width: 60 } );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Credit Card Security Code (CSC)' ), form_item_input, tab_payment_method_column1, '', null, true );\n\n\t\t// Card Holder Name\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.TEXT_INPUT );\n\t\tform_item_input.TTextInput( { field: 'cc_name' } );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Card Holder Name' ), form_item_input, tab_payment_method_column1, '', null, true );\n\n\t\t// Card Issuing Banks Phone Number\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.TEXT_INPUT );\n\t\tform_item_input.TTextInput( { field: 'cc_bank_phone' } );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Card Issuing Banks Phone Number' ), form_item_input, tab_payment_method_column1, '', null, true );\n\n\t\t// Signature\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.IMAGE_AVD_BROWSER );\n\n\t\tthis.file_browser = form_item_input.TImageAdvBrowser( { field: 'signature', show_browser: false } );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Signature' ), form_item_input, tab_payment_method_column1, '', null, true, true );\n\n\t\t// Note\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.TEXT_AREA );\n\n\t\tform_item_input.TTextArea( { field: 'note', width: '100%' } );\n\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Note' ), form_item_input, tab_payment_method_column1, '', null, null, true );\n\n\t\tform_item_input.parent().width( '45%' );\n\t}\n\n\tbuildSearchFields() {\n\n\t\tsuper.buildSearchFields();\n\t\tthis.search_fields = [\n\n\t\t\tnew SearchField( {\n\t\t\t\tlabel: $.i18n._( 'Client' ),\n\t\t\t\tin_column: 1,\n\t\t\t\tfield: 'client_id',\n\t\t\t\tlayout_name: 'global_client',\n\t\t\t\tapi_class: TTAPI.APIClient,\n\t\t\t\tmultiple: true,\n\t\t\t\tbasic_search: true,\n\t\t\t\tadv_search: false,\n\t\t\t\tform_item_type: FormItemType.AWESOME_BOX\n\t\t\t} ),\n\n\t\t\tnew SearchField( {\n\t\t\t\tlabel: $.i18n._( 'Status' ),\n\t\t\t\tin_column: 1,\n\t\t\t\tfield: 'status_id',\n\t\t\t\tmultiple: true,\n\t\t\t\tbasic_search: true,\n\t\t\t\tadv_search: false,\n\t\t\t\tlayout_name: 'global_option_column',\n\t\t\t\tform_item_type: FormItemType.AWESOME_BOX\n\t\t\t} ),\n\n\t\t\tnew SearchField( {\n\t\t\t\tlabel: $.i18n._( 'Type' ),\n\t\t\t\tin_column: 1,\n\t\t\t\tfield: 'type_id',\n\t\t\t\tmultiple: true,\n\t\t\t\tbasic_search: true,\n\t\t\t\tadv_search: false,\n\t\t\t\tlayout_name: 'global_option_column',\n\t\t\t\tform_item_type: FormItemType.AWESOME_BOX\n\t\t\t} ),\n\n\t\t\tnew SearchField( {\n\t\t\t\tlabel: $.i18n._( 'Default' ),\n\t\t\t\tin_column: 2,\n\t\t\t\tfield: 'is_default',\n\t\t\t\tmultiple: true,\n\t\t\t\tbasic_search: true,\n\t\t\t\tadv_search: false,\n\t\t\t\tlayout_name: 'global_option_column',\n\t\t\t\tform_item_type: FormItemType.AWESOME_BOX\n\t\t\t} ),\n\n\t\t\tnew SearchField( {\n\t\t\t\tlabel: $.i18n._( 'Created By' ),\n\t\t\t\tin_column: 2,\n\t\t\t\tfield: 'created_by',\n\t\t\t\tlayout_name: 'global_user',\n\t\t\t\tapi_class: TTAPI.APIUser,\n\t\t\t\tmultiple: true,\n\t\t\t\tbasic_search: true,\n\t\t\t\tadv_search: false,\n\t\t\t\tform_item_type: FormItemType.AWESOME_BOX\n\t\t\t} ),\n\n\t\t\tnew SearchField( {\n\t\t\t\tlabel: $.i18n._( 'Updated By' ),\n\t\t\t\tin_column: 2,\n\t\t\t\tfield: 'updated_by',\n\t\t\t\tlayout_name: 'global_user',\n\t\t\t\tapi_class: TTAPI.APIUser,\n\t\t\t\tmultiple: true,\n\t\t\t\tbasic_search: true,\n\t\t\t\tadv_search: false,\n\t\t\t\tform_item_type: FormItemType.AWESOME_BOX\n\t\t\t} )\n\t\t];\n\t}\n\n\tonFormItemChange( target, doNotValidate ) {\n\t\tthis.setIsChanged( target );\n\t\tthis.setMassEditingFieldsWhenFormChange( target );\n\n\t\tvar key = target.getField();\n\t\tvar c_value = target.getValue();\n\n\t\tthis.current_edit_record[key] = c_value;\n\n\t\tif ( key === 'type_id' ) {\n\t\t\tthis.onTypeChange();\n\t\t}\n\n\t\tif ( key === 'bank_account_type_id' ) {\n\t\t\tthis.onBankAccountTypeChange();\n\t\t}\n\n\t\tif ( !doNotValidate ) {\n\t\t\tthis.validate();\n\t\t}\n\t}\n\n\tsetEditViewDataDone() {\n\t\tsuper.setEditViewDataDone();\n\t\tthis.onTypeChange();\n\t}\n\n\tonTypeChange() {\n\t\tif ( this.current_edit_record['type_id'] == 30 ) {\n\n\t\t\tthis.detachElement( 'bank_account_type_id' );\n\t\t\tthis.detachElement( 'bank_institution' );\n\t\t\tthis.detachElement( 'bank_transit' );\n\t\t\tthis.detachElement( 'bank_account' );\n\n\t\t\tthis.attachElement( 'cc_type_id' );\n\t\t\tthis.attachElement( 'cc_number' );\n\t\t\tthis.attachElement( 'cc_expire' );\n\t\t\tthis.attachElement( 'cc_check' );\n\t\t\tthis.attachElement( 'cc_name' );\n\t\t\tthis.attachElement( 'cc_bank_phone' );\n\n\t\t} else if ( this.current_edit_record['type_id'] == 40 ) {\n\t\t\tthis.attachElement( 'bank_account_type_id' );\n\t\t\tthis.attachElement( 'bank_institution' );\n\t\t\tthis.attachElement( 'bank_transit' );\n\t\t\tthis.attachElement( 'bank_account' );\n\n\t\t\tthis.detachElement( 'cc_type_id' );\n\t\t\tthis.detachElement( 'cc_number' );\n\t\t\tthis.detachElement( 'cc_expire' );\n\t\t\tthis.detachElement( 'cc_check' );\n\t\t\tthis.detachElement( 'cc_name' );\n\t\t\tthis.detachElement( 'cc_bank_phone' );\n\n\t\t\tthis.onBankAccountTypeChange();\n\t\t} else {\n\t\t\tthis.detachElement( 'bank_account_type_id' );\n\t\t\tthis.detachElement( 'bank_institution' );\n\t\t\tthis.detachElement( 'bank_transit' );\n\t\t\tthis.detachElement( 'bank_account' );\n\n\t\t\tthis.detachElement( 'cc_type_id' );\n\t\t\tthis.detachElement( 'cc_number' );\n\t\t\tthis.detachElement( 'cc_expire' );\n\t\t\tthis.detachElement( 'cc_check' );\n\t\t\tthis.detachElement( 'cc_name' );\n\t\t\tthis.detachElement( 'cc_bank_phone' );\n\t\t}\n\n\t\tthis.editFieldResize();\n\t}\n\n\tonBankAccountTypeChange() {\n\t\tif ( this.current_edit_record['bank_account_type_id'] == 200 && this.current_edit_record['type_id'] == 40 ) {\n\t\t\tthis.attachElement( 'bank_institution' );\n\t\t\tthis.edit_view_form_item_dic['bank_transit'].find( '.edit-view-form-item-label' ).text( $.i18n._( 'Bank Transit' ) + ': ' );\n\t\t} else if ( this.current_edit_record['bank_account_type_id'] == 201 ) {\n\t\t\tthis.detachElement( 'bank_institution' );\n\t\t\tthis.edit_view_form_item_dic['bank_transit'].find( '.edit-view-form-item-label' ).text( $.i18n._( 'Routing Number' ) + ': ' );\n\t\t}\n\n\t\tthis.editFieldResize();\n\n\t}\n}\n\nClientPaymentViewController.loadSubView = function( container, beforeViewLoadedFun, afterViewLoadedFun ) {\n\n\tGlobal.loadViewSource( 'ClientPayment', 'SubClientPaymentView.html', function( result ) {\n\t\tvar args = {};\n\t\tvar template = _.template( result );\n\n\t\tif ( Global.isSet( beforeViewLoadedFun ) ) {\n\t\t\tbeforeViewLoadedFun();\n\t\t}\n\n\t\tif ( Global.isSet( container ) ) {\n\t\t\tcontainer.html( template( args ) );\n\t\t\tif ( Global.isSet( afterViewLoadedFun ) ) {\n\t\t\t\tafterViewLoadedFun( sub_client_payment_view_controller );\n\t\t\t}\n\t\t}\n\t} );\n};\n"],"sourceRoot":""}