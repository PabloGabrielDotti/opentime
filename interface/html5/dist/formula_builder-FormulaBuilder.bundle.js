(self.webpackChunktimetrex=self.webpackChunktimetrex||[]).push([["formula_builder-FormulaBuilder"],{9326:()=>{var e;(e=jQuery).fn.FormulaBuilder=function(t){var i,r,n=e.extend({},e.fn.FormulaBuilder.defaults,t),o=this,a="",l=null,s=!0,c=null;return this.getEnabled=function(){return s},this.setEnabled=function(e){s=e,!1===e||""===e?(c.children().attr("disabled","true"),c.addClass("t-text-area-readonly")):(c.children().removeAttr("disabled"),c.removeClass("t-text-area-readonly"))},this.setCheckBox=function(e){l&&(l.children().eq(0)[0].checked=e)},this.isChecked=function(){return!(!l||!0!==l.children().eq(0)[0].checked)},this.setMassEditMode=function(t){t?((l=e(' <div class="mass-edit-checkbox-wrapper"><input type="checkbox" class="mass-edit-checkbox"></input><label for="checkbox-input-1" class="input-helper input-helper--checkbox"></label></div>')).insertBefore(c),l.change((function(){o.trigger("formItemChange",[o])}))):l&&(l.remove(),l=null)},this.setValue=function(e){e||(e=""),c.val(e)},this.setErrorStyle=function(e,t,i){i?c.addClass("warning-tip"):c.addClass("error-tip"),a=e,t&&this.showErrorTip()},this.showErrorTip=function(e){Global.isSet(e)||(e=2),r||(r=(r=Global.loadWidgetByName(WidgetNamesDic.ERROR_TOOLTIP)).ErrorTipBox()),c.hasClass("warning-tip")?r.show(this,a,e,!0):r.show(this,a,e)},this.hideErrorTip=function(){Global.isSet(r)&&r.remove()},this.clearErrorStyle=function(){c.removeClass("error-tip"),c.removeClass("warning-tip"),this.hideErrorTip(),a=""},this.setField=function(e){i=e},this.getField=function(){return i},this.getValue=function(){return c.val()},this.setValue=function(e){e||(e=""),c.val(e)},this.each((function(){var t=e.meta?e.extend({},n,e(this).data()):n;i=t.field,c=e(this).children().eq(0);var r=e(this).children().eq(1);r.text(e.i18n._("Formula Builder")),r.unbind("click").bind("click",(function(){t.onFormulaBtnClick&&t.onFormulaBtnClick()})),t.width&&(t.width>0||t.width.indexOf("%")>0)?t.width.indexOf("%")>0?(o.width(t.width),c.css("width","calc( 100% - 115px )")):c.width(t.width):c.width(300),t.height>0&&c.height(t.height),t.rows>0?c.attr("rows",t.rows):c.attr("rows",5),t.style&&o.css(t.style),c.change((function(){l&&o.setCheckBox(!0),o.trigger("formItemChange",[o])})),c.mouseover((function(){s&&a&&a.length>0&&o.showErrorTip(20)})),c.mouseout((function(){e(o).is(":focus")||o.hideErrorTip()})),c.focusin((function(){s?a&&a.length>0&&o.showErrorTip(20):l||(LocalCacheData.current_open_sub_controller&&LocalCacheData.current_open_sub_controller.edit_view&&LocalCacheData.current_open_sub_controller.is_viewing||LocalCacheData.current_open_primary_controller&&LocalCacheData.current_open_primary_controller.edit_view&&LocalCacheData.current_open_primary_controller.is_viewing)&&(a=Global.view_mode_message,o.showErrorTip(10))})),c.focusout((function(){o.hideErrorTip()})),TTPromise.wait(null,null,(function(){c.parents(".formula-builder").css("opacity",1)}))})),this},e.fn.FormulaBuilder.defaults={}}}]);
//# sourceMappingURL=formula_builder-FormulaBuilder.bundle.js.map?v=1bd219a7554bb2975a32