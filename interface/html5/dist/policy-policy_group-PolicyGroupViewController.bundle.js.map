{"version":3,"sources":["webpack://timetrex/./interface/html5/views/policy/policy_group/PolicyGroupViewController.js"],"names":["PolicyGroupViewController","BaseViewController","options","_","defaults","el","sub_document_view_controller","document_object_type_id","exception_policy_control_api","super","this","edit_view_tpl","permission_id","viewId","script_name","table_name_key","context_menu_name","$","i18n","navigation_label","api","TTAPI","APIPolicyGroup","APIExceptionPolicyControl","render","buildContextMenu","initData","setSelectRibbonMenuIfNecessary","buildEditViewUI","tab_model","setTabModel","navigation","AComboBox","api_class","id","allow_multiple_selection","layout_name","navigation_mode","show_search_inputs","setNavigation","tab_policy_group_column1","edit_view_tab","find","edit_view_tabs","push","form_item_input","Global","loadWidgetByName","FormItemType","TEXT_INPUT","TTextInput","field","width","addEditFieldToColumn","parent","TEXT_AREA","TTextArea","AWESOME_BOX","APIUser","set_empty","default_args","setDefaultArgs","APIRegularTimePolicy","APIOverTimePolicy","APIRoundIntervalPolicy","APIMealPolicy","APIBreakPolicy","APIAccrualPolicy","APIPremiumPolicy","APIHolidayPolicy","getProductEdition","APIExpensePolicy","APIAbsencePolicy","key","current_edit_record","hasOwnProperty","widget","edit_view_ui_dic","isSet","setValue","collectUIDataToCurrentEditRecord","setEditViewDataDone","buildSearchFields","search_fields","SearchField","label","in_column","multiple","basic_search","adv_search","form_item_type"],"mappings":"iMAAO,MAAMA,UAAkCC,mBAC9C,YAAaC,EAAU,IACtBC,EAAEC,SAAUF,EAAS,CACpBG,GAAI,+BAEJC,6BAA8B,KAC9BC,wBAAyB,KACzBC,6BAA8B,OAG/BC,MAAOP,GAGR,KAAMA,GAELQ,KAAKC,cAAgB,2BACrBD,KAAKE,cAAgB,eACrBF,KAAKG,OAAS,cACdH,KAAKI,YAAc,kBACnBJ,KAAKK,eAAiB,eACtBL,KAAKH,wBAA0B,IAC/BG,KAAKM,kBAAoBC,EAAEC,KAAKf,EAAG,gBACnCO,KAAKS,iBAAmBF,EAAEC,KAAKf,EAAG,gBAAmB,IACrDO,KAAKU,IAAMC,MAAMC,eACjBZ,KAAKF,6BAA+Ba,MAAME,0BAE1Cb,KAAKc,SACLd,KAAKe,mBAELf,KAAKgB,WACLhB,KAAKiB,+BAAgC,eAGtC,kBAEClB,MAAMmB,kBAEN,IAEIC,EAAY,CACf,mBAAoB,CAAE,QAASZ,EAAEC,KAAKf,EAAG,iBACzC,kBAAkB,EAClB,aAAa,GAEdO,KAAKoB,YAAaD,GAElBnB,KAAKqB,WAAWC,UAAW,CAC1BC,UAAWZ,MAAMC,eACjBY,GAAIxB,KAAKI,YAAc,cACvBqB,0BAA0B,EAC1BC,YAAa,sBACbC,iBAAiB,EACjBC,oBAAoB,IAGrB5B,KAAK6B,gBAIL,IAEIC,EAFmB9B,KAAK+B,cAAcC,KAAM,qBAEAA,KAAM,iBAEtDhC,KAAKiC,eAAe,GAAK,GAEzBjC,KAAKiC,eAAe,GAAGC,KAAMJ,GAG7B,IAAIK,EAAkBC,OAAOC,iBAAkBC,aAAaC,YAE5DJ,EAAgBK,WAAY,CAAEC,MAAO,OAAQC,MAAO,SACpD1C,KAAK2C,qBAAsBpC,EAAEC,KAAKf,EAAG,QAAU0C,EAAiBL,EAA0B,IAE1FK,EAAgBS,SAASF,MAAO,QAGhCP,EAAkBC,OAAOC,iBAAkBC,aAAaO,YACxCC,UAAW,CAAEL,MAAO,cAAeC,MAAO,SAC1D1C,KAAK2C,qBAAsBpC,EAAEC,KAAKf,EAAG,eAAiB0C,EAAiBL,EAA0B,GAAI,KAAM,MAAM,GAEjHK,EAAgBS,SAASF,MAAO,QAGhCP,EAAkBC,OAAOC,iBAAkBC,aAAaS,cACxCzB,UAAW,CAC1BC,UAAWZ,MAAMqC,QACjBvB,0BAA0B,EAC1BC,YAAa,cACbE,oBAAoB,EACpBqB,WAAW,EACXR,MAAO,SAER,IAAIS,EAAe,CACnB,mBAAkC,gBAClCf,EAAgBgB,eAAgBD,GAChClD,KAAK2C,qBAAsBpC,EAAEC,KAAKf,EAAG,aAAe0C,EAAiBL,IAGrEK,EAAkBC,OAAOC,iBAAkBC,aAAaS,cACxCzB,UAAW,CAC1BC,UAAWZ,MAAMyC,qBACjB3B,0BAA0B,EAC1BC,YAAa,sBACbE,oBAAoB,EACpBqB,WAAW,EACXR,MAAO,wBAERzC,KAAK2C,qBAAsBpC,EAAEC,KAAKf,EAAG,yBAA2B0C,EAAiBL,IAGjFK,EAAkBC,OAAOC,iBAAkBC,aAAaS,cACxCzB,UAAW,CAC1BC,UAAWZ,MAAM0C,kBACjB5B,0BAA0B,EAC1BC,YAAa,mBACbE,oBAAoB,EACpBqB,WAAW,EACXR,MAAO,qBAERzC,KAAK2C,qBAAsBpC,EAAEC,KAAKf,EAAG,qBAAuB0C,EAAiBL,IAG7EK,EAAkBC,OAAOC,iBAAkBC,aAAaS,cACxCzB,UAAW,CAC1BC,UAAWZ,MAAM2C,uBACjB7B,0BAA0B,EAC1BC,YAAa,wBACbE,oBAAoB,EACpBqB,WAAW,EACXR,MAAO,0BAERzC,KAAK2C,qBAAsBpC,EAAEC,KAAKf,EAAG,qBAAuB0C,EAAiBL,IAG7EK,EAAkBC,OAAOC,iBAAkBC,aAAaS,cACxCzB,UAAW,CAC1BC,UAAWZ,MAAM4C,cACjB9B,0BAA0B,EAC1BC,YAAa,cACbE,oBAAoB,EACpBqB,WAAW,EACXR,MAAO,gBAERzC,KAAK2C,qBAAsBpC,EAAEC,KAAKf,EAAG,iBAAmB0C,EAAiBL,IAGzEK,EAAkBC,OAAOC,iBAAkBC,aAAaS,cACxCzB,UAAW,CAC1BC,UAAWZ,MAAM6C,eACjB/B,0BAA0B,EAC1BC,YAAa,eACbE,oBAAoB,EACpBqB,WAAW,EACXR,MAAO,iBAERzC,KAAK2C,qBAAsBpC,EAAEC,KAAKf,EAAG,kBAAoB0C,EAAiBL,IAI1EK,EAAkBC,OAAOC,iBAAkBC,aAAaS,cACxCzB,UAAW,CAC1BC,UAAWZ,MAAM8C,iBACjBhC,0BAA0B,EAC1BC,YAAa,iBACbE,oBAAoB,EACpBqB,WAAW,EACXR,MAAO,mBAERzC,KAAK2C,qBAAsBpC,EAAEC,KAAKf,EAAG,oBAAsB0C,EAAiBL,IAG5EK,EAAkBC,OAAOC,iBAAkBC,aAAaS,cACxCzB,UAAW,CAC1BC,UAAWZ,MAAM+C,iBACjBjC,0BAA0B,EAC1BC,YAAa,iBACbE,oBAAoB,EACpBqB,WAAW,EACXR,MAAO,mBAERzC,KAAK2C,qBAAsBpC,EAAEC,KAAKf,EAAG,oBAAsB0C,EAAiBL,IAG5EK,EAAkBC,OAAOC,iBAAkBC,aAAaS,cACxCzB,UAAW,CAC1BC,UAAWZ,MAAMgD,iBACjBlC,0BAA0B,EAC1BC,YAAa,iBACbE,oBAAoB,EACpBqB,WAAW,EACXR,MAAO,mBAERzC,KAAK2C,qBAAsBpC,EAAEC,KAAKf,EAAG,oBAAsB0C,EAAiBL,GAEvEM,OAAOwB,qBAAuB,MAElCzB,EAAkBC,OAAOC,iBAAkBC,aAAaS,cACxCzB,UAAW,CAC1BC,UAAWZ,MAAMkD,iBACjBpC,0BAA0B,EAC1BC,YAAa,wBACbE,oBAAoB,EACpBqB,WAAW,EACXR,MAAO,mBAERzC,KAAK2C,qBAAsBpC,EAAEC,KAAKf,EAAG,oBAAsB0C,EAAiBL,KAK7EK,EAAkBC,OAAOC,iBAAkBC,aAAaS,cACxCzB,UAAW,CAC1BC,UAAWZ,MAAME,0BACjBY,0BAA0B,EAC1BC,YAAa,mBACbE,oBAAoB,EACpBqB,WAAW,EACXR,MAAO,gCAERzC,KAAK2C,qBAAsBpC,EAAEC,KAAKf,EAAG,sBAAwB0C,EAAiBL,IAI9EK,EAAkBC,OAAOC,iBAAkBC,aAAaS,cACxCzB,UAAW,CAC1BC,UAAWZ,MAAMmD,iBACjBrC,0BAA0B,EAC1BC,YAAa,kBACbE,oBAAoB,EACpBqB,WAAW,EACXR,MAAO,mBAERzC,KAAK2C,qBAAsBpC,EAAEC,KAAKf,EAAG,oBAAsB0C,EAAiBL,EAA0B,IAGvG,2BAGC,IAAM,IAAIiC,KAAO/D,KAAKgE,oBAErB,GAAMhE,KAAKgE,oBAAoBC,eAAgBF,GAA/C,CAIA,IAAIG,EAASlE,KAAKmE,iBAAiBJ,GACnC,GAAK3B,OAAOgC,MAAOF,GAClB,OAASH,GACR,IAAK,8BAGL,QACCG,EAAOG,SAAUrE,KAAKgE,oBAAoBD,KAO9C/D,KAAKsE,mCACLtE,KAAKuE,sBAGN,oBAECxE,MAAMyE,oBAEN,IAAItB,EAAe,CACnB,mBAAkC,gBAElClD,KAAKyE,cAAgB,CAEpB,IAAIC,YAAa,CAChBC,MAAOpE,EAAEC,KAAKf,EAAG,QACjBmF,UAAW,EACXnC,MAAO,OACPoC,UAAU,EACVC,cAAc,EACdC,YAAY,EACZC,eAAgB1C,aAAaC,aAG9B,IAAImC,YAAa,CAChBC,MAAOpE,EAAEC,KAAKf,EAAG,aACjBmF,UAAW,EACXnC,MAAO,OACPS,aAAcA,EACdxB,YAAa,cACbH,UAAWZ,MAAMqC,QACjB6B,UAAU,EACVC,cAAc,EACdC,YAAY,EACZC,eAAgB1C,aAAaS,cAG9B,IAAI2B,YAAa,CAChBC,MAAOpE,EAAEC,KAAKf,EAAG,mBACjBmF,UAAW,EACXnC,MAAO,mBACPf,YAAa,mBACbH,UAAWZ,MAAM0C,kBACjBwB,UAAU,EACVC,cAAc,EACdC,YAAY,EACZC,eAAgB1C,aAAaS,cAG9B,IAAI2B,YAAa,CAChBC,MAAOpE,EAAEC,KAAKf,EAAG,qBACjBmF,UAAW,EACXnC,MAAO,wBACPf,YAAa,wBACbH,UAAWZ,MAAM2C,uBACjBuB,UAAU,EACVC,cAAc,EACdC,YAAY,EACZC,eAAgB1C,aAAaS,cAG9B,IAAI2B,YAAa,CAChBC,MAAOpE,EAAEC,KAAKf,EAAG,oBACjBmF,UAAW,EACXnC,MAAO,iBACPf,YAAa,kBACbH,UAAWZ,MAAMmD,iBACjBe,UAAU,EACVC,cAAc,EACdC,YAAY,EACZC,eAAgB1C,aAAaS,cAG9B,IAAI2B,YAAa,CAChBC,MAAOpE,EAAEC,KAAKf,EAAG,oBACjBmF,UAAW,EACXnC,MAAO,iBACPf,YAAa,iBACbH,UAAWZ,MAAM8C,iBACjBoB,UAAU,EACVC,cAAc,EACdC,YAAY,EACZC,eAAgB1C,aAAaS,cAG9B,IAAI2B,YAAa,CAChBC,MAAOpE,EAAEC,KAAKf,EAAG,oBACjBmF,UAAW,EACXnC,MAAO,iBACPf,YAAa,iBACbH,UAAWZ,MAAM+C,iBACjBmB,UAAU,EACVC,cAAc,EACdC,YAAY,EACZC,eAAgB1C,aAAaS,cAG9B,IAAI2B,YAAa,CAChBC,MAAOpE,EAAEC,KAAKf,EAAG,oBACjBmF,UAAW,EACXnC,MAAO,iBACPf,YAAa,iBACbH,UAAWZ,MAAMgD,iBACjBkB,UAAU,EACVC,cAAc,EACdC,YAAY,EACZC,eAAgB1C,aAAaS,cAG9B,IAAI2B,YAAa,CAChBC,MAAOpE,EAAEC,KAAKf,EAAG,oBACjBmF,UAAW,EACXnC,MAAO,2BACPf,YAAa,mBACbH,UAAWZ,MAAME,0BACjBgE,UAAU,EACVC,cAAc,EACdC,YAAY,EACZC,eAAgB1C,aAAaS,cAG9B,IAAI2B,YAAa,CAChBC,MAAOpE,EAAEC,KAAKf,EAAG,cACjBmF,UAAW,EACXnC,MAAO,aACPf,YAAa,cACbH,UAAWZ,MAAMqC,QACjB6B,UAAU,EACVC,cAAc,EACdC,YAAY,EACZC,eAAgB1C,aAAaS,cAG9B,IAAI2B,YAAa,CAChBC,MAAOpE,EAAEC,KAAKf,EAAG,cACjBmF,UAAW,EACXnC,MAAO,aACPf,YAAa,cACbH,UAAWZ,MAAMqC,QACjB6B,UAAU,EACVC,cAAc,EACdC,YAAY,EACZC,eAAgB1C,aAAaS","file":"policy-policy_group-PolicyGroupViewController.bundle.js?v=dd7d469adb108d45c407","sourcesContent":["export class PolicyGroupViewController extends BaseViewController {\n\tconstructor( options = {} ) {\n\t\t_.defaults( options, {\n\t\t\tel: '#policy_group_view_container',\n\n\t\t\tsub_document_view_controller: null,\n\t\t\tdocument_object_type_id: null,\n\t\t\texception_policy_control_api: null\n\t\t} );\n\n\t\tsuper( options );\n\t}\n\n\tinit( options ) {\n\t\t//this._super('initialize', options );\n\t\tthis.edit_view_tpl = 'PolicyGroupEditView.html';\n\t\tthis.permission_id = 'policy_group';\n\t\tthis.viewId = 'PolicyGroup';\n\t\tthis.script_name = 'PolicyGroupView';\n\t\tthis.table_name_key = 'policy_group';\n\t\tthis.document_object_type_id = 200;\n\t\tthis.context_menu_name = $.i18n._( 'Policy Group' );\n\t\tthis.navigation_label = $.i18n._( 'Policy Group' ) + ':';\n\t\tthis.api = TTAPI.APIPolicyGroup;\n\t\tthis.exception_policy_control_api = TTAPI.APIExceptionPolicyControl;\n\n\t\tthis.render();\n\t\tthis.buildContextMenu();\n\n\t\tthis.initData();\n\t\tthis.setSelectRibbonMenuIfNecessary( 'PolicyGroup' );\n\t}\n\n\tbuildEditViewUI() {\n\n\t\tsuper.buildEditViewUI();\n\n\t\tvar $this = this;\n\n\t\tvar tab_model = {\n\t\t\t'tab_policy_group': { 'label': $.i18n._( 'Policy Group' ) },\n\t\t\t'tab_attachment': true,\n\t\t\t'tab_audit': true,\n\t\t};\n\t\tthis.setTabModel( tab_model );\n\n\t\tthis.navigation.AComboBox( {\n\t\t\tapi_class: TTAPI.APIPolicyGroup,\n\t\t\tid: this.script_name + '_navigation',\n\t\t\tallow_multiple_selection: false,\n\t\t\tlayout_name: 'global_policy_group',\n\t\t\tnavigation_mode: true,\n\t\t\tshow_search_inputs: true\n\t\t} );\n\n\t\tthis.setNavigation();\n\n\t\t//Tab 0 start\n\n\t\tvar tab_policy_group = this.edit_view_tab.find( '#tab_policy_group' );\n\n\t\tvar tab_policy_group_column1 = tab_policy_group.find( '.first-column' );\n\n\t\tthis.edit_view_tabs[0] = [];\n\n\t\tthis.edit_view_tabs[0].push( tab_policy_group_column1 );\n\n\t\t//Name\n\t\tvar form_item_input = Global.loadWidgetByName( FormItemType.TEXT_INPUT );\n\n\t\tform_item_input.TTextInput( { field: 'name', width: '100%' } );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Name' ), form_item_input, tab_policy_group_column1, '' );\n\n\t\tform_item_input.parent().width( '45%' );\n\n\t\t// Description\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.TEXT_AREA );\n\t\tform_item_input.TTextArea( { field: 'description', width: '100%' } );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Description' ), form_item_input, tab_policy_group_column1, '', null, null, true );\n\n\t\tform_item_input.parent().width( '45%' );\n\n\t\t// Employee\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.AWESOME_BOX );\n\t\tform_item_input.AComboBox( {\n\t\t\tapi_class: TTAPI.APIUser,\n\t\t\tallow_multiple_selection: true,\n\t\t\tlayout_name: 'global_user',\n\t\t\tshow_search_inputs: true,\n\t\t\tset_empty: true,\n\t\t\tfield: 'user'\n\t\t} );\n\t\tvar default_args = {};\n\t\tdefault_args.permission_section = 'policy_group';\n\t\tform_item_input.setDefaultArgs( default_args );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Employees' ), form_item_input, tab_policy_group_column1 );\n\n\t\t// Regular Time Policies\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.AWESOME_BOX );\n\t\tform_item_input.AComboBox( {\n\t\t\tapi_class: TTAPI.APIRegularTimePolicy,\n\t\t\tallow_multiple_selection: true,\n\t\t\tlayout_name: 'global_regular_time',\n\t\t\tshow_search_inputs: true,\n\t\t\tset_empty: true,\n\t\t\tfield: 'regular_time_policy'\n\t\t} );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Regular Time Policies' ), form_item_input, tab_policy_group_column1 );\n\n\t\t// Overtime Policies\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.AWESOME_BOX );\n\t\tform_item_input.AComboBox( {\n\t\t\tapi_class: TTAPI.APIOverTimePolicy,\n\t\t\tallow_multiple_selection: true,\n\t\t\tlayout_name: 'global_over_time',\n\t\t\tshow_search_inputs: true,\n\t\t\tset_empty: true,\n\t\t\tfield: 'over_time_policy'\n\t\t} );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Overtime Policies' ), form_item_input, tab_policy_group_column1 );\n\n\t\t// Rounding Policies\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.AWESOME_BOX );\n\t\tform_item_input.AComboBox( {\n\t\t\tapi_class: TTAPI.APIRoundIntervalPolicy,\n\t\t\tallow_multiple_selection: true,\n\t\t\tlayout_name: 'global_round_interval',\n\t\t\tshow_search_inputs: true,\n\t\t\tset_empty: true,\n\t\t\tfield: 'round_interval_policy'\n\t\t} );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Rounding Policies' ), form_item_input, tab_policy_group_column1 );\n\n\t\t// Meal Policies\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.AWESOME_BOX );\n\t\tform_item_input.AComboBox( {\n\t\t\tapi_class: TTAPI.APIMealPolicy,\n\t\t\tallow_multiple_selection: true,\n\t\t\tlayout_name: 'global_meal',\n\t\t\tshow_search_inputs: true,\n\t\t\tset_empty: true,\n\t\t\tfield: 'meal_policy'\n\t\t} );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Meal Policies' ), form_item_input, tab_policy_group_column1 );\n\n\t\t// Break Policies\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.AWESOME_BOX );\n\t\tform_item_input.AComboBox( {\n\t\t\tapi_class: TTAPI.APIBreakPolicy,\n\t\t\tallow_multiple_selection: true,\n\t\t\tlayout_name: 'global_break',\n\t\t\tshow_search_inputs: true,\n\t\t\tset_empty: true,\n\t\t\tfield: 'break_policy'\n\t\t} );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Break Policies' ), form_item_input, tab_policy_group_column1 );\n\n\t\t// Accrual Policies\n\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.AWESOME_BOX );\n\t\tform_item_input.AComboBox( {\n\t\t\tapi_class: TTAPI.APIAccrualPolicy,\n\t\t\tallow_multiple_selection: true,\n\t\t\tlayout_name: 'global_accrual',\n\t\t\tshow_search_inputs: true,\n\t\t\tset_empty: true,\n\t\t\tfield: 'accrual_policy'\n\t\t} );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Accrual Policies' ), form_item_input, tab_policy_group_column1 );\n\n\t\t// Premium Policies\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.AWESOME_BOX );\n\t\tform_item_input.AComboBox( {\n\t\t\tapi_class: TTAPI.APIPremiumPolicy,\n\t\t\tallow_multiple_selection: true,\n\t\t\tlayout_name: 'global_premium',\n\t\t\tshow_search_inputs: true,\n\t\t\tset_empty: true,\n\t\t\tfield: 'premium_policy'\n\t\t} );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Premium Policies' ), form_item_input, tab_policy_group_column1 );\n\n\t\t// Holiday Policies\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.AWESOME_BOX );\n\t\tform_item_input.AComboBox( {\n\t\t\tapi_class: TTAPI.APIHolidayPolicy,\n\t\t\tallow_multiple_selection: true,\n\t\t\tlayout_name: 'global_holiday',\n\t\t\tshow_search_inputs: true,\n\t\t\tset_empty: true,\n\t\t\tfield: 'holiday_policy'\n\t\t} );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Holiday Policies' ), form_item_input, tab_policy_group_column1 );\n\n\t\tif ( Global.getProductEdition() >= 25 ) {\n\t\t\t// Expense Policies\n\t\t\tform_item_input = Global.loadWidgetByName( FormItemType.AWESOME_BOX );\n\t\t\tform_item_input.AComboBox( {\n\t\t\t\tapi_class: TTAPI.APIExpensePolicy,\n\t\t\t\tallow_multiple_selection: true,\n\t\t\t\tlayout_name: 'global_expense_policy',\n\t\t\t\tshow_search_inputs: true,\n\t\t\t\tset_empty: true,\n\t\t\t\tfield: 'expense_policy'\n\t\t\t} );\n\t\t\tthis.addEditFieldToColumn( $.i18n._( 'Expense Policies' ), form_item_input, tab_policy_group_column1 );\n\t\t}\n\n\t\t// Exception Policy\n\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.AWESOME_BOX );\n\t\tform_item_input.AComboBox( {\n\t\t\tapi_class: TTAPI.APIExceptionPolicyControl,\n\t\t\tallow_multiple_selection: false,\n\t\t\tlayout_name: 'global_exception',\n\t\t\tshow_search_inputs: true,\n\t\t\tset_empty: true,\n\t\t\tfield: 'exception_policy_control_id'\n\t\t} );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Exception Policies' ), form_item_input, tab_policy_group_column1 );\n\n\t\t// Absence Policies\n\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.AWESOME_BOX );\n\t\tform_item_input.AComboBox( {\n\t\t\tapi_class: TTAPI.APIAbsencePolicy,\n\t\t\tallow_multiple_selection: true,\n\t\t\tlayout_name: 'global_absences',\n\t\t\tshow_search_inputs: true,\n\t\t\tset_empty: true,\n\t\t\tfield: 'absence_policy'\n\t\t} );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Absence Policies' ), form_item_input, tab_policy_group_column1, '' );\n\t}\n\n\tsetCurrentEditRecordData() {\n\t\t//Set current edit record data to all widgets\n\t\tvar $this = this;\n\t\tfor ( var key in this.current_edit_record ) {\n\n\t\t\tif ( !this.current_edit_record.hasOwnProperty( key ) ) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tvar widget = this.edit_view_ui_dic[key];\n\t\t\tif ( Global.isSet( widget ) ) {\n\t\t\t\tswitch ( key ) {\n\t\t\t\t\tcase 'exception_policy_control_id':\n\t\t\t\t\t\twidget.setValue( $this.current_edit_record[key] );\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tdefault:\n\t\t\t\t\t\twidget.setValue( this.current_edit_record[key] );\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\n\t\t\t}\n\t\t}\n\n\t\tthis.collectUIDataToCurrentEditRecord();\n\t\tthis.setEditViewDataDone();\n\t}\n\n\tbuildSearchFields() {\n\n\t\tsuper.buildSearchFields();\n\n\t\tvar default_args = {};\n\t\tdefault_args.permission_section = 'policy_group';\n\n\t\tthis.search_fields = [\n\n\t\t\tnew SearchField( {\n\t\t\t\tlabel: $.i18n._( 'Name' ),\n\t\t\t\tin_column: 1,\n\t\t\t\tfield: 'name',\n\t\t\t\tmultiple: true,\n\t\t\t\tbasic_search: true,\n\t\t\t\tadv_search: false,\n\t\t\t\tform_item_type: FormItemType.TEXT_INPUT\n\t\t\t} ),\n\n\t\t\tnew SearchField( {\n\t\t\t\tlabel: $.i18n._( 'Employees' ),\n\t\t\t\tin_column: 1,\n\t\t\t\tfield: 'user',\n\t\t\t\tdefault_args: default_args,\n\t\t\t\tlayout_name: 'global_user',\n\t\t\t\tapi_class: TTAPI.APIUser,\n\t\t\t\tmultiple: true,\n\t\t\t\tbasic_search: true,\n\t\t\t\tadv_search: false,\n\t\t\t\tform_item_type: FormItemType.AWESOME_BOX\n\t\t\t} ),\n\n\t\t\tnew SearchField( {\n\t\t\t\tlabel: $.i18n._( 'Overtime Policy' ),\n\t\t\t\tin_column: 1,\n\t\t\t\tfield: 'over_time_policy',\n\t\t\t\tlayout_name: 'global_over_time',\n\t\t\t\tapi_class: TTAPI.APIOverTimePolicy,\n\t\t\t\tmultiple: true,\n\t\t\t\tbasic_search: true,\n\t\t\t\tadv_search: false,\n\t\t\t\tform_item_type: FormItemType.AWESOME_BOX\n\t\t\t} ),\n\n\t\t\tnew SearchField( {\n\t\t\t\tlabel: $.i18n._( 'Rounding Policies' ),\n\t\t\t\tin_column: 1,\n\t\t\t\tfield: 'round_interval_policy',\n\t\t\t\tlayout_name: 'global_round_interval',\n\t\t\t\tapi_class: TTAPI.APIRoundIntervalPolicy,\n\t\t\t\tmultiple: true,\n\t\t\t\tbasic_search: true,\n\t\t\t\tadv_search: false,\n\t\t\t\tform_item_type: FormItemType.AWESOME_BOX\n\t\t\t} ),\n\n\t\t\tnew SearchField( {\n\t\t\t\tlabel: $.i18n._( 'Absence Policies' ),\n\t\t\t\tin_column: 1,\n\t\t\t\tfield: 'absence_policy',\n\t\t\t\tlayout_name: 'global_absences',\n\t\t\t\tapi_class: TTAPI.APIAbsencePolicy,\n\t\t\t\tmultiple: true,\n\t\t\t\tbasic_search: true,\n\t\t\t\tadv_search: false,\n\t\t\t\tform_item_type: FormItemType.AWESOME_BOX\n\t\t\t} ),\n\n\t\t\tnew SearchField( {\n\t\t\t\tlabel: $.i18n._( 'Accrual Policies' ),\n\t\t\t\tin_column: 2,\n\t\t\t\tfield: 'accrual_policy',\n\t\t\t\tlayout_name: 'global_accrual',\n\t\t\t\tapi_class: TTAPI.APIAccrualPolicy,\n\t\t\t\tmultiple: true,\n\t\t\t\tbasic_search: true,\n\t\t\t\tadv_search: false,\n\t\t\t\tform_item_type: FormItemType.AWESOME_BOX\n\t\t\t} ),\n\n\t\t\tnew SearchField( {\n\t\t\t\tlabel: $.i18n._( 'Premium Policies' ),\n\t\t\t\tin_column: 2,\n\t\t\t\tfield: 'premium_policy',\n\t\t\t\tlayout_name: 'global_premium',\n\t\t\t\tapi_class: TTAPI.APIPremiumPolicy,\n\t\t\t\tmultiple: true,\n\t\t\t\tbasic_search: true,\n\t\t\t\tadv_search: false,\n\t\t\t\tform_item_type: FormItemType.AWESOME_BOX\n\t\t\t} ),\n\n\t\t\tnew SearchField( {\n\t\t\t\tlabel: $.i18n._( 'Holiday Policies' ),\n\t\t\t\tin_column: 2,\n\t\t\t\tfield: 'holiday_policy',\n\t\t\t\tlayout_name: 'global_holiday',\n\t\t\t\tapi_class: TTAPI.APIHolidayPolicy,\n\t\t\t\tmultiple: true,\n\t\t\t\tbasic_search: true,\n\t\t\t\tadv_search: false,\n\t\t\t\tform_item_type: FormItemType.AWESOME_BOX\n\t\t\t} ),\n\n\t\t\tnew SearchField( {\n\t\t\t\tlabel: $.i18n._( 'Exception Policy' ),\n\t\t\t\tin_column: 2,\n\t\t\t\tfield: 'exception_policy_control',\n\t\t\t\tlayout_name: 'global_exception',\n\t\t\t\tapi_class: TTAPI.APIExceptionPolicyControl,\n\t\t\t\tmultiple: true,\n\t\t\t\tbasic_search: true,\n\t\t\t\tadv_search: false,\n\t\t\t\tform_item_type: FormItemType.AWESOME_BOX\n\t\t\t} ),\n\n\t\t\tnew SearchField( {\n\t\t\t\tlabel: $.i18n._( 'Created By' ),\n\t\t\t\tin_column: 2,\n\t\t\t\tfield: 'created_by',\n\t\t\t\tlayout_name: 'global_user',\n\t\t\t\tapi_class: TTAPI.APIUser,\n\t\t\t\tmultiple: true,\n\t\t\t\tbasic_search: true,\n\t\t\t\tadv_search: false,\n\t\t\t\tform_item_type: FormItemType.AWESOME_BOX\n\t\t\t} ),\n\n\t\t\tnew SearchField( {\n\t\t\t\tlabel: $.i18n._( 'Updated By' ),\n\t\t\t\tin_column: 2,\n\t\t\t\tfield: 'updated_by',\n\t\t\t\tlayout_name: 'global_user',\n\t\t\t\tapi_class: TTAPI.APIUser,\n\t\t\t\tmultiple: true,\n\t\t\t\tbasic_search: true,\n\t\t\t\tadv_search: false,\n\t\t\t\tform_item_type: FormItemType.AWESOME_BOX\n\t\t\t} )\n\t\t];\n\t}\n\n}\n"],"sourceRoot":""}