(self.webpackChunktimetrex=self.webpackChunktimetrex||[]).push([["payroll-remittance_wizard-PayrollRemittanceAgencyEventWizardStepPublish","wizard-WizardStep"],{8880:(e,t,i)=>{"use strict";i.r(t),i.d(t,{"WizardStep":()=>r});var n=i(6739);class r extends n.TTBackboneView{constructor(e={}){_.defaults(e,{previous_step_name:null,next_step_name:null,buttons:null,wizard_obj:null,clicked_buttons:{},reload:!1,api:null,name:"undefined",title:$.i18n._("Undefined Step"),instructions:$.i18n._("Undefined step data")}),super(e)}initialize(e){super.initialize(e),this.buttons={},this.reload=!1,this.setWizardObject(e);this.init()}init(){this.render()}initCardsBlock(){$(this.wizard_obj.el).find("#cards").html("")}setTitle(e){$(this.wizard_obj.el).find(".title-1").html(e)}setInstructions(e,t){0==$(this.el).find(".instructions").length&&$(this.el).find(".progress-bar").append('<p class="instructions"></p>'),$(this.el).find(".progress-bar .instructions").html(e),"function"==typeof t&&t()}setWizardObject(e){this.wizard_obj=e,this.el=this.wizard_obj.el}getWizardObject(){return this.wizard_obj}setNextStepName(e){this.next_step_name=e}getNextStepName(){return!1}setPreviousStepName(e){this.previous_step_name=e}getPreviousStepName(){return!1}render(){return this.initCardsBlock(),this._render()}_render(){}append(e){$(this.wizard_obj.el).find(".content").append(e)}appendButton(e){$(this.wizard_obj.el).find("#cards").append(e)}setGrid(e,t,i){i||(i=!1),$("#"+e).remove(),this.append(t);var n=$("#"+e),r=this.getGridColumns(e),o=this;return n=new TTGrid(e,{onSelectRow:function(e){o.onGridSelectRow(e)},onSelectAll:function(e){for(var t in e)o.onGridSelectRow(e[t])},ondblClickRow:function(){o.onGridDblClickRow()},multiselect:!1,winMultiSelect:!1},r),this.setGridSize(n),this.setGridGroupColumns(e),n}getGridColumns(e,t){}setGridAutoHeight(e,t){t>0&&t<10?e.grid.setGridHeight(23*t):t>10&&e.grid.setGridHeight(400)}setGridSize(e){e.grid.setGridWidth($(this.wizard_obj.el).find(".content .grid-div").width()-11),e.grid.setGridHeight($(this.wizard_obj.el).find(".content").height()-150)}getRibbonButtonBox(){var e=$('<div class="menu ribbon-button-bar"></div>'),t=$("<ul></ul>");return e.append(t),e}getRibbonButton(e,t,i,n){if($("<img></img>")[0].src=t,void 0===n)return $('<li><div class="ribbon-sub-menu-icon" id="'+e+'"><img src="'+t+'" >'+i+"</div></li>");var r=$('<div class="wizard_icon_card" id="'+e+'"></div>'),o=$('<img src="'+t+'"></img>'),s=$('<div class="right_container"></div>'),a=$('<h3 class="button_title"></h3>');a.html(i||"");var l=$('<div class="description"></div>');return l.html(n||""),r.append(o),s.append(a),s.append(l),r.append(s),r}onGridSelectRow(e){}onGridDblClickRow(e){}onNavigationClick(e,t){e&&this.addButtonClick(e,t),ProgressBar.showOverlay(),1!=window.clickProcessing&&(window.clickProcessing=!0,window.clickProcessingHandle=window.setTimeout((function(){1==window.clickProcessing&&(window.clickProcessing=!1,ProgressBar.closeOverlay())}),1e3),this._onNavigationClick(t))}_onNavigationClick(e){}isRequiredButtonsClicked(){return!0}addButtonClick(e,t){var i=$(e.target);i.hasClass("wizard_icon_card")||(i=$(e.target).parents(".wizard_icon_card")),i.addClass("clicked_wizard_icon"),i.addClass("disable-image"),this.clicked_buttons[t]=!0}isButtonClicked(e){return!(!this.clicked_buttons.hasOwnProperty(e)||void 0===this.clicked_buttons[e])}addButton(e,t,i,n,r){void 0===r&&(r=e);var o=this.getRibbonButton(e,Global.getRibbonIconRealPath(t),i,n),s=this;return o.unbind("click").bind("click",(function(e){s.onNavigationClick(e,r)})),this.isButtonClicked(r)&&(o.addClass("clicked_wizard_icon"),o.addClass("disable-image")),this.buttons[t]=o,this.appendButton(o),o}setGridGroupColumns(e){}urlClick(e){this.api.getMakePaymentData(this.getWizardObject().selected_remittance_agency_event_id,e,{onResult:function(e){var t=e.getResult();window.open(t)}})}paymentServicesClick(e){this.api.getFileAndPayWithPaymentServicesData(this.getWizardObject().selected_remittance_agency_event_id,e,{onResult:function(e){var t=e.getResult();t.user_message&&""!=t.user_message?TAlertManager.showAlert(t.user_message):0==t&&TAlertManager.showAlert($.i18n._("ERROR! Something went wrong, please contact customer service immediately!"))}})}}},1947:(e,t,i)=>{"use strict";i.r(t),i.d(t,{"PayrollRemittanceAgencyEventWizardStepPublish":()=>r});var n=i(8880);class r extends n.WizardStep{constructor(e={}){_.defaults(e,{name:"publish",api:null,el:$(".wizard.process_transactions_wizard")}),super(e)}init(){this.api=TTAPI.APIPayrollRemittanceAgencyEvent,this.render()}getPreviousStepName(){return"submit"}_render(){this.setTitle($.i18n._("Publish Information for Employees")),this.setInstructions($.i18n._("Publish forms for employees to access online")+": ");var e=this;this.getWizardObject().getPayrollRemittanceAgencyEventById(this.getWizardObject().selected_remittance_agency_event_id,null,(function(t){switch(e.getWizardObject().selected_remittance_agency_event=t,e.getWizardObject().buildEventDataBlock("payroll_remittance_agency_event_wizard-publish-event_details",t),e.initCardsBlock(),e.getWizardObject().selected_remittance_agency_event.type_id){case"T4":e.addButton(ContextMenuIconName.print,"payroll_remittance_agency-35x35.png",$.i18n._("Publish"),$.i18n._("Publish T4 forms for employees to access online with their own login under Payroll -> Government Documents.")),e.addButton("EmployeeT4",Icons.print,$.i18n._("Employee T4 Forms"),$.i18n._("Print employee T4 forms for distribution to employees by hand or mail."));break;case"T4A":e.addButton(ContextMenuIconName.print,"payroll_remittance_agency-35x35.png",$.i18n._("Publish"),$.i18n._("Publish T4A forms for employees to access online with their own login under Payroll -> Government Documents.")),e.addButton("EmployeeT4A",Icons.print,$.i18n._("Employee T4A Forms"),$.i18n._("Print employee T4A forms for distribution to employees by hand or mail."));break;case"FW2":e.addButton(ContextMenuIconName.print,"payroll_remittance_agency-35x35.png",$.i18n._("Publish"),$.i18n._("Publish W2 forms for employees to access online with their own login under Payroll -> Government Documents.")),e.addButton("EmployeeW2",Icons.print,$.i18n._("Print employee W2 Forms")+" ("+$.i18n._("Optional")+") ",$.i18n._("Print employee W2 forms for distribution to employees by hand or mail."));break;case"F1099NEC":e.addButton(ContextMenuIconName.print,"payroll_remittance_agency-35x35.png",$.i18n._("Publish"),$.i18n._("Publish 1099-NEC forms for recipients to access online with their own login under Payroll -> Government Documents.")),e.addButton("Employee1099Nec",Icons.print,$.i18n._("Print employee 1099-NEC Forms")+" ("+$.i18n._("Optional")+") ",$.i18n._("Print employee 1099-NEC forms for distribution to recipients by hand or mail."))}e.getWizardObject().enableButtons()}))}_onNavigationClick(e){var t=this;switch(this.getWizardObject().selected_remittance_agency_event.type_id){case"T4":switch(e){case ContextMenuIconName.print:this.getWizardObject().disableForCommunity((function(){t.publishReportToEmployee()}));break;case"EmployeeT4":Global.loadScript("views/reports/t4_summary/T4SummaryReportViewController",(function(){t.getWizardObject().getReport("pdf_form")}))}break;case"T4A":switch(e){case ContextMenuIconName.print:this.getWizardObject().disableForCommunity((function(){t.publishReportToEmployee()}));break;case"EmployeeT4A":Global.loadScript("views/reports/t4a_summary/T4ASummaryReportViewController",(function(){t.getWizardObject().getReport("pdf_form")}))}break;case"FW2":switch(e){case ContextMenuIconName.print:this.getWizardObject().disableForCommunity((function(){t.publishReportToEmployee()}));break;case"EmployeeW2":Global.loadScript("views/reports/formw2/FormW2ReportViewController",(function(){t.getWizardObject().getReport("pdf_form")}))}break;case"F1099NEC":switch(e){case ContextMenuIconName.print:this.getWizardObject().disableForCommunity((function(){t.publishReportToEmployee()}));break;case"Employee1099Nec":Global.loadScript("views/reports/form1099/Form1099NecReportViewController",(function(){t.getWizardObject().getReport("pdf_form")}))}}}publishReportToEmployee(){this.api.getReportData(this.getWizardObject().selected_remittance_agency_event_id,"pdf_form_publish_employee",{onResult:function(e){var t=e.getResult();t.api_retval?UserGenericStatusWindowController.open(t.api_retval,LocalCacheData.getLoginUser().id,(function(){})):TAlertManager.showAlert($.i18n._("No results found."),$.i18n._("Warning"),(function(){}))}})}getPDFForm(e){Global.loadScript(e,(function(){$this.getWizardObject().getReport("pdf_form")}))}}}}]);
//# sourceMappingURL=payroll-remittance_wizard-PayrollRemittanceAgencyEventWizardStepPublish.bundle.js.map?v=21010fdad61d9c014880