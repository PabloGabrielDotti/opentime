{"version":3,"sources":["webpack://timetrex/./interface/html5/views/wizard/quick_start/QuickStartWizardController.js"],"names":["QuickStartWizardController","BaseWizardController","options","_","defaults","el","selected_province_index","selected_country_index","super","this","title","$","i18n","steps","current_step","render","initCurrentStep","$this","content_div","empty","stepsWidgetDic","label","getLabel","text","LocalCacheData","getApplicationName","guide_label","append","Global","setWidgetEnabled","next_btn","form_item","loadWidget","form_item_label","find","form_item_input_div","combobox","getComboBox","date_format","time_format","calendar_starts_on","getField","frequency","bind","e","target","onFrequencyChange","grid_id","grid_div","setDateGrid","legal_entity_label","form_item_input","loadWidgetByName","FormItemType","AWESOME_BOX","TText","field","AComboBox","api_class","TTAPI","APILegalEntity","allow_multiple_selection","layout_name","show_search_inputs","set_empty","custom_first_label","all_item","legal_entity_id","args","country","province","editor","INSIDE_EDITOR","InsideEditor","addRow","insideEditorAddRow","removeRow","insideEditorRemoveRow","getValue","insideEditorGetValue","setValue","insideEditorSetValue","parent_controller","render_args","row_render","addClass","current_step_data","stepsDataDic","removeAllRows","val","len","length","i","isSet","row","index","rowIndex","remove","rows_widgets_array","splice","removeLastRowLine","data","getCurrentCompany","getRowRender","getRender","widgets","widgetContainer","widgetContainer1","COMBO_BOX","TComboBox","set_select_item_when_set_source_data","APICompany","getOptions","onResult","result","result_data","getResult","setSourceData","buildRecordArray","setSelectedIndex","getSelectedIndex","TTPromise","add","setProvince","wait","children","eq","updateProvince","insertAfter","push","current_edit_item","addIconsEvent","reject","res","resolve","first_cell_val","getData","start_date","setDefaultDates","gridId","height","getGridColumns","column_model","TTGrid","sortable","editurl","multiselect","onSelectRow","id","setGridSize","setGridGroupColumns","cell_value","related_data","col_model","colModel","row_id","rowId","name","get","outerHTML","is_setup_complete","current_open_wizard_controller","TAlertManager","showConfirmAlert","flag","company","company_api","setCompany","grid","target_id","attr","split","substring","indexOf","target_val","row_data","show_alert","doNext","type_id","example_dates","first_date","APIPayPeriodSchedule","detectPayPeriodScheduleDates","res_data","setData","setStep3CellDatePickers","callBack","column_info_array","column_info","width","formatter","onTextInputRender","current_step_ui","api_return_count","back_btn","api_user_preference","APIUserPreference","api_current_user","APIAuthentication","key","hasOwnProperty","step2OptionsCallBack","getCurrentUserPreference","user_preference","t","d","tf","s","language","time_zone","start_week_day","setStep2Values","array","end_date","transaction_date","buildStep3EmptySource","initInsideEditorData","inputs","TDatePicker","onStep3DatePickerChange","onDoneClick","IndexViewController","goToView","saveCurrentStep","direction","setUserPreference","updateUserPreference","getGridParam","api_pp_schedule","detectPayPeriodScheduleSettings","setPayPeriodSchedule","result_1","isValid","showErrorAlert","selected_legal_entities","n","APISetupPresets","createPresets"],"mappings":"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","file":"wizard-quick_start-QuickStartWizardController.bundle.js?v=5e2000ea17d3e0e35d23","sourcesContent":["export class QuickStartWizardController extends BaseWizardController {\n\tconstructor( options = {} ) {\n\t\t_.defaults( options, {\n\t\t\tel: '.wizard-bg',\n\t\t\tselected_province_index: -1,\n\t\t\tselected_country_index: -1,\n\n\n\t\t} );\n\n\t\tsuper( options );\n\t}\n\n\tinit( options ) {\n\t\t//this._super('initialize', options );\n\n\t\tthis.title = $.i18n._( 'Quick Start Wizard' );\n\t\tthis.steps = 5;\n\t\tthis.current_step = 1;\n\n\t\tthis.render();\n\t}\n\n\trender() {\n\t\tsuper.render();\n\n\t\tthis.initCurrentStep();\n\t}\n\n\t//Create each page UI\n\tbuildCurrentStepUI() {\n\t\tvar $this = this;\n\t\tthis.content_div.empty();\n\t\tthis.stepsWidgetDic[this.current_step] = {};\n\t\tswitch ( this.current_step ) {\n\t\t\tcase 1:\n\t\t\t\tvar label = this.getLabel();\n\t\t\t\tlabel.text( $.i18n._( 'Welcome to' ) + ' ' + LocalCacheData.getApplicationName() + ', ' + $.i18n._( 'this Quick Start Wizard will walk you through the initial setup by asking you a few basic questions about your company.' ) );\n\n\t\t\t\tvar guide_label = $( '<div><span class=\"clear-both-div\">' + $.i18n._( 'Press' ) + '<button style=\"display: inline\" class=\"forward-btn\"></button> ' + $.i18n._( 'below to continue' ) + '</span></div>' );\n\n\t\t\t\tthis.content_div.append( label );\n\n\t\t\t\tthis.content_div.append( guide_label );\n\t\t\t\tbreak;\n\n\t\t\tcase 2:\n\t\t\t\tGlobal.setWidgetEnabled( this.next_btn, false );\n\t\t\t\tvar label = this.getLabel();\n\t\t\t\tlabel.text( $.i18n._( 'Please choose the preferred settings that you would like to use to display information throughout' ) + ' ' + LocalCacheData.getApplicationName() + '.' );\n\n\t\t\t\tthis.content_div.append( label );\n\n\t\t\t\t//Time Zone\n\t\t\t\tvar form_item = $( Global.loadWidget( 'global/widgets/wizard_form_item/WizardFormItem.html' ) );\n\t\t\t\tvar form_item_label = form_item.find( '.form-item-label' );\n\t\t\t\tvar form_item_input_div = form_item.find( '.form-item-input-div' );\n\n\t\t\t\tvar combobox = this.getComboBox( 'time_zone', true );\n\n\t\t\t\tform_item_label.text( $.i18n._( 'Timezone' ) + ': ' );\n\t\t\t\tform_item_input_div.append( combobox );\n\n\t\t\t\tthis.content_div.append( form_item );\n\n\t\t\t\t//Date Format\n\t\t\t\tform_item = $( Global.loadWidget( 'global/widgets/wizard_form_item/WizardFormItem.html' ) );\n\t\t\t\tform_item_label = form_item.find( '.form-item-label' );\n\t\t\t\tform_item_input_div = form_item.find( '.form-item-input-div' );\n\n\t\t\t\tvar date_format = this.getComboBox( 'date_format', true );\n\n\t\t\t\tform_item_label.text( $.i18n._( 'Date Format' ) + ': ' );\n\t\t\t\tform_item_input_div.append( date_format );\n\n\t\t\t\tthis.content_div.append( form_item );\n\n\t\t\t\t//Time Format\n\t\t\t\tform_item = $( Global.loadWidget( 'global/widgets/wizard_form_item/WizardFormItem.html' ) );\n\t\t\t\tform_item_label = form_item.find( '.form-item-label' );\n\t\t\t\tform_item_input_div = form_item.find( '.form-item-input-div' );\n\n\t\t\t\tvar time_format = this.getComboBox( 'time_format', true );\n\n\t\t\t\tform_item_label.text( $.i18n._( 'Time Format' ) + ': ' );\n\t\t\t\tform_item_input_div.append( time_format );\n\n\t\t\t\tthis.content_div.append( form_item );\n\n\t\t\t\t//Calendar Starts On\n\t\t\t\tform_item = $( Global.loadWidget( 'global/widgets/wizard_form_item/WizardFormItem.html' ) );\n\t\t\t\tform_item_label = form_item.find( '.form-item-label' );\n\t\t\t\tform_item_input_div = form_item.find( '.form-item-input-div' );\n\n\t\t\t\tvar calendar_starts_on = this.getComboBox( 'start_week_day', true );\n\n\t\t\t\tform_item_label.text( $.i18n._( 'Calendar Starts On' ) + ': ' );\n\t\t\t\tform_item_input_div.append( calendar_starts_on );\n\n\t\t\t\tthis.content_div.append( form_item );\n\n\t\t\t\tthis.stepsWidgetDic[this.current_step][combobox.getField()] = combobox;\n\t\t\t\tthis.stepsWidgetDic[this.current_step][date_format.getField()] = date_format;\n\t\t\t\tthis.stepsWidgetDic[this.current_step][time_format.getField()] = time_format;\n\t\t\t\tthis.stepsWidgetDic[this.current_step][calendar_starts_on.getField()] = calendar_starts_on;\n\t\t\t\tbreak;\n\n\t\t\tcase 3:\n\t\t\t\tvar label = this.getLabel();\n\t\t\t\tlabel.text( $.i18n._( 'Pay period schedules are critical to the operation of' ) + ' ' + LocalCacheData.getApplicationName() + ' ' + $.i18n._( 'regardless if you use it for processing payroll or not. Please select the pay period frequency and enter the start date, end date and transaction date (date the employees are paid) for your next four pay periods. Based on this information' ) + ' ' + LocalCacheData.getApplicationName() + ' ' + $.i18n._( 'will automatically create subsequent pay periods for you.' ) );\n\n\t\t\t\tthis.content_div.append( label );\n\n\t\t\t\t//Pay Period Frequency\n\t\t\t\tform_item = $( Global.loadWidget( 'global/widgets/wizard_form_item/WizardFormItem.html' ) );\n\t\t\t\tform_item_label = form_item.find( '.form-item-label' );\n\t\t\t\tform_item_input_div = form_item.find( '.form-item-input-div' );\n\n\t\t\t\tvar frequency = this.getComboBox( 'type_id', false );\n\n\t\t\t\tform_item_label.text( $.i18n._( 'Pay Period Frequency' ) + ': ' );\n\t\t\t\tform_item_input_div.append( frequency );\n\n\t\t\t\tfrequency.bind( 'formItemChange', function( e, target ) {\n\t\t\t\t\t$this.onFrequencyChange( target );\n\t\t\t\t} );\n\n\t\t\t\tthis.content_div.append( form_item );\n\n\t\t\t\tthis.stepsWidgetDic[this.current_step][frequency.getField()] = frequency;\n\n\t\t\t\t//Example Dates\n\t\t\t\tvar grid_id = 'example_dates';\n\t\t\t\tvar grid_div = $( '<div style=\\'float: left; width: 100%\\'  class=\\'grid-div wizard-grid-div\\'> <table id=\\'' + grid_id + '\\'></table></div>' );\n\t\t\t\tthis.setDateGrid( grid_id, grid_div, 300 );\n\n\t\t\t\tbreak;\n\t\t\tcase 4:\n\t\t\t\tvar label = this.getLabel();\n\t\t\t\tlabel.text( $.i18n._( 'To help determine how' ) + ' ' + LocalCacheData.getApplicationName() + ' ' + $.i18n._( 'should be initially setup, please select one or more locations that your employees reside within.' ) );\n\t\t\t\tthis.content_div.append( label );\n\n\t\t\t\tvar guide_label = $( '<div><span class=\"clear-both-div\">' + $.i18n._( 'Click' ) + ' <button style=\"display: inline\" class=\"plus-icon\"></button> ' + $.i18n._( 'icon to add additional locations' ) + '</span></div>' );\n\t\t\t\tthis.content_div.append( guide_label );\n\n\t\t\t\tvar legal_entity_label = $( '<br><div><span class=\"clear-both-div\">' + $.i18n._( 'Legal Entity' ) + '</span></div>' );\n\t\t\t\tthis.content_div.append( legal_entity_label );\n\n\t\t\t\tvar form_item_input = Global.loadWidgetByName( FormItemType.AWESOME_BOX );\n\t\t\t\tform_item_input.TText( { field: 'legal_entity_id' } );\n\t\t\t\tform_item_input.AComboBox( {\n\t\t\t\t\tapi_class: TTAPI.APILegalEntity,\n\t\t\t\t\tallow_multiple_selection: true,\n\t\t\t\t\tlayout_name: 'global_legal_entity',\n\t\t\t\t\tshow_search_inputs: false,\n\t\t\t\t\tset_empty: true,\n\t\t\t\t\tcustom_first_label: Global.all_item\n\t\t\t\t} );\n\n\t\t\t\tthis.content_div.append( form_item_input );\n\t\t\t\tthis.stepsWidgetDic[this.current_step].legal_entity_id = form_item_input;\n\n\t\t\t\t//Inside editor\n\n\t\t\t\tvar args = {\n\t\t\t\t\tcountry: $.i18n._( 'Country' ),\n\t\t\t\t\tprovince: $.i18n._( 'Province/State' )\n\t\t\t\t};\n\n\t\t\t\tvar editor = Global.loadWidgetByName( FormItemType.INSIDE_EDITOR );\n\n\t\t\t\teditor.InsideEditor( {\n\t\t\t\t\ttitle: '',\n\t\t\t\t\taddRow: this.insideEditorAddRow,\n\t\t\t\t\tremoveRow: this.insideEditorRemoveRow,\n\t\t\t\t\tgetValue: this.insideEditorGetValue,\n\t\t\t\t\tsetValue: this.insideEditorSetValue,\n\t\t\t\t\tparent_controller: this,\n\t\t\t\t\trender: 'views/wizard/quick_start/QuickStartInsideEditorRender.html',\n\t\t\t\t\trender_args: args,\n\t\t\t\t\trow_render: 'views/wizard/quick_start/QuickStartInsideEditorRow.html'\n\t\t\t\t} );\n\n\t\t\t\teditor.addClass( 'wizard-inside-editor' );\n\n\t\t\t\tthis.content_div.append( editor );\n\n\t\t\t\tthis.stepsWidgetDic[this.current_step]['country'] = editor;\n\t\t\t\tbreak;\n\t\t\tcase 5:\n\t\t\t\tvar label = this.getLabel();\n\t\t\t\tlabel.text( LocalCacheData.getApplicationName() + ' ' + $.i18n._( 'is now setup and ready for you to start adding employees and tracking their attendance.' ) );\n\t\t\t\tthis.content_div.append( label );\n\n\t\t\t\tvar guide_label = $( '<div><span class=\"clear-both-div\">' + $.i18n._( 'Click the' ) + ' <button style=\"display: inline\" class=\"done-btn\"></button> ' + $.i18n._( 'icon below to begin doing that now' ) + '</span></div>' );\n\t\t\t\tthis.content_div.append( guide_label );\n\n\t\t\t\tbreak;\n\t\t}\n\t}\n\n\tinitInsideEditorData() {\n\t\tvar $this = this;\n\n\t\tvar current_step_data = this.stepsDataDic[this.current_step];\n\t\tvar current_step_ui = this.stepsWidgetDic[this.current_step];\n\n\t\tvar editor = current_step_ui['country'];\n\t\tvar args = {};\n\t\targs.filter_data = {};\n\n\t\tif ( !current_step_data ) {\n\t\t\teditor.removeAllRows();\n\t\t\teditor.addRow();\n\n\t\t} else {\n\t\t\teditor.setValue( current_step_data.country );\n\n\t\t}\n\t}\n\n\tinsideEditorSetValue( val ) {\n\t\tvar len = val.length;\n\t\tthis.removeAllRows();\n\n\t\tif ( len > 0 ) {\n\t\t\tfor ( var i = 0; i < val.length; i++ ) {\n\t\t\t\tif ( Global.isSet( val[i] ) ) {\n\t\t\t\t\tvar row = val[i];\n\t\t\t\t\tthis.addRow( row );\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\tthis.addRow();\n\t\t}\n\t}\n\n\tinsideEditorRemoveRow( row ) {\n\t\tvar index = row[0].rowIndex - 1;\n\t\trow.remove();\n\t\tthis.rows_widgets_array.splice( index, 1 );\n\t\tthis.removeLastRowLine();\n\t}\n\n\tinsideEditorAddRow( data, index ) {\n\n\t\tvar form_item_input;\n\n\t\tvar $this = this;\n\t\tif ( !data ) {\n\t\t\tdata = {\n\t\t\t\tcountry: LocalCacheData.getCurrentCompany().country,\n\t\t\t\tprovince: LocalCacheData.getCurrentCompany().province\n\t\t\t};\n\t\t}\n\n\t\tvar row = this.getRowRender(); //Get Row render\n\t\tvar render = this.getRender(); //get render, should be a table\n\t\tvar widgets = {}; //Save each row's widgets\n\n\t\t//Build row widgets\n\n\t\t// Country\n\n\t\tvar widgetContainer = $( '<ul style=\\'list-style: none; padding: 0; margin: 0;\\'></ul>' );\n\n\t\tvar widgetContainer1 = $( '<li class=\\'widget-h-box\\' style=\\'float: left; margin-right: 10px\\'></li>' );\n\n\t\tvar country = Global.loadWidgetByName( FormItemType.COMBO_BOX );\n\t\tcountry.TComboBox( { field: 'country', set_empty: true, set_select_item_when_set_source_data: true } );\n\n\t\tvar country_api = TTAPI.APICompany;\n\n\t\tcountry_api.getOptions( 'country', {\n\t\t\tonResult: function( result ) {\n\t\t\t\tvar result_data = result.getResult();\n\t\t\t\tcountry.setSourceData( Global.buildRecordArray( result_data ) );\n\n\t\t\t\tif ( $this.parent_controller.selected_country_index != -1 ) {\n\t\t\t\t\tcountry.setSelectedIndex( $this.parent_controller.selected_country_index );\n\t\t\t\t} else {\n\t\t\t\t\tcountry.setValue( data.country );\n\t\t\t\t\t$this.parent_controller.selected_country_index = country.getSelectedIndex();\n\t\t\t\t}\n\n\t\t\t\tif ( data.country != country.getValue() ) {\n\t\t\t\t\tdata.country = country.getValue();\n\t\t\t\t}\n\n\t\t\t\twidgets[country.getField()] = country;\n\n\t\t\t\tcountry.bind( 'formItemChange', function( e, target ) {\n\t\t\t\t\t$this.parent_controller.selected_country_index = country.getSelectedIndex();\n\t\t\t\t\tTTPromise.add( 'QuickStartWizard', 'setProvince' );\n\t\t\t\t\t$this.parent_controller.setProvince( { country: target.getValue(), province: '' }, province );\n\t\t\t\t\tTTPromise.wait( 'QuickStartWizard', 'setProvince', function() {\n\t\t\t\t\t\t$this.parent_controller.selected_province_index = province.getSelectedIndex();\n\t\t\t\t\t} );\n\t\t\t\t} );\n\n\t\t\t\twidgetContainer1.append( country );\n\n\t\t\t\twidgetContainer.append( widgetContainer1 );\n\n\t\t\t\trow.children().eq( 0 ).append( widgetContainer );\n\n\t\t\t\t// Province\n\n\t\t\t\twidgetContainer = $( '<ul style=\\'list-style: none; padding: 0; margin: 0;\\'></ul>' );\n\n\t\t\t\twidgetContainer1 = $( '<li class=\\'widget-h-box\\' style=\\'float: left; margin-right: 10px\\'></li>' );\n\n\t\t\t\tvar province = Global.loadWidgetByName( FormItemType.COMBO_BOX );\n\t\t\t\tprovince.TComboBox( { field: 'province', set_empty: false } );\n\n\t\t\t\tTTPromise.add( 'QuickStartWizard', 'setProvince' );\n\t\t\t\t$this.parent_controller.setProvince( data, province );\n\t\t\t\tTTPromise.wait( 'QuickStartWizard', 'setProvince', function() {\n\t\t\t\t\tupdateProvince( province );\n\t\t\t\t} );\n\n\t\t\t\tprovince.bind( 'formItemChange', function() {\n\t\t\t\t\t$this.parent_controller.selected_province_index = province.getSelectedIndex();\n\t\t\t\t} );\n\n\t\t\t\twidgets[province.getField()] = province;\n\n\t\t\t\twidgetContainer1.append( province );\n\n\t\t\t\twidgetContainer.append( widgetContainer1 );\n\n\t\t\t\trow.children().eq( 1 ).append( widgetContainer );\n\n\t\t\t\tif ( typeof index != 'undefined' ) {\n\n\t\t\t\t\trow.insertAfter( $( render ).find( 'tr' ).eq( index ) );\n\t\t\t\t\t$this.rows_widgets_array.splice( ( index ), 0, widgets );\n\n\t\t\t\t} else {\n\t\t\t\t\t$( render ).append( row );\n\t\t\t\t\t$this.rows_widgets_array.push( widgets );\n\t\t\t\t}\n\n\t\t\t\twidgets.current_edit_item = data;\n\n\t\t\t\t$this.addIconsEvent( row ); //Bind event to add and minus icon\n\t\t\t\t$this.removeLastRowLine();\n\t\t\t\t$this.removeLastRowLine();\n\t\t\t}\n\t\t} );\n\n\t\tfunction updateProvince( province ) {\n\t\t\tif ( typeof index == 'undefined' ) {\n\t\t\t\t$this.parent_controller.selected_province_index = province.getSelectedIndex();\n\t\t\t} else {\n\t\t\t\t$this.parent_controller.selected_province_index++;\n\t\t\t\tprovince.setSelectedIndex( $this.parent_controller.selected_province_index );\n\t\t\t}\n\t\t}\n\t}\n\n\tsetProvince( val, province ) {\n\t\tvar $this = this;\n\n\t\tif ( !val.country ) {\n\t\t\tprovince.setSourceData( [] );\n\t\t\tprovince.setValue( 0 );\n\t\t\tTTPromise.reject( 'QuickStart', 'setProvince' );\n\t\t\treturn;\n\n\t\t}\n\n\t\tvar country_api = TTAPI.APICompany;\n\n\t\tcountry_api.getOptions( 'province', val.country, {\n\t\t\tonResult: function( res ) {\n\t\t\t\tres = res.getResult();\n\n\t\t\t\tprovince.setSourceData( Global.buildRecordArray( res ) );\n\t\t\t\tprovince.setValue( val.province );\n\t\t\t\tTTPromise.resolve( 'QuickStartWizard', 'setProvince' );\n\t\t\t}\n\t\t} );\n\t}\n\n\tonFrequencyChange( target ) {\n\n\t\tvar current_step_ui = this.stepsWidgetDic[this.current_step];\n\t\tvar grid = current_step_ui['example_dates'];\n\t\tvar data = grid.getData();\n\n\t\tvar first_cell_val;\n\n\t\t//rror: Uncaught TypeError: Cannot read property 'start_date' of undefined in /interface/html5/#!m=Schedule&date=20141201&mode=week line 332\n\t\tif ( data && data[0] ) {\n\t\t\tfirst_cell_val = data[0].start_date;\n\t\t}\n\n\t\tif ( first_cell_val ) {\n\t\t\tthis.setDefaultDates( true );\n\t\t}\n\t}\n\n\tsetDateGrid( gridId, grid_div, height ) {\n\t\tvar $this = this;\n\n\t\tthis.content_div.append( grid_div );\n\n\t\tif ( !height ) {\n\t\t\theight = 370;\n\t\t}\n\n\t\tthis.getGridColumns( gridId, function( column_model ) {\n\n\t\t\t$this.stepsWidgetDic[$this.current_step][gridId] = new TTGrid( gridId, {\n\t\t\t\tsortable: false,\n\t\t\t\theight: height,\n\t\t\t\tediturl: 'QuickStart',\n\t\t\t\tmultiselect: false,\n\n\t\t\t\tonSelectRow: function( id ) {\n\t\t\t\t\tif ( id ) {\n\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t}, column_model );\n\n\t\t\t$this.setGridSize( $this.stepsWidgetDic[$this.current_step][gridId] );\n\n\t\t\t$this.setGridGroupColumns( gridId );\n\n\t\t} );\n\t}\n\n\tonTextInputRender( cell_value, related_data, row ) {\n\n\t\tvar col_model = related_data.colModel;\n\t\tvar row_id = related_data.rowId;\n\n\t\tvar date_picker = $( '<div custom_cell=\"true\" render_type=\"date_picker\" id=\"' + row_id + '_' + col_model.name + '\" class=\"t-date-picker-div\"><input class=\"t-date-picker\" type=\"text\" value=\"' + cell_value + '\"></input><img id=\"tDatePickerIcon\" class=\"t-date-picker-icon\"></img>' );\n\n\t\treturn date_picker.get( 0 ).outerHTML;\n\t}\n\n\tonCloseClick() {\n\t\tvar $this = this;\n\t\tif ( !LocalCacheData.getCurrentCompany().is_setup_complete ) {\n\t\t\tTAlertManager.showConfirmAlert( $.i18n._( 'Would you like to be reminded to complete the Quick Start Wizard next time you login?' ), '', function( flag ) {\n\t\t\t\tif ( !flag ) {\n\t\t\t\t\tvar company = {};\n\t\t\t\t\tcompany.id = LocalCacheData.getCurrentCompany().id;\n\t\t\t\t\tcompany.is_setup_complete = true;\n\n\t\t\t\t\tvar company_api = TTAPI.APICompany;\n\t\t\t\t\tLocalCacheData.getCurrentCompany().is_setup_complete = true;\n\n\t\t\t\t\tcompany_api.setCompany( company, {\n\t\t\t\t\t\tonResult: function() {\n\n\t\t\t\t\t\t}\n\t\t\t\t\t} );\n\t\t\t\t}\n\n\t\t\t\t$( $this.el ).remove();\n\t\t\t\tLocalCacheData.current_open_wizard_controller = null;\n\t\t\t} );\n\t\t} else {\n\t\t\t$( $this.el ).remove();\n\t\t\tLocalCacheData.current_open_wizard_controller = null;\n\n\t\t}\n\t}\n\n\tonStep3DatePickerChange( target ) {\n\n\t\tvar $this = this;\n\t\tvar current_step_ui = this.stepsWidgetDic[this.current_step];\n\t\tvar grid = current_step_ui['example_dates'];\n\t\tvar target_id = target.attr( 'id' );\n\t\tvar row_id = target_id.split( '_' )[0];\n\t\tvar field = target_id.substring( target_id.indexOf( '_' ) + 1, target_id.length );\n\t\tvar data = grid.getData();\n\t\tvar target_val = target.getValue();\n\n\t\tvar first_cell_val = data[0].start_date;\n\n\t\tvar len = data.length;\n\n\t\tfor ( var i = 0; i < len; i++ ) {\n\t\t\tvar row_data = data[i];\n\n\t\t\tif ( row_data.id == row_id ) {\n\t\t\t\trow_data[field] = target_val;\n\n\t\t\t\tif ( i === 0 && field === 'start_date' ) {\n\t\t\t\t\tif ( first_cell_val && first_cell_val !== target_val ) {\n\t\t\t\t\t\t$this.setDefaultDates( true );\n\t\t\t\t\t} else if ( !first_cell_val ) {\n\t\t\t\t\t\t$this.setDefaultDates();\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\n\tsetDefaultDates( show_alert ) {\n\t\tvar $this = this;\n\t\tif ( show_alert ) {\n\t\t\tTAlertManager.showConfirmAlert( $.i18n._( 'Would you like to pre-populate all date fields based on the first start date' ), '', function( flag ) {\n\t\t\t\tif ( flag ) {\n\t\t\t\t\tdoNext();\n\t\t\t\t}\n\t\t\t} );\n\t\t} else {\n\t\t\tdoNext();\n\t\t}\n\n\t\tfunction doNext() {\n\n\t\t\tvar type_id = $this.stepsWidgetDic[3].type_id.getValue();\n\t\t\tvar grid = $this.stepsWidgetDic[3].example_dates;\n\t\t\tvar data = grid.getData();\n\t\t\tvar first_date = data[0].start_date;\n\n\t\t\tvar api = TTAPI.APIPayPeriodSchedule;\n\n\t\t\tapi.detectPayPeriodScheduleDates( type_id, first_date, {\n\t\t\t\tonResult: function( result ) {\n\t\t\t\t\tvar res_data = result.getResult();\n\t\t\t\t\tgrid.setData( res_data );\n\n\t\t\t\t\t$this.setStep3CellDatePickers( grid );\n\n\t\t\t\t}\n\t\t\t} );\n\t\t}\n\t}\n\n\tgetGridColumns( gridId, callBack ) {\n\t\tvar column_info_array = [];\n\t\tvar $this = this;\n\n\t\tswitch ( gridId ) {\n\t\t\tcase 'example_dates':\n\n\t\t\t\tvar column_info = {\n\t\t\t\t\tname: 'start_date',\n\t\t\t\t\tindex: 'start_date',\n\t\t\t\t\tlabel: $.i18n._( 'Start Date' ),\n\t\t\t\t\twidth: 100,\n\t\t\t\t\tsortable: false,\n\t\t\t\t\ttitle: false,\n\t\t\t\t\tformatter: function( cell_value, related_data, row ) {\n\t\t\t\t\t\treturn $this.onTextInputRender( cell_value, related_data, row );\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t\tcolumn_info_array.push( column_info );\n\n\t\t\t\tcolumn_info = {\n\t\t\t\t\tname: 'end_date',\n\t\t\t\t\tindex: 'end_date',\n\t\t\t\t\tlabel: $.i18n._( 'End Date' ),\n\t\t\t\t\twidth: 100,\n\t\t\t\t\tsortable: false,\n\t\t\t\t\ttitle: false,\n\t\t\t\t\tformatter: function( cell_value, related_data, row ) {\n\t\t\t\t\t\treturn $this.onTextInputRender( cell_value, related_data, row );\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t\tcolumn_info_array.push( column_info );\n\n\t\t\t\tcolumn_info = {\n\t\t\t\t\tname: 'transaction_date',\n\t\t\t\t\tindex: 'transaction_date',\n\t\t\t\t\tlabel: $.i18n._( 'Transaction Date' ),\n\t\t\t\t\twidth: 100,\n\t\t\t\t\tsortable: false,\n\t\t\t\t\ttitle: false,\n\t\t\t\t\tformatter: function( cell_value, related_data, row ) {\n\t\t\t\t\t\treturn $this.onTextInputRender( cell_value, related_data, row );\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t\tcolumn_info_array.push( column_info );\n\n\t\t\t\tbreak;\n\n\t\t}\n\n\t\tcallBack( column_info_array );\n\t}\n\n\tbuildCurrentStepData() {\n\t\tvar $this = this;\n\t\tvar current_step_data = this.stepsDataDic[this.current_step];\n\t\tvar current_step_ui = this.stepsWidgetDic[this.current_step];\n\n\t\tvar api_return_count = 0;\n\n\t\tswitch ( this.current_step ) {\n\t\t\tcase 2:\n\n\t\t\t\tGlobal.setWidgetEnabled( this.next_btn, false );\n\t\t\t\tGlobal.setWidgetEnabled( this.back_btn, false );\n\t\t\t\tvar api_user_preference = TTAPI.APIUserPreference;\n\t\t\t\tvar api_current_user = TTAPI.APIAuthentication;\n\n\t\t\t\t//Time ZOne\n\t\t\t\tapi_user_preference.getOptions( 'time_zone', {\n\t\t\t\t\tonResult: function( result ) {\n\n\t\t\t\t\t\tcurrent_step_ui['time_zone'].setSourceData( Global.buildRecordArray( result.getResult() ) );\n\n\t\t\t\t\t\tif ( current_step_data ) {\n\t\t\t\t\t\t\tfor ( var key in current_step_data ) {\n\t\t\t\t\t\t\t\tif ( !current_step_data.hasOwnProperty( key ) ) {\n\t\t\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tcurrent_step_ui[key].setValue( current_step_data[key] );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tstep2OptionsCallBack();\n\n\t\t\t\t\t}\n\t\t\t\t} );\n\n\t\t\t\t//Time Format\n\t\t\t\tapi_user_preference.getOptions( 'time_format', {\n\t\t\t\t\tonResult: function( result ) {\n\n\t\t\t\t\t\tcurrent_step_ui['time_format'].setSourceData( Global.buildRecordArray( result.getResult() ) );\n\n\t\t\t\t\t\tif ( current_step_data ) {\n\t\t\t\t\t\t\tfor ( var key in current_step_data ) {\n\t\t\t\t\t\t\t\tif ( !current_step_data.hasOwnProperty( key ) ) {\n\t\t\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tcurrent_step_ui[key].setValue( current_step_data[key] );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tstep2OptionsCallBack();\n\n\t\t\t\t\t}\n\t\t\t\t} );\n\n\t\t\t\t//Calendar Starts On\n\t\t\t\tapi_user_preference.getOptions( 'start_week_day', {\n\t\t\t\t\tonResult: function( result ) {\n\n\t\t\t\t\t\tcurrent_step_ui['start_week_day'].setSourceData( Global.buildRecordArray( result.getResult() ) );\n\n\t\t\t\t\t\tif ( current_step_data ) {\n\t\t\t\t\t\t\tfor ( var key in current_step_data ) {\n\t\t\t\t\t\t\t\tif ( !current_step_data.hasOwnProperty( key ) ) {\n\t\t\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tcurrent_step_ui[key].setValue( current_step_data[key] );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tstep2OptionsCallBack();\n\n\t\t\t\t\t}\n\t\t\t\t} );\n\n\t\t\t\tapi_current_user.getCurrentUserPreference( {\n\t\t\t\t\tonResult: function( result ) {\n\t\t\t\t\t\tvar res_data = result.getResult();\n\t\t\t\t\t\tsetStep2Values( res_data );\n\n\t\t\t\t\t}\n\t\t\t\t} );\n\n\t\t\t\tbreak;\n\t\t\tcase 3:\n\t\t\t\tvar api_pp_schedule = TTAPI.APIPayPeriodSchedule;\n\t\t\t\tapi_pp_schedule.getOptions( 'type', {\n\t\t\t\t\tonResult: function( result ) {\n\t\t\t\t\t\tvar res_data = Global.buildRecordArray( result.getResult() );\n\t\t\t\t\t\tres_data.splice( 0, 1 );\n\n\t\t\t\t\t\tcurrent_step_ui['type_id'].setSourceData( res_data );\n\n\t\t\t\t\t\tif ( current_step_data ) {\n\t\t\t\t\t\t\tvar array = current_step_data['example_dates'];\n\n\t\t\t\t\t\t\tvar grid = current_step_ui['example_dates'];\n\t\t\t\t\t\t\tgrid.setData( array );\n\t\t\t\t\t\t\t$this.setStep3CellDatePickers( grid );\n\t\t\t\t\t\t\tcurrent_step_ui['type_id'].setValue( current_step_data['type_id'] );\n\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tbuildStep3EmptySource();\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\t\t\t\t} );\n\n\t\t\t\tbreak;\n\t\t\tcase 4:\n\t\t\t\t$this.initInsideEditorData();\n\t\t\t\tbreak;\n\t\t}\n\n\t\tfunction step2OptionsCallBack() {\n\t\t\tapi_return_count = api_return_count + 1;\n\t\t\tif ( api_return_count === 4 ) {\n\t\t\t\tGlobal.setWidgetEnabled( $this.next_btn, true );\n\t\t\t\tGlobal.setWidgetEnabled( $this.back_btn, true );\n\t\t\t}\n\t\t}\n\n\t\tfunction setStep2Values( user_preference ) {\n\n\t\t\tvar t = current_step_ui['time_zone'];\n\t\t\tvar d = current_step_ui['date_format'];\n\t\t\tvar tf = current_step_ui['time_format'];\n\t\t\tvar s = current_step_ui['start_week_day'];\n\n\t\t\tif ( user_preference.language === 'en' ) {\n\t\t\t\tapi_user_preference.getOptions( 'date_format', {\n\t\t\t\t\tonResult: function( result ) {\n\n\t\t\t\t\t\tcurrent_step_ui['date_format'].setSourceData( Global.buildRecordArray( result.getResult() ) );\n\n\t\t\t\t\t\tif ( current_step_data ) {\n\t\t\t\t\t\t\tfor ( var key in current_step_data ) {\n\t\t\t\t\t\t\t\tif ( !current_step_data.hasOwnProperty( key ) ) {\n\t\t\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tcurrent_step_ui[key].setValue( current_step_data[key] );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tt.setValue( user_preference.time_zone );\n\t\t\t\t\t\t\td.setValue( user_preference.date_format );\n\t\t\t\t\t\t\ttf.setValue( user_preference.time_format );\n\t\t\t\t\t\t\ts.setValue( user_preference.start_week_day );\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\t\t\t\t} );\n\t\t\t} else {\n\t\t\t\tapi_user_preference.getOptions( 'other_date_format', {\n\t\t\t\t\tonResult: function( result ) {\n\n\t\t\t\t\t\tcurrent_step_ui['date_format'].setSourceData( Global.buildRecordArray( result.getResult() ) );\n\n\t\t\t\t\t\tif ( current_step_data ) {\n\t\t\t\t\t\t\tfor ( var key in current_step_data ) {\n\t\t\t\t\t\t\t\tif ( !current_step_data.hasOwnProperty( key ) ) {\n\t\t\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tcurrent_step_ui[key].setValue( current_step_data[key] );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tt.setValue( user_preference.time_zone );\n\t\t\t\t\t\t\td.setValue( user_preference.date_format );\n\t\t\t\t\t\t\ttf.setValue( user_preference.time_format );\n\t\t\t\t\t\t\ts.setValue( user_preference.start_week_day );\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\t\t\t\t} );\n\t\t\t}\n\n\t\t\tstep2OptionsCallBack();\n\n\t\t}\n\n\t\tfunction buildStep3EmptySource() {\n\t\t\tvar array = [\n\t\t\t\t{ start_date: '', end_date: '', transaction_date: '' },\n\t\t\t\t{ start_date: '', end_date: '', transaction_date: '' },\n\t\t\t\t{ start_date: '', end_date: '', transaction_date: '' },\n\t\t\t\t{ start_date: '', end_date: '', transaction_date: '' }\n\t\t\t];\n\n\t\t\tvar grid = current_step_ui['example_dates'];\n\t\t\tgrid.setData( array );\n\n\t\t\t$this.setStep3CellDatePickers( grid );\n\n\t\t}\n\t}\n\n\tsetStep3CellDatePickers( grid ) {\n\t\tvar inputs = grid.grid.find( 'div[custom_cell=\"true\"]' );\n\t\tvar $this = this;\n\t\tfor ( var i = 0; i < inputs.length; i++ ) {\n\t\t\tvar input = $( inputs[i] ).TDatePicker( { width: 290 } );\n\n\t\t\tinput.bind( 'formItemChange', function( e, target ) {\n\t\t\t\t$this.onStep3DatePickerChange( target );\n\t\t\t} );\n\n\t\t}\n\t}\n\n\tonDoneClick() {\n\t\tvar $this = this;\n\t\tsuper.onDoneClick();\n\t\t$( $this.el ).remove();\n\t\tLocalCacheData.current_open_wizard_controller = null;\n\n\t\tIndexViewController.goToView( 'Employee' );\n\t}\n\n\tinsideEditorGetValue() {\n\n\t\tvar len = this.rows_widgets_array.length;\n\n\t\tvar result = [];\n\n\t\tfor ( var i = 0; i < len; i++ ) {\n\t\t\tvar row = this.rows_widgets_array[i];\n\t\t\tvar data = {\n\t\t\t\tcountry: row.country.getValue(),\n\t\t\t\tprovince: row.province.getValue()\n\t\t\t};\n\n\t\t\tresult.push( data );\n\n\t\t}\n\n\t\treturn result;\n\t}\n\n\tonNextClick() {\n\n\t\tvar $this = this;\n\n\t\tthis.saveCurrentStep( 'forward', function( result ) {\n\t\t\tGlobal.setWidgetEnabled( $this.next_btn, true );\n\t\t\tGlobal.setWidgetEnabled( $this.back_btn, true );\n\t\t\tif ( result ) {\n\t\t\t\t$this.current_step = $this.current_step + 1;\n\t\t\t\t$this.initCurrentStep();\n\t\t\t}\n\t\t} );\n\t}\n\n\tonBackClick() {\n\t\tvar $this = this;\n\n\t\tthis.saveCurrentStep( 'back', function( result ) {\n\t\t\tGlobal.setWidgetEnabled( $this.next_btn, true );\n\t\t\tGlobal.setWidgetEnabled( $this.back_btn, true );\n\t\t\tif ( result ) {\n\t\t\t\t$this.current_step = $this.current_step - 1;\n\t\t\t\t$this.initCurrentStep();\n\t\t\t}\n\t\t} );\n\t}\n\n\tsaveCurrentStep( direction, callBack ) {\n\t\tthis.stepsDataDic[this.current_step] = {};\n\t\tvar current_step_data = this.stepsDataDic[this.current_step];\n\t\tvar current_step_ui = this.stepsWidgetDic[this.current_step];\n\t\tswitch ( this.current_step ) {\n\t\t\tcase 1:\n\t\t\t\tcallBack( true );\n\t\t\t\tbreak;\n\t\t\tcase 2:\n\t\t\t\tGlobal.setWidgetEnabled( this.next_btn, false );\n\t\t\t\tGlobal.setWidgetEnabled( this.back_btn, false );\n\t\t\t\tcurrent_step_data.time_zone = current_step_ui.time_zone.getValue();\n\t\t\t\tcurrent_step_data.time_format = current_step_ui.time_format.getValue();\n\t\t\t\tcurrent_step_data.date_format = current_step_ui.date_format.getValue();\n\t\t\t\tcurrent_step_data.start_week_day = current_step_ui.start_week_day.getValue();\n\n\t\t\t\tif ( direction === 'forward' ) {\n\t\t\t\t\tvar api_current_user = TTAPI.APIAuthentication;\n\t\t\t\t\tvar api_user_preference = TTAPI.APIUserPreference;\n\t\t\t\t\tapi_current_user.getCurrentUserPreference( {\n\t\t\t\t\t\tonResult: function( result ) {\n\t\t\t\t\t\t\tvar res_data = result.getResult();\n\n\t\t\t\t\t\t\tres_data.date_format = current_step_data.date_format;\n\t\t\t\t\t\t\tres_data.time_format = current_step_data.time_format;\n\t\t\t\t\t\t\tres_data.time_zone = current_step_data.time_zone;\n\t\t\t\t\t\t\tres_data.start_week_day = current_step_data.start_week_day;\n\n\t\t\t\t\t\t\tapi_user_preference.setUserPreference( res_data, {\n\t\t\t\t\t\t\t\tonResult: function() {\n\n\t\t\t\t\t\t\t\t\tGlobal.updateUserPreference( function() {\n\t\t\t\t\t\t\t\t\t\tcallBack( true );\n\t\t\t\t\t\t\t\t\t} );\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} );\n\n\t\t\t\t\t\t}\n\t\t\t\t\t} );\n\t\t\t\t} else {\n\t\t\t\t\tcallBack( true );\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase 3:\n\t\t\t\tGlobal.setWidgetEnabled( this.next_btn, false );\n\t\t\t\tGlobal.setWidgetEnabled( this.back_btn, false );\n\n\t\t\t\tcurrent_step_data.type_id = current_step_ui.type_id.getValue();\n\t\t\t\tcurrent_step_data.example_dates = current_step_ui.example_dates.getGridParam( 'data' );\n\n\t\t\t\tif ( direction === 'forward' ) {\n\t\t\t\t\tvar api_pp_schedule = TTAPI.APIPayPeriodSchedule;\n\n\t\t\t\t\tapi_pp_schedule.detectPayPeriodScheduleSettings( current_step_data.type_id, current_step_data.example_dates, {\n\t\t\t\t\t\tonResult: function( result ) {\n\n\t\t\t\t\t\t\tresult = result.getResult();\n\n\t\t\t\t\t\t\tif ( result.hasOwnProperty( 'company_id' ) ) {\n\n\t\t\t\t\t\t\t\tapi_pp_schedule.setPayPeriodSchedule( result, {\n\t\t\t\t\t\t\t\t\tonResult: function( result_1 ) {\n\n\t\t\t\t\t\t\t\t\t\tif ( result_1.isValid() ) {\n\t\t\t\t\t\t\t\t\t\t\tcallBack( true );\n\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\tTAlertManager.showErrorAlert( result_1 );\n\t\t\t\t\t\t\t\t\t\t\tcallBack( false );\n\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t} );\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tcallBack( true );\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\t\t\t\t\t} );\n\t\t\t\t} else {\n\t\t\t\t\tcallBack( true );\n\t\t\t\t}\n\n\t\t\t\tbreak;\n\t\t\tcase 4:\n\t\t\t\tGlobal.setWidgetEnabled( this.next_btn, false );\n\t\t\t\tGlobal.setWidgetEnabled( this.back_btn, false );\n\n\t\t\t\tcurrent_step_data.country = current_step_ui.country.getValue();\n\n\t\t\t\tcurrent_step_data.legal_entity_id = null;\n\t\t\t\tvar selected_legal_entities = current_step_ui.legal_entity_id.getValue( true );\n\t\t\t\tif ( selected_legal_entities && selected_legal_entities.length > 0 ) {\n\t\t\t\t\tcurrent_step_data.legal_entity_id = [];\n\t\t\t\t\tfor ( var n in selected_legal_entities ) {\n\t\t\t\t\t\tcurrent_step_data.legal_entity_id.push( selected_legal_entities[n].id );\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif ( direction === 'forward' ) {\n\t\t\t\t\tvar company_api = TTAPI.APISetupPresets;\n\t\t\t\t\tcompany_api.createPresets( current_step_data.country, current_step_data.legal_entity_id, {\n\t\t\t\t\t\tonResult: function( result ) {\n\n\t\t\t\t\t\t\tif ( result.isValid ) {\n\t\t\t\t\t\t\t\tcallBack( true );\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tTAlertManager.showErrorAlert( result );\n\t\t\t\t\t\t\t\tcallBack( false );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t} );\n\t\t\t\t} else {\n\t\t\t\t\tcallBack( true );\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase 5:\n\t\t\t\tcallBack( true );\n\t\t\t\tbreak;\n\t\t}\n\t}\n\n}\n"],"sourceRoot":""}