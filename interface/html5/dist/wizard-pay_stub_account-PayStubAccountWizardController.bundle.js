(self.webpackChunktimetrex=self.webpackChunktimetrex||[]).push([["wizard-pay_stub_account-PayStubAccountWizardController"],{6701:(t,e,i)=>{"use strict";i.r(e),i.d(e,{"PayStubAccountWizardController":()=>s});class s extends BaseWizardController{constructor(t={}){_.defaults(t,{el:".wizard-bg"}),super(t)}init(t){this.title=$.i18n._("Migrate PS Accounts"),this.steps=2,this.current_step=1,$(this.el).width(1010),this.render()}render(){super.render(),this.initCurrentStep()}buildCurrentStepUI(){switch(this.content_div.empty(),this.stepsWidgetDic[this.current_step]={},this.current_step){case 1:var t=this.getLabel();t.html($.i18n._("This wizard will automatically create Pay Stub Amendments to migrate Year-To-Date amounts from one Pay Stub Account to another as of a specific effective date.")+"<br><br>"),this.content_div.append(t);break;case 2:var e=$(Global.loadWidget("global/widgets/wizard_form_item/WizardFormItem.html"));e.css("margin-top","15px");var i=e.find(".form-item-label"),s=e.find(".form-item-input-div"),a=this.getAComboBox(TTAPI.APIPayStubEntryAccount,!0,"global_PayStubAccount","src_ids");i.text($.i18n._("Source Pay Stub Account(s)")+": "),s.append(a),this.content_div.append(e),this.stepsWidgetDic[this.current_step][a.getField()]=a,i=(e=$(Global.loadWidget("global/widgets/wizard_form_item/WizardFormItem.html"))).find(".form-item-label"),s=e.find(".form-item-input-div"),a=this.getAComboBox(TTAPI.APIPayStubEntryAccount,!1,"global_PayStubAccount","dst_id"),i.text($.i18n._("Destination Pay Stub Account")+": "),s.append(a),this.content_div.append(e),this.stepsWidgetDic[this.current_step][a.getField()]=a,i=(e=$(Global.loadWidget("global/widgets/wizard_form_item/WizardFormItem.html"))).find(".form-item-label"),s=e.find(".form-item-input-div");var r=this.getDatePicker("effective_date");i.text($.i18n._("Effective Date")+": "),s.append(r),this.content_div.append(e),this.stepsWidgetDic[this.current_step][r.getField()]=r}}buildCurrentStepData(){var t=this.stepsDataDic[this.current_step],e=this.stepsWidgetDic[this.current_step];switch(this.current_step){case 2:if(!t){var i=new Date;e.effective_date.setValue(i.format())}}}onDoneClick(){var t=this;super.onDoneClick(),this.saveCurrentStep();var e=this.stepsDataDic[2].src_ids,i=this.stepsDataDic[2].dst_id,s=this.stepsDataDic[2].effective_date;TTAPI.APIPayStubEntryAccount.migratePayStubEntryAccount(e,i,s,{onResult:function(e){e.getResult()?(t.onCloseClick(),t.call_back&&t.call_back()):TAlertManager.showErrorAlert(e)}})}setCurrentStepValues(){if(this.stepsDataDic[this.current_step]){var t=this.stepsDataDic[this.current_step],e=this.stepsWidgetDic[this.current_step];switch(this.current_step){case 1:break;case 2:t.src_ids&&e.src_ids.setValue(t.src_ids),t.dst_id&&e.dst_id.setValue(t.dst_id),t.effective_date&&e.effective_date.setValue(t.effective_date)}}}saveCurrentStep(){this.stepsDataDic[this.current_step]={};var t=this.stepsDataDic[this.current_step],e=this.stepsWidgetDic[this.current_step];switch(this.current_step){case 1:break;case 2:t.src_ids=e.src_ids.getValue(),t.dst_id=e.dst_id.getValue(),t.effective_date=e.effective_date.getValue()}}}}}]);
//# sourceMappingURL=wizard-pay_stub_account-PayStubAccountWizardController.bundle.js.map?v=d40efe036907860fea1b